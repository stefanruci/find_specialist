"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3247],{8426:(E,S,u)=>{u.d(S,{Q:()=>m});var e=u(655),h=u(5439),i=u(4650),T=u(9376),p=u(603),f=u(5146),C=u(1228),l=u(9062),v=u(433);let m=(()=>{class A{constructor(s,a,b,O){this.routerService=s,this.modalCtrl=a,this.apiService=b,this.authService=O,this.feed={id:"",kompania:"",vendodhja:"",pershkrim:"",tittle:"",time:h(new Date),userName:"",userType:""}}ngOnInit(){this.feed.id=this.randomIntFromInterval(1e4,2e5).toString(),this.feed.userType=this.authService.userType,this.authService.getCurrentUser().subscribe(s=>{s&&(console.log(s,"el"),this.feed.userName=s.data().username.toString(),console.log(this.feed.userName,"feed username"))}),setTimeout(()=>{},50)}addFeed(){return this.feed.time=h(new Date),this.apiService.addFeed(this.feed).then(s=>{this.closeModal().then(a=>this.routerService.navigate("/tabs/home"))}).catch(s=>{console.error(s)})}closeModal(){return(0,e.mG)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss()})}randomIntFromInterval(s,a){return Math.floor(Math.random()*(a-s+1)+s)}}return A.\u0275fac=function(s){return new(s||A)(i.Y36(T.c),i.Y36(p.IN),i.Y36(f.s),i.Y36(C.e))},A.\u0275cmp=i.Xpm({type:A,selectors:[["app-add-feed"]],decls:44,vars:6,consts:[["color","primary",1,"main-view"],[1,"ion-text-center"],["slot","end"],["routerLink","/tabs/home",3,"click"],["name","close"],[1,"modal-content","align-items-center","justify-content-center"],[1,"align-items-center","justify-content-center","ion-text-center"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["name","call-outline"],["type","tel",3,"ngModel","ngModelChange"],["name","logo-whatsapp"],["expand","none",1,"ion-margin",3,"click"],["color","danger","expand","none",1,"ion-margin",3,"click"],[1,"ion-align-items-center"]],template:function(s,a){1&s&&(i.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),i._uU(3," Shto Njoftim"),i.qZA(),i.TgZ(4,"ion-buttons",2)(5,"ion-button",3),i.NdJ("click",function(){return a.closeModal()}),i._UZ(6,"ion-icon",4),i.qZA()()()(),i.TgZ(7,"ion-content",5)(8,"ion-list",6)(9,"ion-item")(10,"ion-label",7),i._uU(11,"Titulli"),i.qZA(),i.TgZ(12,"ion-input",8),i.NdJ("ngModelChange",function(O){return a.feed.tittle=O}),i.qZA()(),i.TgZ(13,"ion-item")(14,"ion-label",7),i._uU(15,"Kompania (opsjonale)"),i.qZA(),i.TgZ(16,"ion-input",8),i.NdJ("ngModelChange",function(O){return a.feed.kompania=O}),i.qZA()(),i.TgZ(17,"ion-item")(18,"ion-label",7),i._uU(19,"Vendodhja"),i.qZA(),i.TgZ(20,"ion-input",8),i.NdJ("ngModelChange",function(O){return a.feed.vendodhja=O}),i.qZA()(),i.TgZ(21,"ion-item")(22,"ion-label",7),i._uU(23,"Pershkrim"),i.qZA(),i.TgZ(24,"ion-input",8),i.NdJ("ngModelChange",function(O){return a.feed.pershkrim=O}),i.qZA()(),i.TgZ(25,"ion-item")(26,"ion-label",7),i._UZ(27,"ion-icon",9),i._uU(28," telefon"),i.qZA(),i.TgZ(29,"ion-input",10),i.NdJ("ngModelChange",function(O){return a.feed.tel=O}),i.qZA()(),i.TgZ(30,"ion-item")(31,"ion-label",7),i._UZ(32,"ion-icon",11),i._uU(33," WhatsApp"),i.qZA(),i.TgZ(34,"ion-input",10),i.NdJ("ngModelChange",function(O){return a.feed.whatsApp=O}),i.qZA()(),i.TgZ(35,"ion-button",12),i.NdJ("click",function(){return a.addFeed()}),i._uU(36,"Shto njoftim"),i.qZA(),i._UZ(37,"br"),i.TgZ(38,"ion-button",13),i.NdJ("click",function(){return a.closeModal()}),i._uU(39,"Anullo"),i.qZA()(),i._UZ(40,"br")(41,"br")(42,"ion-item",14)(43,"br"),i.qZA()),2&s&&(i.xp6(12),i.Q6J("ngModel",a.feed.tittle),i.xp6(4),i.Q6J("ngModel",a.feed.kompania),i.xp6(4),i.Q6J("ngModel",a.feed.vendodhja),i.xp6(4),i.Q6J("ngModel",a.feed.pershkrim),i.xp6(5),i.Q6J("ngModel",a.feed.tel),i.xp6(5),i.Q6J("ngModel",a.feed.whatsApp))},dependencies:[p.YG,p.Sm,p.W2,p.Gu,p.gu,p.pK,p.Ie,p.Q$,p.q_,p.wd,p.sr,p.j9,p.YI,l.rH,v.JJ,v.On]}),A})()},5394:(E,S,u)=>{u.d(S,{F:()=>T});var e=u(4650),h=u(603),k=u(5146),i=u(433);let T=(()=>{class p{constructor(C,l){this.modalController=C,this.apiService=l}dismiss(){this.modalController.dismiss().then(C=>{})}updateFeed(){this.apiService.updateFeedFieldById(this.feed.id,this.feed),this.dismiss()}ngOnInit(){}deleteFeed(){return this.apiService.deleteFeed(this.feed.id).then(C=>{this.dismiss()})}}return p.\u0275fac=function(C){return new(C||p)(e.Y36(h.IN),e.Y36(k.s))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-feed-update-modal"]],inputs:{feed:"feed"},decls:41,vars:6,consts:[["slot","end"],[3,"click"],["position","floating"],[3,"ngModel","ngModelChange"],[1,"d-flex",3,"ngModel","ngModelChange"],["name","call-outline"],["type","tel",3,"ngModel","ngModelChange"],["name","logo-whatsapp"],["expand","block",3,"click"],["color","danger","expand","none",3,"click"]],template:function(C,l){1&C&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Edito "),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return l.dismiss()}),e._uU(6,"Close"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"ion-list")(9,"ion-item")(10,"ion-label",2),e._uU(11,"Titulli"),e.qZA(),e.TgZ(12,"ion-input",3),e.NdJ("ngModelChange",function(m){return l.feed.tittle=m}),e.qZA()(),e.TgZ(13,"ion-item")(14,"ion-label",2),e._uU(15,"Vendodhja"),e.qZA(),e.TgZ(16,"ion-input",3),e.NdJ("ngModelChange",function(m){return l.feed.vendodhja=m}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label",2),e._uU(19,"Kompania"),e.qZA(),e.TgZ(20,"ion-input",3),e.NdJ("ngModelChange",function(m){return l.feed.kompania=m}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-label",2),e._uU(23,"Pershkrim"),e.qZA(),e.TgZ(24,"ion-textarea",4),e.NdJ("ngModelChange",function(m){return l.feed.pershkrim=m}),e.qZA()(),e.TgZ(25,"ion-item")(26,"ion-label",2),e._UZ(27,"ion-icon",5),e._uU(28," telefon "),e.qZA(),e.TgZ(29,"ion-input",6),e.NdJ("ngModelChange",function(m){return l.feed.tel=m}),e.qZA()(),e.TgZ(30,"ion-item")(31,"ion-label",2),e._UZ(32,"ion-icon",7),e._uU(33," WhatsApp "),e.qZA(),e.TgZ(34,"ion-input",6),e.NdJ("ngModelChange",function(m){return l.feed.whatsApp=m}),e.qZA()(),e.TgZ(35,"ion-button",8),e.NdJ("click",function(){return l.updateFeed()}),e._uU(36,"Ruaj"),e.qZA(),e.TgZ(37,"ion-button",9),e.NdJ("click",function(){return l.dismiss()}),e._uU(38,"Anullo"),e.qZA(),e.TgZ(39,"ion-button",9),e.NdJ("click",function(){return l.deleteFeed()}),e._uU(40,"Fshi"),e.qZA()()()),2&C&&(e.xp6(12),e.Q6J("ngModel",l.feed.tittle),e.xp6(4),e.Q6J("ngModel",l.feed.vendodhja),e.xp6(4),e.Q6J("ngModel",l.feed.kompania),e.xp6(4),e.Q6J("ngModel",l.feed.pershkrim),e.xp6(5),e.Q6J("ngModel",l.feed.tel),e.xp6(5),e.Q6J("ngModel",l.feed.whatsApp))},dependencies:[i.JJ,i.On,h.YG,h.Sm,h.W2,h.Gu,h.gu,h.pK,h.Ie,h.Q$,h.q_,h.g2,h.wd,h.sr,h.j9]}),p})()},1228:(E,S,u)=>{u.d(S,{e:()=>v});var e=u(655),h=u(4322),k=u(1135),i=u(4650),T=u(9376),p=u(7323),f=u(1205),C=u(5146),l=u(603);let v=(()=>{class m{constructor(d,s,a,b,O){this.routerService=d,this.auth=s,this.afAuth=a,this.apiService=b,this.alertController=O,this._uid=new k.X(null),this.userType="U",this.currentUserId="",1==this.isLogin&&this.getCurrentUser().subscribe(B=>{this.userType=B.data().userType.charAt(0).toUpperCase(),console.log(this.userType,"=usertype")}),this.checkAuth().then(B=>{this.isLogin=!0,this.getCurrentUser().subscribe(U=>{this.userType=U.data().userType.charAt(0).toUpperCase(),console.log(this.userType,"=usertype")})}).catch(B=>{this.isLogin=!1})}getCurrentUser(){return this.getUserId(),console.log(this.currentUserId,"id on authService",this.auth.currentUser.uid),this.apiService.getUser(this.auth.currentUser.uid)}getUserId(){return this.afAuth.authState.subscribe(d=>{d&&(console.log(d.uid),this.currentUserId=d.uid)}),this.currentUserId}login(d,s){return(0,e.mG)(this,void 0,void 0,function*(){try{const a=(0,h.e5)(this.auth,d,s);console.log(a),(yield a).user&&(this.setUserData((yield a).user.uid),this.isLogin=!0,this.correctUser=yield this.getUserData(this._uid),this.getCurrentUser().subscribe(b=>{this.userType=b.data().userType.charAt(0).toUpperCase(),console.log(this.userType,"=usertype"),sessionStorage.setItem("userName",b.data().username),sessionStorage.setItem("userType",this.userType),this.currentUserId=b.data().id}))}catch(a){throw this.isLogin=!1,a}})}getId(){var d;const s=(0,h.v0)();return this.correctUser=s.currentUser,console.log(this.correctUser),null===(d=this.correctUser)||void 0===d?void 0:d.uid}setUserData(d){this._uid.next(d)}randomIntFromInterval(d,s){return Math.floor(Math.random()*(s-d+1)+d)}register(d){return(0,e.mG)(this,void 0,void 0,function*(){try{const s=yield(0,h.Xb)(this.auth,d.email,d.password);console.log("perdoruesi i regjistruar : ",s);const a={id:s.user.uid,name:d.name.charAt(0).toUpperCase()+d.name.slice(1),lastName:d.lastName.charAt(0).toUpperCase()+d.lastName.slice(1),username:d.username.charAt(0).toUpperCase()+d.username.slice(1),email:d.email,userType:d.userType.charAt(0).toUpperCase()+d.userType.slice(1),profilePictureUrl:"https://i.avatar/"+this.randomIntFromInterval(200,400)};yield this.apiService.setDocument("users/".concat(s.user.uid),a)}catch(s){throw s}})}resetUserPassword(d){return(0,e.mG)(this,void 0,void 0,function*(){try{yield(0,h.LS)(this.auth,d).catch(s=>{throw s})}catch(s){throw s}})}logout(){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.auth.signOut().then(d=>{this.isLogin=!1,this.userType="U",this._uid.next(null)}).catch(d=>{throw d}),!0})}checkAuth(){return new Promise((d,s)=>{(0,h.Aj)(this.auth,a=>{d(a)})})}getUserData(d){return(0,e.mG)(this,void 0,void 0,function*(){yield(yield this.apiService.getDocById("users/$(id)")).data()})}deleteAccount(d){return this.auth.currentUser.delete().then(s=>{console.log(d,"Deleted"),this.deleteUserData(d),this.logout().then(a=>{this.routerService.navigate("/login").then(b=>{})})}).catch(s=>{this.showAlert(s.code).then(a=>{})})}showAlert(d){return(0,e.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Alert?",cssClass:"custom-alert",message:d,buttons:["OK"]})).present()})}deleteUserData(d){this.apiService.deleteUserData(d.id).then(s=>{this.isLogin=!1,this.userType="U",this._uid.next(null),this.correctUser=null,this.apiService.deleteUserFeeds(d)})}changePass(d){return this.afAuth.currentUser.then(s=>{s.updatePassword(d).then(()=>{console.log("Password changed successfully")}).catch(a=>{console.error("Error changing password:",a)})})}}return m.\u0275fac=function(d){return new(d||m)(i.LFG(T.c),i.LFG(p.gx),i.LFG(f.zQ),i.LFG(C.s),i.LFG(l.Br))},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},1565:(E,S,u)=>{u.d(S,{q:()=>p});var e=u(5439),k=u(4650),i=u(1228),T=u(5146);let p=(()=>{class f{constructor(l,v){this._authService=l,this.apiService=v,this._feedList=[],this._userType="A",this._feed={kompania:"kompanai",vendodhja:"location",id:"id",userName:"username",tittle:"tittle",pershkrim:"decr",time:e(new Date),userType:"type"}}get correntUser(){return this._correntUser}set correntUser(l){this._correntUser=l}get feedList(){return this._feedList}set feedList(l){this._feedList=l}get userType(){return this._userType}set userType(l){this._userType=l}get feed(){return this._feed}set feed(l){this._feed=l}get authService(){return this._authService}setSpecialistFeeds(){return console.log(this._userType),this.apiService.filterFeedData("F")}setClientFeeds(){return console.log(this._userType),this.apiService.filterFeedData("P")}addFeed(l){this.apiService.addFeed(l).then(v=>{})}updateFeedFieldById(l,v){this.apiService.updateFeedFieldById(l,v).then(m=>{})}deleteFeed(l){this.apiService.deleteFeed(l).then(v=>{})}covertDate(l){return e(l.toDate())}getCurrentUser(){return this.authService.getCurrentUser()}}return f.\u0275fac=function(l){return new(l||f)(k.LFG(i.e),k.LFG(T.s))},f.\u0275prov=k.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9376:(E,S,u)=>{u.d(S,{c:()=>k});var e=u(9062),h=u(4650);let k=(()=>{class i{constructor(p){this.router=p}navigate(p){return this.router.events.subscribe(f=>{f instanceof e.wM&&"administration"===f.snapshot.outlet&&this.outlet.deactivate()}),this.router.navigateByUrl(p,{replaceUrl:!0}).then(f=>{}).catch(f=>{})}navigateWithData(p,f){return this.router.events.subscribe(C=>{C instanceof e.wM&&"administration"===C.snapshot.outlet&&this.outlet.deactivate()}),this.router.navigate(p,f).then(C=>{}).catch(C=>{})}}return i.\u0275fac=function(p){return new(p||i)(h.LFG(e.F0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},4610:(E,S,u)=>{u.d(S,{lK:()=>F});var e=u(4650),h=u(6895);function k(n,t){if(1&n){var o=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(o);var c=e.oxw();return e.KtG(c._onBackdropClicked())}),e.qZA()}if(2&n){var r=e.oxw();e.Q6J("ngClass",r.backdropClass)}}var i=[[["ng-sidebar"],["","ng-sidebar",""]],[["","ng-sidebar-content",""]]],T=["ng-sidebar,[ng-sidebar]","[ng-sidebar-content]"],p=function(n,t,o,r){var g,_=arguments.length,c=_<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,t,o,r);else for(var y=n.length-1;y>=0;y--)(g=n[y])&&(c=(_<3?g(c):_>3?g(t,o,c):g(t,o))||c);return _>3&&c&&Object.defineProperty(t,o,c),c},f=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},C=function(n,t){return function(o,r){t(o,r,n)}},l=function(){function n(t,o){this._ref=t,this.animate=!0,this.allowSidebarBackdropControl=!0,this.showBackdrop=!1,this.showBackdropChange=new e.vpe,this.onBackdropClicked=new e.vpe,this._sidebars=[],this._isBrowser=(0,h.NF)(o)}return n.prototype.ngAfterContentInit=function(){this._isBrowser&&this._onToggle()},n.prototype.ngOnChanges=function(t){this._isBrowser&&t.showBackdrop&&this.showBackdropChange.emit(t.showBackdrop.currentValue)},n.prototype.ngOnDestroy=function(){this._isBrowser&&this._unsubscribe()},n.prototype._addSidebar=function(t){this._sidebars.push(t),this._subscribe(t)},n.prototype._removeSidebar=function(t){var o=this._sidebars.indexOf(t);-1!==o&&this._sidebars.splice(o,1)},n.prototype._getContentStyle=function(){for(var t=0,o=0,r=0,_=0,c="",g="",y="",w=0,P=this._sidebars;w<P.length;w++){var M=P[w];if(M._isModeSlide&&M.opened&&(c="translate"+(M._isLeftOrRight?"X":"Y")+"("+(M._isLeftOrTop?"":"-")+(M._isLeftOrRight?M._width:M._height)+"px)"),M._isModePush&&M.opened||M.dock){var I=0;switch(M._isModeSlide&&M.opened?M._isLeftOrRight?y="100%":g="100%":I=M._isDocked||M._isModeOver&&M.dock?M._dockedSize:M._isLeftOrRight?M._width:M._height,M.position){case"left":t=Math.max(t,I);break;case"right":o=Math.max(o,I);break;case"top":r=Math.max(r,I);break;case"bottom":_=Math.max(_,I)}}}return{padding:r+"px "+o+"px "+_+"px "+t+"px",webkitTransform:c,transform:c,height:g,width:y}},n.prototype._onBackdropClicked=function(){for(var t=!1,o=0,r=this._sidebars;o<r.length;o++){var _=r[o];_.opened&&_.showBackdrop&&_.closeOnClickBackdrop&&(_.close(),t=!0)}t&&this.onBackdropClicked.emit()},n.prototype._subscribe=function(t){var o=this;t.onOpenStart.subscribe(function(){return o._onToggle()}),t.onOpened.subscribe(function(){return o._markForCheck()}),t.onCloseStart.subscribe(function(){return o._onToggle()}),t.onClosed.subscribe(function(){return o._markForCheck()}),t.onModeChange.subscribe(function(){return o._markForCheck()}),t.onPositionChange.subscribe(function(){return o._markForCheck()}),t._onRerender.subscribe(function(){return o._markForCheck()})},n.prototype._unsubscribe=function(){for(var t=0,o=this._sidebars;t<o.length;t++){var r=o[t];r.onOpenStart.unsubscribe(),r.onOpened.unsubscribe(),r.onCloseStart.unsubscribe(),r.onClosed.unsubscribe(),r.onModeChange.unsubscribe(),r.onPositionChange.unsubscribe(),r._onRerender.unsubscribe()}},n.prototype._onToggle=function(){var t=this;if(this._sidebars.length>0&&this.allowSidebarBackdropControl){var o=this._sidebars.some(function(r){return r.opened&&r.showBackdrop});this.showBackdrop=o,this.showBackdropChange.emit(o)}setTimeout(function(){t._markForCheck()})},n.prototype._markForCheck=function(){this._ref.markForCheck()},p([(0,e.IIB)(),f("design:type",Boolean)],n.prototype,"animate",void 0),p([(0,e.IIB)(),f("design:type",Boolean)],n.prototype,"allowSidebarBackdropControl",void 0),p([(0,e.IIB)(),f("design:type",Boolean)],n.prototype,"showBackdrop",void 0),p([(0,e.r_U)(),f("design:type",Object)],n.prototype,"showBackdropChange",void 0),p([(0,e.r_U)(),f("design:type",Object)],n.prototype,"onBackdropClicked",void 0),p([(0,e.IIB)(),f("design:type",String)],n.prototype,"contentClass",void 0),p([(0,e.IIB)(),f("design:type",String)],n.prototype,"backdropClass",void 0),(n=p([C(1,(0,e.tBr)(e.Lbi)),f("design:paramtypes",[e.sBO,Object])],n)).\u0275fac=function(o){return new(o||n)(e.Y36(e.sBO),e.Y36(e.Lbi))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-sidebar-container"]],inputs:{animate:"animate",allowSidebarBackdropControl:"allowSidebarBackdropControl",showBackdrop:"showBackdrop",contentClass:"contentClass",backdropClass:"backdropClass"},outputs:{showBackdropChange:"showBackdropChange",onBackdropClicked:"onBackdropClicked"},features:[e.TTD],ngContentSelectors:T,decls:4,vars:5,consts:[["aria-hidden","true","class","ng-sidebar__backdrop",3,"ngClass","click",4,"ngIf"],[1,"ng-sidebar__content",3,"ngClass","ngStyle"],["aria-hidden","true",1,"ng-sidebar__backdrop",3,"ngClass","click"]],template:function(o,r){1&o&&(e.F$t(i),e.YNc(0,k,1,1,"div",0),e.Hsn(1),e.TgZ(2,"div",1),e.Hsn(3,1),e.qZA()),2&o&&(e.Q6J("ngIf",r.showBackdrop),e.xp6(2),e.ekj("ng-sidebar__content--animate",r.animate),e.Q6J("ngClass",r.contentClass)("ngStyle",r._getContentStyle()))},dependencies:[h.mk,h.O5,h.PC],styles:["[_nghost-%COMP%] {\n      box-sizing: border-box;\n      display: block;\n      position: relative;\n      height: 100%;\n      width: 100%;\n      overflow: hidden;\n    }\n\n    .ng-sidebar__backdrop[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background: #000;\n      opacity: 0.75;\n      pointer-events: auto;\n      z-index: 1;\n    }\n\n    .ng-sidebar__content[_ngcontent-%COMP%] {\n      -webkit-overflow-scrolling: touch;\n      overflow: auto;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n\n    .ng-sidebar__content--animate[_ngcontent-%COMP%] {\n      -webkit-transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0.3, 1), padding 0.3s cubic-bezier(0, 0, 0.3, 1);\n      transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1), padding 0.3s cubic-bezier(0, 0, 0.3, 1);\n    }"],changeDetection:0}),n}(),A=["sidebar"],d=["*"],s=function(n,t,o,r){var g,_=arguments.length,c=_<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,t,o,r);else for(var y=n.length-1;y>=0;y--)(g=n[y])&&(c=(_<3?g(c):_>3?g(t,o,c):g(t,o))||c);return _>3&&c&&Object.defineProperty(t,o,c),c},a=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},b=function(n,t){return function(o,r){t(o,r,n)}},O=function(){function n(t,o,r){if(this._container=t,this._ref=o,this.opened=!1,this.openedChange=new e.vpe,this.mode="over",this.dock=!1,this.dockedSize="0px",this.position="start",this.animate=!0,this.autoCollapseOnInit=!0,this.trapFocus=!1,this.autoFocus=!0,this.showBackdrop=!1,this.closeOnClickBackdrop=!1,this.closeOnClickOutside=!1,this.keyClose=!1,this.keyCode=27,this.onContentInit=new e.vpe,this.onOpenStart=new e.vpe,this.onOpened=new e.vpe,this.onCloseStart=new e.vpe,this.onClosed=new e.vpe,this.onTransitionEnd=new e.vpe,this.onModeChange=new e.vpe,this.onPositionChange=new e.vpe,this._onRerender=new e.vpe,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]),textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._tabIndexAttr="__tabindex__",this._tabIndexIndicatorAttr="__ngsidebar-tabindex__",this._clickEvent="click",this._onClickOutsideAttached=!1,this._onKeyDownAttached=!1,this._onResizeAttached=!1,!this._container)throw new Error("<ng-sidebar> must be inside a <ng-sidebar-container>. See https://github.com/arkon/ng-sidebar#usage for more info.");this._isBrowser=(0,h.NF)(r),this._isBrowser&&function m(){return typeof window<"u"&&typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}()&&!("onclick"in window)&&(this._clickEvent="touchstart"),this._normalizePosition(),this.open=this.open.bind(this),this.close=this.close.bind(this),this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onFocusTrap=this._onFocusTrap.bind(this),this._onClickOutside=this._onClickOutside.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._collapse=this._collapse.bind(this)}return n.prototype.ngOnInit=function(){this._isBrowser&&(this.animate&&(this._shouldAnimate=!0,this.animate=!1),this._container._addSidebar(this),this.autoCollapseOnInit&&this._collapse())},n.prototype.ngAfterContentInit=function(){this.onContentInit.emit()},n.prototype.ngOnChanges=function(t){var o=this;this._isBrowser&&(t.animate&&this._shouldAnimate&&(this._shouldAnimate=t.animate.currentValue),t.closeOnClickOutside&&(t.closeOnClickOutside.currentValue?this._initCloseClickListener():this._destroyCloseClickListener()),t.keyClose&&(t.keyClose.currentValue?this._initCloseKeyDownListener():this._destroyCloseKeyDownListener()),t.position&&(this._normalizePosition(),setTimeout(function(){o.onPositionChange.emit(t.position.currentValue)})),t.mode&&setTimeout(function(){o.onModeChange.emit(t.mode.currentValue)}),t.dock&&this.triggerRerender(),t.opened&&(this._shouldAnimate&&(this.animate=!0,this._shouldAnimate=!1),t.opened.currentValue?this.open():this.close()),(t.autoCollapseHeight||t.autoCollapseWidth)&&this._initCollapseListeners())},n.prototype.ngOnDestroy=function(){this._isBrowser&&(this._destroyCloseListeners(),this._destroyCollapseListeners(),this._container._removeSidebar(this))},n.prototype.open=function(){var t=this;this._isBrowser&&(this.opened=!0,this.openedChange.emit(!0),this.onOpenStart.emit(),this._ref.detectChanges(),setTimeout(function(){t.animate&&!t._isModeSlide?t._elSidebar.nativeElement.addEventListener("transitionend",t._onTransitionEnd):(t._setFocused(),t._initCloseListeners(),t.opened&&t.onOpened.emit())}))},n.prototype.close=function(){var t=this;this._isBrowser&&(this.opened=!1,this.openedChange.emit(!1),this.onCloseStart.emit(),this._ref.detectChanges(),setTimeout(function(){t.animate&&!t._isModeSlide?t._elSidebar.nativeElement.addEventListener("transitionend",t._onTransitionEnd):(t._setFocused(),t._destroyCloseListeners(),t.opened||t.onClosed.emit())}))},n.prototype.triggerRerender=function(){var t=this;this._isBrowser&&setTimeout(function(){t._onRerender.emit()})},n.prototype._getStyle=function(){var t="";if(!this.opened){var o="translate"+(this._isLeftOrRight?"X":"Y");t=o+"("+(this._isLeftOrTop?"-":"")+"100%)",this.dock&&this._dockedSize>0&&(!this._isModeSlide||!this.opened)&&(t+=" "+o+"("+(this._isLeftOrTop?"+":"-")+this.dockedSize+")")}return{webkitTransform:t,transform:t}},n.prototype._onTransitionEnd=function(t){t.target===this._elSidebar.nativeElement&&t.propertyName.endsWith("transform")&&(this._setFocused(),this.opened?(this._initCloseListeners(),this.onOpened.emit()):(this._destroyCloseListeners(),this.onClosed.emit()),this.onTransitionEnd.emit(),this._elSidebar.nativeElement.removeEventListener("transitionend",this._onTransitionEnd))},Object.defineProperty(n.prototype,"_shouldTrapFocus",{get:function(){return this.opened&&this.trapFocus},enumerable:!0,configurable:!0}),n.prototype._focusFirstItem=function(){this._focusableElements&&this._focusableElements.length>0&&this._focusableElements[0].focus()},n.prototype._onFocusTrap=function(t){this._shouldTrapFocus&&!this._elSidebar.nativeElement.contains(t.target)&&this._focusFirstItem()},n.prototype._setFocused=function(){if(this._focusableElements=Array.from(this._elSidebar.nativeElement.querySelectorAll(this._focusableElementsString)),this.opened){this._focusedBeforeOpen=document.activeElement;for(var t=0,o=this._focusableElements;t<o.length;t++){var _=(r=o[t]).getAttribute(this._tabIndexAttr),c=null!==r.getAttribute(this._tabIndexIndicatorAttr);null!==_?(r.setAttribute("tabindex",_),r.removeAttribute(this._tabIndexAttr)):c&&(r.removeAttribute("tabindex"),r.removeAttribute(this._tabIndexIndicatorAttr))}this.autoFocus&&this._focusFirstItem(),document.addEventListener("focus",this._onFocusTrap,!0)}else{for(var g=0,y=this._focusableElements;g<y.length;g++){var r,w=(r=y[g]).getAttribute("tabindex");r.setAttribute("tabindex","-1"),r.setAttribute(this._tabIndexIndicatorAttr,""),null!==w&&r.setAttribute(this._tabIndexAttr,w)}document.removeEventListener("focus",this._onFocusTrap,!0),this._focusedBeforeOpen&&this.autoFocus&&this._isModeOver&&(this._focusedBeforeOpen.focus(),this._focusedBeforeOpen=null)}},n.prototype._initCloseListeners=function(){this._initCloseClickListener(),this._initCloseKeyDownListener()},n.prototype._initCloseClickListener=function(){var t=this;setTimeout(function(){t.opened&&t.closeOnClickOutside&&!t._onClickOutsideAttached&&(document.addEventListener(t._clickEvent,t._onClickOutside),t._onClickOutsideAttached=!0)})},n.prototype._initCloseKeyDownListener=function(){var t=this;setTimeout(function(){t.opened&&t.keyClose&&!t._onKeyDownAttached&&(document.addEventListener("keydown",t._onKeyDown),t._onKeyDownAttached=!0)})},n.prototype._destroyCloseListeners=function(){this._destroyCloseClickListener(),this._destroyCloseKeyDownListener()},n.prototype._destroyCloseClickListener=function(){this._onClickOutsideAttached&&(document.removeEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!1)},n.prototype._destroyCloseKeyDownListener=function(){this._onKeyDownAttached&&(document.removeEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!1)},n.prototype._onClickOutside=function(t){this._onClickOutsideAttached&&this._elSidebar&&!this._elSidebar.nativeElement.contains(t.target)&&this.close()},n.prototype._onKeyDown=function(t){(t=t||window.event).keyCode===this.keyCode&&this.close()},n.prototype._initCollapseListeners=function(){var t=this;(this.autoCollapseHeight||this.autoCollapseWidth)&&setTimeout(function(){t._onResizeAttached||(window.addEventListener("resize",t._collapse),t._onResizeAttached=!0)})},n.prototype._destroyCollapseListeners=function(){this._onResizeAttached&&(window.removeEventListener("resize",this._collapse),this._onResizeAttached=!1)},n.prototype._collapse=function(){var t=window.innerHeight,o=window.innerWidth;this.autoCollapseHeight&&(t<=this.autoCollapseHeight&&this.opened?(this._wasCollapsed=!0,this.close()):t>this.autoCollapseHeight&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1)),this.autoCollapseWidth&&(o<=this.autoCollapseWidth&&this.opened?(this._wasCollapsed=!0,this.close()):o>this.autoCollapseWidth&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1))},Object.defineProperty(n.prototype,"_height",{get:function(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetHeight:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_width",{get:function(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_dockedSize",{get:function(){return parseFloat(this.dockedSize)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_isModeOver",{get:function(){return"over"===this.mode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_isModePush",{get:function(){return"push"===this.mode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_isModeSlide",{get:function(){return"slide"===this.mode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_isDocked",{get:function(){return this.dock&&this.dockedSize&&!this.opened},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_isLeftOrTop",{get:function(){return"left"===this.position||"top"===this.position},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_isLeftOrRight",{get:function(){return"left"===this.position||"right"===this.position},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_isInert",{get:function(){return!this.opened&&!this.dock},enumerable:!0,configurable:!0}),n.prototype._normalizePosition=function(){var t=function v(){var n="ltr";return typeof window<"u"&&(n=window.getComputedStyle?window.getComputedStyle(document.body,null).getPropertyValue("direction"):document.body.currentStyle.direction),"ltr"===n}();"start"===this.position?this.position=t?"left":"right":"end"===this.position&&(this.position=t?"right":"left")},s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"opened",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"openedChange",void 0),s([(0,e.IIB)(),a("design:type",String)],n.prototype,"mode",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"dock",void 0),s([(0,e.IIB)(),a("design:type",String)],n.prototype,"dockedSize",void 0),s([(0,e.IIB)(),a("design:type",String)],n.prototype,"position",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"animate",void 0),s([(0,e.IIB)(),a("design:type",Number)],n.prototype,"autoCollapseHeight",void 0),s([(0,e.IIB)(),a("design:type",Number)],n.prototype,"autoCollapseWidth",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"autoCollapseOnInit",void 0),s([(0,e.IIB)(),a("design:type",String)],n.prototype,"sidebarClass",void 0),s([(0,e.IIB)(),a("design:type",String)],n.prototype,"ariaLabel",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"trapFocus",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"autoFocus",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"showBackdrop",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"closeOnClickBackdrop",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"closeOnClickOutside",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],n.prototype,"keyClose",void 0),s([(0,e.IIB)(),a("design:type",Number)],n.prototype,"keyCode",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"onContentInit",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"onOpenStart",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"onOpened",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"onCloseStart",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"onClosed",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"onTransitionEnd",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"onModeChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"onPositionChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],n.prototype,"_onRerender",void 0),s([(0,e.i9L)("sidebar",{static:!1}),a("design:type",e.SBq)],n.prototype,"_elSidebar",void 0),(n=s([b(0,(0,e.FiY)()),b(2,(0,e.tBr)(e.Lbi)),a("design:paramtypes",[l,e.sBO,Object])],n)).\u0275fac=function(o){return new(o||n)(e.Y36(l,8),e.Y36(e.sBO),e.Y36(e.Lbi))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-sidebar"]],viewQuery:function(o,r){var _;1&o&&e.Gf(A,5),2&o&&e.iGM(_=e.CRH())&&(r._elSidebar=_.first)},inputs:{opened:"opened",mode:"mode",dock:"dock",dockedSize:"dockedSize",position:"position",animate:"animate",autoCollapseOnInit:"autoCollapseOnInit",trapFocus:"trapFocus",autoFocus:"autoFocus",showBackdrop:"showBackdrop",closeOnClickBackdrop:"closeOnClickBackdrop",closeOnClickOutside:"closeOnClickOutside",keyClose:"keyClose",keyCode:"keyCode",autoCollapseHeight:"autoCollapseHeight",autoCollapseWidth:"autoCollapseWidth",sidebarClass:"sidebarClass",ariaLabel:"ariaLabel"},outputs:{openedChange:"openedChange",onContentInit:"onContentInit",onOpenStart:"onOpenStart",onOpened:"onOpened",onCloseStart:"onCloseStart",onClosed:"onClosed",onTransitionEnd:"onTransitionEnd",onModeChange:"onModeChange",onPositionChange:"onPositionChange",_onRerender:"_onRerender"},features:[e.TTD],ngContentSelectors:d,decls:3,vars:15,consts:[["role","complementary",3,"ngClass","ngStyle"],["sidebar",""]],template:function(o,r){1&o&&(e.F$t(),e.TgZ(0,"aside",0,1),e.Hsn(2),e.qZA()),2&o&&(e.IyS("ng-sidebar ng-sidebar--",r.opened?"opened":"closed"," ng-sidebar--",r.position," ng-sidebar--",r.mode,""),e.ekj("ng-sidebar--docked",r._isDocked)("ng-sidebar--inert",r._isInert)("ng-sidebar--animate",r.animate),e.Q6J("ngClass",r.sidebarClass)("ngStyle",r._getStyle()),e.uIk("aria-hidden",!r.opened)("aria-label",r.ariaLabel))},dependencies:[h.mk,h.PC],styles:[".ng-sidebar[_ngcontent-%COMP%] {\n      -webkit-overflow-scrolling: touch;\n      overflow: auto;\n      pointer-events: auto;\n      position: absolute;\n      touch-action: auto;\n      will-change: initial;\n      z-index: 2;\n    }\n\n    .ng-sidebar--left[_ngcontent-%COMP%] {\n      bottom: 0;\n      left: 0;\n      top: 0;\n    }\n\n    .ng-sidebar--right[_ngcontent-%COMP%] {\n      bottom: 0;\n      right: 0;\n      top: 0;\n    }\n\n    .ng-sidebar--top[_ngcontent-%COMP%] {\n      left: 0;\n      right: 0;\n      top: 0;\n    }\n\n    .ng-sidebar--bottom[_ngcontent-%COMP%] {\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n\n    .ng-sidebar--inert[_ngcontent-%COMP%] {\n      pointer-events: none;\n      touch-action: none;\n      will-change: transform;\n    }\n\n    .ng-sidebar--animate[_ngcontent-%COMP%] {\n      -webkit-transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n      transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n    }"],changeDetection:0}),n}(),U=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},F=(function(){function n(t){this._sidebar=t}n.prototype._onClick=function(){this._sidebar&&this._sidebar.close()},n=function(n,t,o,r){var g,_=arguments.length,c=_<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,t,o,r);else for(var y=n.length-1;y>=0;y--)(g=n[y])&&(c=(_<3?g(c):_>3?g(t,o,c):g(t,o))||c);return _>3&&c&&Object.defineProperty(t,o,c),c}([U("design:paramtypes",[O])],n),n.\u0275fac=function(o){return new(o||n)(e.Y36(O))},n.\u0275dir=e.lG2({type:n,selectors:[["","closeSidebar",""]],hostBindings:function(o,r){1&o&&e.NdJ("click",function(){return r._onClick()})}})}(),function(){function n(){}var t;return t=n,n.forRoot=function(){return{ngModule:t}},n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez]}),n}())}}]);