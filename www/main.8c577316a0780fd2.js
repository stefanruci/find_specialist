(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(ei,Jt,U)=>{"use strict";U.d(Jt,{nm:()=>Ot});var t=U(4027),ze=(U(4650),U(3692),U(259),U(5861)),ct=U(9681),$e=U(4859),Fe=U(2090),vt=U(1877);const Pe=new Map,xe={activated:!1,tokenObservers:[]},Ue={initialized:!1,enabled:!1};function je(sn){return Pe.get(sn)||Object.assign({},xe)}function gt(){return Ue}const kt="https://content-firebaseappcheck.googleapis.com/v1",yt="exchangeDebugToken",at={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class dt{constructor(Q,de,Ze,_t,Gt){if(this.operation=Q,this.retryPolicy=de,this.getWaitDuration=Ze,this.lowerBound=_t,this.upperBound=Gt,this.pending=null,this.nextErrorWaitInterval=_t,_t>Gt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Q){var de=this;return(0,ze.Z)(function*(){de.stop();try{de.pending=new Fe.BH,yield function Ut(sn){return new Promise(Q=>{setTimeout(Q,sn)})}(de.getNextRun(Q)),de.pending.resolve(),yield de.pending.promise,de.pending=new Fe.BH,yield de.operation(),de.pending.resolve(),yield de.pending.promise,de.process(!0).catch(()=>{})}catch(Ze){de.retryPolicy(Ze)?de.process(!1).catch(()=>{}):de.stop()}})()}getNextRun(Q){if(Q)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const de=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),de}}}const Ie=new Fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Pt(sn,Q){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,ze.Z)(function*({url:sn,body:Q},de){const Ze={"Content-Type":"application/json"},_t=de.getImmediate({optional:!0});if(_t){const li=yield _t.getHeartbeatsHeader();li&&(Ze["X-Firebase-Client"]=li)}const Gt={method:"POST",body:JSON.stringify(Q),headers:Ze};let Ae,bt;try{Ae=yield fetch(sn,Gt)}catch(li){throw Ie.create("fetch-network-error",{originalErrorMessage:null==li?void 0:li.message})}if(200!==Ae.status)throw Ie.create("fetch-status-error",{httpStatus:Ae.status});try{bt=yield Ae.json()}catch(li){throw Ie.create("fetch-parse-error",{originalErrorMessage:null==li?void 0:li.message})}const Xt=bt.ttl.match(/^([\d.]+)(s)$/);if(!Xt||!Xt[2]||isNaN(Number(Xt[1])))throw Ie.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${bt.ttl}`});const Sn=1e3*Number(Xt[1]),On=Date.now();return{token:bt.token,expireTimeMillis:On+Sn,issuedAtTimeMillis:On}})).apply(this,arguments)}const lt="firebase-app-check-database",Je=1,rt="firebase-app-check-store";let $t=null;function Tn(sn,Q){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,ze.Z)(function*(sn,Q){const Ze=(yield function Qt(){return $t||($t=new Promise((sn,Q)=>{try{const de=indexedDB.open(lt,Je);de.onsuccess=Ze=>{sn(Ze.target.result)},de.onerror=Ze=>{var _t;Q(Ie.create("storage-open",{originalErrorMessage:null===(_t=Ze.target.error)||void 0===_t?void 0:_t.message}))},de.onupgradeneeded=Ze=>{0===Ze.oldVersion&&Ze.target.result.createObjectStore(rt,{keyPath:"compositeKey"})}}catch(de){Q(Ie.create("storage-open",{originalErrorMessage:null==de?void 0:de.message}))}}),$t)}()).transaction(rt,"readwrite"),Gt=Ze.objectStore(rt).put({compositeKey:sn,value:Q});return new Promise((Ae,bt)=>{Gt.onsuccess=Xt=>{Ae()},Ze.onerror=Xt=>{var Sn;bt(Ie.create("storage-set",{originalErrorMessage:null===(Sn=Xt.target.error)||void 0===Sn?void 0:Sn.message}))}})})).apply(this,arguments)}const bi=new vt.Yd("@firebase/app-check");function Ye(sn,Q){return(0,Fe.hl)()?function hn(sn,Q){return Tn(function ai(sn){return`${sn.options.appId}-${sn.name}`}(sn),Q)}(sn,Q).catch(de=>{bi.warn(`Failed to write token to IndexedDB. Error: ${de}`)}):Promise.resolve()}function vn(){return qn.apply(this,arguments)}function qn(){return(qn=(0,ze.Z)(function*(){const sn=gt();if(sn.enabled&&sn.token)return sn.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gi={error:"UNKNOWN_ERROR"};function $i(sn){return Fe.US.encodeString(JSON.stringify(sn),!1)}function Xn(sn){return zn.apply(this,arguments)}function zn(){return(zn=(0,ze.Z)(function*(sn,Q=!1){const de=sn.app;!function St(sn){if(!je(sn).activated)throw Ie.create("use-before-activation",{appName:sn.name})}(de);const Ze=je(de);let Gt,_t=Ze.token;if(_t&&!xt(_t)&&(Ze.token=void 0,_t=void 0),!_t){const Xt=yield Ze.cachedTokenPromise;Xt&&(xt(Xt)?_t=Xt:yield Ye(de,void 0))}if(!Q&&_t&&xt(_t))return{token:_t.token};let bt,Ae=!1;if(function Mt(){return gt().enabled}()){Ze.exchangeTokenPromise||(Ze.exchangeTokenPromise=Pt(function Vt(sn,Q){const{projectId:de,appId:Ze,apiKey:_t}=sn.options;return{url:`${kt}/projects/${de}/apps/${Ze}:${yt}?key=${_t}`,body:{debug_token:Q}}}(de,yield vn()),sn.heartbeatServiceProvider).finally(()=>{Ze.exchangeTokenPromise=void 0}),Ae=!0);const Xt=yield Ze.exchangeTokenPromise;return yield Ye(de,Xt),Ze.token=Xt,{token:Xt.token}}try{Ze.exchangeTokenPromise||(Ze.exchangeTokenPromise=Ze.provider.getToken().finally(()=>{Ze.exchangeTokenPromise=void 0}),Ae=!0),_t=yield je(de).exchangeTokenPromise}catch(Xt){"appCheck/throttled"===Xt.code?bi.warn(Xt.message):bi.error(Xt),Gt=Xt}return _t?Gt?bt=xt(_t)?{token:_t.token,internalError:Gt}:Wt(Gt):(bt={token:_t.token},Ze.token=_t,yield Ye(de,_t)):bt=Wt(Gt),Ae&&function dn(sn,Q){const de=je(sn).tokenObservers;for(const Ze of de)try{"EXTERNAL"===Ze.type&&null!=Q.error?Ze.error(Q.error):Ze.next(Q)}catch(_t){}}(de,bt),bt})).apply(this,arguments)}function Pi(sn,Q){const de=je(sn),Ze=de.tokenObservers.filter(_t=>_t.next!==Q);0===Ze.length&&de.tokenRefresher&&de.tokenRefresher.isRunning()&&de.tokenRefresher.stop(),de.tokenObservers=Ze}function Si(sn){const{app:Q}=sn,de=je(Q);let Ze=de.tokenRefresher;Ze||(Ze=function Ci(sn){const{app:Q}=sn;return new dt((0,ze.Z)(function*(){let Ze;if(Ze=je(Q).token?yield Xn(sn,!0):yield Xn(sn),Ze.error)throw Ze.error;if(Ze.internalError)throw Ze.internalError}),()=>!0,()=>{const de=je(Q);if(de.token){let Ze=de.token.issuedAtTimeMillis+.5*(de.token.expireTimeMillis-de.token.issuedAtTimeMillis)+3e5;return Ze=Math.min(Ze,de.token.expireTimeMillis-3e5),Math.max(0,Ze-Date.now())}return 0},at.RETRIAL_MIN_WAIT,at.RETRIAL_MAX_WAIT)}(sn),de.tokenRefresher=Ze),!Ze.isRunning()&&de.isTokenAutoRefreshEnabled&&Ze.start()}function xt(sn){return sn.expireTimeMillis-Date.now()>0}function Wt(sn){return{token:$i(gi),error:sn}}class pn{constructor(Q,de){this.app=Q,this.heartbeatServiceProvider=de}_delete(){const{tokenObservers:Q}=je(this.app);for(const de of Q)Pi(this.app,de.next);return Promise.resolve()}}const zt="app-check-internal";!function Wn(){(0,ct._registerComponent)(new $e.wA("app-check",sn=>function Rn(sn,Q){return new pn(sn,Q)}(sn.getProvider("app").getImmediate(),sn.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((sn,Q,de)=>{sn.getProvider(zt).initialize()})),(0,ct._registerComponent)(new $e.wA(zt,sn=>function Dn(sn){return{getToken:Q=>Xn(sn,Q),addTokenListener:Q=>function mi(sn,Q,de,Ze){const{app:_t}=sn,Gt=je(_t);if(Gt.tokenObservers=[...Gt.tokenObservers,{next:de,error:Ze,type:Q}],Gt.token&&xt(Gt.token)){const bt=Gt.token;Promise.resolve().then(()=>{de({token:bt.token}),Si(sn)}).catch(()=>{})}Gt.cachedTokenPromise.then(()=>Si(sn))}(sn,"INTERNAL",Q),removeTokenListener:Q=>Pi(sn.app,Q)}}(sn.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ct.registerVersion)("@firebase/app-check","0.6.4")}();class Ot{constructor(){return(0,t.vb)("app-check")}}typeof window<"u"&&window},3692:(ei,Jt,U)=>{"use strict";U.d(Jt,{Ot:()=>oe,ZF:()=>be,hX:()=>je,z6:()=>ze});var t=U(259),Z=U(4650),ie=U(4027);class oe{constructor(dt){return dt}}class ze{constructor(){return(0,t.C6)()}}const Fe=new Z.OlP("angularfire2._apps"),vt={provide:oe,useFactory:function $e(Ve){return Ve&&1===Ve.length?Ve[0]:new oe((0,t.Mq)())},deps:[[new Z.FiY,Fe]]},Pe={provide:ze,deps:[[new Z.FiY,Fe]]};function xe(Ve){return(dt,Ut)=>{const ut=dt.runOutsideAngular(()=>Ve(Ut));return new oe(ut)}}let Ue=(()=>{class Ve{constructor(Ut){(0,t.KN)("angularfire",ie.q4.full,"core"),(0,t.KN)("angularfire",ie.q4.full,"app"),(0,t.KN)("angular",Z.q4F.full,Ut.toString())}}return Ve.\u0275fac=function(Ut){return new(Ut||Ve)(Z.LFG(Z.Lbi))},Ve.\u0275mod=Z.oAB({type:Ve}),Ve.\u0275inj=Z.cJS({providers:[vt,Pe]}),Ve})();function je(Ve,...dt){return{ngModule:Ue,providers:[{provide:Fe,useFactory:xe(Ve),multi:!0,deps:[Z.R0b,Z.zs3,ie.HU,...dt]}]}}const be=(0,ie.u3)(t.ZF,!0)},7323:(ei,Jt,U)=>{"use strict";U.d(Jt,{gx:()=>Ue,dh:()=>je,fD:()=>dt,v0:()=>Vt,AR:()=>Ve});var t=U(4027),Z=U(4650),ie=U(3692),oe=U(259),ze=U(2313),ct=U(4322),$e=U(9751);function Fe(we){return new $e.y(function(ot){return{unsubscribe:(0,ct.Aj)(we,ot.next.bind(ot),ot.error.bind(ot),ot.complete.bind(ot))}})}class Ue{constructor(ot){return ot}}class je{constructor(){return(0,t.vb)("auth")}}const gt=new Z.OlP("angularfire2.auth-instances");function be(we){return(ot,on)=>{const Un=ot.runOutsideAngular(()=>we(on));return new Ue(Un)}}const Ge={provide:je,deps:[[new Z.FiY,gt]]},yt={provide:Ue,useFactory:function kt(we,ot){const on=(0,t.JM)("auth",we,ot);return on&&new Ue(on)},deps:[[new Z.FiY,gt],ie.Ot]};let at=(()=>{class we{constructor(){(0,oe.KN)("angularfire",t.q4.full,"auth")}}return we.\u0275fac=function(on){return new(on||we)},we.\u0275mod=Z.oAB({type:we}),we.\u0275inj=Z.cJS({providers:[yt,Ge]}),we})();function Ve(we,...ot){return{ngModule:at,providers:[{provide:gt,useFactory:be(we),multi:!0,deps:[Z.R0b,Z.zs3,t.HU,ie.z6,[new Z.FiY,ze.nm],...ot]}]}}const dt=(0,t.u3)(Fe,!0),Vt=(0,t.u3)(ct.v0,!0)},1205:(ei,Jt,U)=>{"use strict";U.d(Jt,{zQ:()=>Et,rT:()=>Nt,f7:()=>Pt,L6:()=>nt,_Q:()=>St,lh:()=>At,Qv:()=>Ie,nw:()=>Lt});var t=U(4650),Z=U(7579),ie=U(9646),oe=U(9751),ze=U(8996),ct=U(6451),$e=U(5363),Fe=U(3900),vt=U(4004),Pe=U(6063);class xe extends Z.x{constructor(lt=1/0,Je=1/0,rt=Pe.l){super(),this._bufferSize=lt,this._windowTime=Je,this._timestampProvider=rt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Je===1/0,this._bufferSize=Math.max(1,lt),this._windowTime=Math.max(1,Je)}next(lt){const{isStopped:Je,_buffer:rt,_infiniteTimeWindow:Yt,_timestampProvider:$t,_windowTime:Qt}=this;Je||(rt.push(lt),!Yt&&rt.push($t.now()+Qt)),this._trimBuffer(),super.next(lt)}_subscribe(lt){this._throwIfClosed(),this._trimBuffer();const Je=this._innerSubscribe(lt),{_infiniteTimeWindow:rt,_buffer:Yt}=this,$t=Yt.slice();for(let Qt=0;Qt<$t.length&&!lt.closed;Qt+=rt?1:2)lt.next($t[Qt]);return this._checkFinalizedStatuses(lt),Je}_trimBuffer(){const{_bufferSize:lt,_timestampProvider:Je,_buffer:rt,_infiniteTimeWindow:Yt}=this,$t=(Yt?1:2)*lt;if(lt<1/0&&$t<rt.length&&rt.splice(0,rt.length-$t),!Yt){const Qt=Je.now();let Bt=0;for(let hn=1;hn<rt.length&&rt[hn]<=Qt;hn+=2)Bt=hn;Bt&&rt.splice(0,Bt+1)}}}var Ue=U(3099);function je(Vt,lt,Je){let rt,Yt=!1;return Vt&&"object"==typeof Vt?({bufferSize:rt=1/0,windowTime:lt=1/0,refCount:Yt=!1,scheduler:Je}=Vt):rt=null!=Vt?Vt:1/0,(0,Ue.B)({connector:()=>new xe(rt,lt,Je),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Yt})}var pt=U(590),gt=U(576);function kt(Vt,lt){return(0,gt.m)(lt)?(0,Fe.w)(()=>Vt,lt):(0,Fe.w)(()=>Vt)}var be=U(9468),Ge=U(9300),yt=U(4027),at=U(2011),Ve=U(6895),dt=U(2313);U(9260);const Ie=new t.OlP("angularfire2.auth.use-emulator"),nt=new t.OlP("angularfire2.auth.settings"),St=new t.OlP("angularfire2.auth.tenant-id"),Nt=new t.OlP("angularfire2.auth.langugage-code"),At=new t.OlP("angularfire2.auth.use-device-language"),Pt=new t.OlP("angularfire.auth.persistence"),Lt=(Vt,lt,Je,rt,Yt,$t,Qt,Bt)=>(0,at.cc)(`${Vt.name}.auth`,"AngularFireAuth",Vt.name,()=>{const hn=lt.runOutsideAngular(()=>Vt.auth());if(Je&&hn.useEmulator(...Je),rt&&(hn.tenantId=rt),hn.languageCode=Yt,$t&&hn.useDeviceLanguage(),Qt)for(const[qe,cn]of Object.entries(Qt))hn.settings[qe]=cn;return Bt&&hn.setPersistence(Bt),hn},[Je,rt,Yt,$t,Qt,Bt]);let Et=(()=>{class Vt{constructor(Je,rt,Yt,$t,Qt,Bt,hn,qe,cn,Tn,Hn,Ln){const si=new Z.x,ai=(0,ie.of)(void 0).pipe((0,$e.Q)(Qt.outsideAngular),(0,Fe.w)(()=>$t.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,vt.U)(()=>(0,at.on)(Je,$t,rt)),(0,vt.U)(bi=>Lt(bi,$t,Bt,qe,cn,Tn,hn,Hn)),je({bufferSize:1,refCount:!1}));if((0,Ve.PM)(Yt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ie.of)(null);else{ai.pipe((0,pt.P)()).subscribe();const Mi=ai.pipe((0,Fe.w)(ke=>ke.getRedirectResult().then(Be=>Be,()=>null)),yt.iC,je({bufferSize:1,refCount:!1})),Kt=ai.pipe((0,Fe.w)(ke=>new oe.y(Be=>({unsubscribe:$t.runOutsideAngular(()=>ke.onAuthStateChanged(Mt=>Be.next(Mt),Mt=>Be.error(Mt),()=>Be.complete()))})))),Ye=ai.pipe((0,Fe.w)(ke=>new oe.y(Be=>({unsubscribe:$t.runOutsideAngular(()=>ke.onIdTokenChanged(Mt=>Be.next(Mt),Mt=>Be.error(Mt),()=>Be.complete()))}))));this.authState=Mi.pipe(kt(Kt),(0,be.R)(Qt.outsideAngular),(0,$e.Q)(Qt.insideAngular)),this.user=Mi.pipe(kt(Ye),(0,be.R)(Qt.outsideAngular),(0,$e.Q)(Qt.insideAngular)),this.idToken=this.user.pipe((0,Fe.w)(ke=>ke?(0,ze.D)(ke.getIdToken()):(0,ie.of)(null))),this.idTokenResult=this.user.pipe((0,Fe.w)(ke=>ke?(0,ze.D)(ke.getIdTokenResult()):(0,ie.of)(null))),this.credential=(0,ct.T)(Mi,si,this.authState.pipe((0,Ge.h)(ke=>!ke))).pipe((0,vt.U)(ke=>null!=ke&&ke.user?ke:null),(0,be.R)(Qt.outsideAngular),(0,$e.Q)(Qt.insideAngular))}return(0,at.pX)(this,ai,$t,{spy:{apply:(bi,Mi,Kt)=>{(bi.startsWith("signIn")||bi.startsWith("createUser"))&&Kt.then(Ye=>si.next(Ye))}}})}}return Vt.\u0275fac=function(Je){return new(Je||Vt)(t.LFG(at.Dh),t.LFG(at.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(yt.HU),t.LFG(Ie,8),t.LFG(nt,8),t.LFG(St,8),t.LFG(Nt,8),t.LFG(At,8),t.LFG(Pt,8),t.LFG(dt.nm,8))},Vt.\u0275prov=t.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"any"}),Vt})()},5552:(ei,Jt,U)=>{"use strict";U.d(Jt,{KQ:()=>Si});var t=U(4650),Z=U(4986),ie=U(9751),oe=U(9646),ze=U(6451),ct=U(4004),$e=U(3099),Fe=U(3900),vt=U(5026),Pe=U(1884),xe=U(1365),Ue=U(4482),je=U(5403),gt=U(4027),kt=U(2011),Ge=(U(9568),U(3942)),yt=U(4859),at=U(1627),Ve=U(2090),dt=U(1877);const Ie=new dt.Yd("@firebase/database-compat"),nt=function(dn){Ie.warn("FIREBASE WARNING: "+dn)};class At{constructor(xt){this._delegate=xt}cancel(xt){(0,Ve.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Ve.Wj)("OnDisconnect.cancel","onComplete",xt,!0);const Wt=this._delegate.cancel();return xt&&Wt.then(()=>xt(null),pn=>xt(pn)),Wt}remove(xt){(0,Ve.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Ve.Wj)("OnDisconnect.remove","onComplete",xt,!0);const Wt=this._delegate.remove();return xt&&Wt.then(()=>xt(null),pn=>xt(pn)),Wt}set(xt,Wt){(0,Ve.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Ve.Wj)("OnDisconnect.set","onComplete",Wt,!0);const pn=this._delegate.set(xt);return Wt&&pn.then(()=>Wt(null),Rn=>Wt(Rn)),pn}setWithPriority(xt,Wt,pn){(0,Ve.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Ve.Wj)("OnDisconnect.setWithPriority","onComplete",pn,!0);const Rn=this._delegate.setWithPriority(xt,Wt);return pn&&Rn.then(()=>pn(null),Dn=>pn(Dn)),Rn}update(xt,Wt){if((0,Ve.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(xt)){const Rn={};for(let Dn=0;Dn<xt.length;++Dn)Rn[""+Dn]=xt[Dn];xt=Rn,nt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Ve.Wj)("OnDisconnect.update","onComplete",Wt,!0);const pn=this._delegate.update(xt);return Wt&&pn.then(()=>Wt(null),Rn=>Wt(Rn)),pn}}class Pt{constructor(xt,Wt){this.committed=xt,this.snapshot=Wt}toJSON(){return(0,Ve.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Lt{constructor(xt,Wt){this._database=xt,this._delegate=Wt}val(){return(0,Ve.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Ve.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Ve.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Ve.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(xt){return(0,Ve.Dv)("DataSnapshot.child",0,1,arguments.length),xt=String(xt),(0,at.FQ)("DataSnapshot.child","path",xt,!1),new Lt(this._database,this._delegate.child(xt))}hasChild(xt){return(0,Ve.Dv)("DataSnapshot.hasChild",1,1,arguments.length),(0,at.FQ)("DataSnapshot.hasChild","path",xt,!1),this._delegate.hasChild(xt)}getPriority(){return(0,Ve.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(xt){return(0,Ve.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Ve.Wj)("DataSnapshot.forEach","action",xt,!1),this._delegate.forEach(Wt=>xt(new Lt(this._database,Wt)))}hasChildren(){return(0,Ve.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Ve.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Ve.Dv)("DataSnapshot.ref",0,0,arguments.length),new it(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Et{constructor(xt,Wt){this.database=xt,this._delegate=Wt}on(xt,Wt,pn,Rn){var Dn;(0,Ve.Dv)("Query.on",2,4,arguments.length),(0,Ve.Wj)("Query.on","callback",Wt,!1);const mn=Et.getCancelAndContextArgs_("Query.on",pn,Rn),Ee=(ot,on)=>{Wt.call(mn.context,new Lt(this.database,ot),on)};Ee.userCallback=Wt,Ee.context=mn.context;const we=null===(Dn=mn.cancel)||void 0===Dn?void 0:Dn.bind(mn.context);switch(xt){case"value":return(0,at.jM)(this._delegate,Ee,we),Wt;case"child_added":return(0,at.yv)(this._delegate,Ee,we),Wt;case"child_removed":return(0,at.MQ)(this._delegate,Ee,we),Wt;case"child_changed":return(0,at.Jr)(this._delegate,Ee,we),Wt;case"child_moved":return(0,at.Vt)(this._delegate,Ee,we),Wt;default:throw new Error((0,Ve.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(xt,Wt,pn){if((0,Ve.Dv)("Query.off",0,3,arguments.length),function(dn,xt,Wt){if(void 0!==xt)switch(xt){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Ve.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,xt),(0,Ve.Wj)("Query.off","callback",Wt,!0),(0,Ve.lb)("Query.off","context",pn,!0),Wt){const Rn=()=>{};Rn.userCallback=Wt,Rn.context=pn,(0,at.S1)(this._delegate,xt,Rn)}else(0,at.S1)(this._delegate,xt)}get(){return(0,at.U2)(this._delegate).then(xt=>new Lt(this.database,xt))}once(xt,Wt,pn,Rn){(0,Ve.Dv)("Query.once",1,4,arguments.length),(0,Ve.Wj)("Query.once","callback",Wt,!0);const Dn=Et.getCancelAndContextArgs_("Query.once",pn,Rn),mn=new Ve.BH,Ee=(ot,on)=>{const Un=new Lt(this.database,ot);Wt&&Wt.call(Dn.context,Un,on),mn.resolve(Un)};Ee.userCallback=Wt,Ee.context=Dn.context;const we=ot=>{Dn.cancel&&Dn.cancel.call(Dn.context,ot),mn.reject(ot)};switch(xt){case"value":(0,at.jM)(this._delegate,Ee,we,{onlyOnce:!0});break;case"child_added":(0,at.yv)(this._delegate,Ee,we,{onlyOnce:!0});break;case"child_removed":(0,at.MQ)(this._delegate,Ee,we,{onlyOnce:!0});break;case"child_changed":(0,at.Jr)(this._delegate,Ee,we,{onlyOnce:!0});break;case"child_moved":(0,at.Vt)(this._delegate,Ee,we,{onlyOnce:!0});break;default:throw new Error((0,Ve.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return mn.promise}limitToFirst(xt){return(0,Ve.Dv)("Query.limitToFirst",1,1,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.Kk)(xt)))}limitToLast(xt){return(0,Ve.Dv)("Query.limitToLast",1,1,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.vh)(xt)))}orderByChild(xt){return(0,Ve.Dv)("Query.orderByChild",1,1,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.g2)(xt)))}orderByKey(){return(0,Ve.Dv)("Query.orderByKey",0,0,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.R)()))}orderByPriority(){return(0,Ve.Dv)("Query.orderByPriority",0,0,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.HE)()))}orderByValue(){return(0,Ve.Dv)("Query.orderByValue",0,0,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.Bd)()))}startAt(xt=null,Wt){return(0,Ve.Dv)("Query.startAt",0,2,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.e0)(xt,Wt)))}startAfter(xt=null,Wt){return(0,Ve.Dv)("Query.startAfter",0,2,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.TQ)(xt,Wt)))}endAt(xt=null,Wt){return(0,Ve.Dv)("Query.endAt",0,2,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.Wu)(xt,Wt)))}endBefore(xt=null,Wt){return(0,Ve.Dv)("Query.endBefore",0,2,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.Lx)(xt,Wt)))}equalTo(xt,Wt){return(0,Ve.Dv)("Query.equalTo",1,2,arguments.length),new Et(this.database,(0,at.IO)(this._delegate,(0,at.EW)(xt,Wt)))}toString(){return(0,Ve.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Ve.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(xt){if((0,Ve.Dv)("Query.isEqual",1,1,arguments.length),!(xt instanceof Et))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(xt._delegate)}static getCancelAndContextArgs_(xt,Wt,pn){const Rn={cancel:void 0,context:void 0};if(Wt&&pn)Rn.cancel=Wt,(0,Ve.Wj)(xt,"cancel",Rn.cancel,!0),Rn.context=pn,(0,Ve.lb)(xt,"context",Rn.context,!0);else if(Wt)if("object"==typeof Wt&&null!==Wt)Rn.context=Wt;else{if("function"!=typeof Wt)throw new Error((0,Ve.gK)(xt,"cancelOrContext")+" must either be a cancel callback or a context object.");Rn.cancel=Wt}return Rn}get ref(){return new it(this.database,new at.tn(this._delegate._repo,this._delegate._path))}}class it extends Et{constructor(xt,Wt){super(xt,new at.JH(Wt._repo,Wt._path,new at.G$,!1)),this.database=xt,this._delegate=Wt}getKey(){return(0,Ve.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(xt){return(0,Ve.Dv)("Reference.child",1,1,arguments.length),"number"==typeof xt&&(xt=String(xt)),new it(this.database,(0,at.iU)(this._delegate,xt))}getParent(){(0,Ve.Dv)("Reference.parent",0,0,arguments.length);const xt=this._delegate.parent;return xt?new it(this.database,xt):null}getRoot(){return(0,Ve.Dv)("Reference.root",0,0,arguments.length),new it(this.database,this._delegate.root)}set(xt,Wt){(0,Ve.Dv)("Reference.set",1,2,arguments.length),(0,Ve.Wj)("Reference.set","onComplete",Wt,!0);const pn=(0,at.t8)(this._delegate,xt);return Wt&&pn.then(()=>Wt(null),Rn=>Wt(Rn)),pn}update(xt,Wt){if((0,Ve.Dv)("Reference.update",1,2,arguments.length),Array.isArray(xt)){const Rn={};for(let Dn=0;Dn<xt.length;++Dn)Rn[""+Dn]=xt[Dn];xt=Rn,nt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,at.mI)("Reference.update",this._delegate._path),(0,Ve.Wj)("Reference.update","onComplete",Wt,!0);const pn=(0,at.Vx)(this._delegate,xt);return Wt&&pn.then(()=>Wt(null),Rn=>Wt(Rn)),pn}setWithPriority(xt,Wt,pn){(0,Ve.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Ve.Wj)("Reference.setWithPriority","onComplete",pn,!0);const Rn=(0,at.cy)(this._delegate,xt,Wt);return pn&&Rn.then(()=>pn(null),Dn=>pn(Dn)),Rn}remove(xt){(0,Ve.Dv)("Reference.remove",0,1,arguments.length),(0,Ve.Wj)("Reference.remove","onComplete",xt,!0);const Wt=(0,at.Od)(this._delegate);return xt&&Wt.then(()=>xt(null),pn=>xt(pn)),Wt}transaction(xt,Wt,pn){(0,Ve.Dv)("Reference.transaction",1,3,arguments.length),(0,Ve.Wj)("Reference.transaction","transactionUpdate",xt,!1),(0,Ve.Wj)("Reference.transaction","onComplete",Wt,!0),function(dn,xt,Wt,pn){if(void 0!==Wt&&"boolean"!=typeof Wt)throw new Error((0,Ve.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,pn);const Rn=(0,at.i3)(this._delegate,xt,{applyLocally:pn}).then(Dn=>new Pt(Dn.committed,new Lt(this.database,Dn.snapshot)));return Wt&&Rn.then(Dn=>Wt(null,Dn.committed,Dn.snapshot),Dn=>Wt(Dn,!1,null)),Rn}setPriority(xt,Wt){(0,Ve.Dv)("Reference.setPriority",1,2,arguments.length),(0,Ve.Wj)("Reference.setPriority","onComplete",Wt,!0);const pn=(0,at.Sl)(this._delegate,xt);return Wt&&pn.then(()=>Wt(null),Rn=>Wt(Rn)),pn}push(xt,Wt){(0,Ve.Dv)("Reference.push",0,2,arguments.length),(0,Ve.Wj)("Reference.push","onComplete",Wt,!0);const pn=(0,at.VF)(this._delegate,xt),Rn=pn.then(mn=>new it(this.database,mn));Wt&&Rn.then(()=>Wt(null),mn=>Wt(mn));const Dn=new it(this.database,pn);return Dn.then=Rn.then.bind(Rn),Dn.catch=Rn.catch.bind(Rn,void 0),Dn}onDisconnect(){return(0,at.mI)("Reference.onDisconnect",this._delegate._path),new At(new at.vA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Vt{constructor(xt,Wt){this._delegate=xt,this.app=Wt,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:at.TD,forceLongPolling:at.Ot}}useEmulator(xt,Wt,pn={}){(0,at.dH)(this._delegate,xt,Wt,pn)}ref(xt){if((0,Ve.Dv)("database.ref",0,1,arguments.length),xt instanceof it){const Wt=(0,at.qT)(this._delegate,xt.toString());return new it(this,Wt)}{const Wt=(0,at.iH)(this._delegate,xt);return new it(this,Wt)}}refFromURL(xt){(0,Ve.Dv)("database.refFromURL",1,1,arguments.length);const pn=(0,at.qT)(this._delegate,xt);return new it(this,pn)}goOffline(){return(0,Ve.Dv)("database.goOffline",0,0,arguments.length),(0,at.Sb)(this._delegate)}goOnline(){return(0,Ve.Dv)("database.goOnline",0,0,arguments.length),(0,at.$o)(this._delegate)}}Vt.ServerValue={TIMESTAMP:(0,at.Bt)(),increment:dn=>(0,at.nP)(dn)};var Je=Object.freeze({__proto__:null,initStandalone:function lt({app:dn,url:xt,version:Wt,customAuthImpl:pn,namespace:Rn,nodeAdmin:Dn=!1}){(0,at.AM)(Wt);const mn=new yt.zt("auth-internal",new yt.H0("database-standalone"));return mn.setComponent(new yt.wA("auth-internal",()=>pn,"PRIVATE")),{instance:new Vt((0,at.wj)(dn,mn,void 0,xt,Dn),dn),namespace:Rn}}});const rt=Vt.ServerValue;!function Yt(dn){dn.INTERNAL.registerComponent(new yt.wA("database-compat",(xt,{instanceIdentifier:Wt})=>{const pn=xt.getProvider("app-compat").getImmediate(),Rn=xt.getProvider("database").getImmediate({identifier:Wt});return new Vt(Rn,pn)},"PUBLIC").setServiceProps({Reference:it,Query:Et,Database:Vt,DataSnapshot:Lt,enableLogging:at.U7,INTERNAL:Je,ServerValue:rt}).setMultipleInstances(!0)),dn.registerVersion("@firebase/database-compat","0.3.4")}(Ge.Z);var $t=U(1205),Qt=U(2313);function cn(dn){return null==dn}function Tn(dn){return"function"==typeof dn.set}function Hn(dn,xt){return Tn(xt)?xt:dn.ref(xt)}function Ln(dn,xt){if(function hn(dn){return"string"==typeof dn}(dn))return xt.stringCase();if(Tn(dn))return xt.firebaseCase();if(function qe(dn){return"function"==typeof dn.exportVal}(dn))return xt.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof dn)}function si(dn,xt,Wt="on",pn=Z.z){return new ie.y(Rn=>{let Dn=null;return Dn=dn[Wt](xt,(mn,Ee)=>{pn.schedule(()=>{Rn.next({snapshot:mn,prevKey:Ee})}),"once"===Wt&&pn.schedule(()=>Rn.complete())},mn=>{pn.schedule(()=>Rn.error(mn))}),"on"===Wt?{unsubscribe(){null!=Dn&&dn.off(xt,Dn)}}:{unsubscribe(){}}}).pipe((0,ct.U)(Rn=>{const{snapshot:Dn,prevKey:mn}=Rn;let Ee=null;return Dn.exists()&&(Ee=Dn.key),{type:xt,payload:Dn,prevKey:mn,key:Ee}}),(0,$e.B)())}function bi(dn,xt){const Wt=dn.length;for(let pn=0;pn<Wt;pn++)if(dn[pn].payload.key===xt)return pn;return-1}function Kt(dn,xt){const{payload:Wt,prevKey:pn,key:Rn}=xt,Dn=bi(dn,Rn),mn=function Mi(dn,xt){if(cn(xt))return 0;{const Wt=bi(dn,xt);return-1===Wt?dn.length:Wt+1}}(dn,pn);switch(xt.type){case"value":if(xt.payload&&xt.payload.exists()){let Ee=null;xt.payload.forEach(we=>{const ot={payload:we,type:"value",prevKey:Ee,key:we.key};return Ee=we.key,dn=[...dn,ot],!1})}return dn;case"child_added":if(Dn>-1){const Ee=dn[Dn-1];(Ee&&Ee.key||null)!==pn&&(dn=dn.filter(we=>we.payload.key!==Wt.key)).splice(mn,0,xt)}else{if(null==pn)return[xt,...dn];(dn=dn.slice()).splice(mn,0,xt)}return dn;case"child_removed":return dn.filter(Ee=>Ee.payload.key!==Wt.key);case"child_changed":return dn.map(Ee=>Ee.payload.key===Rn?xt:Ee);case"child_moved":if(Dn>-1){const Ee=dn.splice(Dn,1)[0];return(dn=dn.slice()).splice(mn,0,Ee),dn}return dn;default:return dn}}function Ye(dn){return(cn(dn)||0===dn.length)&&(dn=["child_added","child_removed","child_changed","child_moved"]),dn}function ke(dn,xt,Wt){return function ai(dn,xt,Wt){return si(dn,"value","once",Wt).pipe((0,Fe.w)(pn=>{const Rn=[(0,oe.of)(pn)];return xt.forEach(Dn=>Rn.push(si(dn,Dn,"on",Wt))),(0,ze.T)(...Rn).pipe((0,vt.R)(Kt,[]))}),(0,Pe.x)())}(dn,xt=Ye(xt),Wt)}function Be(dn,xt,Wt){const pn=(xt=Ye(xt)).map(Rn=>si(dn,Rn,"on",Wt));return(0,ze.T)(...pn)}function ii(dn,xt){return function(pn,Rn){return Ln(pn,{stringCase:()=>dn.child(pn)[xt](Rn),firebaseCase:()=>pn[xt](Rn),snapshotCase:()=>pn.ref[xt](Rn)})}}function gi(dn){return function(Wt){return Wt?Ln(Wt,{stringCase:()=>dn.child(Wt).remove(),firebaseCase:()=>Wt.remove(),snapshotCase:()=>Wt.ref.remove()}):dn.remove()}}function Xn(dn,xt){return function(){return si(dn,"value","on",xt)}}U(9260);const mi=new t.OlP("angularfire2.realtimeDatabaseURL"),Pi=new t.OlP("angularfire2.database.use-emulator");let Si=(()=>{class dn{constructor(Wt,pn,Rn,Dn,mn,Ee,we,ot,on,Un,wi,xi,rr,wt,ye){this.schedulers=Ee;const he=we,_e=(0,kt.on)(Wt,mn,pn);ot&&(0,$t.nw)(_e,mn,on,wi,xi,rr,Un,wt),this.database=(0,kt.cc)(`${_e.name}.database.${Rn}`,"AngularFireDatabase",_e.name,()=>{const ge=mn.runOutsideAngular(()=>_e.database(Rn||void 0));return he&&ge.useEmulator(...he),ge},[he])}list(Wt,pn){const Rn=this.schedulers.ngZone.runOutsideAngular(()=>Hn(this.database,Wt));let Dn=Rn;return pn&&(Dn=pn(Rn)),function $i(dn,xt){const Wt=xt.schedulers.outsideAngular,pn=xt.schedulers.ngZone.run(()=>dn.ref);return{query:dn,update:ii(pn,"update"),set:ii(pn,"set"),push:Rn=>pn.push(Rn),remove:gi(pn),snapshotChanges:Rn=>ke(dn,Rn,Wt).pipe(gt.iC),stateChanges:Rn=>Be(dn,Rn,Wt).pipe(gt.iC),auditTrail:Rn=>function Mt(dn,xt,Wt){return function qn(dn,xt,Wt){return function vn(dn,xt){return si(dn,"value","on",xt).pipe((0,ct.U)(Wt=>{let pn;return Wt.payload.forEach(Rn=>(pn=Rn.key,!1)),{data:Wt,lastKeyToLoad:pn}}))}(dn,Wt).pipe((0,xe.M)(xt),(0,ct.U)(([Rn,Dn])=>{const mn=Rn.lastKeyToLoad,Ee=Dn.map(we=>we.key);return{actions:Dn,lastKeyToLoad:mn,loadedKeys:Ee}}),function pt(dn){return(0,Ue.e)((xt,Wt)=>{let pn=!1,Rn=0;xt.subscribe((0,je.x)(Wt,Dn=>(pn||(pn=!dn(Dn,Rn++)))&&Wt.next(Dn)))})}(Rn=>-1===Rn.loadedKeys.indexOf(Rn.lastKeyToLoad)),(0,ct.U)(Rn=>Rn.actions))}(dn,Be(dn,xt).pipe((0,vt.R)((Rn,Dn)=>[...Rn,Dn],[])),Wt)}(dn,Rn,Wt).pipe(gt.iC),valueChanges:(Rn,Dn)=>ke(dn,Rn,Wt).pipe((0,ct.U)(Ee=>Ee.map(we=>Dn&&Dn.idField?Object.assign(Object.assign({},we.payload.val()),{[Dn.idField]:we.key}):we.payload.val())),gt.iC)}}(Dn,this)}object(Wt){return function zn(dn,xt){return{query:dn,snapshotChanges:()=>Xn(dn,xt.schedulers.outsideAngular)().pipe(gt.iC),update:Wt=>dn.ref.update(Wt),set:Wt=>dn.ref.set(Wt),remove:()=>dn.ref.remove(),valueChanges:()=>Xn(dn,xt.schedulers.outsideAngular)().pipe(gt.iC,(0,ct.U)(pn=>pn.payload.exists()?pn.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Hn(this.database,Wt)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return dn.\u0275fac=function(Wt){return new(Wt||dn)(t.LFG(kt.Dh),t.LFG(kt.xv,8),t.LFG(mi,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(gt.HU),t.LFG(Pi,8),t.LFG($t.zQ,8),t.LFG($t.Qv,8),t.LFG($t.L6,8),t.LFG($t._Q,8),t.LFG($t.rT,8),t.LFG($t.lh,8),t.LFG($t.f7,8),t.LFG(Qt.nm,8))},dn.\u0275prov=t.Yz7({token:dn,factory:dn.\u0275fac,providedIn:"any"}),dn})()},1085:(ei,Jt,U)=>{"use strict";U.d(Jt,{ST:()=>Rn,yb:()=>Dn});var t=U(4650),Z=U(4986),ie=U(9751),oe=U(8996),ze=U(9646),ct=U(4027),$e=U(8675),Fe=U(1520),vt=U(4004),Pe=U(5026),xe=U(1884),Ue=U(9300),je=U(2011),pt=U(6895),kt=(U(9568),U(3942)),be=U(5525),Ge=U(2090),yt=U(4859);function dt(mn,Ee){if(void 0===Ee)return{merge:!1};if(void 0!==Ee.mergeFields&&void 0!==Ee.merge)throw new be.WA("invalid-argument",`Invalid options passed to function ${mn}(): You cannot specify both "merge" and "mergeFields".`);return Ee}function Ut(){if(typeof Uint8Array>"u")throw new be.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ut(){if(!(0,be.Me)())throw new be.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ie{constructor(Ee){this._delegate=Ee}static fromBase64String(Ee){return ut(),new Ie(be.Jj.fromBase64String(Ee))}static fromUint8Array(Ee){return Ut(),new Ie(be.Jj.fromUint8Array(Ee))}toBase64(){return ut(),this._delegate.toBase64()}toUint8Array(){return Ut(),this._delegate.toUint8Array()}isEqual(Ee){return this._delegate.isEqual(Ee._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nt(mn){return function St(mn,Ee){if("object"!=typeof mn||null===mn)return!1;const we=mn;for(const ot of Ee)if(ot in we&&"function"==typeof we[ot])return!0;return!1}(mn,["next","error","complete"])}class Nt{enableIndexedDbPersistence(Ee,we){return(0,be.ST)(Ee._delegate,{forceOwnership:we})}enableMultiTabIndexedDbPersistence(Ee){return(0,be.fH)(Ee._delegate)}clearIndexedDbPersistence(Ee){return(0,be.Fc)(Ee._delegate)}}class At{constructor(Ee,we,ot){this._delegate=we,this._persistenceProvider=ot,this.INTERNAL={delete:()=>this.terminate()},Ee instanceof be.l7||(this._appCompat=Ee)}get _databaseId(){return this._delegate._databaseId}settings(Ee){const we=this._delegate._getSettings();!Ee.merge&&we.host!==Ee.host&&(0,be.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Ee.merge&&delete(Ee=Object.assign(Object.assign({},we),Ee)).merge,this._delegate._setSettings(Ee)}useEmulator(Ee,we,ot={}){(0,be.at)(this._delegate,Ee,we,ot)}enableNetwork(){return(0,be.Ix)(this._delegate)}disableNetwork(){return(0,be.TF)(this._delegate)}enablePersistence(Ee){let we=!1,ot=!1;return Ee&&(we=!!Ee.synchronizeTabs,ot=!!Ee.experimentalForceOwningTab,(0,be.Wi)("synchronizeTabs",we,"experimentalForceOwningTab",ot)),we?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ot)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,be.Mx)(this._delegate)}onSnapshotsInSync(Ee){return(0,be.sc)(this._delegate,Ee)}get app(){if(!this._appCompat)throw new be.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Ee){try{return new cn(this,(0,be.hJ)(this._delegate,Ee))}catch(we){throw Je(we,"collection()","Firestore.collection()")}}doc(Ee){try{return new lt(this,(0,be.JU)(this._delegate,Ee))}catch(we){throw Je(we,"doc()","Firestore.doc()")}}collectionGroup(Ee){try{return new Bt(this,(0,be.B$)(this._delegate,Ee))}catch(we){throw Je(we,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Ee){return(0,be.i3)(this._delegate,we=>Ee(new Et(this,we)))}batch(){return(0,be.qY)(this._delegate),new it(new be.PU(this._delegate,Ee=>(0,be.GL)(this._delegate,Ee)))}loadBundle(Ee){return(0,be.Pb)(this._delegate,Ee)}namedQuery(Ee){return(0,be.L$)(this._delegate,Ee).then(we=>we?new Bt(this,we):null)}}class Pt extends be.u7{constructor(Ee){super(),this.firestore=Ee}convertBytes(Ee){return new Ie(new be.Jj(Ee))}convertReference(Ee){const we=this.convertDocumentKey(Ee,this.firestore._databaseId);return lt.forKey(we,this.firestore,null)}}class Et{constructor(Ee,we){this._firestore=Ee,this._delegate=we,this._userDataWriter=new Pt(Ee)}get(Ee){const we=Tn(Ee);return this._delegate.get(we).then(ot=>new $t(this._firestore,new be.xU(this._firestore._delegate,this._userDataWriter,ot._key,ot._document,ot.metadata,we.converter)))}set(Ee,we,ot){const on=Tn(Ee);return ot?(dt("Transaction.set",ot),this._delegate.set(on,we,ot)):this._delegate.set(on,we),this}update(Ee,we,ot,...on){const Un=Tn(Ee);return 2===arguments.length?this._delegate.update(Un,we):this._delegate.update(Un,we,ot,...on),this}delete(Ee){const we=Tn(Ee);return this._delegate.delete(we),this}}class it{constructor(Ee){this._delegate=Ee}set(Ee,we,ot){const on=Tn(Ee);return ot?(dt("WriteBatch.set",ot),this._delegate.set(on,we,ot)):this._delegate.set(on,we),this}update(Ee,we,ot,...on){const Un=Tn(Ee);return 2===arguments.length?this._delegate.update(Un,we):this._delegate.update(Un,we,ot,...on),this}delete(Ee){const we=Tn(Ee);return this._delegate.delete(we),this}commit(){return this._delegate.commit()}}class Vt{constructor(Ee,we,ot){this._firestore=Ee,this._userDataWriter=we,this._delegate=ot}fromFirestore(Ee,we){const ot=new be.$q(this._firestore._delegate,this._userDataWriter,Ee._key,Ee._document,Ee.metadata,null);return this._delegate.fromFirestore(new Qt(this._firestore,ot),null!=we?we:{})}toFirestore(Ee,we){return we?this._delegate.toFirestore(Ee,we):this._delegate.toFirestore(Ee)}static getInstance(Ee,we){const ot=Vt.INSTANCES;let on=ot.get(Ee);on||(on=new WeakMap,ot.set(Ee,on));let Un=on.get(we);return Un||(Un=new Vt(Ee,new Pt(Ee),we),on.set(we,Un)),Un}}Vt.INSTANCES=new WeakMap;class lt{constructor(Ee,we){this.firestore=Ee,this._delegate=we,this._userDataWriter=new Pt(Ee)}static forPath(Ee,we,ot){if(Ee.length%2!=0)throw new be.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Ee.canonicalString()} has ${Ee.length}`);return new lt(we,new be.my(we._delegate,ot,new be.Ky(Ee)))}static forKey(Ee,we,ot){return new lt(we,new be.my(we._delegate,ot,Ee))}get id(){return this._delegate.id}get parent(){return new cn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Ee){try{return new cn(this.firestore,(0,be.hJ)(this._delegate,Ee))}catch(we){throw Je(we,"collection()","DocumentReference.collection()")}}isEqual(Ee){return(Ee=(0,Ge.m9)(Ee))instanceof be.my&&(0,be.Eo)(this._delegate,Ee)}set(Ee,we){we=dt("DocumentReference.set",we);try{return we?(0,be.pl)(this._delegate,Ee,we):(0,be.pl)(this._delegate,Ee)}catch(ot){throw Je(ot,"setDoc()","DocumentReference.set()")}}update(Ee,we,...ot){try{return 1===arguments.length?(0,be.r7)(this._delegate,Ee):(0,be.r7)(this._delegate,Ee,we,...ot)}catch(on){throw Je(on,"updateDoc()","DocumentReference.update()")}}delete(){return(0,be.oe)(this._delegate)}onSnapshot(...Ee){const we=rt(Ee),ot=Yt(Ee,on=>new $t(this.firestore,new be.xU(this.firestore._delegate,this._userDataWriter,on._key,on._document,on.metadata,this._delegate.converter)));return(0,be.cf)(this._delegate,we,ot)}get(Ee){let we;return we="cache"===(null==Ee?void 0:Ee.source)?(0,be.kl)(this._delegate):"server"===(null==Ee?void 0:Ee.source)?(0,be.Xk)(this._delegate):(0,be.QT)(this._delegate),we.then(ot=>new $t(this.firestore,new be.xU(this.firestore._delegate,this._userDataWriter,ot._key,ot._document,ot.metadata,this._delegate.converter)))}withConverter(Ee){return new lt(this.firestore,this._delegate.withConverter(Ee?Vt.getInstance(this.firestore,Ee):null))}}function Je(mn,Ee,we){return mn.message=mn.message.replace(Ee,we),mn}function rt(mn){for(const Ee of mn)if("object"==typeof Ee&&!nt(Ee))return Ee;return{}}function Yt(mn,Ee){var we,ot;let on;return on=nt(mn[0])?mn[0]:nt(mn[1])?mn[1]:"function"==typeof mn[0]?{next:mn[0],error:mn[1],complete:mn[2]}:{next:mn[1],error:mn[2],complete:mn[3]},{next:Un=>{on.next&&on.next(Ee(Un))},error:null===(we=on.error)||void 0===we?void 0:we.bind(on),complete:null===(ot=on.complete)||void 0===ot?void 0:ot.bind(on)}}class $t{constructor(Ee,we){this._firestore=Ee,this._delegate=we}get ref(){return new lt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Ee){return this._delegate.data(Ee)}get(Ee,we){return this._delegate.get(Ee,we)}isEqual(Ee){return(0,be.qK)(this._delegate,Ee._delegate)}}class Qt extends $t{data(Ee){const we=this._delegate.data(Ee);return(0,be.K9)(void 0!==we,"Document in a QueryDocumentSnapshot should exist"),we}}class Bt{constructor(Ee,we){this.firestore=Ee,this._delegate=we,this._userDataWriter=new Pt(Ee)}where(Ee,we,ot){try{return new Bt(this.firestore,(0,be.IO)(this._delegate,(0,be.ar)(Ee,we,ot)))}catch(on){throw Je(on,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Ee,we){try{return new Bt(this.firestore,(0,be.IO)(this._delegate,(0,be.Xo)(Ee,we)))}catch(ot){throw Je(ot,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Ee){try{return new Bt(this.firestore,(0,be.IO)(this._delegate,(0,be.b9)(Ee)))}catch(we){throw Je(we,"limit()","Query.limit()")}}limitToLast(Ee){try{return new Bt(this.firestore,(0,be.IO)(this._delegate,(0,be.vh)(Ee)))}catch(we){throw Je(we,"limitToLast()","Query.limitToLast()")}}startAt(...Ee){try{return new Bt(this.firestore,(0,be.IO)(this._delegate,(0,be.e0)(...Ee)))}catch(we){throw Je(we,"startAt()","Query.startAt()")}}startAfter(...Ee){try{return new Bt(this.firestore,(0,be.IO)(this._delegate,(0,be.TQ)(...Ee)))}catch(we){throw Je(we,"startAfter()","Query.startAfter()")}}endBefore(...Ee){try{return new Bt(this.firestore,(0,be.IO)(this._delegate,(0,be.Lx)(...Ee)))}catch(we){throw Je(we,"endBefore()","Query.endBefore()")}}endAt(...Ee){try{return new Bt(this.firestore,(0,be.IO)(this._delegate,(0,be.Wu)(...Ee)))}catch(we){throw Je(we,"endAt()","Query.endAt()")}}isEqual(Ee){return(0,be.iE)(this._delegate,Ee._delegate)}get(Ee){let we;return we="cache"===(null==Ee?void 0:Ee.source)?(0,be.UQ)(this._delegate):"server"===(null==Ee?void 0:Ee.source)?(0,be.zN)(this._delegate):(0,be.PL)(this._delegate),we.then(ot=>new qe(this.firestore,new be.W(this.firestore._delegate,this._userDataWriter,this._delegate,ot._snapshot)))}onSnapshot(...Ee){const we=rt(Ee),ot=Yt(Ee,on=>new qe(this.firestore,new be.W(this.firestore._delegate,this._userDataWriter,this._delegate,on._snapshot)));return(0,be.cf)(this._delegate,we,ot)}withConverter(Ee){return new Bt(this.firestore,this._delegate.withConverter(Ee?Vt.getInstance(this.firestore,Ee):null))}}class hn{constructor(Ee,we){this._firestore=Ee,this._delegate=we}get type(){return this._delegate.type}get doc(){return new Qt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qe{constructor(Ee,we){this._firestore=Ee,this._delegate=we}get query(){return new Bt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Ee=>new Qt(this._firestore,Ee))}docChanges(Ee){return this._delegate.docChanges(Ee).map(we=>new hn(this._firestore,we))}forEach(Ee,we){this._delegate.forEach(ot=>{Ee.call(we,new Qt(this._firestore,ot))})}isEqual(Ee){return(0,be.qK)(this._delegate,Ee._delegate)}}class cn extends Bt{constructor(Ee,we){super(Ee,we),this.firestore=Ee,this._delegate=we}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Ee=this._delegate.parent;return Ee?new lt(this.firestore,Ee):null}doc(Ee){try{return new lt(this.firestore,void 0===Ee?(0,be.JU)(this._delegate):(0,be.JU)(this._delegate,Ee))}catch(we){throw Je(we,"doc()","CollectionReference.doc()")}}add(Ee){return(0,be.ET)(this._delegate,Ee).then(we=>new lt(this.firestore,we))}isEqual(Ee){return(0,be.Eo)(this._delegate,Ee._delegate)}withConverter(Ee){return new cn(this.firestore,this._delegate.withConverter(Ee?Vt.getInstance(this.firestore,Ee):null))}}function Tn(mn){return(0,be.Cf)(mn,be.my)}class Hn{constructor(...Ee){this._delegate=new be.Lz(...Ee)}static documentId(){return new Hn(be.Xb.keyField().canonicalString())}isEqual(Ee){return(Ee=(0,Ge.m9)(Ee))instanceof be.Lz&&this._delegate._internalPath.isEqual(Ee._internalPath)}}class Ln{constructor(Ee){this._delegate=Ee}static serverTimestamp(){const Ee=(0,be.Bt)();return Ee._methodName="FieldValue.serverTimestamp",new Ln(Ee)}static delete(){const Ee=(0,be.AK)();return Ee._methodName="FieldValue.delete",new Ln(Ee)}static arrayUnion(...Ee){const we=(0,be.vr)(...Ee);return we._methodName="FieldValue.arrayUnion",new Ln(we)}static arrayRemove(...Ee){const we=(0,be.Ab)(...Ee);return we._methodName="FieldValue.arrayRemove",new Ln(we)}static increment(Ee){const we=(0,be.nP)(Ee);return we._methodName="FieldValue.increment",new Ln(we)}isEqual(Ee){return this._delegate.isEqual(Ee._delegate)}}const si={Firestore:At,GeoPoint:be.F8,Timestamp:be.EK,Blob:Ie,Transaction:Et,WriteBatch:it,DocumentReference:lt,DocumentSnapshot:$t,Query:Bt,QueryDocumentSnapshot:Qt,QuerySnapshot:qe,CollectionReference:cn,FieldPath:Hn,FieldValue:Ln,setLogLevel:function Lt(mn){(0,be.Ub)(mn)},CACHE_SIZE_UNLIMITED:be.IX};!function bi(mn){(function ai(mn,Ee){mn.INTERNAL.registerComponent(new yt.wA("firestore-compat",we=>{const ot=we.getProvider("app-compat").getImmediate(),on=we.getProvider("firestore").getImmediate();return Ee(ot,on)},"PUBLIC").setServiceProps(Object.assign({},si)))})(mn,(Ee,we)=>new At(Ee,we,new Nt)),mn.registerVersion("@firebase/firestore-compat","0.3.4")}(kt.Z);var Mi=U(1205),Kt=U(2313),Ye=U(9260);function Be(mn,Ee){return function ke(mn,Ee=Z.z){return new ie.y(we=>{let ot;return null!=Ee?Ee.schedule(()=>{ot=mn.onSnapshot({includeMetadataChanges:!0},we)}):ot=mn.onSnapshot({includeMetadataChanges:!0},we),()=>{null!=ot&&ot()}})}(mn,Ee)}function vn(mn,Ee){return Be(mn,Ee).pipe((0,vt.U)(we=>({payload:we,type:"query"})))}function qn(mn,Ee){return vn(mn,Ee).pipe((0,$e.O)(void 0),(0,Fe.G)(),(0,vt.U)(([we,ot])=>{const on=ot.payload.docChanges(),Un=on.map(wi=>({type:wi.type,payload:wi}));return we&&JSON.stringify(we.payload.metadata)!==JSON.stringify(ot.payload.metadata)&&ot.payload.docs.forEach((wi,xi)=>{const rr=on.find(ye=>ye.doc.ref.isEqual(wi.ref)),wt=null==we?void 0:we.payload.docs.find(ye=>ye.ref.isEqual(wi.ref));rr&&JSON.stringify(rr.doc.metadata)===JSON.stringify(wi.metadata)||!rr&&wt&&JSON.stringify(wt.metadata)===JSON.stringify(wi.metadata)||Un.push({type:"modified",payload:{oldIndex:xi,newIndex:xi,type:"modified",doc:wi}})}),Un}))}function ii(mn,Ee,we){return qn(mn,we).pipe((0,Pe.R)((ot,on)=>function gi(mn,Ee,we){return Ee.forEach(ot=>{we.indexOf(ot.type)>-1&&(mn=function Xn(mn,Ee){switch(Ee.type){case"added":if(!mn[Ee.newIndex]||!mn[Ee.newIndex].doc.ref.isEqual(Ee.doc.ref))return $i(mn,Ee.newIndex,0,Ee);break;case"modified":if(null==mn[Ee.oldIndex]||mn[Ee.oldIndex].doc.ref.isEqual(Ee.doc.ref)){if(Ee.oldIndex!==Ee.newIndex){const we=mn.slice();return we.splice(Ee.oldIndex,1),we.splice(Ee.newIndex,0,Ee),we}return $i(mn,Ee.newIndex,1,Ee)}break;case"removed":if(mn[Ee.oldIndex]&&mn[Ee.oldIndex].doc.ref.isEqual(Ee.doc.ref))return $i(mn,Ee.oldIndex,1)}return mn}(mn,ot))}),mn}(ot,on.map(Un=>Un.payload),Ee),[]),(0,xe.x)(),(0,vt.U)(ot=>ot.map(on=>({type:on.type,payload:on}))))}function $i(mn,Ee,we,...ot){const on=mn.slice();return on.splice(Ee,we,...ot),on}function zn(mn){return(!mn||0===mn.length)&&(mn=["added","removed","modified"]),mn}class mi{constructor(Ee,we,ot){this.ref=Ee,this.query=we,this.afs=ot}stateChanges(Ee){let we=qn(this.query,this.afs.schedulers.outsideAngular);return Ee&&Ee.length>0&&(we=we.pipe((0,vt.U)(ot=>ot.filter(on=>Ee.indexOf(on.type)>-1)))),we.pipe((0,$e.O)(void 0),(0,Fe.G)(),(0,Ue.h)(([ot,on])=>on.length>0||!ot),(0,vt.U)(([ot,on])=>on),ct.iC)}auditTrail(Ee){return this.stateChanges(Ee).pipe((0,Pe.R)((we,ot)=>[...we,...ot],[]))}snapshotChanges(Ee){const we=zn(Ee);return ii(this.query,we,this.afs.schedulers.outsideAngular).pipe(ct.iC)}valueChanges(Ee={}){return vn(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(we=>we.payload.docs.map(ot=>Ee.idField?Object.assign(Object.assign({},ot.data()),{[Ee.idField]:ot.id}):ot.data())),ct.iC)}get(Ee){return(0,oe.D)(this.query.get(Ee)).pipe(ct.iC)}add(Ee){return this.ref.add(Ee)}doc(Ee){return new Pi(this.ref.doc(Ee),this.afs)}}class Pi{constructor(Ee,we){this.ref=Ee,this.afs=we}set(Ee,we){return this.ref.set(Ee,we)}update(Ee){return this.ref.update(Ee)}delete(){return this.ref.delete()}collection(Ee,we){const ot=this.ref.collection(Ee),{ref:on,query:Un}=pn(ot,we);return new mi(on,Un,this.afs)}snapshotChanges(){return function Mt(mn,Ee){return Be(mn,Ee).pipe((0,$e.O)(void 0),(0,Fe.G)(),(0,vt.U)(([we,ot])=>ot.exists?null!=we&&we.exists?{payload:ot,type:"modified"}:{payload:ot,type:"added"}:{payload:ot,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ct.iC)}valueChanges(Ee={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:we})=>Ee.idField?Object.assign(Object.assign({},we.data()),{[Ee.idField]:we.id}):we.data()))}get(Ee){return(0,oe.D)(this.ref.get(Ee)).pipe(ct.iC)}}class Si{constructor(Ee,we){this.query=Ee,this.afs=we}stateChanges(Ee){return Ee&&0!==Ee.length?qn(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(we=>we.filter(ot=>Ee.indexOf(ot.type)>-1)),(0,Ue.h)(we=>we.length>0),ct.iC):qn(this.query,this.afs.schedulers.outsideAngular).pipe(ct.iC)}auditTrail(Ee){return this.stateChanges(Ee).pipe((0,Pe.R)((we,ot)=>[...we,...ot],[]))}snapshotChanges(Ee){const we=zn(Ee);return ii(this.query,we,this.afs.schedulers.outsideAngular).pipe(ct.iC)}valueChanges(Ee={}){return vn(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(ot=>ot.payload.docs.map(on=>Ee.idField?Object.assign({[Ee.idField]:on.id},on.data()):on.data())),ct.iC)}get(Ee){return(0,oe.D)(this.query.get(Ee)).pipe(ct.iC)}}const Ci=new t.OlP("angularfire2.enableFirestorePersistence"),dn=new t.OlP("angularfire2.firestore.persistenceSettings"),xt=new t.OlP("angularfire2.firestore.settings"),Wt=new t.OlP("angularfire2.firestore.use-emulator");function pn(mn,Ee=(we=>we)){return{query:Ee(mn),ref:mn}}let Rn=(()=>{class mn{constructor(we,ot,on,Un,wi,xi,rr,wt,ye,he,_e,ge,It,rn,xn,jn,_i){this.schedulers=rr;const jt=(0,je.on)(we,xi,ot),mt=ye;he&&(0,Mi.nw)(jt,xi,_e,It,rn,xn,ge,jn),[this.firestore,this.persistenceEnabled$]=(0,je.cc)(`${jt.name}.firestore`,"AngularFirestore",jt.name,()=>{const et=xi.runOutsideAngular(()=>jt.firestore());if(Un&&et.settings(Un),mt&&et.useEmulator(...mt),on&&!(0,pt.PM)(wi)){const ft=()=>{try{return(0,oe.D)(et.enablePersistence(wt||void 0).then(()=>!0,()=>!1))}catch(qt){return typeof console<"u"&&console.warn(qt),(0,ze.of)(!1)}};return[et,xi.runOutsideAngular(ft)]}return[et,(0,ze.of)(!1)]},[Un,mt,on])}collection(we,ot){let on;on="string"==typeof we?this.firestore.collection(we):we;const{ref:Un,query:wi}=pn(on,ot),xi=this.schedulers.ngZone.run(()=>Un);return new mi(xi,wi,this)}collectionGroup(we,ot){const on=ot||(wi=>wi),Un=this.firestore.collectionGroup(we);return new Si(on(Un),this)}doc(we){let ot;ot="string"==typeof we?this.firestore.doc(we):we;const on=this.schedulers.ngZone.run(()=>ot);return new Pi(on,this)}createId(){return this.firestore.collection("_").doc().id}}return mn.\u0275fac=function(we){return new(we||mn)(t.LFG(je.Dh),t.LFG(je.xv,8),t.LFG(Ci,8),t.LFG(xt,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(ct.HU),t.LFG(dn,8),t.LFG(Wt,8),t.LFG(Mi.zQ,8),t.LFG(Mi.Qv,8),t.LFG(Mi.L6,8),t.LFG(Mi._Q,8),t.LFG(Mi.rT,8),t.LFG(Mi.lh,8),t.LFG(Mi.f7,8),t.LFG(Kt.nm,8))},mn.\u0275prov=t.Yz7({token:mn,factory:mn.\u0275fac,providedIn:"any"}),mn})(),Dn=(()=>{class mn{constructor(){Ye.Z.registerVersion("angularfire",ct.q4.full,"fst-compat")}static enablePersistence(we){return{ngModule:mn,providers:[{provide:Ci,useValue:!0},{provide:dn,useValue:we}]}}}return mn.\u0275fac=function(we){return new(we||mn)},mn.\u0275mod=t.oAB({type:mn}),mn.\u0275inj=t.cJS({providers:[Rn]}),mn})()},2011:(ei,Jt,U)=>{"use strict";U.d(Jt,{Dh:()=>Fe,GT:()=>ct,cc:()=>pt,hO:()=>je,on:()=>Pe,pX:()=>ze,xv:()=>vt});var t=U(4650),Z=U(9260),ie=U(4027);ei=U.hmd(ei);const oe=["ngOnDestroy"],ze=(Ge,yt,at,Ve={})=>new Proxy(Ge,{get:(dt,Ut)=>at.runOutsideAngular(()=>{var ut;if(Ge[Ut])return!(null===(ut=null==Ve?void 0:Ve.spy)||void 0===ut)&&ut.get&&Ve.spy.get(Ut,Ge[Ut]),Ge[Ut];if(oe.indexOf(Ut)>-1)return()=>{};const Ie=yt.toPromise().then(nt=>{const St=nt&&nt[Ut];return"function"==typeof St?St.bind(nt):St&&St.then?St.then(Nt=>at.run(()=>Nt)):at.run(()=>St)});return new Proxy(()=>{},{get:(nt,St)=>Ie[St],apply:(nt,St,Nt)=>Ie.then(At=>{var Pt;const Lt=At&&At(...Nt);return!(null===(Pt=null==Ve?void 0:Ve.spy)||void 0===Pt)&&Pt.apply&&Ve.spy.apply(Ut,Nt,Lt),Lt})})})}),ct=(Ge,yt)=>{yt.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(Ve=>{Object.defineProperty(Ge.prototype,Ve,Object.getOwnPropertyDescriptor(at.prototype||at,Ve))})})};class $e{constructor(yt){return yt}}const Fe=new t.OlP("angularfire2.app.options"),vt=new t.OlP("angularfire2.app.name");function Pe(Ge,yt,at){const dt="object"==typeof at&&at||{};dt.name=dt.name||"string"==typeof at&&at||"[DEFAULT]";const ut=Z.Z.apps.filter(Ie=>Ie&&Ie.name===dt.name)[0]||yt.runOutsideAngular(()=>Z.Z.initializeApp(Ge,dt));try{JSON.stringify(Ge)!==JSON.stringify(ut.options)&&xe("error",`${ut.name} Firebase App already initialized with different options${ei.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ie){}return new $e(ut)}const xe=(Ge,...yt)=>{(0,t.X6Q)()&&typeof console<"u"&&console[Ge](...yt)},Ue={provide:$e,useFactory:Pe,deps:[Fe,t.R0b,[new t.FiY,vt]]};let je=(()=>{class Ge{constructor(at){Z.Z.registerVersion("angularfire",ie.q4.full,"core"),Z.Z.registerVersion("angularfire",ie.q4.full,"app-compat"),Z.Z.registerVersion("angular",t.q4F.full,at.toString())}static initializeApp(at,Ve){return{ngModule:Ge,providers:[{provide:Fe,useValue:at},{provide:vt,useValue:Ve}]}}}return Ge.\u0275fac=function(at){return new(at||Ge)(t.LFG(t.Lbi))},Ge.\u0275mod=t.oAB({type:Ge}),Ge.\u0275inj=t.cJS({providers:[Ue]}),Ge})();function pt(Ge,yt,at,Ve,dt){const[,Ut,ut]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===Ge)||[];if(Ut)return function gt(Ge,yt){try{return Ge.toString()===yt.toString()}catch(at){return Ge===yt}}(dt,ut)||(be("error",`${yt} was already initialized on the ${at} Firebase App with different settings.${kt?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:dt,was:ut})),Ut;{const Ie=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Ge,Ie,dt]),Ie}}const kt=!!ei.hot,be=(Ge,...yt)=>{(0,t.X6Q)()&&typeof console<"u"&&console[Ge](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3562:(ei,Jt,U)=>{"use strict";U.d(Jt,{gg:()=>Nt,BS:()=>qe,JU:()=>qn,_1:()=>Tn,ad:()=>pn,Cm:()=>Yt,pl:()=>_e});var t=U(4027),Z=U(4650),ie=U(7323),oe=U(3692),ze=U(259),ct=U(2313),$e=U(8179),Fe=U(9751),vt=U(4004),Pe={includeMetadataChanges:!1};function xe(ft,qt){return void 0===qt&&(qt=Pe),new Fe.y(function(We){return{unsubscribe:(0,$e.cf)(ft,qt,{next:We.next.bind(We),error:We.error.bind(We),complete:We.complete.bind(We)})}})}function je(ft,qt){return void 0===qt&&(qt={}),function Ue(ft){return xe(ft,{includeMetadataChanges:!0})}(ft).pipe((0,vt.U)(function(We){return pt(We,qt)}))}function pt(ft,qt){void 0===qt&&(qt={});var We=ft.data();return!ft.exists()||"object"!=typeof We||null===We||qt.idField&&(We[qt.idField]=ft.id),We}function St(ft,qt){return void 0===qt&&(qt={}),function ut(ft){return xe(ft,{includeMetadataChanges:!0}).pipe((0,vt.U)(function(qt){return qt.docs}))}(ft).pipe((0,vt.U)(function(We){return We.map(function(zt){return pt(zt,qt)})}))}class Nt{constructor(qt){return qt}}const At="firestore",Et=new Z.OlP("angularfire2.firestore-instances");function Vt(ft){return(qt,We)=>{const zt=qt.runOutsideAngular(()=>ft(We));return new Nt(zt)}}const lt={provide:class Pt{constructor(){return(0,t.vb)(At)}},deps:[[new Z.FiY,Et]]},Je={provide:Nt,useFactory:function it(ft,qt){const We=(0,t.JM)(At,ft,qt);return We&&new Nt(We)},deps:[[new Z.FiY,Et],oe.Ot]};let rt=(()=>{class ft{constructor(){(0,ze.KN)("angularfire",t.q4.full,"fst")}}return ft.\u0275fac=function(We){return new(We||ft)},ft.\u0275mod=Z.oAB({type:ft}),ft.\u0275inj=Z.cJS({providers:[Je,lt]}),ft})();function Yt(ft,...qt){return{ngModule:rt,providers:[{provide:Et,useFactory:Vt(ft),multi:!0,deps:[Z.R0b,Z.zs3,t.HU,oe.z6,[new Z.FiY,ie.dh],[new Z.FiY,ct.nm],...qt]}]}}const qe=(0,t.u3)(St,!0),Tn=(0,t.u3)(je,!0),qn=(0,t.u3)($e.JU,!0),pn=(0,t.u3)($e.ad,!0),_e=(0,t.u3)($e.pl,!0)},4027:(ei,Jt,U)=>{"use strict";U.d(Jt,{q4:()=>be,iC:()=>$t,HU:()=>it,vb:()=>At,JM:()=>Nt,nk:()=>St,n1:()=>Ie,_J:()=>nt,u3:()=>hn});var t=U(4650),Z=U(259),ie=U(4880),oe=U(751),ze=U(3008),ct=U(4408),Fe=U(7565);const Pe=new class vt extends Fe.v{}(class $e extends ct.o{constructor(cn,Tn){super(cn,Tn),this.scheduler=cn,this.work=Tn}schedule(cn,Tn=0){return Tn>0?super.schedule(cn,Tn):(this.delay=Tn,this.state=cn,this.scheduler.flush(this),this)}execute(cn,Tn){return Tn>0||this.closed?super.execute(cn,Tn):this._execute(cn,Tn)}requestAsyncId(cn,Tn,Hn=0){return null!=Hn&&Hn>0||null==Hn&&this.delay>0?super.requestAsyncId(cn,Tn,Hn):(cn.flush(this),0)}});var Ue=U(4986),je=U(9751),pt=U(8505),gt=U(9468),kt=U(5363);const be=new t.GfV("7.5.0"),Ge="__angularfire_symbol__analyticsIsSupportedValue",yt="__angularfire_symbol__analyticsIsSupported",at="__angularfire_symbol__remoteConfigIsSupportedValue",Ve="__angularfire_symbol__remoteConfigIsSupported",dt="__angularfire_symbol__messagingIsSupportedValue",Ut="__angularfire_symbol__messagingIsSupported";globalThis[yt]||(globalThis[yt]=(0,ze.Gb)().then(qe=>globalThis[Ge]=qe).catch(()=>globalThis[Ge]=!1)),globalThis[Ut]||(globalThis[Ut]=(0,oe.Gb)().then(qe=>globalThis[dt]=qe).catch(()=>globalThis[dt]=!1)),globalThis[Ve]||(globalThis[Ve]=(0,ie.Gb)().then(qe=>globalThis[at]=qe).catch(()=>globalThis[at]=!1));const ut=qe=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${qe} in the constructor, first ensure that ${qe} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${qe})\`.`,Ie={async:()=>globalThis[Ut],sync:()=>{const qe=globalThis[dt];if(void 0===qe)throw new Error(ut("Messaging"));return qe}},nt={async:()=>globalThis[Ve],sync:()=>{const qe=globalThis[at];if(void 0===qe)throw new Error(ut("RemoteConfig"));return qe}},St={async:()=>globalThis[yt],sync:()=>{const qe=globalThis[Ge];if(void 0===qe)throw new Error(ut("Analytics"));return qe}};function Nt(qe,cn,Tn){if(cn){if(1===cn.length)return cn[0];const si=cn.filter(ai=>ai.app===Tn);if(1===si.length)return si[0]}return Tn.container.getProvider(qe).getImmediate({optional:!0})}const At=(qe,cn)=>{const Tn=cn?[cn]:(0,Z.C6)(),Hn=[];return Tn.forEach(Ln=>{Ln.container.getProvider(qe).instances.forEach(ai=>{Hn.includes(ai)||Hn.push(ai)})}),Hn};function Pt(){}class Lt{constructor(cn,Tn=Pe){this.zone=cn,this.delegate=Tn}now(){return this.delegate.now()}schedule(cn,Tn,Hn){const Ln=this.zone;return this.delegate.schedule(function(ai){Ln.runGuarded(()=>{cn.apply(this,[ai])})},Tn,Hn)}}class Et{constructor(cn){this.zone=cn,this.task=null}call(cn,Tn){const Hn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pt,{},Pt,Pt)),Tn.pipe((0,pt.b)({next:Hn,complete:Hn,error:Hn})).subscribe(cn).add(Hn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let it=(()=>{class qe{constructor(Tn){this.ngZone=Tn,this.outsideAngular=Tn.runOutsideAngular(()=>new Lt(Zone.current)),this.insideAngular=Tn.run(()=>new Lt(Zone.current,Ue.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return qe.\u0275fac=function(Tn){return new(Tn||qe)(t.LFG(t.R0b))},qe.\u0275prov=t.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();function Vt(){const qe=globalThis.\u0275AngularFireScheduler;if(!qe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return qe}function Je(qe){return Vt().ngZone.run(()=>qe())}function $t(qe){return Vt(),function Qt(qe){return function(Tn){return(Tn=Tn.lift(new Et(qe.ngZone))).pipe((0,gt.R)(qe.outsideAngular),(0,kt.Q)(qe.insideAngular))}}(Vt())(qe)}const Bt=(qe,cn)=>function(){const Hn=arguments;return cn&&setTimeout(()=>{"scheduled"===cn.state&&cn.invoke()},10),Je(()=>qe.apply(void 0,Hn))},hn=(qe,cn)=>function(){let Tn;const Hn=arguments;for(let si=0;si<arguments.length;si++)"function"==typeof Hn[si]&&(cn&&(Tn||(Tn=Je(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pt,{},Pt,Pt)))),Hn[si]=Bt(Hn[si],Tn));const Ln=function lt(qe){return Vt().ngZone.runOutsideAngular(()=>qe())}(()=>qe.apply(this,Hn));if(!cn){if(Ln instanceof je.y){const si=Vt();return Ln.pipe((0,gt.R)(si.outsideAngular),(0,kt.Q)(si.insideAngular))}return Je(()=>Ln)}return Ln instanceof je.y?Ln.pipe($t):Ln instanceof Promise?Je(()=>new Promise((si,ai)=>Ln.then(bi=>Je(()=>si(bi)),bi=>Je(()=>ai(bi))))):"function"==typeof Ln&&Tn?function(){return setTimeout(()=>{Tn&&"scheduled"===Tn.state&&Tn.invoke()},10),Ln.apply(this,arguments)}:Je(()=>Ln)}},8401:(ei,Jt,U)=>{"use strict";U.d(Jt,{$:()=>tc,A:()=>xe,B:()=>pt,G:()=>yn,H:()=>Ni,J:()=>jr,L:()=>rr,M:()=>Qs,N:()=>Co,P:()=>pu,Q:()=>Po,R:()=>Pa,T:()=>Dl,U:()=>Xo,V:()=>mo,W:()=>Ha,X:()=>Zr,Y:()=>Us,Z:()=>ao,_:()=>To,a:()=>Hi,a0:()=>nc,a1:()=>re,a2:()=>J,a3:()=>En,a4:()=>Ji,a5:()=>Nr,a6:()=>ss,a7:()=>W,a8:()=>Y,a9:()=>Oe,aA:()=>wt,aB:()=>gc,aC:()=>Vs,aD:()=>Gr,aE:()=>oi,aI:()=>cr,aL:()=>so,aa:()=>hs,ab:()=>ea,ac:()=>ga,af:()=>Al,ag:()=>Vo,ah:()=>ic,ak:()=>wa,al:()=>Ho,an:()=>no,ao:()=>Fi,ap:()=>St,aq:()=>jt,ar:()=>xn,as:()=>at,at:()=>Ss,au:()=>xs,av:()=>mt,aw:()=>Ve,ax:()=>Ie,ay:()=>mu,az:()=>At,b:()=>Nn,c:()=>ia,d:()=>S,e:()=>R,f:()=>mr,g:()=>gu,h:()=>zl,i:()=>jo,j:()=>ku,k:()=>Uu,l:()=>Ic,m:()=>od,n:()=>Hc,o:()=>Fe,r:()=>Fo,s:()=>Tc,u:()=>Fc,v:()=>qc});var t=U(5861),Z=U(2090),ie=U(9681),oe=U(1877),ze=U(655),ct=U(4859);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const pt=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},gt=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kt=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new oe.Yd("@firebase/auth");function yt(F,...C){Ge.logLevel<=oe.in.ERROR&&Ge.error(`Auth (${ie.SDK_VERSION}): ${F}`,...C)}function at(F,...C){throw ut(F,...C)}function Ve(F,...C){return ut(F,...C)}function dt(F,C,D){const H=Object.assign(Object.assign({},gt()),{[C]:D});return new Z.LL("auth","Firebase",H).create(C,{appName:F.name})}function Ut(F,C,D){if(!(C instanceof D))throw D.name!==C.constructor.name&&at(F,"argument-error"),dt(F,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ut(F,...C){if("string"!=typeof F){const D=C[0],H=[...C.slice(1)];return H[0]&&(H[0].appName=F.name),F._errorFactory.create(D,...H)}return kt.create(F,...C)}function Ie(F,C,...D){if(!F)throw ut(C,...D)}function nt(F){const C="INTERNAL ASSERTION FAILED: "+F;throw yt(C),new Error(C)}function St(F,C){F||nt(C)}const Nt=new Map;function At(F){St(F instanceof Function,"Expected a class definition");let C=Nt.get(F);return C?(St(C instanceof F,"Instance stored in cache mismatched with class"),C):(C=new F,Nt.set(F,C),C)}function Et(){var F;return typeof self<"u"&&(null===(F=self.location)||void 0===F?void 0:F.href)||""}function it(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var F;return typeof self<"u"&&(null===(F=self.location)||void 0===F?void 0:F.protocol)||null}class rt{constructor(C,D){this.shortDelay=C,this.longDelay=D,St(D>C,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function lt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yt(F,C){St(F.emulator,"Emulator should always be set here");const{url:D}=F.emulator;return C?`${D}${C.startsWith("/")?C.slice(1):C}`:D}class $t{static initialize(C,D,H){this.fetchImpl=C,D&&(this.headersImpl=D),H&&(this.responseImpl=H)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Bt=new rt(3e4,6e4);function hn(F,C){return F.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:F.tenantId}):C}function qe(F,C,D,H){return cn.apply(this,arguments)}function cn(){return(cn=(0,t.Z)(function*(F,C,D,H,De={}){return Tn(F,De,(0,t.Z)(function*(){let Qe={},gn={};H&&("GET"===C?gn=H:Qe={body:JSON.stringify(H)});const ci=(0,Z.xO)(Object.assign({key:F.config.apiKey},gn)).slice(1),Yi=yield F._getAdditionalHeaders();return Yi["Content-Type"]="application/json",F.languageCode&&(Yi["X-Firebase-Locale"]=F.languageCode),$t.fetch()(ai(F,F.config.apiHost,D,ci),Object.assign({method:C,headers:Yi,referrerPolicy:"no-referrer"},Qe))}))})).apply(this,arguments)}function Tn(F,C,D){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,t.Z)(function*(F,C,D){F._canInitEmulator=!1;const H=Object.assign(Object.assign({},Qt),C);try{const De=new bi(F),Qe=yield Promise.race([D(),De.promise]);De.clearNetworkTimeout();const gn=yield Qe.json();if("needConfirmation"in gn)throw Mi(F,"account-exists-with-different-credential",gn);if(Qe.ok&&!("errorMessage"in gn))return gn;{const ci=Qe.ok?gn.errorMessage:gn.error.message,[Yi,hr]=ci.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yi)throw Mi(F,"credential-already-in-use",gn);if("EMAIL_EXISTS"===Yi)throw Mi(F,"email-already-in-use",gn);if("USER_DISABLED"===Yi)throw Mi(F,"user-disabled",gn);const Wr=H[Yi]||Yi.toLowerCase().replace(/[_\s]+/g,"-");if(hr)throw dt(F,Wr,hr);at(F,Wr)}}catch(De){if(De instanceof Z.ZR)throw De;at(F,"internal-error",{message:String(De)})}})).apply(this,arguments)}function Ln(F,C,D,H){return si.apply(this,arguments)}function si(){return(si=(0,t.Z)(function*(F,C,D,H,De={}){const Qe=yield qe(F,C,D,H,De);return"mfaPendingCredential"in Qe&&at(F,"multi-factor-auth-required",{_serverResponse:Qe}),Qe})).apply(this,arguments)}function ai(F,C,D,H){const De=`${C}${D}?${H}`;return F.config.emulator?Yt(F.config,De):`${F.config.apiScheme}://${De}`}class bi{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((D,H)=>{this.timer=setTimeout(()=>H(Ve(this.auth,"network-request-failed")),Bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mi(F,C,D){const H={appName:F.name};D.email&&(H.email=D.email),D.phoneNumber&&(H.phoneNumber=D.phoneNumber);const De=Ve(F,C,H);return De.customData._tokenResponse=D,De}function Ye(){return(Ye=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function Be(){return(Be=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function vn(){return(vn=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function qn(F){if(F)try{const C=new Date(Number(F));if(!isNaN(C.getTime()))return C.toUTCString()}catch(C){}}function $i(){return($i=(0,t.Z)(function*(F,C=!1){const D=(0,Z.m9)(F),H=yield D.getIdToken(C),De=zn(H);Ie(De&&De.exp&&De.auth_time&&De.iat,D.auth,"internal-error");const Qe="object"==typeof De.firebase?De.firebase:void 0,gn=null==Qe?void 0:Qe.sign_in_provider;return{claims:De,token:H,authTime:qn(Xn(De.auth_time)),issuedAtTime:qn(Xn(De.iat)),expirationTime:qn(Xn(De.exp)),signInProvider:gn||null,signInSecondFactor:(null==Qe?void 0:Qe.sign_in_second_factor)||null}})).apply(this,arguments)}function Xn(F){return 1e3*Number(F)}function zn(F){const[C,D,H]=F.split(".");if(void 0===C||void 0===D||void 0===H)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const De=(0,Z.tV)(D);return De?JSON.parse(De):(yt("Failed to decode base64 JWT payload"),null)}catch(De){return yt("Caught error parsing JWT payload as JSON",null==De?void 0:De.toString()),null}}function Pi(F,C){return Si.apply(this,arguments)}function Si(){return(Si=(0,t.Z)(function*(F,C,D=!1){if(D)return C;try{return yield C}catch(H){throw H instanceof Z.ZR&&function Ci({code:F}){return"auth/user-disabled"===F||"auth/user-token-expired"===F}(H)&&F.auth.currentUser===F&&(yield F.auth.signOut()),H}})).apply(this,arguments)}class dn{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var D;if(C){const H=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),H}{this.errorBackoff=3e4;const De=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,De)}}schedule(C=!1){var D=this;if(!this.isRunning)return;const H=this.getInterval(C);this.timerId=setTimeout((0,t.Z)(function*(){yield D.iteration()}),H)}iteration(){var C=this;return(0,t.Z)(function*(){try{yield C.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null==D?void 0:D.code)&&C.schedule(!0))}C.schedule()})()}}class xt{constructor(C,D){this.createdAt=C,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wt(F){return pn.apply(this,arguments)}function pn(){return pn=(0,t.Z)(function*(F){var C;const D=F.auth,H=yield F.getIdToken(),De=yield Pi(F,function Mt(F,C){return vn.apply(this,arguments)}(D,{idToken:H}));Ie(null==De?void 0:De.users.length,D,"internal-error");const Qe=De.users[0];F._notifyReloadListener(Qe);const gn=null!==(C=Qe.providerUserInfo)&&void 0!==C&&C.length?function Ee(F){return F.map(C=>{var{providerId:D}=C,H=(0,ze._T)(C,["providerId"]);return{providerId:D,uid:H.rawId||"",displayName:H.displayName||null,email:H.email||null,phoneNumber:H.phoneNumber||null,photoURL:H.photoUrl||null}})}(Qe.providerUserInfo):[],ci=function mn(F,C){return[...F.filter(H=>!C.some(De=>De.providerId===H.providerId)),...C]}(F.providerData,gn),Wr=!!F.isAnonymous&&!(F.email&&Qe.passwordHash||null!=ci&&ci.length),Ls={uid:Qe.localId,displayName:Qe.displayName||null,photoURL:Qe.photoUrl||null,email:Qe.email||null,emailVerified:Qe.emailVerified||!1,phoneNumber:Qe.phoneNumber||null,tenantId:Qe.tenantId||null,providerData:ci,metadata:new xt(Qe.createdAt,Qe.lastLoginAt),isAnonymous:Wr};Object.assign(F,Ls)}),pn.apply(this,arguments)}function Dn(){return(Dn=(0,t.Z)(function*(F){const C=(0,Z.m9)(F);yield Wt(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function ot(){return(ot=(0,t.Z)(function*(F,C){const D=yield Tn(F,{},(0,t.Z)(function*(){const H=(0,Z.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:De,apiKey:Qe}=F.config,gn=ai(F,De,"/v1/token",`key=${Qe}`),ci=yield F._getAdditionalHeaders();return ci["Content-Type"]="application/x-www-form-urlencoded",$t.fetch()(gn,{method:"POST",headers:ci,body:H})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){Ie(C.idToken,"internal-error"),Ie(typeof C.idToken<"u","internal-error"),Ie(typeof C.refreshToken<"u","internal-error");const D="expiresIn"in C&&typeof C.expiresIn<"u"?Number(C.expiresIn):function mi(F){const C=zn(F);return Ie(C,"internal-error"),Ie(typeof C.exp<"u","internal-error"),Ie(typeof C.iat<"u","internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,D)}getToken(C,D=!1){var H=this;return(0,t.Z)(function*(){return Ie(!H.accessToken||H.refreshToken,C,"user-token-expired"),D||!H.accessToken||H.isExpired?H.refreshToken?(yield H.refresh(C,H.refreshToken),H.accessToken):null:H.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,D){var H=this;return(0,t.Z)(function*(){const{accessToken:De,refreshToken:Qe,expiresIn:gn}=yield function we(F,C){return ot.apply(this,arguments)}(C,D);H.updateTokensAndExpiration(De,Qe,Number(gn))})()}updateTokensAndExpiration(C,D,H){this.refreshToken=D||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*H}static fromJSON(C,D){const{refreshToken:H,accessToken:De,expirationTime:Qe}=D,gn=new on;return H&&(Ie("string"==typeof H,"internal-error",{appName:C}),gn.refreshToken=H),De&&(Ie("string"==typeof De,"internal-error",{appName:C}),gn.accessToken=De),Qe&&(Ie("number"==typeof Qe,"internal-error",{appName:C}),gn.expirationTime=Qe),gn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Un(F,C){Ie("string"==typeof F||typeof F>"u","internal-error",{appName:C})}class wi{constructor(C){var{uid:D,auth:H,stsTokenManager:De}=C,Qe=(0,ze._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=H,this.stsTokenManager=De,this.accessToken=De.accessToken,this.displayName=Qe.displayName||null,this.email=Qe.email||null,this.emailVerified=Qe.emailVerified||!1,this.phoneNumber=Qe.phoneNumber||null,this.photoURL=Qe.photoURL||null,this.isAnonymous=Qe.isAnonymous||!1,this.tenantId=Qe.tenantId||null,this.providerData=Qe.providerData?[...Qe.providerData]:[],this.metadata=new xt(Qe.createdAt||void 0,Qe.lastLoginAt||void 0)}getIdToken(C){var D=this;return(0,t.Z)(function*(){const H=yield Pi(D,D.stsTokenManager.getToken(D.auth,C));return Ie(H,D.auth,"internal-error"),D.accessToken!==H&&(D.accessToken=H,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),H})()}getIdTokenResult(C){return function gi(F){return $i.apply(this,arguments)}(this,C)}reload(){return function Rn(F){return Dn.apply(this,arguments)}(this)}_assign(C){this!==C&&(Ie(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(D=>Object.assign({},D)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){return new wi(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(C){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,D=!1){var H=this;return(0,t.Z)(function*(){let De=!1;C.idToken&&C.idToken!==H.stsTokenManager.accessToken&&(H.stsTokenManager.updateFromServerResponse(C),De=!0),D&&(yield Wt(H)),yield H.auth._persistUserIfCurrent(H),De&&H.auth._notifyListenersIfCurrent(H)})()}delete(){var C=this;return(0,t.Z)(function*(){const D=yield C.getIdToken();return yield Pi(C,function Kt(F,C){return Ye.apply(this,arguments)}(C.auth,{idToken:D})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,D){var H,De,Qe,gn,ci,Yi,hr,Wr;const Ls=null!==(H=D.displayName)&&void 0!==H?H:void 0,yl=null!==(De=D.email)&&void 0!==De?De:void 0,bl=null!==(Qe=D.phoneNumber)&&void 0!==Qe?Qe:void 0,kl=null!==(gn=D.photoURL)&&void 0!==gn?gn:void 0,La=null!==(ci=D.tenantId)&&void 0!==ci?ci:void 0,Wo=null!==(Yi=D._redirectEventId)&&void 0!==Yi?Yi:void 0,ya=null!==(hr=D.createdAt)&&void 0!==hr?hr:void 0,yc=null!==(Wr=D.lastLoginAt)&&void 0!==Wr?Wr:void 0,{uid:El,emailVerified:Ja,isAnonymous:bc,providerData:ho,stsTokenManager:is}=D;Ie(El&&is,C,"internal-error");const Kl=on.fromJSON(this.name,is);Ie("string"==typeof El,C,"internal-error"),Un(Ls,C.name),Un(yl,C.name),Ie("boolean"==typeof Ja,C,"internal-error"),Ie("boolean"==typeof bc,C,"internal-error"),Un(bl,C.name),Un(kl,C.name),Un(La,C.name),Un(Wo,C.name),Un(ya,C.name),Un(yc,C.name);const Vu=new wi({uid:El,auth:C,email:yl,emailVerified:Ja,displayName:Ls,isAnonymous:bc,photoURL:kl,phoneNumber:bl,tenantId:La,stsTokenManager:Kl,createdAt:ya,lastLoginAt:yc});return ho&&Array.isArray(ho)&&(Vu.providerData=ho.map(sl=>Object.assign({},sl))),Wo&&(Vu._redirectEventId=Wo),Vu}static _fromIdTokenResponse(C,D,H=!1){return(0,t.Z)(function*(){const De=new on;De.updateFromServerResponse(D);const Qe=new wi({uid:D.localId,auth:C,stsTokenManager:De,isAnonymous:H});return yield Wt(Qe),Qe})()}}const rr=(()=>{class F{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,t.Z)(function*(){return!0})()}_set(D,H){var De=this;return(0,t.Z)(function*(){De.storage[D]=H})()}_get(D){var H=this;return(0,t.Z)(function*(){const De=H.storage[D];return void 0===De?null:De})()}_remove(D){var H=this;return(0,t.Z)(function*(){delete H.storage[D]})()}_addListener(D,H){}_removeListener(D,H){}}return F.type="NONE",F})();function wt(F,C,D){return`firebase:${F}:${C}:${D}`}class ye{constructor(C,D,H){this.persistence=C,this.auth=D,this.userKey=H;const{config:De,name:Qe}=this.auth;this.fullUserKey=wt(this.userKey,De.apiKey,Qe),this.fullPersistenceKey=wt("persistence",De.apiKey,Qe),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,t.Z)(function*(){const D=yield C.persistence._get(C.fullUserKey);return D?wi._fromJSON(C.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var D=this;return(0,t.Z)(function*(){if(D.persistence===C)return;const H=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=C,H?D.setCurrentUser(H):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,D,H="authUser"){return(0,t.Z)(function*(){if(!D.length)return new ye(At(rr),C,H);const De=(yield Promise.all(D.map(function(){var hr=(0,t.Z)(function*(Wr){if(yield Wr._isAvailable())return Wr});return function(Wr){return hr.apply(this,arguments)}}()))).filter(hr=>hr);let Qe=De[0]||At(rr);const gn=wt(H,C.config.apiKey,C.name);let ci=null;for(const hr of D)try{const Wr=yield hr._get(gn);if(Wr){const Ls=wi._fromJSON(C,Wr);hr!==Qe&&(ci=Ls),Qe=hr;break}}catch(Wr){}const Yi=De.filter(hr=>hr._shouldAllowMigration);return Qe._shouldAllowMigration&&Yi.length?(Qe=Yi[0],ci&&(yield Qe._set(gn,ci.toJSON())),yield Promise.all(D.map(function(){var hr=(0,t.Z)(function*(Wr){if(Wr!==Qe)try{yield Wr._remove(gn)}catch(Ls){}});return function(Wr){return hr.apply(this,arguments)}}())),new ye(Qe,C,H)):new ye(Qe,C,H)})()}}function he(F){const C=F.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(rn(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(_e(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(jn(C))return"Blackberry";if(_i(C))return"Webos";if(ge(C))return"Safari";if((C.includes("chrome/")||It(C))&&!C.includes("edge/"))return"Chrome";if(xn(C))return"Android";{const H=F.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==H?void 0:H.length))return H[1]}return"Other"}function _e(F=(0,Z.z$)()){return/firefox\//i.test(F)}function ge(F=(0,Z.z$)()){const C=F.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function It(F=(0,Z.z$)()){return/crios\//i.test(F)}function rn(F=(0,Z.z$)()){return/iemobile/i.test(F)}function xn(F=(0,Z.z$)()){return/android/i.test(F)}function jn(F=(0,Z.z$)()){return/blackberry/i.test(F)}function _i(F=(0,Z.z$)()){return/webos/i.test(F)}function jt(F=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(F)||/macintosh/i.test(F)&&/mobile/i.test(F)}function mt(F=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(F)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(F)}function qt(F=(0,Z.z$)()){return jt(F)||xn(F)||_i(F)||jn(F)||/windows phone/i.test(F)||rn(F)}function zt(F,C=[]){let D;switch(F){case"Browser":D=he((0,Z.z$)());break;case"Worker":D=`${he((0,Z.z$)())}-${F}`;break;default:D=F}const H=C.length?C.join(","):"FirebaseCore-web";return`${D}/JsCore/${ie.SDK_VERSION}/${H}`}class Wn{constructor(C){this.auth=C,this.queue=[]}pushCallback(C,D){const H=Qe=>new Promise((gn,ci)=>{try{gn(C(Qe))}catch(Yi){ci(Yi)}});H.onAbort=D,this.queue.push(H);const De=this.queue.length-1;return()=>{this.queue[De]=()=>Promise.resolve()}}runMiddleware(C){var D=this;return(0,t.Z)(function*(){if(D.auth.currentUser===C)return;const H=[];try{for(const De of D.queue)yield De(C),De.onAbort&&H.push(De.onAbort)}catch(De){H.reverse();for(const Qe of H)try{Qe()}catch(gn){}throw D.auth._errorFactory.create("login-blocked",{originalMessage:null==De?void 0:De.message})}})()}}class Jn{constructor(C,D,H){this.app=C,this.heartbeatServiceProvider=D,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ot(this),this.idTokenSubscription=new Ot(this),this.beforeStateQueue=new Wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(C,D){var H=this;return D&&(this._popupRedirectResolver=At(D)),this._initializationPromise=this.queue((0,t.Z)(function*(){var De,Qe;if(!H._deleted&&(H.persistenceManager=yield ye.create(H,C),!H._deleted)){if(null!==(De=H._popupRedirectResolver)&&void 0!==De&&De._shouldInitProactively)try{yield H._popupRedirectResolver._initialize(H)}catch(gn){}yield H.initializeCurrentUser(D),H.lastNotifiedUid=(null===(Qe=H.currentUser)||void 0===Qe?void 0:Qe.uid)||null,!H._deleted&&(H._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,t.Z)(function*(){if(C._deleted)return;const D=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||D){if(C.currentUser&&D&&C.currentUser.uid===D.uid)return C._currentUser._assign(D),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(D,!0)}})()}initializeCurrentUser(C){var D=this;return(0,t.Z)(function*(){var H;const De=yield D.assertedPersistence.getCurrentUser();let Qe=De,gn=!1;if(C&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const ci=null===(H=D.redirectUser)||void 0===H?void 0:H._redirectEventId,Yi=null==Qe?void 0:Qe._redirectEventId,hr=yield D.tryRedirectSignIn(C);(!ci||ci===Yi)&&null!=hr&&hr.user&&(Qe=hr.user,gn=!0)}if(!Qe)return D.directlySetCurrentUser(null);if(!Qe._redirectEventId){if(gn)try{yield D.beforeStateQueue.runMiddleware(Qe)}catch(ci){Qe=De,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(ci))}return Qe?D.reloadAndSetCurrentUserOrClear(Qe):D.directlySetCurrentUser(null)}return Ie(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===Qe._redirectEventId?D.directlySetCurrentUser(Qe):D.reloadAndSetCurrentUserOrClear(Qe)})()}tryRedirectSignIn(C){var D=this;return(0,t.Z)(function*(){let H=null;try{H=yield D._popupRedirectResolver._completeRedirectFn(D,C,!0)}catch(De){yield D._setRedirectUser(null)}return H})()}reloadAndSetCurrentUserOrClear(C){var D=this;return(0,t.Z)(function*(){try{yield Wt(C)}catch(H){if("auth/network-request-failed"!==(null==H?void 0:H.code))return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function Je(){if(typeof navigator>"u")return null;const F=navigator;return F.languages&&F.languages[0]||F.language||null}()}_delete(){var C=this;return(0,t.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var D=this;return(0,t.Z)(function*(){const H=C?(0,Z.m9)(C):null;return H&&Ie(H.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(H&&H._clone(D))})()}_updateCurrentUser(C,D=!1){var H=this;return(0,t.Z)(function*(){if(!H._deleted)return C&&Ie(H.tenantId===C.tenantId,H,"tenant-id-mismatch"),D||(yield H.beforeStateQueue.runMiddleware(C)),H.queue((0,t.Z)(function*(){yield H.directlySetCurrentUser(C),H.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,t.Z)(function*(){return yield C.beforeStateQueue.runMiddleware(null),(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null,!0)})()}setPersistence(C){var D=this;return this.queue((0,t.Z)(function*(){yield D.assertedPersistence.setPersistence(At(C))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new Z.LL("auth","Firebase",C())}onAuthStateChanged(C,D,H){return this.registerStateListener(this.authStateSubscription,C,D,H)}beforeAuthStateChanged(C,D){return this.beforeStateQueue.pushCallback(C,D)}onIdTokenChanged(C,D,H){return this.registerStateListener(this.idTokenSubscription,C,D,H)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,D){var H=this;return(0,t.Z)(function*(){const De=yield H.getOrInitRedirectPersistenceManager(D);return null===C?De.removeCurrentUser():De.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var D=this;return(0,t.Z)(function*(){if(!D.redirectPersistenceManager){const H=C&&At(C)||D._popupRedirectResolver;Ie(H,D,"argument-error"),D.redirectPersistenceManager=yield ye.create(D,[At(H._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(C){var D=this;return(0,t.Z)(function*(){var H,De;return D._isInitialized&&(yield D.queue((0,t.Z)(function*(){}))),(null===(H=D._currentUser)||void 0===H?void 0:H._redirectEventId)===C?D._currentUser:(null===(De=D.redirectUser)||void 0===De?void 0:De._redirectEventId)===C?D.redirectUser:null})()}_persistUserIfCurrent(C){var D=this;return(0,t.Z)(function*(){if(C===D.currentUser)return D.queue((0,t.Z)(function*(){return D.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const H=null!==(D=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==H&&(this.lastNotifiedUid=H,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,D,H,De){if(this._deleted)return()=>{};const Qe="function"==typeof D?D:D.next.bind(D),gn=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(gn,this,"internal-error"),gn.then(()=>Qe(this.currentUser)),"function"==typeof D?C.addObserver(D,H,De):C.addObserver(D)}directlySetCurrentUser(C){var D=this;return(0,t.Z)(function*(){D.currentUser&&D.currentUser!==C&&D._currentUser._stopProactiveRefresh(),C&&D.isProactiveRefreshEnabled&&C._startProactiveRefresh(),D.currentUser=C,C?yield D.assertedPersistence.setCurrentUser(C):yield D.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,t.Z)(function*(){var D;const H={"X-Client-Version":C.clientVersion};C.app.options.appId&&(H["X-Firebase-gmpid"]=C.app.options.appId);const De=yield null===(D=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();return De&&(H["X-Firebase-Client"]=De),H})()}}function oi(F){return(0,Z.m9)(F)}class Ot{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,Z.ne)(D=>this.observer=D)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yn(F,C,D){const H=oi(F);Ie(H._canInitEmulator,H,"emulator-config-failed"),Ie(/^https?:\/\//.test(C),H,"invalid-emulator-scheme");const De=!(null==D||!D.disableWarnings),Qe=Bn(C),{host:gn,port:ci}=function Ii(F){const C=Bn(F),D=/(\/\/)?([^?#/]+)/.exec(F.substr(C.length));if(!D)return{host:"",port:null};const H=D[2].split("@").pop()||"",De=/^(\[[^\]]+\])(:|$)/.exec(H);if(De){const Qe=De[1];return{host:Qe,port:vr(H.substr(Qe.length+1))}}{const[Qe,gn]=H.split(":");return{host:Qe,port:vr(gn)}}}(C);H.config.emulator={url:`${Qe}//${gn}${null===ci?"":`:${ci}`}/`},H.settings.appVerificationDisabledForTesting=!0,H.emulatorConfig=Object.freeze({host:gn,port:ci,protocol:Qe.replace(":",""),options:Object.freeze({disableWarnings:De})}),De||function vi(){function F(){const C=document.createElement("p"),D=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",F):F())}()}function Bn(F){const C=F.indexOf(":");return C<0?"":F.substr(0,C+1)}function vr(F){if(!F)return null;const C=Number(F);return isNaN(C)?null:C}class Ni{constructor(C,D){this.providerId=C,this.signInMethod=D}toJSON(){return nt("not implemented")}_getIdTokenResponse(C){return nt("not implemented")}_linkToIdToken(C,D){return nt("not implemented")}_getReauthenticationResolver(C){return nt("not implemented")}}function Ir(F,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:resetPassword",hn(F,C))})).apply(this,arguments)}function Rr(F,C){return ns.apply(this,arguments)}function ns(){return(ns=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function sr(){return(sr=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:update",hn(F,C))})).apply(this,arguments)}function or(){return(or=(0,t.Z)(function*(F,C){return Ln(F,"POST","/v1/accounts:signInWithPassword",hn(F,C))})).apply(this,arguments)}function Xi(F,C){return sn.apply(this,arguments)}function sn(){return(sn=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:sendOobCode",hn(F,C))})).apply(this,arguments)}function de(){return(de=(0,t.Z)(function*(F,C){return Xi(F,C)})).apply(this,arguments)}function _t(){return(_t=(0,t.Z)(function*(F,C){return Xi(F,C)})).apply(this,arguments)}function Ae(){return(Ae=(0,t.Z)(function*(F,C){return Xi(F,C)})).apply(this,arguments)}function Xt(){return(Xt=(0,t.Z)(function*(F,C){return Xi(F,C)})).apply(this,arguments)}function On(){return(On=(0,t.Z)(function*(F,C){return Ln(F,"POST","/v1/accounts:signInWithEmailLink",hn(F,C))})).apply(this,arguments)}function Bi(){return(Bi=(0,t.Z)(function*(F,C){return Ln(F,"POST","/v1/accounts:signInWithEmailLink",hn(F,C))})).apply(this,arguments)}class Gi extends Ni{constructor(C,D,H,De=null){super("password",H),this._email=C,this._password=D,this._tenantId=De}static _fromEmailAndPassword(C,D){return new Gi(C,D,"password")}static _fromEmailAndCode(C,D,H=null){return new Gi(C,D,"emailLink",H)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const D="string"==typeof C?JSON.parse(C):C;if(null!=D&&D.email&&null!=D&&D.password){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(C){var D=this;return(0,t.Z)(function*(){switch(D.signInMethod){case"password":return function Wi(F,C){return or.apply(this,arguments)}(C,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Sn(F,C){return On.apply(this,arguments)}(C,{email:D._email,oobCode:D._password});default:at(C,"internal-error")}})()}_linkToIdToken(C,D){var H=this;return(0,t.Z)(function*(){switch(H.signInMethod){case"password":return Rr(C,{idToken:D,returnSecureToken:!0,email:H._email,password:H._password});case"emailLink":return function li(F,C){return Bi.apply(this,arguments)}(C,{idToken:D,email:H._email,oobCode:H._password});default:at(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function Dr(F,C){return qs.apply(this,arguments)}function qs(){return(qs=(0,t.Z)(function*(F,C){return Ln(F,"POST","/v1/accounts:signInWithIdp",hn(F,C))})).apply(this,arguments)}class jr extends Ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const D=new jr(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(D.idToken=C.idToken),C.accessToken&&(D.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(D.nonce=C.nonce),C.pendingToken&&(D.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(D.accessToken=C.oauthToken,D.secret=C.oauthTokenSecret):at("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const D="string"==typeof C?JSON.parse(C):C,{providerId:H,signInMethod:De}=D,Qe=(0,ze._T)(D,["providerId","signInMethod"]);if(!H||!De)return null;const gn=new jr(H,De);return gn.idToken=Qe.idToken||void 0,gn.accessToken=Qe.accessToken||void 0,gn.secret=Qe.secret,gn.nonce=Qe.nonce,gn.pendingToken=Qe.pendingToken||null,gn}_getIdTokenResponse(C){return Dr(C,this.buildRequest())}_linkToIdToken(C,D){const H=this.buildRequest();return H.idToken=D,Dr(C,H)}_getReauthenticationResolver(C){const D=this.buildRequest();return D.autoCreate=!1,Dr(C,D)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),C.postBody=(0,Z.xO)(D)}return C}}function Zs(){return(Zs=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:sendVerificationCode",hn(F,C))})).apply(this,arguments)}function po(){return(po=(0,t.Z)(function*(F,C){return Ln(F,"POST","/v1/accounts:signInWithPhoneNumber",hn(F,C))})).apply(this,arguments)}function Ms(){return(Ms=(0,t.Z)(function*(F,C){const D=yield Ln(F,"POST","/v1/accounts:signInWithPhoneNumber",hn(F,C));if(D.temporaryProof)throw Mi(F,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const ec={USER_NOT_FOUND:"user-not-found"};function dr(){return(dr=(0,t.Z)(function*(F,C){return Ln(F,"POST","/v1/accounts:signInWithPhoneNumber",hn(F,Object.assign(Object.assign({},C),{operation:"REAUTH"})),ec)})).apply(this,arguments)}class Js extends Ni{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,D){return new Js({verificationId:C,verificationCode:D})}static _fromTokenResponse(C,D){return new Js({phoneNumber:C,temporaryProof:D})}_getIdTokenResponse(C){return function Eo(F,C){return po.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,D){return function Xs(F,C){return Ms.apply(this,arguments)}(C,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function Ts(F,C){return dr.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:D,verificationId:H,verificationCode:De}=this.params;return C&&D?{temporaryProof:C,phoneNumber:D}:{sessionInfo:H,code:De}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:D,verificationCode:H,phoneNumber:De,temporaryProof:Qe}=C;return H||D||De||Qe?new Js({verificationId:D,verificationCode:H,phoneNumber:De,temporaryProof:Qe}):null}}class Ur{constructor(C){var D,H,De,Qe,gn,ci;const Yi=(0,Z.zd)((0,Z.pd)(C)),hr=null!==(D=Yi.apiKey)&&void 0!==D?D:null,Wr=null!==(H=Yi.oobCode)&&void 0!==H?H:null,Ls=function Ns(F){switch(F){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(De=Yi.mode)&&void 0!==De?De:null);Ie(hr&&Wr&&Ls,"argument-error"),this.apiKey=hr,this.operation=Ls,this.code=Wr,this.continueUrl=null!==(Qe=Yi.continueUrl)&&void 0!==Qe?Qe:null,this.languageCode=null!==(gn=Yi.languageCode)&&void 0!==gn?gn:null,this.tenantId=null!==(ci=Yi.tenantId)&&void 0!==ci?ci:null}static parseLink(C){const D=function js(F){const C=(0,Z.zd)((0,Z.pd)(F)).link,D=C?(0,Z.zd)((0,Z.pd)(C)).deep_link_id:null,H=(0,Z.zd)((0,Z.pd)(F)).deep_link_id;return(H?(0,Z.zd)((0,Z.pd)(H)).link:null)||H||D||C||F}(C);try{return new Ur(D)}catch(H){return null}}}let Qs=(()=>{class F{constructor(){this.providerId=F.PROVIDER_ID}static credential(D,H){return Gi._fromEmailAndPassword(D,H)}static credentialWithLink(D,H){const De=Ur.parseLink(H);return Ie(De,"argument-error"),Gi._fromEmailAndCode(D,De.code,De.tenantId)}}return F.PROVIDER_ID="password",F.EMAIL_PASSWORD_SIGN_IN_METHOD="password",F.EMAIL_LINK_SIGN_IN_METHOD="emailLink",F})();class $s{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class yr extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class Xo extends yr{static credentialFromJSON(C){const D="string"==typeof C?JSON.parse(C):C;return Ie("providerId"in D&&"signInMethod"in D,"argument-error"),jr._fromParams(D)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return Ie(C.idToken||C.accessToken,"argument-error"),jr._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return Xo.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return Xo.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:D,oauthAccessToken:H,oauthTokenSecret:De,pendingToken:Qe,nonce:gn,providerId:ci}=C;if(!H&&!De&&!D&&!Qe||!ci)return null;try{return new Xo(ci)._credential({idToken:D,accessToken:H,nonce:gn,pendingToken:Qe})}catch(Yi){return null}}}let Co=(()=>{class F extends yr{constructor(){super("facebook.com")}static credential(D){return jr._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return F.credentialFromTaggedObject(D)}static credentialFromError(D){return F.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return F.credential(D.oauthAccessToken)}catch(H){return null}}}return F.FACEBOOK_SIGN_IN_METHOD="facebook.com",F.PROVIDER_ID="facebook.com",F})(),Po=(()=>{class F extends yr{constructor(){super("google.com"),this.addScope("profile")}static credential(D,H){return jr._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:H})}static credentialFromResult(D){return F.credentialFromTaggedObject(D)}static credentialFromError(D){return F.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:H,oauthAccessToken:De}=D;if(!H&&!De)return null;try{return F.credential(H,De)}catch(Qe){return null}}}return F.GOOGLE_SIGN_IN_METHOD="google.com",F.PROVIDER_ID="google.com",F})(),Dl=(()=>{class F extends yr{constructor(){super("github.com")}static credential(D){return jr._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return F.credentialFromTaggedObject(D)}static credentialFromError(D){return F.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return F.credential(D.oauthAccessToken)}catch(H){return null}}}return F.GITHUB_SIGN_IN_METHOD="github.com",F.PROVIDER_ID="github.com",F})();class so extends Ni{constructor(C,D){super(C,C),this.pendingToken=D}_getIdTokenResponse(C){return Dr(C,this.buildRequest())}_linkToIdToken(C,D){const H=this.buildRequest();return H.idToken=D,Dr(C,H)}_getReauthenticationResolver(C){const D=this.buildRequest();return D.autoCreate=!1,Dr(C,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const D="string"==typeof C?JSON.parse(C):C,{providerId:H,signInMethod:De,pendingToken:Qe}=D;return H&&De&&Qe&&H===De?new so(H,Qe):null}static _create(C,D){return new so(C,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mo extends $s{constructor(C){Ie(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return mo.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return mo.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const D=so.fromJSON(C);return Ie(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:D,providerId:H}=C;if(!D||!H)return null;try{return so._create(H,D)}catch(De){return null}}}let Ha=(()=>{class F extends yr{constructor(){super("twitter.com")}static credential(D,H){return jr._fromParams({providerId:F.PROVIDER_ID,signInMethod:F.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:H})}static credentialFromResult(D){return F.credentialFromTaggedObject(D)}static credentialFromError(D){return F.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:H,oauthTokenSecret:De}=D;if(!H||!De)return null;try{return F.credential(H,De)}catch(Qe){return null}}}return F.TWITTER_SIGN_IN_METHOD="twitter.com",F.PROVIDER_ID="twitter.com",F})();function Jo(F,C){return da.apply(this,arguments)}function da(){return(da=(0,t.Z)(function*(F,C){return Ln(F,"POST","/v1/accounts:signUp",hn(F,C))})).apply(this,arguments)}class eo{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,D,H,De=!1){return(0,t.Z)(function*(){const Qe=yield wi._fromIdTokenResponse(C,H,De),gn=ha(H);return new eo({user:Qe,providerId:gn,_tokenResponse:H,operationType:D})})()}static _forOperation(C,D,H){return(0,t.Z)(function*(){yield C._updateTokensIfNecessary(H,!0);const De=ha(H);return new eo({user:C,providerId:De,_tokenResponse:H,operationType:D})})()}}function ha(F){return F.providerId?F.providerId:"phoneNumber"in F?"phone":null}function Zr(F){return fa.apply(this,arguments)}function fa(){return(fa=(0,t.Z)(function*(F){var C;const D=oi(F);if(yield D._initializationPromise,null!==(C=D.currentUser)&&void 0!==C&&C.isAnonymous)return new eo({user:D.currentUser,providerId:null,operationType:"signIn"});const H=yield Jo(D,{returnSecureToken:!0}),De=yield eo._fromIdTokenResponse(D,"signIn",H,!0);return yield D._updateCurrentUser(De.user),De})).apply(this,arguments)}class Sl extends Z.ZR{constructor(C,D,H,De){var Qe;super(D.code,D.message),this.operationType=H,this.user=De,Object.setPrototypeOf(this,Sl.prototype),this.customData={appName:C.name,tenantId:null!==(Qe=C.tenantId)&&void 0!==Qe?Qe:void 0,_serverResponse:D.customData._serverResponse,operationType:H}}static _fromErrorAndOperation(C,D,H,De){return new Sl(C,D,H,De)}}function nl(F,C,D,H){return("reauthenticate"===C?D._getReauthenticationResolver(F):D._getIdTokenResponse(F)).catch(Qe=>{throw"auth/multi-factor-auth-required"===Qe.code?Sl._fromErrorAndOperation(F,Qe,C,H):Qe})}function oo(F){return new Set(F.map(({providerId:C})=>C).filter(C=>!!C))}function wa(F,C){return to.apply(this,arguments)}function to(){return to=(0,t.Z)(function*(F,C){const D=(0,Z.m9)(F);yield wo(!0,D,C);const{providerUserInfo:H}=yield function ke(F,C){return Be.apply(this,arguments)}(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[C]}),De=oo(H||[]);return D.providerData=D.providerData.filter(Qe=>De.has(Qe.providerId)),De.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D}),to.apply(this,arguments)}function pa(F,C){return gr.apply(this,arguments)}function gr(){return(gr=(0,t.Z)(function*(F,C,D=!1){const H=yield Pi(F,C._linkToIdToken(F.auth,yield F.getIdToken()),D);return eo._forOperation(F,"link",H)})).apply(this,arguments)}function wo(F,C,D){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,t.Z)(function*(F,C,D){yield Wt(C);const De=!1===F?"provider-already-linked":"no-such-provider";Ie(oo(C.providerData).has(D)===F,C.auth,De)})).apply(this,arguments)}function Cc(F,C){return rs.apply(this,arguments)}function rs(){return(rs=(0,t.Z)(function*(F,C,D=!1){const{auth:H}=F,De="reauthenticate";try{const Qe=yield Pi(F,nl(H,De,C,F),D);Ie(Qe.idToken,H,"internal-error");const gn=zn(Qe.idToken);Ie(gn,H,"internal-error");const{sub:ci}=gn;return Ie(F.uid===ci,H,"user-mismatch"),eo._forOperation(F,De,Qe)}catch(Qe){throw"auth/user-not-found"===(null==Qe?void 0:Qe.code)&&at(H,"user-mismatch"),Qe}})).apply(this,arguments)}function cl(F,C){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,t.Z)(function*(F,C,D=!1){const H="signIn",De=yield nl(F,H,C),Qe=yield eo._fromIdTokenResponse(F,H,De);return D||(yield F._updateCurrentUser(Qe.user)),Qe})).apply(this,arguments)}function Us(F,C){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,t.Z)(function*(F,C){return cl(oi(F),C)})).apply(this,arguments)}function ao(F,C){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,t.Z)(function*(F,C){const D=(0,Z.m9)(F);return yield wo(!1,D,C.providerId),pa(D,C)})).apply(this,arguments)}function To(F,C){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,t.Z)(function*(F,C){return Cc((0,Z.m9)(F),C)})).apply(this,arguments)}function lo(){return(lo=(0,t.Z)(function*(F,C){return Ln(F,"POST","/v1/accounts:signInWithCustomToken",hn(F,C))})).apply(this,arguments)}function tc(F,C){return zr.apply(this,arguments)}function zr(){return zr=(0,t.Z)(function*(F,C){const D=oi(F),H=yield function ds(F,C){return lo.apply(this,arguments)}(D,{token:C,returnSecureToken:!0}),De=yield eo._fromIdTokenResponse(D,"signIn",H);return yield D._updateCurrentUser(De.user),De}),zr.apply(this,arguments)}class Gs{constructor(C,D){this.factorId=C,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(C,D){return"phoneInfo"in D?il._fromServerResponse(C,D):at(C,"internal-error")}}class il extends Gs{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,D){return new il(D)}}function ul(F,C,D){var H;Ie((null===(H=D.url)||void 0===H?void 0:H.length)>0,F,"invalid-continue-uri"),Ie(typeof D.dynamicLinkDomain>"u"||D.dynamicLinkDomain.length>0,F,"invalid-dynamic-link-domain"),C.continueUrl=D.url,C.dynamicLinkDomain=D.dynamicLinkDomain,C.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(Ie(D.iOS.bundleId.length>0,F,"missing-ios-bundle-id"),C.iOSBundleId=D.iOS.bundleId),D.android&&(Ie(D.android.packageName.length>0,F,"missing-android-pkg-name"),C.androidInstallApp=D.android.installApp,C.androidMinimumVersionCode=D.android.minimumVersion,C.androidPackageName=D.android.packageName)}function nc(F,C,D){return x.apply(this,arguments)}function x(){return x=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F),De={requestType:"PASSWORD_RESET",email:C};D&&ul(H,De,D),yield function Ze(F,C){return _t.apply(this,arguments)}(H,De)}),x.apply(this,arguments)}function re(F,C,D){return M.apply(this,arguments)}function M(){return(M=(0,t.Z)(function*(F,C,D){yield Ir((0,Z.m9)(F),{oobCode:C,newPassword:D})})).apply(this,arguments)}function J(F,C){return He.apply(this,arguments)}function He(){return He=(0,t.Z)(function*(F,C){yield function yi(F,C){return sr.apply(this,arguments)}((0,Z.m9)(F),{oobCode:C})}),He.apply(this,arguments)}function En(F,C){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,t.Z)(function*(F,C){const D=(0,Z.m9)(F),H=yield Ir(D,{oobCode:C}),De=H.requestType;switch(Ie(De,D,"internal-error"),De){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(H.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(H.mfaInfo,D,"internal-error");default:Ie(H.email,D,"internal-error")}let Qe=null;return H.mfaInfo&&(Qe=Gs._fromServerResponse(oi(D),H.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===H.requestType?H.newEmail:H.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===H.requestType?H.email:H.newEmail)||null,multiFactorInfo:Qe},operation:De}})).apply(this,arguments)}function Ji(F,C){return _r.apply(this,arguments)}function _r(){return(_r=(0,t.Z)(function*(F,C){const{data:D}=yield En((0,Z.m9)(F),C);return D.email})).apply(this,arguments)}function Nr(F,C,D){return bs.apply(this,arguments)}function bs(){return(bs=(0,t.Z)(function*(F,C,D){const H=oi(F),De=yield Jo(H,{returnSecureToken:!0,email:C,password:D}),Qe=yield eo._fromIdTokenResponse(H,"signIn",De);return yield H._updateCurrentUser(Qe.user),Qe})).apply(this,arguments)}function ss(F,C,D){return Us((0,Z.m9)(F),Qs.credential(C,D))}function W(F,C,D){return K.apply(this,arguments)}function K(){return K=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F),De={requestType:"EMAIL_SIGNIN",email:C};Ie(D.handleCodeInApp,H,"argument-error"),D&&ul(H,De,D),yield function Gt(F,C){return Ae.apply(this,arguments)}(H,De)}),K.apply(this,arguments)}function Y(F,C){const D=Ur.parseLink(C);return"EMAIL_SIGNIN"===(null==D?void 0:D.operation)}function Oe(F,C,D){return _n.apply(this,arguments)}function _n(){return(_n=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F),De=Qs.credentialWithLink(C,D||Et());return Ie(De._tenantId===(H.tenantId||null),H,"tenant-id-mismatch"),Us(H,De)})).apply(this,arguments)}function br(){return(br=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:createAuthUri",hn(F,C))})).apply(this,arguments)}function hs(F,C){return Io.apply(this,arguments)}function Io(){return Io=(0,t.Z)(function*(F,C){const H={identifier:C,continueUri:it()?Et():"http://localhost"},{signinMethods:De}=yield function zi(F,C){return br.apply(this,arguments)}((0,Z.m9)(F),H);return De||[]}),Io.apply(this,arguments)}function ea(F,C){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,t.Z)(function*(F,C){const D=(0,Z.m9)(F),De={requestType:"VERIFY_EMAIL",idToken:yield F.getIdToken()};C&&ul(D.auth,De,C);const{email:Qe}=yield function Q(F,C){return de.apply(this,arguments)}(D.auth,De);Qe!==F.email&&(yield F.reload())}),Ia.apply(this,arguments)}function ga(F,C,D){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F),Qe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield F.getIdToken(),newEmail:C};D&&ul(H.auth,Qe,D);const{email:gn}=yield function bt(F,C){return Xt.apply(this,arguments)}(H.auth,Qe);gn!==F.email&&(yield F.reload())}),Uo.apply(this,arguments)}function cs(){return(cs=(0,t.Z)(function*(F,C){return qe(F,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Al(F,C){return ja.apply(this,arguments)}function ja(){return ja=(0,t.Z)(function*(F,{displayName:C,photoURL:D}){if(void 0===C&&void 0===D)return;const H=(0,Z.m9)(F),Qe={idToken:yield H.getIdToken(),displayName:C,photoUrl:D,returnSecureToken:!0},gn=yield Pi(H,function zs(F,C){return cs.apply(this,arguments)}(H.auth,Qe));H.displayName=gn.displayName||null,H.photoURL=gn.photoUrl||null;const ci=H.providerData.find(({providerId:Yi})=>"password"===Yi);ci&&(ci.displayName=H.displayName,ci.photoURL=H.photoURL),yield H._updateTokensIfNecessary(gn)}),ja.apply(this,arguments)}function Vo(F,C){return ma((0,Z.m9)(F),C,null)}function ic(F,C){return ma((0,Z.m9)(F),null,C)}function ma(F,C,D){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,t.Z)(function*(F,C,D){const{auth:H}=F,Qe={idToken:yield F.getIdToken(),returnSecureToken:!0};C&&(Qe.email=C),D&&(Qe.password=D);const gn=yield Pi(F,Rr(H,Qe));yield F._updateTokensIfNecessary(gn,!0)})).apply(this,arguments)}class Ga{constructor(C,D,H={}){this.isNewUser=C,this.providerId=D,this.profile=H}}class _a extends Ga{constructor(C,D,H,De){super(C,D,H),this.username=De}}class Da extends Ga{constructor(C,D){super(C,"facebook.com",D)}}class rc extends _a{constructor(C,D){super(C,"github.com",D,"string"==typeof(null==D?void 0:D.login)?null==D?void 0:D.login:null)}}class Kc extends Ga{constructor(C,D){super(C,"google.com",D)}}class fs extends _a{constructor(C,D,H){super(C,"twitter.com",D,H)}}function Ho(F){const{user:C,_tokenResponse:D}=F;return C.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function Bl(F){var C,D;if(!F)return null;const{providerId:H}=F,De=F.rawUserInfo?JSON.parse(F.rawUserInfo):{},Qe=F.isNewUser||"identitytoolkit#SignupNewUserResponse"===F.kind;if(!H&&null!=F&&F.idToken){const gn=null===(D=null===(C=zn(F.idToken))||void 0===C?void 0:C.firebase)||void 0===D?void 0:D.sign_in_provider;if(gn)return new Ga(Qe,"anonymous"!==gn&&"custom"!==gn?gn:null)}if(!H)return null;switch(H){case"facebook.com":return new Da(Qe,De);case"github.com":return new rc(Qe,De);case"google.com":return new Kc(Qe,De);case"twitter.com":return new fs(Qe,De,F.screenName||null);case"custom":case"anonymous":return new Ga(Qe,null);default:return new Ga(Qe,H,De)}}(D)}function qc(F,C,D,H){return(0,Z.m9)(F).onAuthStateChanged(C,D,H)}class us{constructor(C,D,H){this.type=C,this.credential=D,this.auth=H}static _fromIdtoken(C,D){return new us("enroll",C,D)}static _fromMfaPendingCredential(C){return new us("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var D,H;if(null!=C&&C.multiFactorSession){if(null!==(D=C.multiFactorSession)&&void 0!==D&&D.pendingCredential)return us._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null!==(H=C.multiFactorSession)&&void 0!==H&&H.idToken)return us._fromIdtoken(C.multiFactorSession.idToken)}return null}}class di{constructor(C,D,H){this.session=C,this.hints=D,this.signInResolver=H}static _fromError(C,D){const H=oi(C),De=D.customData._serverResponse,Qe=(De.mfaInfo||[]).map(ci=>Gs._fromServerResponse(H,ci));Ie(De.mfaPendingCredential,H,"internal-error");const gn=us._fromMfaPendingCredential(De.mfaPendingCredential);return new di(gn,Qe,function(){var ci=(0,t.Z)(function*(Yi){const hr=yield Yi._process(H,gn);delete De.mfaInfo,delete De.mfaPendingCredential;const Wr=Object.assign(Object.assign({},De),{idToken:hr.idToken,refreshToken:hr.refreshToken});switch(D.operationType){case"signIn":const Ls=yield eo._fromIdTokenResponse(H,D.operationType,Wr);return yield H._updateCurrentUser(Ls.user),Ls;case"reauthenticate":return Ie(D.user,H,"internal-error"),eo._forOperation(D.user,D.operationType,Wr);default:at(H,"internal-error")}});return function(Yi){return ci.apply(this,arguments)}}())}resolveSignIn(C){var D=this;return(0,t.Z)(function*(){return D.signInResolver(C)})()}}function no(F,C){var D;const H=(0,Z.m9)(F),De=C;return Ie(C.customData.operationType,H,"argument-error"),Ie(null===(D=De.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,H,"argument-error"),di._fromError(H,De)}class tr{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(H=>Gs._fromServerResponse(C.auth,H)))})}static _fromUser(C){return new tr(C)}getSession(){var C=this;return(0,t.Z)(function*(){return us._fromIdtoken(yield C.user.getIdToken(),C.user.auth)})()}enroll(C,D){var H=this;return(0,t.Z)(function*(){const De=C,Qe=yield H.getSession(),gn=yield Pi(H.user,De._process(H.user.auth,Qe,D));return yield H.user._updateTokensIfNecessary(gn),H.user.reload()})()}unenroll(C){var D=this;return(0,t.Z)(function*(){const H="string"==typeof C?C:C.uid,De=yield D.user.getIdToken();try{const Qe=yield Pi(D.user,function Qi(F,C){return qe(F,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(F,C))}(D.user.auth,{idToken:De,mfaEnrollmentId:H}));D.enrolledFactors=D.enrolledFactors.filter(({uid:gn})=>gn!==H),yield D.user._updateTokensIfNecessary(Qe),yield D.user.reload()}catch(Qe){throw Qe}})()}}const Ml=new WeakMap;function Fi(F){const C=(0,Z.m9)(F);return Ml.has(C)||Ml.set(C,tr._fromUser(C)),Ml.get(C)}const An="__sak";class B{constructor(C,D){this.storageRetriever=C,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(An,"1"),this.storage.removeItem(An),Promise.resolve(!0)):Promise.resolve(!1)}catch(C){return Promise.resolve(!1)}}_set(C,D){return this.storage.setItem(C,JSON.stringify(D)),Promise.resolve()}_get(C){const D=this.storage.getItem(C);return Promise.resolve(D?JSON.parse(D):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nn=(()=>{class F extends B{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(D,H)=>this.onStorageEvent(D,H),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ce(){const F=(0,Z.z$)();return ge(F)||jt(F)}()&&function We(){try{return!(!window||window===window.top)}catch(F){return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(D){for(const H of Object.keys(this.listeners)){const De=this.storage.getItem(H),Qe=this.localCache[H];De!==Qe&&D(H,Qe,De)}}onStorageEvent(D,H=!1){if(!D.key)return void this.forAllChangedKeys((ci,Yi,hr)=>{this.notifyListeners(ci,hr)});const De=D.key;if(H?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ci=this.storage.getItem(De);if(D.newValue!==ci)null!==D.newValue?this.storage.setItem(De,D.newValue):this.storage.removeItem(De);else if(this.localCache[De]===D.newValue&&!H)return}const Qe=()=>{const ci=this.storage.getItem(De);!H&&this.localCache[De]===ci||this.notifyListeners(De,ci)},gn=this.storage.getItem(De);!function ft(){return(0,Z.w1)()&&10===document.documentMode}()||gn===D.newValue||D.newValue===D.oldValue?Qe():setTimeout(Qe,10)}notifyListeners(D,H){this.localCache[D]=H;const De=this.listeners[D];if(De)for(const Qe of Array.from(De))Qe(H&&JSON.parse(H))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,H,De)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:H,newValue:De}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,H){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(H)}_removeListener(D,H){this.listeners[D]&&(this.listeners[D].delete(H),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,H){var De=()=>super._set,Qe=this;return(0,t.Z)(function*(){yield De().call(Qe,D,H),Qe.localCache[D]=JSON.stringify(H)})()}_get(D){var H=()=>super._get,De=this;return(0,t.Z)(function*(){const Qe=yield H().call(De,D);return De.localCache[D]=JSON.stringify(Qe),Qe})()}_remove(D){var H=()=>super._remove,De=this;return(0,t.Z)(function*(){yield H().call(De,D),delete De.localCache[D]})()}}return F.type="LOCAL",F})(),Hi=(()=>{class F extends B{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(D,H){}_removeListener(D,H){}}return F.type="SESSION",F})();let Fr=(()=>{class F{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const H=this.receivers.find(Qe=>Qe.isListeningto(D));if(H)return H;const De=new F(D);return this.receivers.push(De),De}isListeningto(D){return this.eventTarget===D}handleEvent(D){var H=this;return(0,t.Z)(function*(){const De=D,{eventId:Qe,eventType:gn,data:ci}=De.data,Yi=H.handlersMap[gn];if(null==Yi||!Yi.size)return;De.ports[0].postMessage({status:"ack",eventId:Qe,eventType:gn});const hr=Array.from(Yi).map(function(){var Ls=(0,t.Z)(function*(yl){return yl(De.origin,ci)});return function(yl){return Ls.apply(this,arguments)}}()),Wr=yield function kr(F){return Promise.all(F.map(function(){var C=(0,t.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(H){return{fulfilled:!1,reason:H}}});return function(D){return C.apply(this,arguments)}}()))}(hr);De.ports[0].postMessage({status:"done",eventId:Qe,eventType:gn,response:Wr})})()}_subscribe(D,H){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(H)}_unsubscribe(D,H){this.handlersMap[D]&&H&&this.handlersMap[D].delete(H),(!H||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return F.receivers=[],F})();function cr(F="",C=10){let D="";for(let H=0;H<C;H++)D+=Math.floor(10*Math.random());return F+D}class ar{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,D,H=50){var De=this;return(0,t.Z)(function*(){const Qe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Qe)throw new Error("connection_unavailable");let gn,ci;return new Promise((Yi,hr)=>{const Wr=cr("",20);Qe.port1.start();const Ls=setTimeout(()=>{hr(new Error("unsupported_event"))},H);ci={messageChannel:Qe,onMessage(yl){const bl=yl;if(bl.data.eventId===Wr)switch(bl.data.status){case"ack":clearTimeout(Ls),gn=setTimeout(()=>{hr(new Error("timeout"))},3e3);break;case"done":clearTimeout(gn),Yi(bl.data.response);break;default:clearTimeout(Ls),clearTimeout(gn),hr(new Error("invalid_response"))}}},De.handlers.add(ci),Qe.port1.addEventListener("message",ci.onMessage),De.target.postMessage({eventType:C,eventId:Wr,data:D},[Qe.port2])}).finally(()=>{ci&&De.removeMessageHandler(ci)})})()}}function Er(){return window}function Hr(){return typeof Er().WorkerGlobalScope<"u"&&"function"==typeof Er().importScripts}function Lr(){return(Lr=(0,t.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(F){return null}})).apply(this,arguments)}const Ar="firebaseLocalStorageDb",oc=1,os="firebaseLocalStorage",ki="fbase_key";class Aa{constructor(C){this.request=C}toPromise(){return new Promise((C,D)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function Hl(F,C){return F.transaction([os],C?"readwrite":"readonly").objectStore(os)}function co(){const F=indexedDB.open(Ar,oc);return new Promise((C,D)=>{F.addEventListener("error",()=>{D(F.error)}),F.addEventListener("upgradeneeded",()=>{const H=F.result;try{H.createObjectStore(os,{keyPath:ki})}catch(De){D(De)}}),F.addEventListener("success",(0,t.Z)(function*(){const H=F.result;H.objectStoreNames.contains(os)?C(H):(H.close(),yield function Ma(){const F=indexedDB.deleteDatabase(Ar);return new Aa(F).toPromise()}(),C(yield co()))}))})}function ac(F,C,D){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,t.Z)(function*(F,C,D){const H=Hl(F,!0).put({[ki]:C,value:D});return new Aa(H).toPromise()})).apply(this,arguments)}function xa(){return(xa=(0,t.Z)(function*(F,C){const D=Hl(F,!1).get(C),H=yield new Aa(D).toPromise();return void 0===H?null:H.value})).apply(this,arguments)}function Xc(F,C){const D=Hl(F,!0).delete(C);return new Aa(D).toPromise()}const jo=(()=>{class F{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,t.Z)(function*(){return D.db||(D.db=yield co()),D.db})()}_withRetries(D){var H=this;return(0,t.Z)(function*(){let De=0;for(;;)try{const Qe=yield H._openDb();return yield D(Qe)}catch(Qe){if(De++>3)throw Qe;H.db&&(H.db.close(),H.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,t.Z)(function*(){return Hr()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,t.Z)(function*(){D.receiver=Fr._getInstance(function Is(){return Hr()?self:null}()),D.receiver._subscribe("keyChanged",function(){var H=(0,t.Z)(function*(De,Qe){return{keyProcessed:(yield D._poll()).includes(Qe.key)}});return function(De,Qe){return H.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var H=(0,t.Z)(function*(De,Qe){return["keyChanged"]});return function(De,Qe){return H.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,t.Z)(function*(){var H,De;if(D.activeServiceWorker=yield function va(){return Lr.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new ar(D.activeServiceWorker);const Qe=yield D.sender._send("ping",{},800);Qe&&null!==(H=Qe[0])&&void 0!==H&&H.fulfilled&&null!==(De=Qe[0])&&void 0!==De&&De.value.includes("keyChanged")&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var H=this;return(0,t.Z)(function*(){if(H.sender&&H.activeServiceWorker&&function nr(){var F;return(null===(F=null==navigator?void 0:navigator.serviceWorker)||void 0===F?void 0:F.controller)||null}()===H.activeServiceWorker)try{yield H.sender._send("keyChanged",{key:D},H.serviceWorkerReceiverAvailable?800:50)}catch(De){}})()}_isAvailable(){return(0,t.Z)(function*(){try{if(!indexedDB)return!1;const D=yield co();return yield ac(D,An,"1"),yield Xc(D,An),!0}catch(D){}return!1})()}_withPendingWrite(D){var H=this;return(0,t.Z)(function*(){H.pendingWrites++;try{yield D()}finally{H.pendingWrites--}})()}_set(D,H){var De=this;return(0,t.Z)(function*(){return De._withPendingWrite((0,t.Z)(function*(){return yield De._withRetries(Qe=>ac(Qe,D,H)),De.localCache[D]=H,De.notifyServiceWorker(D)}))})()}_get(D){var H=this;return(0,t.Z)(function*(){const De=yield H._withRetries(Qe=>function lc(F,C){return xa.apply(this,arguments)}(Qe,D));return H.localCache[D]=De,De})()}_remove(D){var H=this;return(0,t.Z)(function*(){return H._withPendingWrite((0,t.Z)(function*(){return yield H._withRetries(De=>Xc(De,D)),delete H.localCache[D],H.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,t.Z)(function*(){const H=yield D._withRetries(gn=>{const ci=Hl(gn,!1).getAll();return new Aa(ci).toPromise()});if(!H)return[];if(0!==D.pendingWrites)return[];const De=[],Qe=new Set;for(const{fbase_key:gn,value:ci}of H)Qe.add(gn),JSON.stringify(D.localCache[gn])!==JSON.stringify(ci)&&(D.notifyListeners(gn,ci),De.push(gn));for(const gn of Object.keys(D.localCache))D.localCache[gn]&&!Qe.has(gn)&&(D.notifyListeners(gn,null),De.push(gn));return De})()}notifyListeners(D,H){this.localCache[D]=H;const De=this.listeners[D];if(De)for(const Qe of Array.from(De))Qe(H)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,t.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,H){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(H)}_removeListener(D,H){this.listeners[D]&&(this.listeners[D].delete(H),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return F.type="LOCAL",F})();function xl(){return(xl=(0,t.Z)(function*(F){return(yield qe(F,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nc(F){return new Promise((C,D)=>{const H=document.createElement("script");H.setAttribute("src",F),H.onload=C,H.onerror=De=>{const Qe=Ve("internal-error");Qe.customData=De,D(Qe)},H.type="text/javascript",H.charset="UTF-8",function rl(){var F,C;return null!==(C=null===(F=document.getElementsByTagName("head"))||void 0===F?void 0:F[0])&&void 0!==C?C:document}().appendChild(H)})}function Ya(F){return`__${F}${Math.floor(1e6*Math.random())}`}const Ka=1e12;class Fs{constructor(C){this.auth=C,this.counter=Ka,this._widgets=new Map}render(C,D){const H=this.counter;return this._widgets.set(H,new fu(C,this.auth.name,D||{})),this.counter++,H}reset(C){var D;const H=C||Ka;null===(D=this._widgets.get(H))||void 0===D||D.delete(),this._widgets.delete(H)}getResponse(C){var D;return(null===(D=this._widgets.get(C||Ka))||void 0===D?void 0:D.getResponse())||""}execute(C){var D=this;return(0,t.Z)(function*(){var H;return null===(H=D._widgets.get(C||Ka))||void 0===H||H.execute(),""})()}}class fu{constructor(C,D,H){this.params=H,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const De="string"==typeof C?document.getElementById(C):C;Ie(De,"argument-error",{appName:D}),this.container=De,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qa(F){const C=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<F;H++)C.push(D.charAt(Math.floor(Math.random()*D.length)));return C.join("")}(50);const{callback:C,"expired-callback":D}=this.params;if(C)try{C(this.responseToken)}catch(H){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch(H){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uc=Ya("rcb"),Ra=new rt(3e4,6e4);class dc{constructor(){var C;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(C=Er().grecaptcha)||void 0===C||!C.render)}load(C,D=""){return Ie(function Za(F){return F.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(F)}(D),C,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(Er().grecaptcha):new Promise((H,De)=>{const Qe=Er().setTimeout(()=>{De(Ve(C,"network-request-failed"))},Ra.get());Er()[uc]=()=>{Er().clearTimeout(Qe),delete Er()[uc];const ci=Er().grecaptcha;if(!ci)return void De(Ve(C,"internal-error"));const Yi=ci.render;ci.render=(hr,Wr)=>{const Ls=Yi(hr,Wr);return this.counter++,Ls},this.hostLanguage=D,H(ci)},Nc(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:uc,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(Qe),De(Ve(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){var D;return!(null===(D=Er().grecaptcha)||void 0===D||!D.render)&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kc{load(C){return(0,t.Z)(function*(){return new Fs(C)})()}clearedOneInstance(){}}const Na="recaptcha",Go={theme:"light",type:"image"};class Pa{constructor(C,D=Object.assign({},Go),H){this.parameters=D,this.type=Na,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=oi(H),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const De="string"==typeof C?document.getElementById(C):C;Ie(De,this.auth,"argument-error"),this.container=De,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kc:new dc,this.validateStartingState()}verify(){var C=this;return(0,t.Z)(function*(){C.assertNotDestroyed();const D=yield C.render(),H=C.getAssertedRecaptcha();return H.getResponse(D)||new Promise(Qe=>{const gn=ci=>{ci&&(C.tokenChangeListeners.delete(gn),Qe(ci))};C.tokenChangeListeners.add(gn),C.isInvisible&&H.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return D=>{if(this.tokenChangeListeners.forEach(H=>H(D)),"function"==typeof C)C(D);else if("string"==typeof C){const H=Er()[C];"function"==typeof H&&H(D)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,t.Z)(function*(){if(yield C.init(),!C.widgetId){let D=C.container;if(!C.isInvisible){const H=document.createElement("div");D.appendChild(H),D=H}C.widgetId=C.getAssertedRecaptcha().render(D,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,t.Z)(function*(){Ie(it()&&!Hr(),C.auth,"internal-error"),yield function pl(){let F=null;return new Promise(C=>{"complete"!==document.readyState?(F=()=>C(),window.addEventListener("load",F)):C()}).catch(C=>{throw F&&window.removeEventListener("load",F),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const D=yield function Mn(F){return xl.apply(this,arguments)}(C.auth);Ie(D,C.auth,"internal-error"),C.parameters.sitekey=D})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hc{constructor(C,D){this.verificationId=C,this.onConfirmation=D}confirm(C){const D=Js._fromVerification(this.verificationId,C);return this.onConfirmation(D)}}function Tc(F,C,D){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,t.Z)(function*(F,C,D){const H=oi(F),De=yield ta(H,C,(0,Z.m9)(D));return new hc(De,Qe=>Us(H,Qe))})).apply(this,arguments)}function Ic(F,C,D){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F);yield wo(!1,H,"phone");const De=yield ta(H.auth,C,(0,Z.m9)(D));return new hc(De,Qe=>ao(H,Qe))})).apply(this,arguments)}function Fo(F,C,D){return fc.apply(this,arguments)}function fc(){return(fc=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F),De=yield ta(H.auth,C,(0,Z.m9)(D));return new hc(De,Qe=>To(H,Qe))})).apply(this,arguments)}function ta(F,C,D){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,t.Z)(function*(F,C,D){var H;const De=yield D.verify();try{let Qe;if(Ie("string"==typeof De,F,"argument-error"),Ie(D.type===Na,F,"argument-error"),Qe="string"==typeof C?{phoneNumber:C}:C,"session"in Qe){const gn=Qe.session;if("phoneNumber"in Qe)return Ie("enroll"===gn.type,F,"internal-error"),(yield function dl(F,C){return qe(F,"POST","/v2/accounts/mfaEnrollment:start",hn(F,C))}(F,{idToken:gn.credential,phoneEnrollmentInfo:{phoneNumber:Qe.phoneNumber,recaptchaToken:De}})).phoneSessionInfo.sessionInfo;{Ie("signin"===gn.type,F,"internal-error");const ci=(null===(H=Qe.multiFactorHint)||void 0===H?void 0:H.uid)||Qe.multiFactorUid;return Ie(ci,F,"missing-multi-factor-info"),(yield function hl(F,C){return qe(F,"POST","/v2/accounts/mfaSignIn:start",hn(F,C))}(F,{mfaPendingCredential:gn.credential,mfaEnrollmentId:ci,phoneSignInInfo:{recaptchaToken:De}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:gn}=yield function Rs(F,C){return Zs.apply(this,arguments)}(F,{phoneNumber:Qe.phoneNumber,recaptchaToken:De});return gn}}finally{D._reset()}}),Cs.apply(this,arguments)}function Fc(F,C){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,t.Z)(function*(F,C){yield pa((0,Z.m9)(F),C)})).apply(this,arguments)}let pu=(()=>{class F{constructor(D){this.providerId=F.PROVIDER_ID,this.auth=oi(D)}verifyPhoneNumber(D,H){return ta(this.auth,D,(0,Z.m9)(H))}static credential(D,H){return Js._fromVerification(D,H)}static credentialFromResult(D){return F.credentialFromTaggedObject(D)}static credentialFromError(D){return F.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:H,temporaryProof:De}=D;return H&&De?Js._fromTokenResponse(H,De):null}}return F.PROVIDER_ID="phone",F.PHONE_SIGN_IN_METHOD="phone",F})();function gl(F,C){return C?At(C):(Ie(F._popupRedirectResolver,F,"argument-error"),F._popupRedirectResolver)}class ws extends Ni{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return Dr(C,this._buildIdpRequest())}_linkToIdToken(C,D){return Dr(C,this._buildIdpRequest(D))}_getReauthenticationResolver(C){return Dr(C,this._buildIdpRequest())}_buildIdpRequest(C){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(D.idToken=C),D}}function Gl(F){return cl(F.auth,new ws(F),F.bypassAuthState)}function na(F){const{auth:C,user:D}=F;return Ie(D,C,"internal-error"),Cc(D,new ws(F),F.bypassAuthState)}function ka(F){return Es.apply(this,arguments)}function Es(){return(Es=(0,t.Z)(function*(F){const{auth:C,user:D}=F;return Ie(D,C,"internal-error"),pa(D,new ws(F),F.bypassAuthState)})).apply(this,arguments)}class Do{constructor(C,D,H,De,Qe=!1){this.auth=C,this.resolver=H,this.user=De,this.bypassAuthState=Qe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var C=this;return new Promise(function(){var D=(0,t.Z)(function*(H,De){C.pendingPromise={resolve:H,reject:De};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(Qe){C.reject(Qe)}});return function(H,De){return D.apply(this,arguments)}}())}onAuthEvent(C){var D=this;return(0,t.Z)(function*(){const{urlResponse:H,sessionId:De,postBody:Qe,tenantId:gn,error:ci,type:Yi}=C;if(ci)return void D.reject(ci);const hr={auth:D.auth,requestUri:H,sessionId:De,tenantId:gn||void 0,postBody:Qe||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(Yi)(hr))}catch(Wr){D.reject(Wr)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return Gl;case"linkViaPopup":case"linkViaRedirect":return ka;case"reauthViaPopup":case"reauthViaRedirect":return na;default:at(this.auth,"internal-error")}}resolve(C){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rl=new rt(2e3,1e4);function ia(F,C,D){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,t.Z)(function*(F,C,D){const H=oi(F);Ut(F,C,$s);const De=gl(H,D);return new ne(H,"signInViaPopup",C,De).executeNotNull()})).apply(this,arguments)}function R(F,C,D){return k.apply(this,arguments)}function k(){return(k=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F);Ut(H.auth,C,$s);const De=gl(H.auth,D);return new ne(H.auth,"reauthViaPopup",C,De,H).executeNotNull()})).apply(this,arguments)}function S(F,C,D){return V.apply(this,arguments)}function V(){return(V=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F);Ut(H.auth,C,$s);const De=gl(H.auth,D);return new ne(H.auth,"linkViaPopup",C,De,H).executeNotNull()})).apply(this,arguments)}let ne=(()=>{class F extends Do{constructor(D,H,De,Qe,gn){super(D,H,Qe,gn),this.provider=De,this.authWindow=null,this.pollId=null,F.currentPopupAction&&F.currentPopupAction.cancel(),F.currentPopupAction=this}executeNotNull(){var D=this;return(0,t.Z)(function*(){const H=yield D.execute();return Ie(H,D.auth,"internal-error"),H})()}onExecution(){var D=this;return(0,t.Z)(function*(){St(1===D.filter.length,"Popup operations only handle one event");const H=cr();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],H),D.authWindow.associatedEvent=H,D.resolver._originValidation(D.auth).catch(De=>{D.reject(De)}),D.resolver._isIframeWebStorageSupported(D.auth,De=>{De||D.reject(Ve(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,F.currentPopupAction=null}pollUserCancellation(){const D=()=>{var H,De;this.pollId=null!==(De=null===(H=this.authWindow)||void 0===H?void 0:H.window)&&void 0!==De&&De.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,Rl.get())};D()}}return F.currentPopupAction=null,F})();const Se="pendingRedirect",Re=new Map;class Ht extends Do{constructor(C,D,H=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,H),this.eventId=null}execute(){var C=()=>super.execute,D=this;return(0,t.Z)(function*(){let H=Re.get(D.auth._key());if(!H){try{const Qe=(yield function kn(F,C){return Ei.apply(this,arguments)}(D.resolver,D.auth))?yield C().call(D):null;H=()=>Promise.resolve(Qe)}catch(De){H=()=>Promise.reject(De)}Re.set(D.auth._key(),H)}return D.bypassAuthState||Re.set(D.auth._key(),()=>Promise.resolve(null)),H()})()}onAuthEvent(C){var D=()=>super.onAuthEvent,H=this;return(0,t.Z)(function*(){if("signInViaRedirect"===C.type)return D().call(H,C);if("unknown"!==C.type){if(C.eventId){const De=yield H.auth._redirectUserForId(C.eventId);if(De)return H.user=De,D().call(H,C);H.resolve(null)}}else H.resolve(null)})()}onExecution(){return(0,t.Z)(function*(){})()}cleanUp(){}}function Ei(){return(Ei=(0,t.Z)(function*(F,C){const D=Lo(C),H=uo(F);if(!(yield H._isAvailable()))return!1;const De="true"===(yield H._get(D));return yield H._remove(D),De})).apply(this,arguments)}function qi(F,C){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,t.Z)(function*(F,C){return uo(F)._set(Lo(C),"true")})).apply(this,arguments)}function Gr(){Re.clear()}function Vs(F,C){Re.set(F._key(),C)}function uo(F){return At(F._redirectPersistence)}function Lo(F){return wt(Se,F.config.apiKey,F.name)}function mr(F,C,D){return function Pr(F,C,D){return So.apply(this,arguments)}(F,C,D)}function So(){return(So=(0,t.Z)(function*(F,C,D){const H=oi(F);Ut(F,C,$s),yield H._initializationPromise;const De=gl(H,D);return yield qi(De,H),De._openRedirect(H,C,"signInViaRedirect")})).apply(this,arguments)}function zl(F,C,D){return function Hs(F,C,D){return Dc.apply(this,arguments)}(F,C,D)}function Dc(){return(Dc=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F);Ut(H.auth,C,$s),yield H.auth._initializationPromise;const De=gl(H.auth,D);yield qi(De,H.auth);const Qe=yield Lc(H);return De._openRedirect(H.auth,C,"reauthViaRedirect",Qe)})).apply(this,arguments)}function gu(F,C,D){return function pc(F,C,D){return Nl.apply(this,arguments)}(F,C,D)}function Nl(){return(Nl=(0,t.Z)(function*(F,C,D){const H=(0,Z.m9)(F);Ut(H.auth,C,$s),yield H.auth._initializationPromise;const De=gl(H.auth,D);yield wo(!1,H,C.providerId),yield qi(De,H.auth);const Qe=yield Lc(H);return De._openRedirect(H.auth,C,"linkViaRedirect",Qe)})).apply(this,arguments)}function ku(F,C){return bd.apply(this,arguments)}function bd(){return(bd=(0,t.Z)(function*(F,C){return yield oi(F)._initializationPromise,gc(F,C,!1)})).apply(this,arguments)}function gc(F,C){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,t.Z)(function*(F,C,D=!1){const H=oi(F),De=gl(H,C),gn=yield new Ht(H,De,D).execute();return gn&&!D&&(delete gn.user._redirectEventId,yield H._persistUserIfCurrent(gn.user),yield H._setRedirectUser(null,C)),gn})).apply(this,arguments)}function Lc(F){return rd.apply(this,arguments)}function rd(){return(rd=(0,t.Z)(function*(F){const C=cr(`${F.uid}:::`);return F._redirectEventId=C,yield F.auth._setRedirectUser(F),yield F.auth._persistUserIfCurrent(F),C})).apply(this,arguments)}class mu{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let D=!1;return this.consumers.forEach(H=>{this.isEventForConsumer(C,H)&&(D=!0,this.sendToConsumer(C,H),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function Hd(F){switch(F.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $c(F);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=C,D=!0)),D}sendToConsumer(C,D){var H;if(C.error&&!$c(C)){const De=(null===(H=C.error.code)||void 0===H?void 0:H.split("auth/")[1])||"internal-error";D.onError(Ve(this.auth,De))}else D.onAuthEvent(C)}isEventForConsumer(C,D){const H=null===D.eventId||!!C.eventId&&C.eventId===D.eventId;return D.filter.includes(C.type)&&H}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_u(C))}saveEventToCache(C){this.cachedEventUids.add(_u(C)),this.lastProcessedEventTime=Date.now()}}function _u(F){return[F.type,F.eventId,F.sessionId,F.tenantId].filter(C=>C).join("-")}function $c({type:F,error:C}){return"unknown"===F&&"auth/no-auth-event"===(null==C?void 0:C.code)}function xs(F){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,t.Z)(function*(F,C={}){return qe(F,"GET","/v1/projects",C)})).apply(this,arguments)}const io=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ds=/^https?/;function ml(){return(ml=(0,t.Z)(function*(F){if(F.config.emulator)return;const{authorizedDomains:C}=yield xs(F);for(const D of C)try{if(ra(D))return}catch(H){}at(F,"unauthorized-domain")})).apply(this,arguments)}function ra(F){const C=Et(),{protocol:D,hostname:H}=new URL(C);if(F.startsWith("chrome-extension://")){const gn=new URL(F);return""===gn.hostname&&""===H?"chrome-extension:"===D&&F.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===D&&gn.hostname===H}if(!Ds.test(D))return!1;if(io.test(F))return H===F;const De=F.replace(/\./g,"\\.");return new RegExp("^(.+\\."+De+"|"+De+")$","i").test(H)}const Ao=new rt(3e4,6e4);function sd(){const F=Er().___jsl;if(null!=F&&F.H)for(const C of Object.keys(F.H))if(F.H[C].r=F.H[C].r||[],F.H[C].L=F.H[C].L||[],F.H[C].r=[...F.H[C].L],F.CP)for(let D=0;D<F.CP.length;D++)F.CP[D]=null}let Fu=null;const Sc=new rt(5e3,15e3),$u="__/auth/iframe",sa="emulator/auth/iframe",Ed={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jd(F){const C=F.config;Ie(C.authDomain,F,"auth-domain-config-required");const D=C.emulator?Yt(C,sa):`https://${F.config.authDomain}/${$u}`,H={apiKey:C.apiKey,appName:F.name,v:ie.SDK_VERSION},De=Xh.get(F.config.apiHost);De&&(H.eid=De);const Qe=F._getFrameworks();return Qe.length&&(H.fw=Qe.join(",")),`${D}?${(0,Z.xO)(H).slice(1)}`}function Gd(){return Gd=(0,t.Z)(function*(F){const C=yield function Lu(F){return Fu=Fu||function as(F){return new Promise((C,D)=>{var H,De,Qe;function gn(){sd(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{sd(),D(Ve(F,"network-request-failed"))},timeout:Ao.get()})}if(null!==(De=null===(H=Er().gapi)||void 0===H?void 0:H.iframes)&&void 0!==De&&De.Iframe)C(gapi.iframes.getContext());else{if(null===(Qe=Er().gapi)||void 0===Qe||!Qe.load){const ci=Ya("iframefcb");return Er()[ci]=()=>{gapi.load?gn():D(Ve(F,"network-request-failed"))},Nc(`https://apis.google.com/js/api.js?onload=${ci}`).catch(Yi=>D(Yi))}gn()}}).catch(C=>{throw Fu=null,C})}(F),Fu}(F),D=Er().gapi;return Ie(D,F,"internal-error"),C.open({where:document.body,url:jd(F),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ed,dontclear:!0},H=>new Promise(function(){var De=(0,t.Z)(function*(Qe,gn){yield H.restyle({setHideOnLeave:!1});const ci=Ve(F,"network-request-failed"),Yi=Er().setTimeout(()=>{gn(ci)},Sc.get());function hr(){Er().clearTimeout(Yi),Qe(H)}H.ping(hr).then(hr,()=>{gn(ci)})});return function(Qe,gn){return De.apply(this,arguments)}}()))}),Gd.apply(this,arguments)}const Ac={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bu=500,Bc=600,tu="_blank",nu="http://localhost";class mc{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(C){}}}const vu="__/auth/handler",zo="emulator/auth/handler";function Ss(F,C,D,H,De,Qe){Ie(F.config.authDomain,F,"auth-domain-config-required"),Ie(F.config.apiKey,F,"invalid-api-key");const gn={apiKey:F.config.apiKey,appName:F.name,authType:D,redirectUrl:H,v:ie.SDK_VERSION,eventId:De};if(C instanceof $s){C.setDefaultLanguage(F.languageCode),gn.providerId=C.providerId||"",(0,Z.xb)(C.getCustomParameters())||(gn.customParameters=JSON.stringify(C.getCustomParameters()));for(const[Yi,hr]of Object.entries(Qe||{}))gn[Yi]=hr}if(C instanceof yr){const Yi=C.getScopes().filter(hr=>""!==hr);Yi.length>0&&(gn.scopes=Yi.join(","))}F.tenantId&&(gn.tid=F.tenantId);const ci=gn;for(const Yi of Object.keys(ci))void 0===ci[Yi]&&delete ci[Yi];return`${function Mc({config:F}){return F.emulator?Yt(F,zo):`https://${F.authDomain}/${vu}`}(F)}?${(0,Z.xO)(ci).slice(1)}`}const _c="webStorageSupport",Uu=class iu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hi,this._completeRedirectFn=gc,this._overrideRedirectResult=Vs}_openPopup(C,D,H,De){var Qe=this;return(0,t.Z)(function*(){var gn;St(null===(gn=Qe.eventManagers[C._key()])||void 0===gn?void 0:gn.manager,"_initialize() not called before _openPopup()");const ci=Ss(C,D,H,Et(),De);return function Ys(F,C,D,H=Bu,De=Bc){const Qe=Math.max((window.screen.availHeight-De)/2,0).toString(),gn=Math.max((window.screen.availWidth-H)/2,0).toString();let ci="";const Yi=Object.assign(Object.assign({},Ac),{width:H.toString(),height:De.toString(),top:Qe,left:gn}),hr=(0,Z.z$)().toLowerCase();D&&(ci=It(hr)?tu:D),_e(hr)&&(C=C||nu,Yi.scrollbars="yes");const Wr=Object.entries(Yi).reduce((yl,[bl,kl])=>`${yl}${bl}=${kl},`,"");if(function et(F=(0,Z.z$)()){var C;return jt(F)&&!(null===(C=window.navigator)||void 0===C||!C.standalone)}(hr)&&"_self"!==ci)return function Uc(F,C){const D=document.createElement("a");D.href=F,D.target=C;const H=document.createEvent("MouseEvent");H.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(H)}(C||"",ci),new mc(null);const Ls=window.open(C||"",ci,Wr);Ie(Ls,F,"popup-blocked");try{Ls.focus()}catch(yl){}return new mc(Ls)}(C,ci,cr())})()}_openRedirect(C,D,H,De){var Qe=this;return(0,t.Z)(function*(){return yield Qe._originValidation(C),function Ui(F){Er().location.href=F}(Ss(C,D,H,Et(),De)),new Promise(()=>{})})()}_initialize(C){const D=C._key();if(this.eventManagers[D]){const{manager:De,promise:Qe}=this.eventManagers[D];return De?Promise.resolve(De):(St(Qe,"If manager is not set, promise should be"),Qe)}const H=this.initAndGetManager(C);return this.eventManagers[D]={promise:H},H.catch(()=>{delete this.eventManagers[D]}),H}initAndGetManager(C){var D=this;return(0,t.Z)(function*(){const H=yield function eu(F){return Gd.apply(this,arguments)}(C),De=new mu(C);return H.register("authEvent",Qe=>(Ie(null==Qe?void 0:Qe.authEvent,C,"invalid-auth-event"),{status:De.onEvent(Qe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[C._key()]={manager:De},D.iframes[C._key()]=H,De})()}_isIframeWebStorageSupported(C,D){this.iframes[C._key()].send(_c,{type:_c},De=>{var Qe;const gn=null===(Qe=null==De?void 0:De[0])||void 0===Qe?void 0:Qe[_c];void 0!==gn&&D(!!gn),at(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const D=C._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Qc(F){return ml.apply(this,arguments)}(C)),this.originValidationPromises[D]}get _shouldInitProactively(){return qt()||ge()||jt()}};class Cd{constructor(C){this.factorId=C}_process(C,D,H){switch(D.type){case"enroll":return this._finalizeEnroll(C,D.credential,H);case"signin":return this._finalizeSignIn(C,D.credential);default:return nt("unexpected MultiFactorSessionType")}}}class Vc extends Cd{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new Vc(C)}_finalizeEnroll(C,D,H){return function Zc(F,C){return qe(F,"POST","/v2/accounts/mfaEnrollment:finalize",hn(F,C))}(C,{idToken:D,displayName:H,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,D){return function cc(F,C){return qe(F,"POST","/v2/accounts/mfaSignIn:finalize",hn(F,C))}(C,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let od=(()=>{class F{constructor(){}static assertion(D){return Vc._fromCredential(D)}}return F.FACTOR_ID="phone",F})();var es="@firebase/auth";class Yl{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var D=this;return(0,t.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const D=this.auth.onIdTokenChanged(H=>{C((null==H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(C,D),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const D=this.internalListeners.get(C);D&&(this.internalListeners.delete(C),D(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vl=(0,Z.Pz)("authIdTokenMaxAge")||300;let vc=null;const Mo=F=>function(){var C=(0,t.Z)(function*(D){const H=D&&(yield D.getIdTokenResult()),De=H&&((new Date).getTime()-Date.parse(H.issuedAtTime))/1e3;if(De&&De>vl)return;const Qe=null==H?void 0:H.token;vc!==Qe&&(vc=Qe,yield fetch(F,{method:Qe?"POST":"DELETE",headers:Qe?{Authorization:`Bearer ${Qe}`}:{}}))});return function(D){return C.apply(this,arguments)}}();function Hc(F=(0,ie.getApp)()){const C=(0,ie._getProvider)(F,"auth");if(C.isInitialized())return C.getImmediate();const D=function Pt(F,C){const D=(0,ie._getProvider)(F,"auth");if(D.isInitialized()){const De=D.getImmediate(),Qe=D.getOptions();if((0,Z.vZ)(Qe,null!=C?C:{}))return De;at(De,"already-initialized")}return D.initialize({options:C})}(F,{popupRedirectResolver:Uu,persistence:[jo,Nn,Hi]}),H=(0,Z.Pz)("authTokenSyncURL");if(H){const Qe=Mo(H);(function Vl(F,C,D){(0,Z.m9)(F).beforeAuthStateChanged(C,D)})(D,Qe,()=>Qe(D.currentUser)),function Ul(F,C,D,H){(0,Z.m9)(F).onIdTokenChanged(C,D,H)}(D,gn=>Qe(gn))}const De=(0,Z.q4)("auth");return De&&yn(D,`http://${De}`),D}!function ls(F){(0,ie._registerComponent)(new ct.wA("auth",(C,{options:D})=>{const H=C.getProvider("app").getImmediate(),De=C.getProvider("heartbeat"),{apiKey:Qe,authDomain:gn}=H.options;return((ci,Yi)=>{Ie(Qe&&!Qe.includes(":"),"invalid-api-key",{appName:ci.name}),Ie(!(null!=gn&&gn.includes(":")),"argument-error",{appName:ci.name});const hr={apiKey:Qe,authDomain:gn,clientPlatform:F,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zt(F)},Wr=new Jn(ci,Yi,hr);return function Lt(F,C){const D=(null==C?void 0:C.persistence)||[],H=(Array.isArray(D)?D:[D]).map(At);null!=C&&C.errorMap&&F._updateErrorMap(C.errorMap),F._initializeWithPersistence(H,null==C?void 0:C.popupRedirectResolver)}(Wr,D),Wr})(H,De)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,D,H)=>{C.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ct.wA("auth-internal",C=>{const D=oi(C.getProvider("auth").getImmediate());return new Yl(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(es,"0.21.4",function Pl(F){switch(F){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(F)),(0,ie.registerVersion)(es,"0.21.4","esm2017")}("Browser")},1627:(ei,Jt,U)=>{"use strict";U.d(Jt,{$o:()=>Qa,AM:()=>vt,Bd:()=>ol,Bt:()=>al,EW:()=>Yd,FQ:()=>Ao,G$:()=>zr,HE:()=>wl,IO:()=>Jh,JH:()=>Wo,Jr:()=>zd,Kk:()=>bu,Lx:()=>cd,MQ:()=>Gu,N8:()=>Zd,Od:()=>ad,Ot:()=>gh,R:()=>Dd,S1:()=>zu,Sb:()=>Du,Sl:()=>wd,TD:()=>ef,TQ:()=>Wu,U2:()=>xc,U7:()=>Ku,VF:()=>sl,Vt:()=>Cl,Vx:()=>ru,Wu:()=>ld,cy:()=>Hu,dH:()=>mh,e0:()=>yu,g2:()=>Oo,i3:()=>jc,iH:()=>ho,iU:()=>Kl,jM:()=>ou,mI:()=>as,nP:()=>qf,qT:()=>is,t8:()=>xo,tn:()=>Ja,vA:()=>La,vh:()=>uh,wj:()=>Iu,yv:()=>Yr});var t=U(5861),Z=U(9681),ie=U(4859),oe=U(2090),ze=U(1877);const ct="@firebase/database";let Fe="";function vt(_){Fe=_}class Pe{constructor(h){this.domStorage_=h,this.prefix_="firebase:"}set(h,f){null==f?this.domStorage_.removeItem(this.prefixedName_(h)):this.domStorage_.setItem(this.prefixedName_(h),(0,oe.Wl)(f))}get(h){const f=this.domStorage_.getItem(this.prefixedName_(h));return null==f?null:(0,oe.cI)(f)}remove(h){this.domStorage_.removeItem(this.prefixedName_(h))}prefixedName_(h){return this.prefix_+h}toString(){return this.domStorage_.toString()}}class xe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(h,f){null==f?delete this.cache_[h]:this.cache_[h]=f}get(h){return(0,oe.r3)(this.cache_,h)?this.cache_[h]:null}remove(h){delete this.cache_[h]}}const Ue=function(_){try{if(typeof window<"u"&&typeof window[_]<"u"){const h=window[_];return h.setItem("firebase:sentinel","cache"),h.removeItem("firebase:sentinel"),new Pe(h)}}catch(h){}return new xe},je=Ue("localStorage"),pt=Ue("sessionStorage"),gt=new ze.Yd("@firebase/database"),kt=function(){let _=1;return function(){return _++}}(),be=function(_){const h=(0,oe.dS)(_),f=new oe.gQ;f.update(h);const w=f.digest();return oe.US.encodeByteArray(w)},Ge=function(..._){let h="";for(let f=0;f<_.length;f++){const w=_[f];Array.isArray(w)||w&&"object"==typeof w&&"number"==typeof w.length?h+=Ge.apply(null,w):h+="object"==typeof w?(0,oe.Wl)(w):w,h+=" "}return h};let yt=null,at=!0;const Ve=function(_,h){(0,oe.hu)(!h||!0===_||!1===_,"Can't turn on custom loggers persistently."),!0===_?(gt.logLevel=ze.in.VERBOSE,yt=gt.log.bind(gt),h&&pt.set("logging_enabled",!0)):"function"==typeof _?yt=_:(yt=null,pt.remove("logging_enabled"))},dt=function(..._){if(!0===at&&(at=!1,null===yt&&!0===pt.get("logging_enabled")&&Ve(!0)),yt){const h=Ge.apply(null,_);yt(h)}},Ut=function(_){return function(...h){dt(_,...h)}},ut=function(..._){const h="FIREBASE INTERNAL ERROR: "+Ge(..._);gt.error(h)},Ie=function(..._){const h=`FIREBASE FATAL ERROR: ${Ge(..._)}`;throw gt.error(h),new Error(h)},nt=function(..._){const h="FIREBASE WARNING: "+Ge(..._);gt.warn(h)},Nt=function(_){return"number"==typeof _&&(_!=_||_===Number.POSITIVE_INFINITY||_===Number.NEGATIVE_INFINITY)},Pt="[MIN_NAME]",Lt="[MAX_NAME]",Et=function(_,h){if(_===h)return 0;if(_===Pt||h===Lt)return-1;if(h===Pt||_===Lt)return 1;{const f=Tn(_),w=Tn(h);return null!==f?null!==w?f-w==0?_.length-h.length:f-w:-1:null!==w?1:_<h?-1:1}},it=function(_,h){return _===h?0:_<h?-1:1},Vt=function(_,h){if(h&&_ in h)return h[_];throw new Error("Missing required key ("+_+") in object: "+(0,oe.Wl)(h))},lt=function(_){if("object"!=typeof _||null===_)return(0,oe.Wl)(_);const h=[];for(const w in _)h.push(w);h.sort();let f="{";for(let w=0;w<h.length;w++)0!==w&&(f+=","),f+=(0,oe.Wl)(h[w]),f+=":",f+=lt(_[h[w]]);return f+="}",f},Je=function(_,h){const f=_.length;if(f<=h)return[_];const w=[];for(let L=0;L<f;L+=h)w.push(_.substring(L,L+h>f?f:L+h));return w};function rt(_,h){for(const f in _)_.hasOwnProperty(f)&&h(f,_[f])}const Yt=function(_){(0,oe.hu)(!Nt(_),"Invalid JSON number");const w=1023;let L,ee,ue,Xe,Ft;0===_?(ee=0,ue=0,L=1/_==-1/0?1:0):(L=_<0,(_=Math.abs(_))>=Math.pow(2,1-w)?(Xe=Math.min(Math.floor(Math.log(_)/Math.LN2),w),ee=Xe+w,ue=Math.round(_*Math.pow(2,52-Xe)-Math.pow(2,52))):(ee=0,ue=Math.round(_/Math.pow(2,-1074))));const tn=[];for(Ft=52;Ft;Ft-=1)tn.push(ue%2?1:0),ue=Math.floor(ue/2);for(Ft=11;Ft;Ft-=1)tn.push(ee%2?1:0),ee=Math.floor(ee/2);tn.push(L?1:0),tn.reverse();const Gn=tn.join("");let Kn="";for(Ft=0;Ft<64;Ft+=8){let ti=parseInt(Gn.substr(Ft,8),2).toString(16);1===ti.length&&(ti="0"+ti),Kn+=ti}return Kn.toLowerCase()},hn=new RegExp("^-?(0*)\\d{1,10}$"),Tn=function(_){if(hn.test(_)){const h=Number(_);if(h>=-2147483648&&h<=2147483647)return h}return null},Hn=function(_){try{_()}catch(h){setTimeout(()=>{throw nt("Exception was thrown by user callback.",h.stack||""),h},Math.floor(0))}},Ln=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},si=function(_,h){const f=setTimeout(_,h);return"number"==typeof f&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(f):"object"==typeof f&&f.unref&&f.unref(),f};class ai{constructor(h,f){this.appName_=h,this.appCheckProvider=f,this.appCheck=null==f?void 0:f.getImmediate({optional:!0}),this.appCheck||null==f||f.get().then(w=>this.appCheck=w)}getToken(h){return this.appCheck?this.appCheck.getToken(h):new Promise((f,w)=>{setTimeout(()=>{this.appCheck?this.getToken(h).then(f,w):f(null)},0)})}addTokenChangeListener(h){var f;null===(f=this.appCheckProvider)||void 0===f||f.get().then(w=>w.addTokenListener(h))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bi{constructor(h,f,w){this.appName_=h,this.firebaseOptions_=f,this.authProvider_=w,this.auth_=null,this.auth_=w.getImmediate({optional:!0}),this.auth_||w.onInit(L=>this.auth_=L)}getToken(h){return this.auth_?this.auth_.getToken(h).catch(f=>f&&"auth/token-not-initialized"===f.code?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(f)):new Promise((f,w)=>{setTimeout(()=>{this.auth_?this.getToken(h).then(f,w):f(null)},0)})}addTokenChangeListener(h){this.auth_?this.auth_.addAuthTokenListener(h):this.authProvider_.get().then(f=>f.addAuthTokenListener(h))}removeTokenChangeListener(h){this.authProvider_.get().then(f=>f.removeAuthTokenListener(h))}notifyForInvalidToken(){let h='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';h+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(h)}}let Mi=(()=>{class _{constructor(f){this.accessToken=f}getToken(f){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(f){f(this.accessToken)}removeTokenChangeListener(f){}notifyForInvalidToken(){}}return _.OWNER="owner",_})();const vn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$i="websocket",Xn="long_polling";class zn{constructor(h,f,w,L,ee=!1,ue="",Xe=!1,Ft=!1){this.secure=f,this.namespace=w,this.webSocketOnly=L,this.nodeAdmin=ee,this.persistenceKey=ue,this.includeNamespaceInQueryParams=Xe,this.isUsingEmulator=Ft,this._host=h.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=je.get("host:"+h)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(h){h!==this.internalHost&&(this.internalHost=h,this.isCacheableHost()&&je.set("host:"+this._host,this.internalHost))}toString(){let h=this.toURLString();return this.persistenceKey&&(h+="<"+this.persistenceKey+">"),h}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Pi(_,h,f){let w;if((0,oe.hu)("string"==typeof h,"typeof type must == string"),(0,oe.hu)("object"==typeof f,"typeof params must == object"),h===$i)w=(_.secure?"wss://":"ws://")+_.internalHost+"/.ws?";else{if(h!==Xn)throw new Error("Unknown connection type: "+h);w=(_.secure?"https://":"http://")+_.internalHost+"/.lp?"}(function mi(_){return _.host!==_.internalHost||_.isCustomHost()||_.includeNamespaceInQueryParams})(_)&&(f.ns=_.namespace);const L=[];return rt(f,(ee,ue)=>{L.push(ee+"="+ue)}),w+L.join("&")}class Si{constructor(){this.counters_={}}incrementCounter(h,f=1){(0,oe.r3)(this.counters_,h)||(this.counters_[h]=0),this.counters_[h]+=f}get(){return(0,oe.p$)(this.counters_)}}const Ci={},dn={};function xt(_){const h=_.toString();return Ci[h]||(Ci[h]=new Si),Ci[h]}class pn{constructor(h){this.onMessage_=h,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(h,f){this.closeAfterResponse=h,this.onClose=f,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(h,f){for(this.pendingResponses[h]=f;this.pendingResponses[this.currentResponseNum];){const w=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let L=0;L<w.length;++L)w[L]&&Hn(()=>{this.onMessage_(w[L])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rn{constructor(h,f,w,L,ee,ue,Xe){this.connId=h,this.repoInfo=f,this.applicationId=w,this.appCheckToken=L,this.authToken=ee,this.transportSessionId=ue,this.lastSessionId=Xe,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ut(h),this.stats_=xt(f),this.urlFn=Ft=>(this.appCheckToken&&(Ft.ac=this.appCheckToken),Pi(f,Xn,Ft))}open(h,f){this.curSegmentNum=0,this.onDisconnect_=f,this.myPacketOrderer=new pn(h),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(_){if((0,oe.Yr)()||"complete"===document.readyState)_();else{let h=!1;const f=function(){document.body?h||(h=!0,_()):setTimeout(f,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&f()}),window.attachEvent("onload",f))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xn((...ee)=>{const[ue,Xe,Ft,tn,Gn]=ee;if(this.incrementIncomingBytes_(ee),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===ue)this.id=Xe,this.password=Ft;else{if("close"!==ue)throw new Error("Unrecognized command received: "+ue);Xe?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Xe,()=>{this.onClosed_()})):this.onClosed_()}},(...ee)=>{const[ue,Xe]=ee;this.incrementIncomingBytes_(ee),this.myPacketOrderer.handleResponse(ue,Xe)},()=>{this.onClosed_()},this.urlFn);const w={start:"t"};w.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(w.cb=this.scriptTagHolder.uniqueCallbackIdentifier),w.v="5",this.transportSessionId&&(w.s=this.transportSessionId),this.lastSessionId&&(w.ls=this.lastSessionId),this.applicationId&&(w.p=this.applicationId),this.appCheckToken&&(w.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&vn.test(location.hostname)&&(w.r="f");const L=this.urlFn(w);this.log_("Connecting via long-poll to "+L),this.scriptTagHolder.addTag(L,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rn.forceAllow_=!0}static forceDisallow(){rn.forceDisallow_=!0}static isAvailable(){return!((0,oe.Yr)()||!rn.forceAllow_&&(rn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(h){const f=(0,oe.Wl)(h);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const w=(0,oe.h$)(f),L=Je(w,1840);for(let ee=0;ee<L.length;ee++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,L.length,L[ee]),this.curSegmentNum++}addDisconnectPingFrame(h,f){if((0,oe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const w={dframe:"t"};w.id=h,w.pw=f,this.myDisconnFrame.src=this.urlFn(w),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(h){const f=(0,oe.Wl)(h).length;this.bytesReceived+=f,this.stats_.incrementCounter("bytes_received",f)}}class xn{constructor(h,f,w,L){if(this.onDisconnect=w,this.urlFn=L,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,oe.Yr)())this.commandCB=h,this.onMessageCB=f;else{this.uniqueCallbackIdentifier=kt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=h,window["pRTLPCB"+this.uniqueCallbackIdentifier]=f,this.myIFrame=xn.createIFrame_();let ee="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(ee='<script>document.domain="'+document.domain+'";<\/script>');const ue="<html><body>"+ee+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ue),this.myIFrame.doc.close()}catch(Xe){dt("frame writing exception"),Xe.stack&&dt(Xe.stack),dt(Xe)}}}static createIFrame_(){const h=document.createElement("iframe");if(h.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(h);try{h.contentWindow.document||dt("No IE domain setting required")}catch(f){const w=document.domain;h.src="javascript:void((function(){document.open();document.domain='"+w+"';document.close();})())"}return h.contentDocument?h.doc=h.contentDocument:h.contentWindow?h.doc=h.contentWindow.document:h.document&&(h.doc=h.document),h}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const h=this.onDisconnect;h&&(this.onDisconnect=null,h())}startLongPoll(h,f){for(this.myID=h,this.myPW=f,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const h={};h.id=this.myID,h.pw=this.myPW,h.ser=this.currentSerial;let f=this.urlFn(h),w="",L=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+w.length<=1870;){const ue=this.pendingSegs.shift();w=w+"&seg"+L+"="+ue.seg+"&ts"+L+"="+ue.ts+"&d"+L+"="+ue.d,L++}return f+=w,this.addLongPollTag_(f,this.currentSerial),!0}return!1}enqueueSegment(h,f,w){this.pendingSegs.push({seg:h,ts:f,d:w}),this.alive&&this.newRequest_()}addLongPollTag_(h,f){this.outstandingRequests.add(f);const w=()=>{this.outstandingRequests.delete(f),this.newRequest_()},L=setTimeout(w,Math.floor(25e3));this.addTag(h,()=>{clearTimeout(L),w()})}addTag(h,f){(0,oe.Yr)()?this.doNodeLongPoll(h,f):setTimeout(()=>{try{if(!this.sendNewPolls)return;const w=this.myIFrame.doc.createElement("script");w.type="text/javascript",w.async=!0,w.src=h,w.onload=w.onreadystatechange=function(){const L=w.readyState;(!L||"loaded"===L||"complete"===L)&&(w.onload=w.onreadystatechange=null,w.parentNode&&w.parentNode.removeChild(w),f())},w.onerror=()=>{dt("Long-poll script failed to load: "+h),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(w)}catch(w){}},Math.floor(1))}}let jt=null;typeof MozWebSocket<"u"?jt=MozWebSocket:typeof WebSocket<"u"&&(jt=WebSocket);let mt=(()=>{class _{constructor(f,w,L,ee,ue,Xe,Ft){this.connId=f,this.applicationId=L,this.appCheckToken=ee,this.authToken=ue,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ut(this.connId),this.stats_=xt(w),this.connURL=_.connectionURL_(w,Xe,Ft,ee,L),this.nodeAdmin=w.nodeAdmin}static connectionURL_(f,w,L,ee,ue){const Xe={v:"5"};return!(0,oe.Yr)()&&typeof location<"u"&&location.hostname&&vn.test(location.hostname)&&(Xe.r="f"),w&&(Xe.s=w),L&&(Xe.ls=L),ee&&(Xe.ac=ee),ue&&(Xe.p=ue),Pi(f,$i,Xe)}open(f,w){this.onDisconnect=w,this.onMessage=f,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,je.set("previous_websocket_failure",!0);try{let L;if((0,oe.Yr)()){L={headers:{"User-Agent":`Firebase/5/${Fe}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(L.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(L.headers["X-Firebase-AppCheck"]=this.appCheckToken);const ue=process.env,Xe=0===this.connURL.indexOf("wss://")?ue.HTTPS_PROXY||ue.https_proxy:ue.HTTP_PROXY||ue.http_proxy;Xe&&(L.proxy={origin:Xe})}this.mySock=new jt(this.connURL,[],L)}catch(L){this.log_("Error instantiating WebSocket.");const ee=L.message||L.data;return ee&&this.log_(ee),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=L=>{this.handleIncomingFrame(L)},this.mySock.onerror=L=>{this.log_("WebSocket error.  Closing connection.");const ee=L.message||L.data;ee&&this.log_(ee),this.onClosed_()}}start(){}static forceDisallow(){_.forceDisallow_=!0}static isAvailable(){let f=!1;if(typeof navigator<"u"&&navigator.userAgent){const L=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);L&&L.length>1&&parseFloat(L[1])<4.4&&(f=!0)}return!f&&null!==jt&&!_.forceDisallow_}static previouslyFailed(){return je.isInMemoryStorage||!0===je.get("previous_websocket_failure")}markConnectionHealthy(){je.remove("previous_websocket_failure")}appendFrame_(f){if(this.frames.push(f),this.frames.length===this.totalFrames){const w=this.frames.join("");this.frames=null;const L=(0,oe.cI)(w);this.onMessage(L)}}handleNewFrameCount_(f){this.totalFrames=f,this.frames=[]}extractFrameCount_(f){if((0,oe.hu)(null===this.frames,"We already have a frame buffer"),f.length<=6){const w=Number(f);if(!isNaN(w))return this.handleNewFrameCount_(w),null}return this.handleNewFrameCount_(1),f}handleIncomingFrame(f){if(null===this.mySock)return;const w=f.data;if(this.bytesReceived+=w.length,this.stats_.incrementCounter("bytes_received",w.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(w);else{const L=this.extractFrameCount_(w);null!==L&&this.appendFrame_(L)}}send(f){this.resetKeepAlive();const w=(0,oe.Wl)(f);this.bytesSent+=w.length,this.stats_.incrementCounter("bytes_sent",w.length);const L=Je(w,16384);L.length>1&&this.sendString_(String(L.length));for(let ee=0;ee<L.length;ee++)this.sendString_(L[ee])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(f){try{this.mySock.send(f)}catch(w){this.log_("Exception thrown from WebSocket.send():",w.message||w.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return _.responsesRequiredToBeHealthy=2,_.healthyTimeout=3e4,_})(),et=(()=>{class _{constructor(f){this.initTransports_(f)}static get ALL_TRANSPORTS(){return[rn,mt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(f){const w=mt&&mt.isAvailable();let L=w&&!mt.previouslyFailed();if(f.webSocketOnly&&(w||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),L=!0),L)this.transports_=[mt];else{const ee=this.transports_=[];for(const ue of _.ALL_TRANSPORTS)ue&&ue.isAvailable()&&ee.push(ue);_.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return _.globalTransportInitialized_=!1,_})();class Ir{constructor(h,f,w,L,ee,ue,Xe,Ft,tn,Gn){this.id=h,this.repoInfo_=f,this.applicationId_=w,this.appCheckToken_=L,this.authToken_=ee,this.onMessage_=ue,this.onReady_=Xe,this.onDisconnect_=Ft,this.onKill_=tn,this.lastSessionId=Gn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ut("c:"+this.id+":"),this.transportManager_=new et(f),this.log_("Connection created"),this.start_()}start_(){const h=this.transportManager_.initialTransport();this.conn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;const f=this.connReceiver_(this.conn_),w=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(f,w)},Math.floor(0));const L=h.healthyTimeout||0;L>0&&(this.healthyTimeout_=si(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(L)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(h){return f=>{h===this.conn_?this.onConnectionLost_(f):h===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(h){return f=>{2!==this.state_&&(h===this.rx_?this.onPrimaryMessageReceived_(f):h===this.secondaryConn_?this.onSecondaryMessageReceived_(f):this.log_("message on old connection"))}}sendRequest(h){this.sendData_({t:"d",d:h})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(h){if("t"in h){const f=h.t;"a"===f?this.upgradeIfSecondaryHealthy_():"r"===f?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===f&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(h){const f=Vt("t",h),w=Vt("d",h);if("c"===f)this.onSecondaryControl_(w);else{if("d"!==f)throw new Error("Unknown protocol layer: "+f);this.pendingDataMessages.push(w)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(h){const f=Vt("t",h),w=Vt("d",h);"c"===f?this.onControl_(w):"d"===f&&this.onDataMessage_(w)}onDataMessage_(h){this.onPrimaryResponse_(),this.onMessage_(h)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(h){const f=Vt("t",h);if("d"in h){const w=h.d;if("h"===f){const L=Object.assign({},w);this.repoInfo_.isUsingEmulator&&(L.h=this.repoInfo_.host),this.onHandshake_(L)}else if("n"===f){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let L=0;L<this.pendingDataMessages.length;++L)this.onDataMessage_(this.pendingDataMessages[L]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===f?this.onConnectionShutdown_(w):"r"===f?this.onReset_(w):"e"===f?ut("Server Error: "+w):"o"===f?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ut("Unknown control packet command: "+f)}}onHandshake_(h){const f=h.ts,w=h.v,L=h.h;this.sessionId=h.s,this.repoInfo_.host=L,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,f),"5"!==w&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const h=this.transportManager_.upgradeTransport();h&&this.startUpgrade_(h)}startUpgrade_(h){this.secondaryConn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;const f=this.connReceiver_(this.secondaryConn_),w=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(f,w),si(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(h){this.log_("Reset packet received.  New host: "+h),this.repoInfo_.host=h,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(h,f){this.log_("Realtime connection established."),this.conn_=h,this.state_=1,this.onReady_&&(this.onReady_(f,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):si(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const h=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===h||this.rx_===h)&&this.close()}onConnectionLost_(h){this.conn_=null,h||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(je.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(h){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(h),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(h){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(h)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jr{put(h,f,w,L){}merge(h,f,w,L){}refreshAuthToken(h){}refreshAppCheckToken(h){}onDisconnectPut(h,f,w){}onDisconnectMerge(h,f,w){}onDisconnectCancel(h,f){}reportStats(h){}}class Rr{constructor(h){this.allowedEvents_=h,this.listeners_={},(0,oe.hu)(Array.isArray(h)&&h.length>0,"Requires a non-empty array")}trigger(h,...f){if(Array.isArray(this.listeners_[h])){const w=[...this.listeners_[h]];for(let L=0;L<w.length;L++)w[L].callback.apply(w[L].context,f)}}on(h,f,w){this.validateEventType_(h),this.listeners_[h]=this.listeners_[h]||[],this.listeners_[h].push({callback:f,context:w});const L=this.getInitialEvent(h);L&&f.apply(w,L)}off(h,f,w){this.validateEventType_(h);const L=this.listeners_[h]||[];for(let ee=0;ee<L.length;ee++)if(L[ee].callback===f&&(!w||w===L[ee].context))return void L.splice(ee,1)}validateEventType_(h){(0,oe.hu)(this.allowedEvents_.find(f=>f===h),"Unknown event: "+h)}}class ns extends Rr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,oe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ns}getInitialEvent(h){return(0,oe.hu)("online"===h,"Unknown event type: "+h),[this.online_]}currentlyOnline(){return this.online_}}const yi=32,sr=768;class Wi{constructor(h,f){if(void 0===f){this.pieces_=h.split("/");let w=0;for(let L=0;L<this.pieces_.length;L++)this.pieces_[L].length>0&&(this.pieces_[w]=this.pieces_[L],w++);this.pieces_.length=w,this.pieceNum_=0}else this.pieces_=h,this.pieceNum_=f}toString(){let h="";for(let f=this.pieceNum_;f<this.pieces_.length;f++)""!==this.pieces_[f]&&(h+="/"+this.pieces_[f]);return h||"/"}}function or(){return new Wi("")}function Xi(_){return _.pieceNum_>=_.pieces_.length?null:_.pieces_[_.pieceNum_]}function sn(_){return _.pieces_.length-_.pieceNum_}function Q(_){let h=_.pieceNum_;return h<_.pieces_.length&&h++,new Wi(_.pieces_,h)}function de(_){return _.pieceNum_<_.pieces_.length?_.pieces_[_.pieces_.length-1]:null}function _t(_,h=0){return _.pieces_.slice(_.pieceNum_+h)}function Gt(_){if(_.pieceNum_>=_.pieces_.length)return null;const h=[];for(let f=_.pieceNum_;f<_.pieces_.length-1;f++)h.push(_.pieces_[f]);return new Wi(h,0)}function Ae(_,h){const f=[];for(let w=_.pieceNum_;w<_.pieces_.length;w++)f.push(_.pieces_[w]);if(h instanceof Wi)for(let w=h.pieceNum_;w<h.pieces_.length;w++)f.push(h.pieces_[w]);else{const w=h.split("/");for(let L=0;L<w.length;L++)w[L].length>0&&f.push(w[L])}return new Wi(f,0)}function bt(_){return _.pieceNum_>=_.pieces_.length}function Xt(_,h){const f=Xi(_),w=Xi(h);if(null===f)return h;if(f===w)return Xt(Q(_),Q(h));throw new Error("INTERNAL ERROR: innerPath ("+h+") is not within outerPath ("+_+")")}function Sn(_,h){const f=_t(_,0),w=_t(h,0);for(let L=0;L<f.length&&L<w.length;L++){const ee=Et(f[L],w[L]);if(0!==ee)return ee}return f.length===w.length?0:f.length<w.length?-1:1}function On(_,h){if(sn(_)!==sn(h))return!1;for(let f=_.pieceNum_,w=h.pieceNum_;f<=_.pieces_.length;f++,w++)if(_.pieces_[f]!==h.pieces_[w])return!1;return!0}function li(_,h){let f=_.pieceNum_,w=h.pieceNum_;if(sn(_)>sn(h))return!1;for(;f<_.pieces_.length;){if(_.pieces_[f]!==h.pieces_[w])return!1;++f,++w}return!0}class Bi{constructor(h,f){this.errorPrefix_=f,this.parts_=_t(h,0),this.byteLength_=Math.max(1,this.parts_.length);for(let w=0;w<this.parts_.length;w++)this.byteLength_+=(0,oe.ug)(this.parts_[w]);qs(this)}}function qs(_){if(_.byteLength_>sr)throw new Error(_.errorPrefix_+"has a key path longer than "+sr+" bytes ("+_.byteLength_+").");if(_.parts_.length>yi)throw new Error(_.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yi+") or object contains a cycle "+Sr(_))}function Sr(_){return 0===_.parts_.length?"":"in property '"+_.parts_.join(".")+"'"}class jr extends Rr{constructor(){let h,f;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(f="visibilitychange",h="hidden"):typeof document.mozHidden<"u"?(f="mozvisibilitychange",h="mozHidden"):typeof document.msHidden<"u"?(f="msvisibilitychange",h="msHidden"):typeof document.webkitHidden<"u"&&(f="webkitvisibilitychange",h="webkitHidden")),this.visible_=!0,f&&document.addEventListener(f,()=>{const w=!document[h];w!==this.visible_&&(this.visible_=w,this.trigger("visible",w))},!1)}static getInstance(){return new jr}getInitialEvent(h){return(0,oe.hu)("visible"===h,"Unknown event type: "+h),[this.visible_]}}const Rs=1e3;let Ns,Ts=(()=>{class _ extends Jr{constructor(f,w,L,ee,ue,Xe,Ft,tn){if(super(),this.repoInfo_=f,this.applicationId_=w,this.onDataUpdate_=L,this.onConnectStatus_=ee,this.onServerInfoUpdate_=ue,this.authTokenProvider_=Xe,this.appCheckTokenProvider_=Ft,this.authOverride_=tn,this.id=_.nextPersistentConnectionId_++,this.log_=Ut("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,tn&&!(0,oe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jr.getInstance().on("visible",this.onVisible_,this),-1===f.host.indexOf("fblocal")&&ns.getInstance().on("online",this.onOnline_,this)}sendRequest(f,w,L){const ee=++this.requestNumber_,ue={r:ee,a:f,b:w};this.log_((0,oe.Wl)(ue)),(0,oe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ue),L&&(this.requestCBHash_[ee]=L)}get(f){this.initConnection_();const w=new oe.BH,ee={action:"g",request:{p:f._path.toString(),q:f._queryObject},onComplete:Xe=>{const Ft=Xe.d;"ok"===Xe.s?w.resolve(Ft):w.reject(Ft)}};return this.outstandingGets_.push(ee),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),w.promise}listen(f,w,L,ee){this.initConnection_();const ue=f._queryIdentifier,Xe=f._path.toString();this.log_("Listen called for "+Xe+" "+ue),this.listens.has(Xe)||this.listens.set(Xe,new Map),(0,oe.hu)(f._queryParams.isDefault()||!f._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,oe.hu)(!this.listens.get(Xe).has(ue),"listen() called twice for same path/queryId.");const Ft={onComplete:ee,hashFn:w,query:f,tag:L};this.listens.get(Xe).set(ue,Ft),this.connected_&&this.sendListen_(Ft)}sendGet_(f){const w=this.outstandingGets_[f];this.sendRequest("g",w.request,L=>{delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),w.onComplete&&w.onComplete(L)})}sendListen_(f){const w=f.query,L=w._path.toString(),ee=w._queryIdentifier;this.log_("Listen on "+L+" for "+ee);const ue={p:L};f.tag&&(ue.q=w._queryObject,ue.t=f.tag),ue.h=f.hashFn(),this.sendRequest("q",ue,Ft=>{const tn=Ft.d,Gn=Ft.s;_.warnOnListenWarnings_(tn,w),(this.listens.get(L)&&this.listens.get(L).get(ee))===f&&(this.log_("listen response",Ft),"ok"!==Gn&&this.removeListen_(L,ee),f.onComplete&&f.onComplete(Gn,tn))})}static warnOnListenWarnings_(f,w){if(f&&"object"==typeof f&&(0,oe.r3)(f,"w")){const L=(0,oe.DV)(f,"w");if(Array.isArray(L)&&~L.indexOf("no_index")){const ee='".indexOn": "'+w._queryParams.getIndex().toString()+'"',ue=w._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${ee} at ${ue} to your security rules for better performance.`)}}}refreshAuthToken(f){this.authToken_=f,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(f)}reduceReconnectDelayIfAdminCredential_(f){(f&&40===f.length||(0,oe.GJ)(f))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(f){this.appCheckToken_=f,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const f=this.authToken_,w=(0,oe.w9)(f)?"auth":"gauth",L={cred:f};null===this.authOverride_?L.noauth=!0:"object"==typeof this.authOverride_&&(L.authvar=this.authOverride_),this.sendRequest(w,L,ee=>{const ue=ee.s,Xe=ee.d||"error";this.authToken_===f&&("ok"===ue?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ue,Xe))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},f=>{const w=f.s,L=f.d||"error";"ok"===w?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(w,L)})}unlisten(f,w){const L=f._path.toString(),ee=f._queryIdentifier;this.log_("Unlisten called for "+L+" "+ee),(0,oe.hu)(f._queryParams.isDefault()||!f._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(L,ee)&&this.connected_&&this.sendUnlisten_(L,ee,f._queryObject,w)}sendUnlisten_(f,w,L,ee){this.log_("Unlisten on "+f+" for "+w);const ue={p:f};ee&&(ue.q=L,ue.t=ee),this.sendRequest("n",ue)}onDisconnectPut(f,w,L){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",f,w,L):this.onDisconnectRequestQueue_.push({pathString:f,action:"o",data:w,onComplete:L})}onDisconnectMerge(f,w,L){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",f,w,L):this.onDisconnectRequestQueue_.push({pathString:f,action:"om",data:w,onComplete:L})}onDisconnectCancel(f,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",f,null,w):this.onDisconnectRequestQueue_.push({pathString:f,action:"oc",data:null,onComplete:w})}sendOnDisconnect_(f,w,L,ee){const ue={p:w,d:L};this.log_("onDisconnect "+f,ue),this.sendRequest(f,ue,Xe=>{ee&&setTimeout(()=>{ee(Xe.s,Xe.d)},Math.floor(0))})}put(f,w,L,ee){this.putInternal("p",f,w,L,ee)}merge(f,w,L,ee){this.putInternal("m",f,w,L,ee)}putInternal(f,w,L,ee,ue){this.initConnection_();const Xe={p:w,d:L};void 0!==ue&&(Xe.h=ue),this.outstandingPuts_.push({action:f,request:Xe,onComplete:ee}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+w)}sendPut_(f){const w=this.outstandingPuts_[f].action,L=this.outstandingPuts_[f].request,ee=this.outstandingPuts_[f].onComplete;this.outstandingPuts_[f].queued=this.connected_,this.sendRequest(w,L,ue=>{this.log_(w+" response",ue),delete this.outstandingPuts_[f],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),ee&&ee(ue.s,ue.d)})}reportStats(f){if(this.connected_){const w={c:f};this.log_("reportStats",w),this.sendRequest("s",w,L=>{"ok"!==L.s&&this.log_("reportStats","Error sending stats: "+L.d)})}}onDataMessage_(f){if("r"in f){this.log_("from server: "+(0,oe.Wl)(f));const w=f.r,L=this.requestCBHash_[w];L&&(delete this.requestCBHash_[w],L(f.b))}else{if("error"in f)throw"A server-side error has occurred: "+f.error;"a"in f&&this.onDataPush_(f.a,f.b)}}onDataPush_(f,w){this.log_("handleServerMessage",f,w),"d"===f?this.onDataUpdate_(w.p,w.d,!1,w.t):"m"===f?this.onDataUpdate_(w.p,w.d,!0,w.t):"c"===f?this.onListenRevoked_(w.p,w.q):"ac"===f?this.onAuthRevoked_(w.s,w.d):"apc"===f?this.onAppCheckRevoked_(w.s,w.d):"sd"===f?this.onSecurityDebugPacket_(w):ut("Unrecognized action received from server: "+(0,oe.Wl)(f)+"\nAre you using the latest client?")}onReady_(f,w){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(f),this.lastSessionId=w,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(f){(0,oe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(f))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(f){f&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0)),this.visible_=f}onOnline_(f){f?(this.log_("Browser went online."),this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Rs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const f=(new Date).getTime()-this.lastConnectionAttemptTime_;let w=Math.max(0,this.reconnectDelay_-f);w=Math.random()*w,this.log_("Trying to reconnect in "+w+"ms"),this.scheduleConnect_(w),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var f=this;return(0,t.Z)(function*(){if(f.shouldReconnect_()){f.log_("Making a connection attempt"),f.lastConnectionAttemptTime_=(new Date).getTime(),f.lastConnectionEstablishedTime_=null;const w=f.onDataMessage_.bind(f),L=f.onReady_.bind(f),ee=f.onRealtimeDisconnect_.bind(f),ue=f.id+":"+_.nextConnectionId_++,Xe=f.lastSessionId;let Ft=!1,tn=null;const Gn=function(){tn?tn.close():(Ft=!0,ee())};f.realtime_={close:Gn,sendRequest:function(ir){(0,oe.hu)(tn,"sendRequest call when we're not connected not allowed."),tn.sendRequest(ir)}};const ti=f.forceTokenRefresh_;f.forceTokenRefresh_=!1;try{const[ir,Cr]=yield Promise.all([f.authTokenProvider_.getToken(ti),f.appCheckTokenProvider_.getToken(ti)]);Ft?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),f.authToken_=ir&&ir.accessToken,f.appCheckToken_=Cr&&Cr.token,tn=new Ir(ue,f.repoInfo_,f.applicationId_,f.appCheckToken_,f.authToken_,w,L,ee,As=>{nt(As+" ("+f.repoInfo_.toString()+")"),f.interrupt("server_kill")},Xe))}catch(ir){f.log_("Failed to get token: "+ir),Ft||(f.repoInfo_.nodeAdmin&&nt(ir),Gn())}}})()}interrupt(f){dt("Interrupting connection for reason: "+f),this.interruptReasons_[f]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(f){dt("Resuming connection for reason: "+f),delete this.interruptReasons_[f],(0,oe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(f){const w=f-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:w})}cancelSentTransactions_(){for(let f=0;f<this.outstandingPuts_.length;f++){const w=this.outstandingPuts_[f];w&&"h"in w.request&&w.queued&&(w.onComplete&&w.onComplete("disconnect"),delete this.outstandingPuts_[f],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(f,w){let L;L=w?w.map(ue=>lt(ue)).join("$"):"default";const ee=this.removeListen_(f,L);ee&&ee.onComplete&&ee.onComplete("permission_denied")}removeListen_(f,w){const L=new Wi(f).toString();let ee;if(this.listens.has(L)){const ue=this.listens.get(L);ee=ue.get(w),ue.delete(w),0===ue.size&&this.listens.delete(L)}else ee=void 0;return ee}onAuthRevoked_(f,w){dt("Auth token revoked: "+f+"/"+w),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===f||"permission_denied"===f)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(f,w){dt("App check token revoked: "+f+"/"+w),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===f||"permission_denied"===f)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(f){this.securityDebugCallback_?this.securityDebugCallback_(f):"msg"in f&&console.log("FIREBASE: "+f.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const f of this.listens.values())for(const w of f.values())this.sendListen_(w);for(let f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){const f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(let f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)}sendConnectStats_(){const f={};let w="js";(0,oe.Yr)()&&(w=this.repoInfo_.nodeAdmin?"admin_node":"node"),f["sdk."+w+"."+Fe.replace(/\./g,"-")]=1,(0,oe.uI)()?f["framework.cordova"]=1:(0,oe.b$)()&&(f["framework.reactnative"]=1),this.reportStats(f)}shouldReconnect_(){const f=ns.getInstance().currentlyOnline();return(0,oe.xb)(this.interruptReasons_)&&f}}return _.nextPersistentConnectionId_=0,_.nextConnectionId_=0,_})();class dr{constructor(h,f){this.name=h,this.node=f}static Wrap(h,f){return new dr(h,f)}}class Js{getCompare(){return this.compare.bind(this)}indexedValueChanged(h,f){const w=new dr(Pt,h),L=new dr(Pt,f);return 0!==this.compare(w,L)}minPost(){return dr.MIN}}class js extends Js{static get __EMPTY_NODE(){return Ns}static set __EMPTY_NODE(h){Ns=h}compare(h,f){return Et(h.name,f.name)}isDefinedOn(h){throw(0,oe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(h,f){return!1}minPost(){return dr.MIN}maxPost(){return new dr(Lt,Ns)}makePost(h,f){return(0,oe.hu)("string"==typeof h,"KeyIndex indexValue must always be a string."),new dr(h,Ns)}toString(){return".key"}}const Ur=new js;class Ca{constructor(h,f,w,L,ee=null){this.isReverse_=L,this.resultGenerator_=ee,this.nodeStack_=[];let ue=1;for(;!h.isEmpty();)if(ue=f?w(h.key,f):1,L&&(ue*=-1),ue<0)h=this.isReverse_?h.left:h.right;else{if(0===ue){this.nodeStack_.push(h);break}this.nodeStack_.push(h),h=this.isReverse_?h.right:h.left}}getNext(){if(0===this.nodeStack_.length)return null;let f,h=this.nodeStack_.pop();if(f=this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value},this.isReverse_)for(h=h.left;!h.isEmpty();)this.nodeStack_.push(h),h=h.right;else for(h=h.right;!h.isEmpty();)this.nodeStack_.push(h),h=h.left;return f}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const h=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value}}}let Po,Qs=(()=>{class _{constructor(f,w,L,ee,ue){this.key=f,this.value=w,this.color=null!=L?L:_.RED,this.left=null!=ee?ee:yr.EMPTY_NODE,this.right=null!=ue?ue:yr.EMPTY_NODE}copy(f,w,L,ee,ue){return new _(null!=f?f:this.key,null!=w?w:this.value,null!=L?L:this.color,null!=ee?ee:this.left,null!=ue?ue:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(f){return this.left.inorderTraversal(f)||!!f(this.key,this.value)||this.right.inorderTraversal(f)}reverseTraversal(f){return this.right.reverseTraversal(f)||f(this.key,this.value)||this.left.reverseTraversal(f)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(f,w,L){let ee=this;const ue=L(f,ee.key);return ee=ue<0?ee.copy(null,null,null,ee.left.insert(f,w,L),null):0===ue?ee.copy(null,w,null,null,null):ee.copy(null,null,null,null,ee.right.insert(f,w,L)),ee.fixUp_()}removeMin_(){if(this.left.isEmpty())return yr.EMPTY_NODE;let f=this;return!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),f=f.copy(null,null,null,f.left.removeMin_(),null),f.fixUp_()}remove(f,w){let L,ee;if(L=this,w(f,L.key)<0)!L.left.isEmpty()&&!L.left.isRed_()&&!L.left.left.isRed_()&&(L=L.moveRedLeft_()),L=L.copy(null,null,null,L.left.remove(f,w),null);else{if(L.left.isRed_()&&(L=L.rotateRight_()),!L.right.isEmpty()&&!L.right.isRed_()&&!L.right.left.isRed_()&&(L=L.moveRedRight_()),0===w(f,L.key)){if(L.right.isEmpty())return yr.EMPTY_NODE;ee=L.right.min_(),L=L.copy(ee.key,ee.value,null,null,L.right.removeMin_())}L=L.copy(null,null,null,null,L.right.remove(f,w))}return L.fixUp_()}isRed_(){return this.color}fixUp_(){let f=this;return f.right.isRed_()&&!f.left.isRed_()&&(f=f.rotateLeft_()),f.left.isRed_()&&f.left.left.isRed_()&&(f=f.rotateRight_()),f.left.isRed_()&&f.right.isRed_()&&(f=f.colorFlip_()),f}moveRedLeft_(){let f=this.colorFlip_();return f.right.left.isRed_()&&(f=f.copy(null,null,null,null,f.right.rotateRight_()),f=f.rotateLeft_(),f=f.colorFlip_()),f}moveRedRight_(){let f=this.colorFlip_();return f.left.left.isRed_()&&(f=f.rotateRight_(),f=f.colorFlip_()),f}rotateLeft_(){const f=this.copy(null,null,_.RED,null,this.right.left);return this.right.copy(null,null,this.color,f,null)}rotateRight_(){const f=this.copy(null,null,_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,f)}colorFlip_(){const f=this.left.copy(null,null,!this.left.color,null,null),w=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,f,w)}checkMaxDepth_(){const f=this.check_();return Math.pow(2,f)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const f=this.left.check_();if(f!==this.right.check_())throw new Error("Black depths differ");return f+(this.isRed_()?0:1)}}return _.RED=!0,_.BLACK=!1,_})();class yr{constructor(h,f=yr.EMPTY_NODE){this.comparator_=h,this.root_=f}insert(h,f){return new yr(this.comparator_,this.root_.insert(h,f,this.comparator_).copy(null,null,Qs.BLACK,null,null))}remove(h){return new yr(this.comparator_,this.root_.remove(h,this.comparator_).copy(null,null,Qs.BLACK,null,null))}get(h){let f,w=this.root_;for(;!w.isEmpty();){if(f=this.comparator_(h,w.key),0===f)return w.value;f<0?w=w.left:f>0&&(w=w.right)}return null}getPredecessorKey(h){let f,w=this.root_,L=null;for(;!w.isEmpty();){if(f=this.comparator_(h,w.key),0===f){if(w.left.isEmpty())return L?L.key:null;for(w=w.left;!w.right.isEmpty();)w=w.right;return w.key}f<0?w=w.left:f>0&&(L=w,w=w.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(h){return this.root_.inorderTraversal(h)}reverseTraversal(h){return this.root_.reverseTraversal(h)}getIterator(h){return new Ca(this.root_,null,this.comparator_,!1,h)}getIteratorFrom(h,f){return new Ca(this.root_,h,this.comparator_,!1,f)}getReverseIteratorFrom(h,f){return new Ca(this.root_,h,this.comparator_,!0,f)}getReverseIterator(h){return new Ca(this.root_,null,this.comparator_,!0,h)}}function Xo(_,h){return Et(_.name,h.name)}function Co(_,h){return Et(_,h)}yr.EMPTY_NODE=new class $s{copy(h,f,w,L,ee){return this}insert(h,f,w){return new Qs(h,f,null)}remove(h,f){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(h){return!1}reverseTraversal(h){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ko=function(_){return"number"==typeof _?"number:"+Yt(_):"string:"+_},so=function(_){if(_.isLeafNode()){const h=_.val();(0,oe.hu)("string"==typeof h||"number"==typeof h||"object"==typeof h&&(0,oe.r3)(h,".sv"),"Priority must be a string or number.")}else(0,oe.hu)(_===Po||_.isEmpty(),"priority of unexpected type.");(0,oe.hu)(_===Po||_.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ua,Ha,Jo,mo=(()=>{class _{constructor(f,w=_.__childrenNodeConstructor.EMPTY_NODE){this.value_=f,this.priorityNode_=w,this.lazyHash_=null,(0,oe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),so(this.priorityNode_)}static set __childrenNodeConstructor(f){ua=f}static get __childrenNodeConstructor(){return ua}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(f){return new _(this.value_,f)}getImmediateChild(f){return".priority"===f?this.priorityNode_:_.__childrenNodeConstructor.EMPTY_NODE}getChild(f){return bt(f)?this:".priority"===Xi(f)?this.priorityNode_:_.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(f,w){return null}updateImmediateChild(f,w){return".priority"===f?this.updatePriority(w):w.isEmpty()&&".priority"!==f?this:_.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(f,w).updatePriority(this.priorityNode_)}updateChild(f,w){const L=Xi(f);return null===L?w:w.isEmpty()&&".priority"!==L?this:((0,oe.hu)(".priority"!==L||1===sn(f),".priority must be the last token in a path"),this.updateImmediateChild(L,_.__childrenNodeConstructor.EMPTY_NODE.updateChild(Q(f),w)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(f,w){return!1}val(f){return f&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let f="";this.priorityNode_.isEmpty()||(f+="priority:"+ko(this.priorityNode_.val())+":");const w=typeof this.value_;f+=w+":",f+="number"===w?Yt(this.value_):this.value_,this.lazyHash_=be(f)}return this.lazyHash_}getValue(){return this.value_}compareTo(f){return f===_.__childrenNodeConstructor.EMPTY_NODE?1:f instanceof _.__childrenNodeConstructor?-1:((0,oe.hu)(f.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(f))}compareToLeafNode_(f){const w=typeof f.value_,L=typeof this.value_,ee=_.VALUE_TYPE_ORDER.indexOf(w),ue=_.VALUE_TYPE_ORDER.indexOf(L);return(0,oe.hu)(ee>=0,"Unknown leaf type: "+w),(0,oe.hu)(ue>=0,"Unknown leaf type: "+L),ee===ue?"object"===L?0:this.value_<f.value_?-1:this.value_===f.value_?0:1:ue-ee}withIndex(){return this}isIndexed(){return!0}equals(f){return f===this||!!f.isLeafNode()&&(this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_))}}return _.VALUE_TYPE_ORDER=["object","boolean","number","string"],_})();const Zr=new class ha extends Js{compare(h,f){const w=h.node.getPriority(),L=f.node.getPriority(),ee=w.compareTo(L);return 0===ee?Et(h.name,f.name):ee}isDefinedOn(h){return!h.getPriority().isEmpty()}indexedValueChanged(h,f){return!h.getPriority().equals(f.getPriority())}minPost(){return dr.MIN}maxPost(){return new dr(Lt,new mo("[PRIORITY-POST]",Jo))}makePost(h,f){const w=Ha(h);return new dr(f,new mo("[PRIORITY-POST]",w))}toString(){return".priority"}},fa=Math.log(2);class Sl{constructor(h){this.count=parseInt(Math.log(h+1)/fa,10),this.current_=this.count-1;const L=(ee=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=h+1&L}nextBitIsOne(){const h=!(this.bits_&1<<this.current_);return this.current_--,h}}const nl=function(_,h,f,w){_.sort(h);const L=function(Ft,tn){const Gn=tn-Ft;let Kn,ti;if(0===Gn)return null;if(1===Gn)return Kn=_[Ft],ti=f?f(Kn):Kn,new Qs(ti,Kn.node,Qs.BLACK,null,null);{const ir=parseInt(Gn/2,10)+Ft,Cr=L(Ft,ir),As=L(ir+1,tn);return Kn=_[ir],ti=f?f(Kn):Kn,new Qs(ti,Kn.node,Qs.BLACK,Cr,As)}},Xe=function(Ft){let tn=null,Gn=null,Kn=_.length;const ti=function(Cr,As){const ba=Kn-Cr,Ad=Kn;Kn-=Cr;const Xd=L(ba+1,Ad),yh=_[ba],Zf=f?f(yh):yh;ir(new Qs(Zf,yh.node,As,null,Xd))},ir=function(Cr){tn?(tn.left=Cr,tn=Cr):(Gn=Cr,tn=Cr)};for(let Cr=0;Cr<Ft.count;++Cr){const As=Ft.nextBitIsOne(),ba=Math.pow(2,Ft.count-(Cr+1));As?ti(ba,Qs.BLACK):(ti(ba,Qs.BLACK),ti(ba,Qs.RED))}return Gn}(new Sl(_.length));return new yr(w||h,Xe)};let oo;const wa={};class to{constructor(h,f){this.indexes_=h,this.indexSet_=f}static get Default(){return(0,oe.hu)(wa&&Zr,"ChildrenNode.ts has not been loaded"),oo=oo||new to({".priority":wa},{".priority":Zr}),oo}get(h){const f=(0,oe.DV)(this.indexes_,h);if(!f)throw new Error("No index defined for "+h);return f instanceof yr?f:null}hasIndex(h){return(0,oe.r3)(this.indexSet_,h.toString())}addIndex(h,f){(0,oe.hu)(h!==Ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const w=[];let L=!1;const ee=f.getIterator(dr.Wrap);let Xe,ue=ee.getNext();for(;ue;)L=L||h.isDefinedOn(ue.node),w.push(ue),ue=ee.getNext();Xe=L?nl(w,h.getCompare()):wa;const Ft=h.toString(),tn=Object.assign({},this.indexSet_);tn[Ft]=h;const Gn=Object.assign({},this.indexes_);return Gn[Ft]=Xe,new to(Gn,tn)}addToIndexes(h,f){const w=(0,oe.UI)(this.indexes_,(L,ee)=>{const ue=(0,oe.DV)(this.indexSet_,ee);if((0,oe.hu)(ue,"Missing index implementation for "+ee),L===wa){if(ue.isDefinedOn(h.node)){const Xe=[],Ft=f.getIterator(dr.Wrap);let tn=Ft.getNext();for(;tn;)tn.name!==h.name&&Xe.push(tn),tn=Ft.getNext();return Xe.push(h),nl(Xe,ue.getCompare())}return wa}{const Xe=f.get(h.name);let Ft=L;return Xe&&(Ft=Ft.remove(new dr(h.name,Xe))),Ft.insert(h,h.node)}});return new to(w,this.indexSet_)}removeFromIndexes(h,f){const w=(0,oe.UI)(this.indexes_,L=>{if(L===wa)return L;{const ee=f.get(h.name);return ee?L.remove(new dr(h.name,ee)):L}});return new to(w,this.indexSet_)}}let pa,gr=(()=>{class _{constructor(f,w,L){this.children_=f,this.priorityNode_=w,this.indexMap_=L,this.lazyHash_=null,this.priorityNode_&&so(this.priorityNode_),this.children_.isEmpty()&&(0,oe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pa||(pa=new _(new yr(Co),null,to.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pa}updatePriority(f){return this.children_.isEmpty()?this:new _(this.children_,f,this.indexMap_)}getImmediateChild(f){if(".priority"===f)return this.getPriority();{const w=this.children_.get(f);return null===w?pa:w}}getChild(f){const w=Xi(f);return null===w?this:this.getImmediateChild(w).getChild(Q(f))}hasChild(f){return null!==this.children_.get(f)}updateImmediateChild(f,w){if((0,oe.hu)(w,"We should always be passing snapshot nodes"),".priority"===f)return this.updatePriority(w);{const L=new dr(f,w);let ee,ue;w.isEmpty()?(ee=this.children_.remove(f),ue=this.indexMap_.removeFromIndexes(L,this.children_)):(ee=this.children_.insert(f,w),ue=this.indexMap_.addToIndexes(L,this.children_));const Xe=ee.isEmpty()?pa:this.priorityNode_;return new _(ee,Xe,ue)}}updateChild(f,w){const L=Xi(f);if(null===L)return w;{(0,oe.hu)(".priority"!==Xi(f)||1===sn(f),".priority must be the last token in a path");const ee=this.getImmediateChild(L).updateChild(Q(f),w);return this.updateImmediateChild(L,ee)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(f){if(this.isEmpty())return null;const w={};let L=0,ee=0,ue=!0;if(this.forEachChild(Zr,(Xe,Ft)=>{w[Xe]=Ft.val(f),L++,ue&&_.INTEGER_REGEXP_.test(Xe)?ee=Math.max(ee,Number(Xe)):ue=!1}),!f&&ue&&ee<2*L){const Xe=[];for(const Ft in w)Xe[Ft]=w[Ft];return Xe}return f&&!this.getPriority().isEmpty()&&(w[".priority"]=this.getPriority().val()),w}hash(){if(null===this.lazyHash_){let f="";this.getPriority().isEmpty()||(f+="priority:"+ko(this.getPriority().val())+":"),this.forEachChild(Zr,(w,L)=>{const ee=L.hash();""!==ee&&(f+=":"+w+":"+ee)}),this.lazyHash_=""===f?"":be(f)}return this.lazyHash_}getPredecessorChildName(f,w,L){const ee=this.resolveIndex_(L);if(ee){const ue=ee.getPredecessorKey(new dr(f,w));return ue?ue.name:null}return this.children_.getPredecessorKey(f)}getFirstChildName(f){const w=this.resolveIndex_(f);if(w){const L=w.minKey();return L&&L.name}return this.children_.minKey()}getFirstChild(f){const w=this.getFirstChildName(f);return w?new dr(w,this.children_.get(w)):null}getLastChildName(f){const w=this.resolveIndex_(f);if(w){const L=w.maxKey();return L&&L.name}return this.children_.maxKey()}getLastChild(f){const w=this.getLastChildName(f);return w?new dr(w,this.children_.get(w)):null}forEachChild(f,w){const L=this.resolveIndex_(f);return L?L.inorderTraversal(ee=>w(ee.name,ee.node)):this.children_.inorderTraversal(w)}getIterator(f){return this.getIteratorFrom(f.minPost(),f)}getIteratorFrom(f,w){const L=this.resolveIndex_(w);if(L)return L.getIteratorFrom(f,ee=>ee);{const ee=this.children_.getIteratorFrom(f.name,dr.Wrap);let ue=ee.peek();for(;null!=ue&&w.compare(ue,f)<0;)ee.getNext(),ue=ee.peek();return ee}}getReverseIterator(f){return this.getReverseIteratorFrom(f.maxPost(),f)}getReverseIteratorFrom(f,w){const L=this.resolveIndex_(w);if(L)return L.getReverseIteratorFrom(f,ee=>ee);{const ee=this.children_.getReverseIteratorFrom(f.name,dr.Wrap);let ue=ee.peek();for(;null!=ue&&w.compare(ue,f)>0;)ee.getNext(),ue=ee.peek();return ee}}compareTo(f){return this.isEmpty()?f.isEmpty()?0:-1:f.isLeafNode()||f.isEmpty()?1:f===Bs?-1:0}withIndex(f){if(f===Ur||this.indexMap_.hasIndex(f))return this;{const w=this.indexMap_.addIndex(f,this.children_);return new _(this.children_,this.priorityNode_,w)}}isIndexed(f){return f===Ur||this.indexMap_.hasIndex(f)}equals(f){if(f===this)return!0;if(f.isLeafNode())return!1;{const w=f;if(this.getPriority().equals(w.getPriority())){if(this.children_.count()===w.children_.count()){const L=this.getIterator(Zr),ee=w.getIterator(Zr);let ue=L.getNext(),Xe=ee.getNext();for(;ue&&Xe;){if(ue.name!==Xe.name||!ue.node.equals(Xe.node))return!1;ue=L.getNext(),Xe=ee.getNext()}return null===ue&&null===Xe}return!1}return!1}}resolveIndex_(f){return f===Ur?null:this.indexMap_.get(f.toString())}}return _.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,_})();const Bs=new class wo extends gr{constructor(){super(new yr(Co),gr.EMPTY_NODE,to.Default)}compareTo(h){return h===this?0:1}equals(h){return h===this}getPriority(){return this}getImmediateChild(h){return gr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(dr,{MIN:{value:new dr(Pt,gr.EMPTY_NODE)},MAX:{value:new dr(Lt,Bs)}}),js.__EMPTY_NODE=gr.EMPTY_NODE,mo.__childrenNodeConstructor=gr,function Dl(_){Po=_}(Bs),function eo(_){Jo=_}(Bs);const Cc=!0;function rs(_,h=null){if(null===_)return gr.EMPTY_NODE;if("object"==typeof _&&".priority"in _&&(h=_[".priority"]),(0,oe.hu)(null===h||"string"==typeof h||"number"==typeof h||"object"==typeof h&&".sv"in h,"Invalid priority type found: "+typeof h),"object"==typeof _&&".value"in _&&null!==_[".value"]&&(_=_[".value"]),"object"!=typeof _||".sv"in _)return new mo(_,rs(h));if(_ instanceof Array||!Cc){let f=gr.EMPTY_NODE;return rt(_,(w,L)=>{if((0,oe.r3)(_,w)&&"."!==w.substring(0,1)){const ee=rs(L);(ee.isLeafNode()||!ee.isEmpty())&&(f=f.updateImmediateChild(w,ee))}}),f.updatePriority(rs(h))}{const f=[];let w=!1;if(rt(_,(ue,Xe)=>{if("."!==ue.substring(0,1)){const Ft=rs(Xe);Ft.isEmpty()||(w=w||!Ft.getPriority().isEmpty(),f.push(new dr(ue,Ft)))}}),0===f.length)return gr.EMPTY_NODE;const ee=nl(f,Xo,ue=>ue.name,Co);if(w){const ue=nl(f,Zr.getCompare());return new gr(ee,rs(h),new to({".priority":ue},{".priority":Zr}))}return new gr(ee,rs(h),to.Default)}}!function da(_){Ha=_}(rs);class cl extends Js{constructor(h){super(),this.indexPath_=h,(0,oe.hu)(!bt(h)&&".priority"!==Xi(h),"Can't create PathIndex with empty path or .priority key")}extractChild(h){return h.getChild(this.indexPath_)}isDefinedOn(h){return!h.getChild(this.indexPath_).isEmpty()}compare(h,f){const w=this.extractChild(h.node),L=this.extractChild(f.node),ee=w.compareTo(L);return 0===ee?Et(h.name,f.name):ee}makePost(h,f){const w=rs(h),L=gr.EMPTY_NODE.updateChild(this.indexPath_,w);return new dr(f,L)}maxPost(){const h=gr.EMPTY_NODE.updateChild(this.indexPath_,Bs);return new dr(Lt,h)}toString(){return _t(this.indexPath_,0).join("/")}}const Us=new class Ta extends Js{compare(h,f){const w=h.node.compareTo(f.node);return 0===w?Et(h.name,f.name):w}isDefinedOn(h){return!0}indexedValueChanged(h,f){return!h.equals(f)}minPost(){return dr.MIN}maxPost(){return dr.MAX}makePost(h,f){const w=rs(h);return new dr(f,w)}toString(){return".value"}};function Qo(_){return{type:"value",snapshotNode:_}}function ao(_,h){return{type:"child_added",snapshotNode:h,childName:_}}function Qr(_,h){return{type:"child_removed",snapshotNode:h,childName:_}}function To(_,h,f){return{type:"child_changed",snapshotNode:h,childName:_,oldSnap:f}}class ds{constructor(h){this.index_=h}updateChild(h,f,w,L,ee,ue){(0,oe.hu)(h.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Xe=h.getImmediateChild(f);return Xe.getChild(L).equals(w.getChild(L))&&Xe.isEmpty()===w.isEmpty()||(null!=ue&&(w.isEmpty()?h.hasChild(f)?ue.trackChildChange(Qr(f,Xe)):(0,oe.hu)(h.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Xe.isEmpty()?ue.trackChildChange(ao(f,w)):ue.trackChildChange(To(f,w,Xe))),h.isLeafNode()&&w.isEmpty())?h:h.updateImmediateChild(f,w).withIndex(this.index_)}updateFullNode(h,f,w){return null!=w&&(h.isLeafNode()||h.forEachChild(Zr,(L,ee)=>{f.hasChild(L)||w.trackChildChange(Qr(L,ee))}),f.isLeafNode()||f.forEachChild(Zr,(L,ee)=>{if(h.hasChild(L)){const ue=h.getImmediateChild(L);ue.equals(ee)||w.trackChildChange(To(L,ee,ue))}else w.trackChildChange(ao(L,ee))})),f.withIndex(this.index_)}updatePriority(h,f){return h.isEmpty()?gr.EMPTY_NODE:h.updatePriority(f)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class lo{constructor(h){this.indexedFilter_=new ds(h.getIndex()),this.index_=h.getIndex(),this.startPost_=lo.getStartPost_(h),this.endPost_=lo.getEndPost_(h),this.startIsInclusive_=!h.startAfterSet_,this.endIsInclusive_=!h.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(h){const f=this.startIsInclusive_?this.index_.compare(this.getStartPost(),h)<=0:this.index_.compare(this.getStartPost(),h)<0,w=this.endIsInclusive_?this.index_.compare(h,this.getEndPost())<=0:this.index_.compare(h,this.getEndPost())<0;return f&&w}updateChild(h,f,w,L,ee,ue){return this.matches(new dr(f,w))||(w=gr.EMPTY_NODE),this.indexedFilter_.updateChild(h,f,w,L,ee,ue)}updateFullNode(h,f,w){f.isLeafNode()&&(f=gr.EMPTY_NODE);let L=f.withIndex(this.index_);L=L.updatePriority(gr.EMPTY_NODE);const ee=this;return f.forEachChild(Zr,(ue,Xe)=>{ee.matches(new dr(ue,Xe))||(L=L.updateImmediateChild(ue,gr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(h,L,w)}updatePriority(h,f){return h}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(h){if(h.hasStart()){const f=h.getIndexStartName();return h.getIndex().makePost(h.getIndexStartValue(),f)}return h.getIndex().minPost()}static getEndPost_(h){if(h.hasEnd()){const f=h.getIndexEndName();return h.getIndex().makePost(h.getIndexEndValue(),f)}return h.getIndex().maxPost()}}class tc{constructor(h){this.withinDirectionalStart=f=>this.reverse_?this.withinEndPost(f):this.withinStartPost(f),this.withinDirectionalEnd=f=>this.reverse_?this.withinStartPost(f):this.withinEndPost(f),this.withinStartPost=f=>{const w=this.index_.compare(this.rangedFilter_.getStartPost(),f);return this.startIsInclusive_?w<=0:w<0},this.withinEndPost=f=>{const w=this.index_.compare(f,this.rangedFilter_.getEndPost());return this.endIsInclusive_?w<=0:w<0},this.rangedFilter_=new lo(h),this.index_=h.getIndex(),this.limit_=h.getLimit(),this.reverse_=!h.isViewFromLeft(),this.startIsInclusive_=!h.startAfterSet_,this.endIsInclusive_=!h.endBeforeSet_}updateChild(h,f,w,L,ee,ue){return this.rangedFilter_.matches(new dr(f,w))||(w=gr.EMPTY_NODE),h.getImmediateChild(f).equals(w)?h:h.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(h,f,w,L,ee,ue):this.fullLimitUpdateChild_(h,f,w,ee,ue)}updateFullNode(h,f,w){let L;if(f.isLeafNode()||f.isEmpty())L=gr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<f.numChildren()&&f.isIndexed(this.index_)){let ee;L=gr.EMPTY_NODE.withIndex(this.index_),ee=this.reverse_?f.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ue=0;for(;ee.hasNext()&&ue<this.limit_;){const Xe=ee.getNext();if(this.withinDirectionalStart(Xe)){if(!this.withinDirectionalEnd(Xe))break;L=L.updateImmediateChild(Xe.name,Xe.node),ue++}}}else{let ee;L=f.withIndex(this.index_),L=L.updatePriority(gr.EMPTY_NODE),ee=this.reverse_?L.getReverseIterator(this.index_):L.getIterator(this.index_);let ue=0;for(;ee.hasNext();){const Xe=ee.getNext();ue<this.limit_&&this.withinDirectionalStart(Xe)&&this.withinDirectionalEnd(Xe)?ue++:L=L.updateImmediateChild(Xe.name,gr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(h,L,w)}updatePriority(h,f){return h}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(h,f,w,L,ee){let ue;if(this.reverse_){const Kn=this.index_.getCompare();ue=(ti,ir)=>Kn(ir,ti)}else ue=this.index_.getCompare();const Xe=h;(0,oe.hu)(Xe.numChildren()===this.limit_,"");const Ft=new dr(f,w),tn=this.reverse_?Xe.getFirstChild(this.index_):Xe.getLastChild(this.index_),Gn=this.rangedFilter_.matches(Ft);if(Xe.hasChild(f)){const Kn=Xe.getImmediateChild(f);let ti=L.getChildAfterChild(this.index_,tn,this.reverse_);for(;null!=ti&&(ti.name===f||Xe.hasChild(ti.name));)ti=L.getChildAfterChild(this.index_,ti,this.reverse_);const ir=null==ti?1:ue(ti,Ft);if(Gn&&!w.isEmpty()&&ir>=0)return null!=ee&&ee.trackChildChange(To(f,w,Kn)),Xe.updateImmediateChild(f,w);{null!=ee&&ee.trackChildChange(Qr(f,Kn));const As=Xe.updateImmediateChild(f,gr.EMPTY_NODE);return null!=ti&&this.rangedFilter_.matches(ti)?(null!=ee&&ee.trackChildChange(ao(ti.name,ti.node)),As.updateImmediateChild(ti.name,ti.node)):As}}return w.isEmpty()?h:Gn&&ue(tn,Ft)>=0?(null!=ee&&(ee.trackChildChange(Qr(tn.name,tn.node)),ee.trackChildChange(ao(f,w))),Xe.updateImmediateChild(f,w).updateImmediateChild(tn.name,gr.EMPTY_NODE)):h}}class zr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,oe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,oe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,oe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,oe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,oe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zr}copy(){const h=new zr;return h.limitSet_=this.limitSet_,h.limit_=this.limit_,h.startSet_=this.startSet_,h.startAfterSet_=this.startAfterSet_,h.indexStartValue_=this.indexStartValue_,h.startNameSet_=this.startNameSet_,h.indexStartName_=this.indexStartName_,h.endSet_=this.endSet_,h.endBeforeSet_=this.endBeforeSet_,h.indexEndValue_=this.indexEndValue_,h.endNameSet_=this.endNameSet_,h.indexEndName_=this.indexEndName_,h.index_=this.index_,h.viewFrom_=this.viewFrom_,h}}function nc(_,h,f){const w=_.copy();return w.startSet_=!0,void 0===h&&(h=null),w.indexStartValue_=h,null!=f?(w.startNameSet_=!0,w.indexStartName_=f):(w.startNameSet_=!1,w.indexStartName_=""),w}function re(_,h,f){const w=_.copy();return w.endSet_=!0,void 0===h&&(h=null),w.indexEndValue_=h,void 0!==f?(w.endNameSet_=!0,w.indexEndName_=f):(w.endNameSet_=!1,w.indexEndName_=""),w}function J(_,h){const f=_.copy();return f.index_=h,f}function He(_){const h={};if(_.isDefault())return h;let f;if(_.index_===Zr?f="$priority":_.index_===Us?f="$value":_.index_===Ur?f="$key":((0,oe.hu)(_.index_ instanceof cl,"Unrecognized index type!"),f=_.index_.toString()),h.orderBy=(0,oe.Wl)(f),_.startSet_){const w=_.startAfterSet_?"startAfter":"startAt";h[w]=(0,oe.Wl)(_.indexStartValue_),_.startNameSet_&&(h[w]+=","+(0,oe.Wl)(_.indexStartName_))}if(_.endSet_){const w=_.endBeforeSet_?"endBefore":"endAt";h[w]=(0,oe.Wl)(_.indexEndValue_),_.endNameSet_&&(h[w]+=","+(0,oe.Wl)(_.indexEndName_))}return _.limitSet_&&(_.isViewFromLeft()?h.limitToFirst=_.limit_:h.limitToLast=_.limit_),h}function En(_){const h={};if(_.startSet_&&(h.sp=_.indexStartValue_,_.startNameSet_&&(h.sn=_.indexStartName_),h.sin=!_.startAfterSet_),_.endSet_&&(h.ep=_.indexEndValue_,_.endNameSet_&&(h.en=_.indexEndName_),h.ein=!_.endBeforeSet_),_.limitSet_){h.l=_.limit_;let f=_.viewFrom_;""===f&&(f=_.isViewFromLeft()?"l":"r"),h.vf=f}return _.index_!==Zr&&(h.i=_.index_.toString()),h}class Oi extends Jr{constructor(h,f,w,L){super(),this.repoInfo_=h,this.onDataUpdate_=f,this.authTokenProvider_=w,this.appCheckTokenProvider_=L,this.log_=Ut("p:rest:"),this.listens_={}}reportStats(h){throw new Error("Method not implemented.")}static getListenId_(h,f){return void 0!==f?"tag$"+f:((0,oe.hu)(h._queryParams.isDefault(),"should have a tag if it's not a default query."),h._path.toString())}listen(h,f,w,L){const ee=h._path.toString();this.log_("Listen called for "+ee+" "+h._queryIdentifier);const ue=Oi.getListenId_(h,w),Xe={};this.listens_[ue]=Xe;const Ft=He(h._queryParams);this.restRequest_(ee+".json",Ft,(tn,Gn)=>{let Kn=Gn;if(404===tn&&(Kn=null,tn=null),null===tn&&this.onDataUpdate_(ee,Kn,!1,w),(0,oe.DV)(this.listens_,ue)===Xe){let ti;ti=tn?401===tn?"permission_denied":"rest_error:"+tn:"ok",L(ti,null)}})}unlisten(h,f){const w=Oi.getListenId_(h,f);delete this.listens_[w]}get(h){const f=He(h._queryParams),w=h._path.toString(),L=new oe.BH;return this.restRequest_(w+".json",f,(ee,ue)=>{let Xe=ue;404===ee&&(Xe=null,ee=null),null===ee?(this.onDataUpdate_(w,Xe,!1,null),L.resolve(Xe)):L.reject(new Error(Xe))}),L.promise}refreshAuthToken(h){}restRequest_(h,f={},w){return f.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([L,ee])=>{L&&L.accessToken&&(f.auth=L.accessToken),ee&&ee.token&&(f.ac=ee.token);const ue=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+h+"?ns="+this.repoInfo_.namespace+(0,oe.xO)(f);this.log_("Sending REST request for "+ue);const Xe=new XMLHttpRequest;Xe.onreadystatechange=()=>{if(w&&4===Xe.readyState){this.log_("REST Response for "+ue+" received. status:",Xe.status,"response:",Xe.responseText);let Ft=null;if(Xe.status>=200&&Xe.status<300){try{Ft=(0,oe.cI)(Xe.responseText)}catch(tn){nt("Failed to parse JSON response for "+ue+": "+Xe.responseText)}w(null,Ft)}else 401!==Xe.status&&404!==Xe.status&&nt("Got unsuccessful REST response for "+ue+" Status: "+Xe.status),w(Xe.status);w=null}},Xe.open("GET",ue,!0),Xe.send()})}}class Ji{constructor(){this.rootNode_=gr.EMPTY_NODE}getNode(h){return this.rootNode_.getChild(h)}updateSnapshot(h,f){this.rootNode_=this.rootNode_.updateChild(h,f)}}function _r(){return{value:null,children:new Map}}function Nr(_,h,f){if(bt(h))_.value=f,_.children.clear();else if(null!==_.value)_.value=_.value.updateChild(h,f);else{const w=Xi(h);_.children.has(w)||_.children.set(w,_r()),Nr(_.children.get(w),h=Q(h),f)}}function bs(_,h){if(bt(h))return _.value=null,_.children.clear(),!0;if(null!==_.value){if(_.value.isLeafNode())return!1;{const f=_.value;return _.value=null,f.forEachChild(Zr,(w,L)=>{Nr(_,new Wi(w),L)}),bs(_,h)}}if(_.children.size>0){const f=Xi(h);return h=Q(h),_.children.has(f)&&bs(_.children.get(f),h)&&_.children.delete(f),0===_.children.size}return!0}function ss(_,h,f){null!==_.value?f(h,_.value):function W(_,h){_.children.forEach((f,w)=>{h(w,f)})}(_,(w,L)=>{ss(L,new Wi(h.toString()+"/"+w),f)})}class K{constructor(h){this.collection_=h,this.last_=null}get(){const h=this.collection_.get(),f=Object.assign({},h);return this.last_&&rt(this.last_,(w,L)=>{f[w]=f[w]-L}),this.last_=h,f}}class zi{constructor(h,f){this.server_=f,this.statsToReport_={},this.statsListener_=new K(h);const w=1e4+2e4*Math.random();si(this.reportStats_.bind(this),Math.floor(w))}reportStats_(){const h=this.statsListener_.get(),f={};let w=!1;rt(h,(L,ee)=>{ee>0&&(0,oe.r3)(this.statsToReport_,L)&&(f[L]=ee,w=!0)}),w&&this.server_.reportStats(f),si(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var br=(()=>{return(_=br||(br={}))[_.OVERWRITE=0]="OVERWRITE",_[_.MERGE=1]="MERGE",_[_.ACK_USER_WRITE=2]="ACK_USER_WRITE",_[_.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",br;var _})();function ea(_){return{fromUser:!1,fromServer:!0,queryId:_,tagged:!0}}class Ia{constructor(h,f,w){this.path=h,this.affectedTree=f,this.revert=w,this.type=br.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(h){if(bt(this.path)){if(null!=this.affectedTree.value)return(0,oe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const f=this.affectedTree.subtree(new Wi(h));return new Ia(or(),f,this.revert)}}return(0,oe.hu)(Xi(this.path)===h,"operationForChild called for unrelated child."),new Ia(Q(this.path),this.affectedTree,this.revert)}}class ga{constructor(h,f){this.source=h,this.path=f,this.type=br.LISTEN_COMPLETE}operationForChild(h){return bt(this.path)?new ga(this.source,or()):new ga(this.source,Q(this.path))}}class Uo{constructor(h,f,w){this.source=h,this.path=f,this.snap=w,this.type=br.OVERWRITE}operationForChild(h){return bt(this.path)?new Uo(this.source,or(),this.snap.getImmediateChild(h)):new Uo(this.source,Q(this.path),this.snap)}}class zs{constructor(h,f,w){this.source=h,this.path=f,this.children=w,this.type=br.MERGE}operationForChild(h){if(bt(this.path)){const f=this.children.subtree(new Wi(h));return f.isEmpty()?null:f.value?new Uo(this.source,or(),f.value):new zs(this.source,or(),f)}return(0,oe.hu)(Xi(this.path)===h,"Can't get a merge for a child not on the path of the operation"),new zs(this.source,Q(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class cs{constructor(h,f,w){this.node_=h,this.fullyInitialized_=f,this.filtered_=w}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(h){if(bt(h))return this.isFullyInitialized()&&!this.filtered_;const f=Xi(h);return this.isCompleteForChild(f)}isCompleteForChild(h){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(h)}getNode(){return this.node_}}class Al{constructor(h){this.query_=h,this.index_=this.query_._queryParams.getIndex()}}function Vo(_,h,f,w,L,ee){const ue=w.filter(Xe=>Xe.type===f);ue.sort((Xe,Ft)=>function ma(_,h,f){if(null==h.childName||null==f.childName)throw(0,oe.g5)("Should only compare child_ events.");const w=new dr(h.childName,h.snapshotNode),L=new dr(f.childName,f.snapshotNode);return _.index_.compare(w,L)}(_,Xe,Ft)),ue.forEach(Xe=>{const Ft=function ic(_,h,f){return"value"===h.type||"child_removed"===h.type||(h.prevName=f.getPredecessorChildName(h.childName,h.snapshotNode,_.index_)),h}(_,Xe,ee);L.forEach(tn=>{tn.respondsTo(Xe.type)&&h.push(tn.createEvent(Ft,_.query_))})})}function Ws(_,h){return{eventCache:_,serverCache:h}}function Bl(_,h,f,w){return Ws(new cs(h,f,w),_.serverCache)}function Ga(_,h,f,w){return Ws(_.eventCache,new cs(h,f,w))}function _a(_){return _.eventCache.isFullyInitialized()?_.eventCache.getNode():null}function Da(_){return _.serverCache.isFullyInitialized()?_.serverCache.getNode():null}let rc;class fs{constructor(h,f=(()=>(rc||(rc=new yr(it)),rc))()){this.value=h,this.children=f}static fromObject(h){let f=new fs(null);return rt(h,(w,L)=>{f=f.set(new Wi(w),L)}),f}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(h,f){if(null!=this.value&&f(this.value))return{path:or(),value:this.value};if(bt(h))return null;{const w=Xi(h),L=this.children.get(w);if(null!==L){const ee=L.findRootMostMatchingPathAndValue(Q(h),f);return null!=ee?{path:Ae(new Wi(w),ee.path),value:ee.value}:null}return null}}findRootMostValueAndPath(h){return this.findRootMostMatchingPathAndValue(h,()=>!0)}subtree(h){if(bt(h))return this;{const f=Xi(h),w=this.children.get(f);return null!==w?w.subtree(Q(h)):new fs(null)}}set(h,f){if(bt(h))return new fs(f,this.children);{const w=Xi(h),ee=(this.children.get(w)||new fs(null)).set(Q(h),f),ue=this.children.insert(w,ee);return new fs(this.value,ue)}}remove(h){if(bt(h))return this.children.isEmpty()?new fs(null):new fs(null,this.children);{const f=Xi(h),w=this.children.get(f);if(w){const L=w.remove(Q(h));let ee;return ee=L.isEmpty()?this.children.remove(f):this.children.insert(f,L),null===this.value&&ee.isEmpty()?new fs(null):new fs(this.value,ee)}return this}}get(h){if(bt(h))return this.value;{const f=Xi(h),w=this.children.get(f);return w?w.get(Q(h)):null}}setTree(h,f){if(bt(h))return f;{const w=Xi(h),ee=(this.children.get(w)||new fs(null)).setTree(Q(h),f);let ue;return ue=ee.isEmpty()?this.children.remove(w):this.children.insert(w,ee),new fs(this.value,ue)}}fold(h){return this.fold_(or(),h)}fold_(h,f){const w={};return this.children.inorderTraversal((L,ee)=>{w[L]=ee.fold_(Ae(h,L),f)}),f(h,this.value,w)}findOnPath(h,f){return this.findOnPath_(h,or(),f)}findOnPath_(h,f,w){const L=!!this.value&&w(f,this.value);if(L)return L;if(bt(h))return null;{const ee=Xi(h),ue=this.children.get(ee);return ue?ue.findOnPath_(Q(h),Ae(f,ee),w):null}}foreachOnPath(h,f){return this.foreachOnPath_(h,or(),f)}foreachOnPath_(h,f,w){if(bt(h))return this;{this.value&&w(f,this.value);const L=Xi(h),ee=this.children.get(L);return ee?ee.foreachOnPath_(Q(h),Ae(f,L),w):new fs(null)}}foreach(h){this.foreach_(or(),h)}foreach_(h,f){this.children.inorderTraversal((w,L)=>{L.foreach_(Ae(h,w),f)}),this.value&&f(h,this.value)}foreachChild(h){this.children.inorderTraversal((f,w)=>{w.value&&h(f,w.value)})}}class Ho{constructor(h){this.writeTree_=h}static empty(){return new Ho(new fs(null))}}function sc(_,h,f){if(bt(h))return new Ho(new fs(f));{const w=_.writeTree_.findRootMostValueAndPath(h);if(null!=w){const L=w.path;let ee=w.value;const ue=Xt(L,h);return ee=ee.updateChild(ue,f),new Ho(_.writeTree_.set(L,ee))}{const L=new fs(f),ee=_.writeTree_.setTree(h,L);return new Ho(ee)}}}function Ul(_,h,f){let w=_;return rt(f,(L,ee)=>{w=sc(w,Ae(h,L),ee)}),w}function Vl(_,h){if(bt(h))return Ho.empty();{const f=_.writeTree_.setTree(h,new fs(null));return new Ho(f)}}function qc(_,h){return null!=za(_,h)}function za(_,h){const f=_.writeTree_.findRootMostValueAndPath(h);return null!=f?_.writeTree_.get(f.path).getChild(Xt(f.path,h)):null}function go(_){const h=[],f=_.writeTree_.value;return null!=f?f.isLeafNode()||f.forEachChild(Zr,(w,L)=>{h.push(new dr(w,L))}):_.writeTree_.children.inorderTraversal((w,L)=>{null!=L.value&&h.push(new dr(w,L.value))}),h}function Sa(_,h){if(bt(h))return _;{const f=za(_,h);return new Ho(null!=f?new fs(f):_.writeTree_.subtree(h))}}function ks(_){return _.writeTree_.isEmpty()}function _o(_,h){return us(or(),_.writeTree_,h)}function us(_,h,f){if(null!=h.value)return f.updateChild(_,h.value);{let w=null;return h.children.inorderTraversal((L,ee)=>{".priority"===L?((0,oe.hu)(null!==ee.value,"Priority writes must always be leaf nodes"),w=ee.value):f=us(Ae(_,L),ee,f)}),!f.getChild(_).isEmpty()&&null!==w&&(f=f.updateChild(Ae(_,".priority"),w)),f}}function di(_,h){return Hr(h,_)}function tr(_,h){if(_.snap)return li(_.path,h);for(const f in _.children)if(_.children.hasOwnProperty(f)&&li(Ae(_.path,f),h))return!0;return!1}function Fi(_){return _.visible}function An(_,h,f){let w=Ho.empty();for(let L=0;L<_.length;++L){const ee=_[L];if(h(ee)){const ue=ee.path;let Xe;if(ee.snap)li(f,ue)?(Xe=Xt(f,ue),w=sc(w,Xe,ee.snap)):li(ue,f)&&(Xe=Xt(ue,f),w=sc(w,or(),ee.snap.getChild(Xe)));else{if(!ee.children)throw(0,oe.g5)("WriteRecord should have .snap or .children");if(li(f,ue))Xe=Xt(f,ue),w=Ul(w,Xe,ee.children);else if(li(ue,f))if(Xe=Xt(ue,f),bt(Xe))w=Ul(w,or(),ee.children);else{const Ft=(0,oe.DV)(ee.children,Xi(Xe));if(Ft){const tn=Ft.getChild(Q(Xe));w=sc(w,or(),tn)}}}}}return w}function B(_,h,f,w,L){if(w||L){const ee=Sa(_.visibleWrites,h);return!L&&ks(ee)?f:L||null!=f||qc(ee,or())?_o(An(_.allWrites,function(tn){return(tn.visible||L)&&(!w||!~w.indexOf(tn.writeId))&&(li(tn.path,h)||li(h,tn.path))},h),f||gr.EMPTY_NODE):null}{const ee=za(_.visibleWrites,h);if(null!=ee)return ee;{const ue=Sa(_.visibleWrites,h);return ks(ue)?f:null!=f||qc(ue,or())?_o(ue,f||gr.EMPTY_NODE):null}}}function Hi(_,h,f,w){return B(_.writeTree,_.treePath,h,f,w)}function kr(_,h){return function ce(_,h,f){let w=gr.EMPTY_NODE;const L=za(_.visibleWrites,h);if(L)return L.isLeafNode()||L.forEachChild(Zr,(ee,ue)=>{w=w.updateImmediateChild(ee,ue)}),w;if(f){const ee=Sa(_.visibleWrites,h);return f.forEachChild(Zr,(ue,Xe)=>{const Ft=_o(Sa(ee,new Wi(ue)),Xe);w=w.updateImmediateChild(ue,Ft)}),go(ee).forEach(ue=>{w=w.updateImmediateChild(ue.name,ue.node)}),w}return go(Sa(_.visibleWrites,h)).forEach(ue=>{w=w.updateImmediateChild(ue.name,ue.node)}),w}(_.writeTree,_.treePath,h)}function Fr(_,h,f,w){return function X(_,h,f,w,L){(0,oe.hu)(w||L,"Either existingEventSnap or existingServerSnap must exist");const ee=Ae(h,f);if(qc(_.visibleWrites,ee))return null;{const ue=Sa(_.visibleWrites,ee);return ks(ue)?L.getChild(f):_o(ue,L.getChild(f))}}(_.writeTree,_.treePath,h,f,w)}function cr(_,h){return function Dt(_,h){return za(_.visibleWrites,h)}(_.writeTree,Ae(_.treePath,h))}function Er(_,h,f){return function Me(_,h,f,w){const L=Ae(h,f),ee=za(_.visibleWrites,L);return null!=ee?ee:w.isCompleteForChild(f)?_o(Sa(_.visibleWrites,L),w.getNode().getImmediateChild(f)):null}(_.writeTree,_.treePath,h,f)}function Ui(_,h){return Hr(Ae(_.treePath,h),_.writeTree)}function Hr(_,h){return{treePath:_,writeTree:h}}class va{constructor(){this.changeMap=new Map}trackChildChange(h){const f=h.type,w=h.childName;(0,oe.hu)("child_added"===f||"child_changed"===f||"child_removed"===f,"Only child changes supported for tracking"),(0,oe.hu)(".priority"!==w,"Only non-priority child changes can be tracked.");const L=this.changeMap.get(w);if(L){const ee=L.type;if("child_added"===f&&"child_removed"===ee)this.changeMap.set(w,To(w,h.snapshotNode,L.snapshotNode));else if("child_removed"===f&&"child_added"===ee)this.changeMap.delete(w);else if("child_removed"===f&&"child_changed"===ee)this.changeMap.set(w,Qr(w,L.oldSnap));else if("child_changed"===f&&"child_added"===ee)this.changeMap.set(w,ao(w,h.snapshotNode));else{if("child_changed"!==f||"child_changed"!==ee)throw(0,oe.g5)("Illegal combination of changes: "+h+" occurred after "+L);this.changeMap.set(w,To(w,h.snapshotNode,L.oldSnap))}}else this.changeMap.set(w,h)}getChanges(){return Array.from(this.changeMap.values())}}const nr=new class Lr{getCompleteChild(h){return null}getChildAfterChild(h,f,w){return null}};class Is{constructor(h,f,w=null){this.writes_=h,this.viewCache_=f,this.optCompleteServerCache_=w}getCompleteChild(h){const f=this.viewCache_.eventCache;if(f.isCompleteForChild(h))return f.getNode().getImmediateChild(h);{const w=null!=this.optCompleteServerCache_?new cs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Er(this.writes_,h,w)}}getChildAfterChild(h,f,w){const L=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Da(this.viewCache_),ee=function ar(_,h,f,w,L,ee){return function Nn(_,h,f,w,L,ee,ue){let Xe;const Ft=Sa(_.visibleWrites,h),tn=za(Ft,or());if(null!=tn)Xe=tn;else{if(null==f)return[];Xe=_o(Ft,f)}if(Xe=Xe.withIndex(ue),Xe.isEmpty()||Xe.isLeafNode())return[];{const Gn=[],Kn=ue.getCompare(),ti=ee?Xe.getReverseIteratorFrom(w,ue):Xe.getIteratorFrom(w,ue);let ir=ti.getNext();for(;ir&&Gn.length<L;)0!==Kn(ir,w)&&Gn.push(ir),ir=ti.getNext();return Gn}}(_.writeTree,_.treePath,h,f,w,L,ee)}(this.writes_,L,f,1,w,h);return 0===ee.length?null:ee[0]}}function Aa(_,h,f,w,L,ee){const ue=h.eventCache;if(null!=cr(w,f))return h;{let Xe,Ft;if(bt(f))if((0,oe.hu)(h.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),h.serverCache.isFiltered()){const tn=Da(h),Kn=kr(w,tn instanceof gr?tn:gr.EMPTY_NODE);Xe=_.filter.updateFullNode(h.eventCache.getNode(),Kn,ee)}else{const tn=Hi(w,Da(h));Xe=_.filter.updateFullNode(h.eventCache.getNode(),tn,ee)}else{const tn=Xi(f);if(".priority"===tn){(0,oe.hu)(1===sn(f),"Can't have a priority with additional path components");const Gn=ue.getNode();Ft=h.serverCache.getNode();const Kn=Fr(w,f,Gn,Ft);Xe=null!=Kn?_.filter.updatePriority(Gn,Kn):ue.getNode()}else{const Gn=Q(f);let Kn;if(ue.isCompleteForChild(tn)){Ft=h.serverCache.getNode();const ti=Fr(w,f,ue.getNode(),Ft);Kn=null!=ti?ue.getNode().getImmediateChild(tn).updateChild(Gn,ti):ue.getNode().getImmediateChild(tn)}else Kn=Er(w,tn,h.serverCache);Xe=null!=Kn?_.filter.updateChild(ue.getNode(),tn,Kn,Gn,L,ee):ue.getNode()}}return Bl(h,Xe,ue.isFullyInitialized()||bt(f),_.filter.filtersNodes())}}function Hl(_,h,f,w,L,ee,ue,Xe){const Ft=h.serverCache;let tn;const Gn=ue?_.filter:_.filter.getIndexedFilter();if(bt(f))tn=Gn.updateFullNode(Ft.getNode(),w,null);else if(Gn.filtersNodes()&&!Ft.isFiltered()){const ir=Ft.getNode().updateChild(f,w);tn=Gn.updateFullNode(Ft.getNode(),ir,null)}else{const ir=Xi(f);if(!Ft.isCompleteForPath(f)&&sn(f)>1)return h;const Cr=Q(f),ba=Ft.getNode().getImmediateChild(ir).updateChild(Cr,w);tn=".priority"===ir?Gn.updatePriority(Ft.getNode(),ba):Gn.updateChild(Ft.getNode(),ir,ba,Cr,nr,null)}const Kn=Ga(h,tn,Ft.isFullyInitialized()||bt(f),Gn.filtersNodes());return Aa(_,Kn,f,L,new Is(L,Kn,ee),Xe)}function Ma(_,h,f,w,L,ee,ue){const Xe=h.eventCache;let Ft,tn;const Gn=new Is(L,h,ee);if(bt(f))tn=_.filter.updateFullNode(h.eventCache.getNode(),w,ue),Ft=Bl(h,tn,!0,_.filter.filtersNodes());else{const Kn=Xi(f);if(".priority"===Kn)tn=_.filter.updatePriority(h.eventCache.getNode(),w),Ft=Bl(h,tn,Xe.isFullyInitialized(),Xe.isFiltered());else{const ti=Q(f),ir=Xe.getNode().getImmediateChild(Kn);let Cr;if(bt(ti))Cr=w;else{const As=Gn.getCompleteChild(Kn);Cr=null!=As?".priority"===de(ti)&&As.getChild(Gt(ti)).isEmpty()?As:As.updateChild(ti,w):gr.EMPTY_NODE}Ft=ir.equals(Cr)?h:Bl(h,_.filter.updateChild(Xe.getNode(),Kn,Cr,ti,Gn,ue),Xe.isFullyInitialized(),_.filter.filtersNodes())}}return Ft}function co(_,h){return _.eventCache.isCompleteForChild(h)}function Wa(_,h,f){return f.foreach((w,L)=>{h=h.updateChild(w,L)}),h}function lc(_,h,f,w,L,ee,ue,Xe){if(h.serverCache.getNode().isEmpty()&&!h.serverCache.isFullyInitialized())return h;let tn,Ft=h;tn=bt(f)?w:new fs(null).setTree(f,w);const Gn=h.serverCache.getNode();return tn.children.inorderTraversal((Kn,ti)=>{if(Gn.hasChild(Kn)){const Cr=Wa(0,h.serverCache.getNode().getImmediateChild(Kn),ti);Ft=Hl(_,Ft,new Wi(Kn),Cr,L,ee,ue,Xe)}}),tn.children.inorderTraversal((Kn,ti)=>{const ir=!h.serverCache.isCompleteForChild(Kn)&&null===ti.value;if(!Gn.hasChild(Kn)&&!ir){const As=Wa(0,h.serverCache.getNode().getImmediateChild(Kn),ti);Ft=Hl(_,Ft,new Wi(Kn),As,L,ee,ue,Xe)}}),Ft}class wc{constructor(h,f){this.query_=h,this.eventRegistrations_=[];const w=this.query_._queryParams,L=new ds(w.getIndex()),ee=function Gs(_){return _.loadsAllData()?new ds(_.getIndex()):_.hasLimit()?new tc(_):new lo(_)}(w);this.processor_=function Ar(_){return{filter:_}}(ee);const ue=f.serverCache,Xe=f.eventCache,Ft=L.updateFullNode(gr.EMPTY_NODE,ue.getNode(),null),tn=ee.updateFullNode(gr.EMPTY_NODE,Xe.getNode(),null),Gn=new cs(Ft,ue.isFullyInitialized(),L.filtersNodes()),Kn=new cs(tn,Xe.isFullyInitialized(),ee.filtersNodes());this.viewCache_=Ws(Kn,Gn),this.eventGenerator_=new Al(this.query_)}get query(){return this.query_}}function hl(_,h){const f=Da(_.viewCache_);return f&&(_.query._queryParams.loadsAllData()||!bt(h)&&!f.getImmediateChild(Xi(h)).isEmpty())?f.getChild(h):null}function cc(_){return 0===_.eventRegistrations_.length}function xl(_,h,f){const w=[];if(f){(0,oe.hu)(null==h,"A cancel should cancel all event registrations.");const L=_.query._path;_.eventRegistrations_.forEach(ee=>{const ue=ee.createCancelEvent(f,L);ue&&w.push(ue)})}if(h){let L=[];for(let ee=0;ee<_.eventRegistrations_.length;++ee){const ue=_.eventRegistrations_[ee];if(ue.matches(h)){if(h.hasAnyCallback()){L=L.concat(_.eventRegistrations_.slice(ee+1));break}}else L.push(ue)}_.eventRegistrations_=L}else _.eventRegistrations_=[];return w}function rl(_,h,f,w){h.type===br.MERGE&&null!==h.source.queryId&&((0,oe.hu)(Da(_.viewCache_),"We should always have a full cache before handling merges"),(0,oe.hu)(_a(_.viewCache_),"Missing event cache, even though we have a server cache"));const L=_.viewCache_,ee=function os(_,h,f,w,L){const ee=new va;let ue,Xe;if(f.type===br.OVERWRITE){const tn=f;tn.source.fromUser?ue=Ma(_,h,tn.path,tn.snap,w,L,ee):((0,oe.hu)(tn.source.fromServer,"Unknown source."),Xe=tn.source.tagged||h.serverCache.isFiltered()&&!bt(tn.path),ue=Hl(_,h,tn.path,tn.snap,w,L,Xe,ee))}else if(f.type===br.MERGE){const tn=f;tn.source.fromUser?ue=function ac(_,h,f,w,L,ee,ue){let Xe=h;return w.foreach((Ft,tn)=>{const Gn=Ae(f,Ft);co(h,Xi(Gn))&&(Xe=Ma(_,Xe,Gn,tn,L,ee,ue))}),w.foreach((Ft,tn)=>{const Gn=Ae(f,Ft);co(h,Xi(Gn))||(Xe=Ma(_,Xe,Gn,tn,L,ee,ue))}),Xe}(_,h,tn.path,tn.children,w,L,ee):((0,oe.hu)(tn.source.fromServer,"Unknown source."),Xe=tn.source.tagged||h.serverCache.isFiltered(),ue=lc(_,h,tn.path,tn.children,w,L,Xe,ee))}else if(f.type===br.ACK_USER_WRITE){const tn=f;ue=tn.revert?function Oa(_,h,f,w,L,ee){let ue;if(null!=cr(w,f))return h;{const Xe=new Is(w,h,L),Ft=h.eventCache.getNode();let tn;if(bt(f)||".priority"===Xi(f)){let Gn;if(h.serverCache.isFullyInitialized())Gn=Hi(w,Da(h));else{const Kn=h.serverCache.getNode();(0,oe.hu)(Kn instanceof gr,"serverChildren would be complete if leaf node"),Gn=kr(w,Kn)}tn=_.filter.updateFullNode(Ft,Gn,ee)}else{const Gn=Xi(f);let Kn=Er(w,Gn,h.serverCache);null==Kn&&h.serverCache.isCompleteForChild(Gn)&&(Kn=Ft.getImmediateChild(Gn)),tn=null!=Kn?_.filter.updateChild(Ft,Gn,Kn,Q(f),Xe,ee):h.eventCache.getNode().hasChild(Gn)?_.filter.updateChild(Ft,Gn,gr.EMPTY_NODE,Q(f),Xe,ee):Ft,tn.isEmpty()&&h.serverCache.isFullyInitialized()&&(ue=Hi(w,Da(h)),ue.isLeafNode()&&(tn=_.filter.updateFullNode(tn,ue,ee)))}return ue=h.serverCache.isFullyInitialized()||null!=cr(w,or()),Bl(h,tn,ue,_.filter.filtersNodes())}}(_,h,tn.path,w,L,ee):function xa(_,h,f,w,L,ee,ue){if(null!=cr(L,f))return h;const Xe=h.serverCache.isFiltered(),Ft=h.serverCache;if(null!=w.value){if(bt(f)&&Ft.isFullyInitialized()||Ft.isCompleteForPath(f))return Hl(_,h,f,Ft.getNode().getChild(f),L,ee,Xe,ue);if(bt(f)){let tn=new fs(null);return Ft.getNode().forEachChild(Ur,(Gn,Kn)=>{tn=tn.set(new Wi(Gn),Kn)}),lc(_,h,f,tn,L,ee,Xe,ue)}return h}{let tn=new fs(null);return w.foreach((Gn,Kn)=>{const ti=Ae(f,Gn);Ft.isCompleteForPath(ti)&&(tn=tn.set(Gn,Ft.getNode().getChild(ti)))}),lc(_,h,f,tn,L,ee,Xe,ue)}}(_,h,tn.path,tn.affectedTree,w,L,ee)}else{if(f.type!==br.LISTEN_COMPLETE)throw(0,oe.g5)("Unknown operation type: "+f.type);ue=function Xc(_,h,f,w,L){const ee=h.serverCache;return Aa(_,Ga(h,ee.getNode(),ee.isFullyInitialized()||bt(f),ee.isFiltered()),f,w,nr,L)}(_,h,f.path,w,ee)}const Ft=ee.getChanges();return function ki(_,h,f){const w=h.eventCache;if(w.isFullyInitialized()){const L=w.getNode().isLeafNode()||w.getNode().isEmpty(),ee=_a(_);(f.length>0||!_.eventCache.isFullyInitialized()||L&&!w.getNode().equals(ee)||!w.getNode().getPriority().equals(ee.getPriority()))&&f.push(Qo(_a(h)))}}(h,ue,Ft),{viewCache:ue,changes:Ft}}(_.processor_,L,h,f,w);return function oc(_,h){(0,oe.hu)(h.eventCache.getNode().isIndexed(_.filter.getIndex()),"Event snap not indexed"),(0,oe.hu)(h.serverCache.getNode().isIndexed(_.filter.getIndex()),"Server snap not indexed")}(_.processor_,ee.viewCache),(0,oe.hu)(ee.viewCache.serverCache.isFullyInitialized()||!L.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),_.viewCache_=ee.viewCache,Ya(_,ee.changes,ee.viewCache.eventCache.getNode(),null)}function Ya(_,h,f,w){return function ja(_,h,f,w){const L=[],ee=[];return h.forEach(ue=>{"child_changed"===ue.type&&_.index_.indexedValueChanged(ue.oldSnap,ue.snapshotNode)&&ee.push(function Ps(_,h){return{type:"child_moved",snapshotNode:h,childName:_}}(ue.childName,ue.snapshotNode))}),Vo(_,L,"child_removed",h,w,f),Vo(_,L,"child_added",h,w,f),Vo(_,L,"child_moved",ee,w,f),Vo(_,L,"child_changed",h,w,f),Vo(_,L,"value",h,w,f),L}(_.eventGenerator_,h,f,w?[w]:_.eventRegistrations_)}let fl,pl;class Pc{constructor(){this.views=new Map}}function qa(_,h,f,w){const L=h.source.queryId;if(null!==L){const ee=_.views.get(L);return(0,oe.hu)(null!=ee,"SyncTree gave us an op for an invalid query."),rl(ee,h,f,w)}{let ee=[];for(const ue of _.views.values())ee=ee.concat(rl(ue,h,f,w));return ee}}function uc(_,h,f,w,L){const ue=_.views.get(h._queryIdentifier);if(!ue){let Xe=Hi(f,L?w:null),Ft=!1;Xe?Ft=!0:w instanceof gr?(Xe=kr(f,w),Ft=!1):(Xe=gr.EMPTY_NODE,Ft=!1);const tn=Ws(new cs(Xe,Ft,!1),new cs(w,L,!1));return new wc(h,tn)}return ue}function dc(_){const h=[];for(const f of _.views.values())f.query._queryParams.loadsAllData()||h.push(f);return h}function Za(_,h){let f=null;for(const w of _.views.values())f=f||hl(w,h);return f}function kc(_,h){return h._queryParams.loadsAllData()?Pa(_):_.views.get(h._queryIdentifier)}function Na(_,h){return null!=kc(_,h)}function Go(_){return null!=Pa(_)}function Pa(_){for(const h of _.views.values())if(h.query._queryParams.loadsAllData())return h;return null}let Mr=1;class Ic{constructor(h){this.listenProvider_=h,this.syncPointTree_=new fs(null),this.pendingWriteTree_=function Fn(){return{visibleWrites:Ho.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jc(_,h,f,w,L){return function no(_,h,f,w,L){(0,oe.hu)(w>_.lastWriteId,"Stacking an older write on top of newer ones"),void 0===L&&(L=!0),_.allWrites.push({path:h,snap:f,writeId:w,visible:L}),L&&(_.visibleWrites=sc(_.visibleWrites,h,f)),_.lastWriteId=w}(_.pendingWriteTree_,h,f,w,L),L?Es(_,new Uo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},h,f)):[]}function fc(_,h,f=!1){const w=function Zc(_,h){for(let f=0;f<_.allWrites.length;f++){const w=_.allWrites[f];if(w.writeId===h)return w}return null}(_.pendingWriteTree_,h);if(function Qi(_,h){const f=_.allWrites.findIndex(Xe=>Xe.writeId===h);(0,oe.hu)(f>=0,"removeWrite called with nonexistent writeId.");const w=_.allWrites[f];_.allWrites.splice(f,1);let L=w.visible,ee=!1,ue=_.allWrites.length-1;for(;L&&ue>=0;){const Xe=_.allWrites[ue];Xe.visible&&(ue>=f&&tr(Xe,w.path)?L=!1:li(w.path,Xe.path)&&(ee=!0)),ue--}return!!L&&(ee?(function Ml(_){_.visibleWrites=An(_.allWrites,Fi,or()),_.lastWriteId=_.allWrites.length>0?_.allWrites[_.allWrites.length-1].writeId:-1}(_),!0):(w.snap?_.visibleWrites=Vl(_.visibleWrites,w.path):rt(w.children,Ft=>{_.visibleWrites=Vl(_.visibleWrites,Ae(w.path,Ft))}),!0))}(_.pendingWriteTree_,h)){let ee=new fs(null);return null!=w.snap?ee=ee.set(or(),!0):rt(w.children,ue=>{ee=ee.set(new Wi(ue),!0)}),Es(_,new Ia(w.path,ee,f))}return[]}function ta(_,h,f){return Es(_,new Uo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h,f))}function pu(_,h,f,w,L=!1){const ee=h._path,ue=_.syncPointTree_.get(ee);let Xe=[];if(ue&&("default"===h._queryIdentifier||Na(ue,h))){const Ft=function jl(_,h,f,w){const L=h._queryIdentifier,ee=[];let ue=[];const Xe=Go(_);if("default"===L)for(const[Ft,tn]of _.views.entries())ue=ue.concat(xl(tn,f,w)),cc(tn)&&(_.views.delete(Ft),tn.query._queryParams.loadsAllData()||ee.push(tn.query));else{const Ft=_.views.get(L);Ft&&(ue=ue.concat(xl(Ft,f,w)),cc(Ft)&&(_.views.delete(L),Ft.query._queryParams.loadsAllData()||ee.push(Ft.query)))}return Xe&&!Go(_)&&ee.push(new(function Fs(){return(0,oe.hu)(fl,"Reference.ts has not been loaded"),fl}())(h._repo,h._path)),{removed:ee,events:ue}}(ue,h,f,w);(function fu(_){return 0===_.views.size})(ue)&&(_.syncPointTree_=_.syncPointTree_.remove(ee));const tn=Ft.removed;if(Xe=Ft.events,!L){const Gn=-1!==tn.findIndex(ti=>ti._queryParams.loadsAllData()),Kn=_.syncPointTree_.findOnPath(ee,(ti,ir)=>Go(ir));if(Gn&&!Kn){const ti=_.syncPointTree_.subtree(ee);if(!ti.isEmpty()){const ir=function ne(_){return _.fold((h,f,w)=>{if(f&&Go(f))return[Pa(f)];{let L=[];return f&&(L=dc(f)),rt(w,(ee,ue)=>{L=L.concat(ue)}),L}})}(ti);for(let Cr=0;Cr<ir.length;++Cr){const As=ir[Cr],ba=As.query,Ad=ia(_,As);_.listenProvider_.startListening(Se(ba),Xa(_,ba),Ad.hashFn,Ad.onComplete)}}}!Kn&&tn.length>0&&!w&&(Gn?_.listenProvider_.stopListening(Se(h),null):tn.forEach(ti=>{const ir=_.queryToTagMap.get(R(ti));_.listenProvider_.stopListening(Se(ti),ir)}))}!function Re(_,h){for(let f=0;f<h.length;++f){const w=h[f];if(!w._queryParams.loadsAllData()){const L=R(w),ee=_.queryToTagMap.get(L);_.queryToTagMap.delete(L),_.tagToQueryMap.delete(ee)}}}(_,tn)}return Xe}function gl(_,h,f,w){const L=k(_,w);if(null!=L){const ee=S(L),ue=ee.path,Xe=ee.queryId,Ft=Xt(ue,h);return V(_,ue,new Uo(ea(Xe),Ft,f))}return[]}function Gl(_,h,f,w=!1){const L=h._path;let ee=null,ue=!1;_.syncPointTree_.foreachOnPath(L,(ti,ir)=>{const Cr=Xt(ti,L);ee=ee||Za(ir,Cr),ue=ue||Go(ir)});let Ft,Xe=_.syncPointTree_.get(L);Xe?(ue=ue||Go(Xe),ee=ee||Za(Xe,or())):(Xe=new Pc,_.syncPointTree_=_.syncPointTree_.set(L,Xe)),null!=ee?Ft=!0:(Ft=!1,ee=gr.EMPTY_NODE,_.syncPointTree_.subtree(L).foreachChild((ir,Cr)=>{const As=Za(Cr,or());As&&(ee=ee.updateImmediateChild(ir,As))}));const tn=Na(Xe,h);if(!tn&&!h._queryParams.loadsAllData()){const ti=R(h);(0,oe.hu)(!_.queryToTagMap.has(ti),"View does not exist, but we have a tag");const ir=function Ht(){return Mr++}();_.queryToTagMap.set(ti,ir),_.tagToQueryMap.set(ir,ti)}let Kn=function Ra(_,h,f,w,L,ee){const ue=uc(_,h,w,L,ee);return _.views.has(h._queryIdentifier)||_.views.set(h._queryIdentifier,ue),function Mn(_,h){_.eventRegistrations_.push(h)}(ue,f),function Nc(_,h){const f=_.viewCache_.eventCache,w=[];return f.getNode().isLeafNode()||f.getNode().forEachChild(Zr,(ee,ue)=>{w.push(ao(ee,ue))}),f.isFullyInitialized()&&w.push(Qo(f.getNode())),Ya(_,w,f.getNode(),h)}(ue,f)}(Xe,h,f,di(_.pendingWriteTree_,L),ee,Ft);if(!tn&&!ue&&!w){const ti=kc(Xe,h);Kn=Kn.concat(function kn(_,h,f){const w=h._path,L=Xa(_,h),ee=ia(_,f),ue=_.listenProvider_.startListening(Se(h),L,ee.hashFn,ee.onComplete),Xe=_.syncPointTree_.subtree(w);if(L)(0,oe.hu)(!Go(Xe.value),"If we're adding a query, it shouldn't be shadowed");else{const Ft=Xe.fold((tn,Gn,Kn)=>{if(!bt(tn)&&Gn&&Go(Gn))return[Pa(Gn).query];{let ti=[];return Gn&&(ti=ti.concat(dc(Gn).map(ir=>ir.query))),rt(Kn,(ir,Cr)=>{ti=ti.concat(Cr)}),ti}});for(let tn=0;tn<Ft.length;++tn){const Gn=Ft[tn];_.listenProvider_.stopListening(Se(Gn),Xa(_,Gn))}}return ue}(_,h,ti))}return Kn}function na(_,h,f){const L=_.pendingWriteTree_,ee=_.syncPointTree_.findOnPath(h,(ue,Xe)=>{const tn=Za(Xe,Xt(ue,h));if(tn)return tn});return B(L,h,ee,f,!0)}function Es(_,h){return Do(h,_.syncPointTree_,null,di(_.pendingWriteTree_,or()))}function Do(_,h,f,w){if(bt(_.path))return Rl(_,h,f,w);{const L=h.get(or());null==f&&null!=L&&(f=Za(L,or()));let ee=[];const ue=Xi(_.path),Xe=_.operationForChild(ue),Ft=h.children.get(ue);if(Ft&&Xe){const tn=f?f.getImmediateChild(ue):null,Gn=Ui(w,ue);ee=ee.concat(Do(Xe,Ft,tn,Gn))}return L&&(ee=ee.concat(qa(L,_,w,f))),ee}}function Rl(_,h,f,w){const L=h.get(or());null==f&&null!=L&&(f=Za(L,or()));let ee=[];return h.children.inorderTraversal((ue,Xe)=>{const Ft=f?f.getImmediateChild(ue):null,tn=Ui(w,ue),Gn=_.operationForChild(ue);Gn&&(ee=ee.concat(Rl(Gn,Xe,Ft,tn)))}),L&&(ee=ee.concat(qa(L,_,w,f))),ee}function ia(_,h){const f=h.query,w=Xa(_,f);return{hashFn:()=>(function hu(_){return _.viewCache_.serverCache.getNode()}(h)||gr.EMPTY_NODE).hash(),onComplete:L=>{if("ok"===L)return w?function Ol(_,h,f){const w=k(_,f);if(w){const L=S(w),ee=L.path,ue=L.queryId,Xe=Xt(ee,h);return V(_,ee,new ga(ea(ue),Xe))}return[]}(_,f._path,w):function Fc(_,h){return Es(_,new ga({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h))}(_,f._path);{const ee=function Bt(_,h){let f="Unknown Error";"too_big"===_?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===_?f="Client doesn't have permission to access the desired data.":"unavailable"===_&&(f="The service is unavailable");const w=new Error(_+" at "+h._path.toString()+": "+f);return w.code=_.toUpperCase(),w}(L,f);return pu(_,f,null,ee)}}}}function Xa(_,h){const f=R(h);return _.queryToTagMap.get(f)}function R(_){return _._path.toString()+"$"+_._queryIdentifier}function k(_,h){return _.tagToQueryMap.get(h)}function S(_){const h=_.indexOf("$");return(0,oe.hu)(-1!==h&&h<_.length-1,"Bad queryKey."),{queryId:_.substr(h+1),path:new Wi(_.substr(0,h))}}function V(_,h,f){const w=_.syncPointTree_.get(h);return(0,oe.hu)(w,"Missing sync point for query tag that we're tracking"),qa(w,f,di(_.pendingWriteTree_,h),null)}function Se(_){return _._queryParams.loadsAllData()&&!_._queryParams.isDefault()?new(function Tc(){return(0,oe.hu)(pl,"Reference.ts has not been loaded"),pl}())(_._repo,_._path):_}class Ei{constructor(h){this.node_=h}getImmediateChild(h){const f=this.node_.getImmediateChild(h);return new Ei(f)}node(){return this.node_}}class qi{constructor(h,f){this.syncTree_=h,this.path_=f}getImmediateChild(h){const f=Ae(this.path_,h);return new qi(this.syncTree_,f)}node(){return na(this.syncTree_,this.path_)}}const Vi=function(_){return(_=_||{}).timestamp=_.timestamp||(new Date).getTime(),_},Gr=function(_,h,f){return _&&"object"==typeof _?((0,oe.hu)(".sv"in _,"Unexpected leaf node or priority contents"),"string"==typeof _[".sv"]?Vs(_[".sv"],h,f):"object"==typeof _[".sv"]?uo(_[".sv"],h):void(0,oe.hu)(!1,"Unexpected server value: "+JSON.stringify(_,null,2))):_},Vs=function(_,h,f){if("timestamp"===_)return f.timestamp;(0,oe.hu)(!1,"Unexpected server value: "+_)},uo=function(_,h,f){_.hasOwnProperty("increment")||(0,oe.hu)(!1,"Unexpected server value: "+JSON.stringify(_,null,2));const w=_.increment;"number"!=typeof w&&(0,oe.hu)(!1,"Unexpected increment value: "+w);const L=h.node();if((0,oe.hu)(null!==L&&typeof L<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!L.isLeafNode())return w;const ue=L.getValue();return"number"!=typeof ue?w:ue+w},Lo=function(_,h,f,w){return Pr(h,new qi(f,_),w)},mr=function(_,h,f){return Pr(_,new Ei(h),f)};function Pr(_,h,f){const w=_.getPriority().val(),L=Gr(w,h.getImmediateChild(".priority"),f);let ee;if(_.isLeafNode()){const ue=_,Xe=Gr(ue.getValue(),h,f);return Xe!==ue.getValue()||L!==ue.getPriority().val()?new mo(Xe,rs(L)):_}{const ue=_;return ee=ue,L!==ue.getPriority().val()&&(ee=ee.updatePriority(new mo(L))),ue.forEachChild(Zr,(Xe,Ft)=>{const tn=Pr(Ft,h.getImmediateChild(Xe),f);tn!==Ft&&(ee=ee.updateImmediateChild(Xe,tn))}),ee}}class So{constructor(h="",f=null,w={children:{},childCount:0}){this.name=h,this.parent=f,this.node=w}}function zl(_,h){let f=h instanceof Wi?h:new Wi(h),w=_,L=Xi(f);for(;null!==L;){const ee=(0,oe.DV)(w.node.children,L)||{children:{},childCount:0};w=new So(L,w,ee),f=Q(f),L=Xi(f)}return w}function Hs(_){return _.node.value}function Dc(_,h){_.node.value=h,Wl(_)}function gu(_){return _.node.childCount>0}function Nl(_,h){rt(_.node.children,(f,w)=>{h(new So(f,_,w))})}function ku(_,h,f,w){f&&!w&&h(_),Nl(_,L=>{ku(L,h,!0,w)}),f&&w&&h(_)}function gc(_){return new Wi(null===_.parent?_.name:gc(_.parent)+"/"+_.name)}function Wl(_){null!==_.parent&&function Lc(_,h,f){const w=function pc(_){return void 0===Hs(_)&&!gu(_)}(f),L=(0,oe.r3)(_.node.children,h);w&&L?(delete _.node.children[h],_.node.childCount--,Wl(_)):!w&&!L&&(_.node.children[h]=f.node,_.node.childCount++,Wl(_))}(_.parent,_.name,_)}const rd=/[\[\].#$\/\u0000-\u001F\u007F]/,Vd=/[\[\].#$\u0000-\u001F\u007F]/,mu=10485760,_u=function(_){return"string"==typeof _&&0!==_.length&&!rd.test(_)},$c=function(_){return"string"==typeof _&&0!==_.length&&!Vd.test(_)},xs=function(_){return null===_||"string"==typeof _||"number"==typeof _&&!Nt(_)||_&&"object"==typeof _&&(0,oe.r3)(_,".sv")},Fa=function(_,h,f,w){w&&void 0===h||io((0,oe.gK)(_,"value"),h,f)},io=function(_,h,f){const w=f instanceof Wi?new Bi(f,_):f;if(void 0===h)throw new Error(_+"contains undefined "+Sr(w));if("function"==typeof h)throw new Error(_+"contains a function "+Sr(w)+" with contents = "+h.toString());if(Nt(h))throw new Error(_+"contains "+h.toString()+" "+Sr(w));if("string"==typeof h&&h.length>mu/3&&(0,oe.ug)(h)>mu)throw new Error(_+"contains a string greater than "+mu+" utf8 bytes "+Sr(w)+" ('"+h.substring(0,50)+"...')");if(h&&"object"==typeof h){let L=!1,ee=!1;if(rt(h,(ue,Xe)=>{if(".value"===ue)L=!0;else if(".priority"!==ue&&".sv"!==ue&&(ee=!0,!_u(ue)))throw new Error(_+" contains an invalid key ("+ue+") "+Sr(w)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Gi(_,h){_.parts_.length>0&&(_.byteLength_+=1),_.parts_.push(h),_.byteLength_+=(0,oe.ug)(h),qs(_)})(w,ue),io(_,Xe,w),function Dr(_){const h=_.parts_.pop();_.byteLength_-=(0,oe.ug)(h),_.parts_.length>0&&(_.byteLength_-=1)}(w)}),L&&ee)throw new Error(_+' contains ".value" child '+Sr(w)+" in addition to actual children.")}},Qc=function(_,h,f,w){if(w&&void 0===h)return;const L=(0,oe.gK)(_,"values");if(!h||"object"!=typeof h||Array.isArray(h))throw new Error(L+" must be an object containing the children to replace.");const ee=[];rt(h,(ue,Xe)=>{const Ft=new Wi(ue);if(io(L,Xe,Ae(f,Ft)),".priority"===de(Ft)&&!xs(Xe))throw new Error(L+"contains an invalid value for '"+Ft.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");ee.push(Ft)}),function(_,h){let f,w;for(f=0;f<h.length;f++){w=h[f];const ee=_t(w);for(let ue=0;ue<ee.length;ue++)if((".priority"!==ee[ue]||ue!==ee.length-1)&&!_u(ee[ue]))throw new Error(_+"contains an invalid key ("+ee[ue]+") in path "+w.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}h.sort(Sn);let L=null;for(f=0;f<h.length;f++){if(w=h[f],null!==L&&li(L,w))throw new Error(_+"contains a path "+L.toString()+" that is ancestor of another path "+w.toString());L=w}}(L,ee)},ml=function(_,h,f){if(!f||void 0!==h){if(Nt(h))throw new Error((0,oe.gK)(_,"priority")+"is "+h.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xs(h))throw new Error((0,oe.gK)(_,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ra=function(_,h,f,w){if(!(w&&void 0===f||_u(f)))throw new Error((0,oe.gK)(_,h)+'was an invalid key = "'+f+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ao=function(_,h,f,w){if(!(w&&void 0===f||$c(f)))throw new Error((0,oe.gK)(_,h)+'was an invalid path = "'+f+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sd=function(_,h,f,w){f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),Ao(_,h,f,w)},as=function(_,h){if(".info"===Xi(h))throw new Error(_+" failed = Can't modify data under /.info/")},Fu=function(_,h){const f=h.path.toString();if("string"!=typeof h.repoInfo.host||0===h.repoInfo.host.length||!_u(h.repoInfo.namespace)&&"localhost"!==h.repoInfo.host.split(":")[0]||0!==f.length&&!function(_){return _&&(_=_.replace(/^\/*\.info(\/|$)/,"/")),$c(_)}(f))throw new Error((0,oe.gK)(_,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Lu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sc(_,h){let f=null;for(let w=0;w<h.length;w++){const L=h[w],ee=L.getPath();null!==f&&!On(ee,f.path)&&(_.eventLists_.push(f),f=null),null===f&&(f={events:[],path:ee}),f.events.push(L)}f&&_.eventLists_.push(f)}function $u(_,h,f){Sc(_,f),Ed(_,w=>On(w,h))}function sa(_,h,f){Sc(_,f),Ed(_,w=>li(w,h)||li(h,w))}function Ed(_,h){_.recursionDepth_++;let f=!0;for(let w=0;w<_.eventLists_.length;w++){const L=_.eventLists_[w];L&&(h(L.path)?(Xh(_.eventLists_[w]),_.eventLists_[w]=null):f=!1)}f&&(_.eventLists_=[]),_.recursionDepth_--}function Xh(_){for(let h=0;h<_.events.length;h++){const f=_.events[h];if(null!==f){_.events[h]=null;const w=f.getEventRunner();yt&&dt("event: "+f.toString()),Hn(w)}}}const jd="repo_interrupt",eu=25;class Gd{constructor(h,f,w,L){this.repoInfo_=h,this.forceRestClient_=f,this.authTokenProvider_=w,this.appCheckProvider_=L,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_r(),this.transactionQueueTree_=new So,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Bu(_){const f=_.infoData_.getNode(new Wi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+f}function Bc(_){return Vi({timestamp:Bu(_)})}function tu(_,h,f,w,L){_.dataUpdateCount++;const ee=new Wi(h);f=_.interceptServerDataCallback_?_.interceptServerDataCallback_(h,f):f;let ue=[];if(L)if(w){const Ft=(0,oe.UI)(f,tn=>rs(tn));ue=function ws(_,h,f,w){const L=k(_,w);if(L){const ee=S(L),ue=ee.path,Xe=ee.queryId,Ft=Xt(ue,h),tn=fs.fromObject(f);return V(_,ue,new zs(ea(Xe),Ft,tn))}return[]}(_.serverSyncTree_,ee,Ft,L)}else{const Ft=rs(f);ue=gl(_.serverSyncTree_,ee,Ft,L)}else if(w){const Ft=(0,oe.UI)(f,tn=>rs(tn));ue=function Cs(_,h,f){const w=fs.fromObject(f);return Es(_,new zs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h,w))}(_.serverSyncTree_,ee,Ft)}else{const Ft=rs(f);ue=ta(_.serverSyncTree_,ee,Ft)}let Xe=ee;ue.length>0&&(Xe=Mo(_,ee)),sa(_.eventQueue_,Xe,ue)}function nu(_,h){Ys(_,"connected",h),!1===h&&function Mc(_){Yl(_,"onDisconnectEvents");const h=Bc(_),f=_r();ss(_.onDisconnect_,or(),(L,ee)=>{const ue=Lo(L,ee,_.serverSyncTree_,h);Nr(f,L,ue)});let w=[];ss(f,or(),(L,ee)=>{w=w.concat(ta(_.serverSyncTree_,L,ee));const ue=De(_,L);Mo(_,ue)}),_.onDisconnect_=_r(),sa(_.eventQueue_,or(),w)}(_)}function Ys(_,h,f){const w=new Wi("/.info/"+h),L=rs(f);_.infoData_.updateSnapshot(w,L);const ee=ta(_.infoSyncTree_,w,L);sa(_.eventQueue_,w,ee)}function Uc(_){return _.nextWriteId_++}function zo(_,h,f,w,L){Yl(_,"set",{path:h.toString(),value:f,priority:w});const ee=Bc(_),ue=rs(f,w),Xe=na(_.serverSyncTree_,h),Ft=mr(ue,Xe,ee),tn=Uc(_),Gn=Jc(_.serverSyncTree_,h,Ft,tn,!0);Sc(_.eventQueue_,Gn),_.server_.put(h.toString(),ue.val(!0),(ti,ir)=>{const Cr="ok"===ti;Cr||nt("set at "+h+" failed: "+ti);const As=fc(_.serverSyncTree_,tn,!Cr);sa(_.eventQueue_,h,As),Pl(0,L,ti,ir)});const Kn=De(_,h);Mo(_,Kn),sa(_.eventQueue_,Kn,[])}function _c(_,h,f){_.server_.onDisconnectCancel(h.toString(),(w,L)=>{"ok"===w&&bs(_.onDisconnect_,h),Pl(0,f,w,L)})}function iu(_,h,f,w){const L=rs(f);_.server_.onDisconnectPut(h.toString(),L.val(!0),(ee,ue)=>{"ok"===ee&&Nr(_.onDisconnect_,h,L),Pl(0,w,ee,ue)})}function od(_,h,f){let w;w=".info"===Xi(h._path)?pu(_.infoSyncTree_,h,f):pu(_.serverSyncTree_,h,f),$u(_.eventQueue_,h._path,w)}function es(_){_.persistentConnection_&&_.persistentConnection_.interrupt(jd)}function Yl(_,...h){let f="";_.persistentConnection_&&(f=_.persistentConnection_.id+":"),dt(f,...h)}function Pl(_,h,f,w){h&&Hn(()=>{if("ok"===f)h(null);else{const L=(f||"error").toUpperCase();let ee=L;w&&(ee+=": "+w);const ue=new Error(ee);ue.code=L,h(ue)}})}function _l(_,h,f){return na(_.serverSyncTree_,h,f)||gr.EMPTY_NODE}function vl(_,h=_.transactionQueueTree_){if(h||H(_,h),Hs(h)){const f=C(_,h);(0,oe.hu)(f.length>0,"Sending zero length transaction queue"),f.every(L=>0===L.status)&&function vc(_,h,f){const w=f.map(tn=>tn.currentWriteId),L=_l(_,h,w);let ee=L;const ue=L.hash();for(let tn=0;tn<f.length;tn++){const Gn=f[tn];(0,oe.hu)(0===Gn.status,"tryToSendTransactionQueue_: items in queue should all be run."),Gn.status=1,Gn.retryCount++;const Kn=Xt(h,Gn.path);ee=ee.updateChild(Kn,Gn.currentOutputSnapshotRaw)}const Xe=ee.val(!0),Ft=h;_.server_.put(Ft.toString(),Xe,tn=>{Yl(_,"transaction put response",{path:Ft.toString(),status:tn});let Gn=[];if("ok"===tn){const Kn=[];for(let ti=0;ti<f.length;ti++)f[ti].status=2,Gn=Gn.concat(fc(_.serverSyncTree_,f[ti].currentWriteId)),f[ti].onComplete&&Kn.push(()=>f[ti].onComplete(null,!0,f[ti].currentOutputSnapshotResolved)),f[ti].unwatcher();H(_,zl(_.transactionQueueTree_,h)),vl(_,_.transactionQueueTree_),sa(_.eventQueue_,h,Gn);for(let ti=0;ti<Kn.length;ti++)Hn(Kn[ti])}else{if("datastale"===tn)for(let Kn=0;Kn<f.length;Kn++)f[Kn].status=3===f[Kn].status?4:0;else{nt("transaction at "+Ft.toString()+" failed: "+tn);for(let Kn=0;Kn<f.length;Kn++)f[Kn].status=4,f[Kn].abortReason=tn}Mo(_,h)}},ue)}(_,gc(h),f)}else gu(h)&&Nl(h,f=>{vl(_,f)})}function Mo(_,h){const f=F(_,h),w=gc(f);return function Hc(_,h,f){if(0===h.length)return;const w=[];let L=[];const ue=h.filter(Xe=>0===Xe.status).map(Xe=>Xe.currentWriteId);for(let Xe=0;Xe<h.length;Xe++){const Ft=h[Xe],tn=Xt(f,Ft.path);let Kn,Gn=!1;if((0,oe.hu)(null!==tn,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Ft.status)Gn=!0,Kn=Ft.abortReason,L=L.concat(fc(_.serverSyncTree_,Ft.currentWriteId,!0));else if(0===Ft.status)if(Ft.retryCount>=eu)Gn=!0,Kn="maxretry",L=L.concat(fc(_.serverSyncTree_,Ft.currentWriteId,!0));else{const ti=_l(_,Ft.path,ue);Ft.currentInputSnapshot=ti;const ir=h[Xe].update(ti.val());if(void 0!==ir){io("transaction failed: Data returned ",ir,Ft.path);let Cr=rs(ir);"object"==typeof ir&&null!=ir&&(0,oe.r3)(ir,".priority")||(Cr=Cr.updatePriority(ti.getPriority()));const ba=Ft.currentWriteId,Ad=Bc(_),Xd=mr(Cr,ti,Ad);Ft.currentOutputSnapshotRaw=Cr,Ft.currentOutputSnapshotResolved=Xd,Ft.currentWriteId=Uc(_),ue.splice(ue.indexOf(ba),1),L=L.concat(Jc(_.serverSyncTree_,Ft.path,Xd,Ft.currentWriteId,Ft.applyLocally)),L=L.concat(fc(_.serverSyncTree_,ba,!0))}else Gn=!0,Kn="nodata",L=L.concat(fc(_.serverSyncTree_,Ft.currentWriteId,!0))}sa(_.eventQueue_,f,L),L=[],Gn&&(h[Xe].status=2,setTimeout(h[Xe].unwatcher,Math.floor(0)),h[Xe].onComplete&&w.push("nodata"===Kn?()=>h[Xe].onComplete(null,!1,h[Xe].currentInputSnapshot):()=>h[Xe].onComplete(new Error(Kn),!1,null)))}H(_,_.transactionQueueTree_);for(let Xe=0;Xe<w.length;Xe++)Hn(w[Xe]);vl(_,_.transactionQueueTree_)}(_,C(_,f),w),w}function F(_,h){let f,w=_.transactionQueueTree_;for(f=Xi(h);null!==f&&void 0===Hs(w);)w=zl(w,f),f=Xi(h=Q(h));return w}function C(_,h){const f=[];return D(_,h,f),f.sort((w,L)=>w.order-L.order),f}function D(_,h,f){const w=Hs(h);if(w)for(let L=0;L<w.length;L++)f.push(w[L]);Nl(h,L=>{D(_,L,f)})}function H(_,h){const f=Hs(h);if(f){let w=0;for(let L=0;L<f.length;L++)2!==f[L].status&&(f[w]=f[L],w++);f.length=w,Dc(h,f.length>0?f:void 0)}Nl(h,w=>{H(_,w)})}function De(_,h){const f=gc(F(_,h)),w=zl(_.transactionQueueTree_,h);return function bd(_,h,f){let w=f?_:_.parent;for(;null!==w;){if(h(w))return!0;w=w.parent}}(w,L=>{Qe(_,L)}),Qe(_,w),ku(w,L=>{Qe(_,L)}),f}function Qe(_,h){const f=Hs(h);if(f){const w=[];let L=[],ee=-1;for(let ue=0;ue<f.length;ue++)3===f[ue].status||(1===f[ue].status?((0,oe.hu)(ee===ue-1,"All SENT items should be at beginning of queue."),ee=ue,f[ue].status=3,f[ue].abortReason="set"):((0,oe.hu)(0===f[ue].status,"Unexpected transaction status in abort"),f[ue].unwatcher(),L=L.concat(fc(_.serverSyncTree_,f[ue].currentWriteId,!0)),f[ue].onComplete&&w.push(f[ue].onComplete.bind(null,new Error("set"),!1,null))));-1===ee?Dc(h,void 0):f.length=ee+1,sa(_.eventQueue_,gc(h),L);for(let ue=0;ue<w.length;ue++)Hn(w[ue])}}const Yi=function(_,h){const f=hr(_),w=f.namespace;return"firebase.com"===f.domain&&Ie(f.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!w||"undefined"===w)&&"localhost"!==f.domain&&Ie("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),f.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zn(f.host,f.secure,w,"ws"===f.scheme||"wss"===f.scheme,h,"",w!==f.subdomain),path:new Wi(f.pathString)}},hr=function(_){let h="",f="",w="",L="",ee="",ue=!0,Xe="https",Ft=443;if("string"==typeof _){let tn=_.indexOf("//");tn>=0&&(Xe=_.substring(0,tn-1),_=_.substring(tn+2));let Gn=_.indexOf("/");-1===Gn&&(Gn=_.length);let Kn=_.indexOf("?");-1===Kn&&(Kn=_.length),h=_.substring(0,Math.min(Gn,Kn)),Gn<Kn&&(L=function gn(_){let h="";const f=_.split("/");for(let w=0;w<f.length;w++)if(f[w].length>0){let L=f[w];try{L=decodeURIComponent(L.replace(/\+/g," "))}catch(ee){}h+="/"+L}return h}(_.substring(Gn,Kn)));const ti=function ci(_){const h={};"?"===_.charAt(0)&&(_=_.substring(1));for(const f of _.split("&")){if(0===f.length)continue;const w=f.split("=");2===w.length?h[decodeURIComponent(w[0])]=decodeURIComponent(w[1]):nt(`Invalid query segment '${f}' in query '${_}'`)}return h}(_.substring(Math.min(_.length,Kn)));tn=h.indexOf(":"),tn>=0?(ue="https"===Xe||"wss"===Xe,Ft=parseInt(h.substring(tn+1),10)):tn=h.length;const ir=h.slice(0,tn);if("localhost"===ir.toLowerCase())f="localhost";else if(ir.split(".").length<=2)f=ir;else{const Cr=h.indexOf(".");w=h.substring(0,Cr).toLowerCase(),f=h.substring(Cr+1),ee=w}"ns"in ti&&(ee=ti.ns)}return{host:h,port:Ft,domain:f,subdomain:w,secure:ue,scheme:Xe,pathString:L,namespace:ee}},Wr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ls=function(){let _=0;const h=[];return function(f){const w=f===_;let L;_=f;const ee=new Array(8);for(L=7;L>=0;L--)ee[L]=Wr.charAt(f%64),f=Math.floor(f/64);(0,oe.hu)(0===f,"Cannot push at time == 0");let ue=ee.join("");if(w){for(L=11;L>=0&&63===h[L];L--)h[L]=0;h[L]++}else for(L=0;L<12;L++)h[L]=Math.floor(64*Math.random());for(L=0;L<12;L++)ue+=Wr.charAt(h[L]);return(0,oe.hu)(20===ue.length,"nextPushId: Length should be 20."),ue}}();class yl{constructor(h,f,w,L){this.eventType=h,this.eventRegistration=f,this.snapshot=w,this.prevName=L}getPath(){const h=this.snapshot.ref;return"value"===this.eventType?h._path:h.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,oe.Wl)(this.snapshot.exportVal())}}class bl{constructor(h,f,w){this.eventRegistration=h,this.error=f,this.path=w}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kl{constructor(h,f){this.snapshotCallback=h,this.cancelCallback=f}onValue(h,f){this.snapshotCallback.call(null,h,f)}onCancel(h){return(0,oe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,h)}get hasCancelCallback(){return!!this.cancelCallback}matches(h){return this.snapshotCallback===h.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===h.snapshotCallback.userCallback&&this.snapshotCallback.context===h.snapshotCallback.context}}class La{constructor(h,f){this._repo=h,this._path=f}cancel(){const h=new oe.BH;return _c(this._repo,this._path,h.wrapCallback(()=>{})),h.promise}remove(){as("OnDisconnect.remove",this._path);const h=new oe.BH;return iu(this._repo,this._path,null,h.wrapCallback(()=>{})),h.promise}set(h){as("OnDisconnect.set",this._path),Fa("OnDisconnect.set",h,this._path,!1);const f=new oe.BH;return iu(this._repo,this._path,h,f.wrapCallback(()=>{})),f.promise}setWithPriority(h,f){as("OnDisconnect.setWithPriority",this._path),Fa("OnDisconnect.setWithPriority",h,this._path,!1),ml("OnDisconnect.setWithPriority",f,!1);const w=new oe.BH;return function Uu(_,h,f,w,L){const ee=rs(f,w);_.server_.onDisconnectPut(h.toString(),ee.val(!0),(ue,Xe)=>{"ok"===ue&&Nr(_.onDisconnect_,h,ee),Pl(0,L,ue,Xe)})}(this._repo,this._path,h,f,w.wrapCallback(()=>{})),w.promise}update(h){as("OnDisconnect.update",this._path),Qc("OnDisconnect.update",h,this._path,!1);const f=new oe.BH;return function Cd(_,h,f,w){if((0,oe.xb)(f))return dt("onDisconnect().update() called with empty data.  Don't do anything."),void Pl(0,w,"ok",void 0);_.server_.onDisconnectMerge(h.toString(),f,(L,ee)=>{"ok"===L&&rt(f,(ue,Xe)=>{const Ft=rs(Xe);Nr(_.onDisconnect_,Ae(h,ue),Ft)}),Pl(0,w,L,ee)})}(this._repo,this._path,h,f.wrapCallback(()=>{})),f.promise}}class Wo{constructor(h,f,w,L){this._repo=h,this._path=f,this._queryParams=w,this._orderByCalled=L}get key(){return bt(this._path)?null:de(this._path)}get ref(){return new Ja(this._repo,this._path)}get _queryIdentifier(){const h=En(this._queryParams),f=lt(h);return"{}"===f?"default":f}get _queryObject(){return En(this._queryParams)}isEqual(h){if(!((h=(0,oe.m9)(h))instanceof Wo))return!1;const f=this._repo===h._repo,w=On(this._path,h._path);return f&&w&&this._queryIdentifier===h._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ze(_){let h="";for(let f=_.pieceNum_;f<_.pieces_.length;f++)""!==_.pieces_[f]&&(h+="/"+encodeURIComponent(String(_.pieces_[f])));return h||"/"}(this._path)}}function ya(_,h){if(!0===_._orderByCalled)throw new Error(h+": You can't combine multiple orderBy calls.")}function yc(_){let h=null,f=null;if(_.hasStart()&&(h=_.getIndexStartValue()),_.hasEnd()&&(f=_.getIndexEndValue()),_.getIndex()===Ur){const w="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",L="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(_.hasStart()){if(_.getIndexStartName()!==Pt)throw new Error(w);if("string"!=typeof h)throw new Error(L)}if(_.hasEnd()){if(_.getIndexEndName()!==Lt)throw new Error(w);if("string"!=typeof f)throw new Error(L)}}else if(_.getIndex()===Zr){if(null!=h&&!xs(h)||null!=f&&!xs(f))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,oe.hu)(_.getIndex()instanceof cl||_.getIndex()===Us,"unknown index type."),null!=h&&"object"==typeof h||null!=f&&"object"==typeof f)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function El(_){if(_.hasStart()&&_.hasEnd()&&_.hasLimit()&&!_.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ja extends Wo{constructor(h,f){super(h,f,new zr,!1)}get parent(){const h=Gt(this._path);return null===h?null:new Ja(this._repo,h)}get root(){let h=this;for(;null!==h.parent;)h=h.parent;return h}}class bc{constructor(h,f,w){this._node=h,this.ref=f,this._index=w}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(h){const f=new Wi(h),w=Kl(this.ref,h);return new bc(this._node.getChild(f),w,Zr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(h){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(w,L)=>h(new bc(L,Kl(this.ref,w),Zr)))}hasChild(h){const f=new Wi(h);return!this._node.getChild(f).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ho(_,h){return(_=(0,oe.m9)(_))._checkNotDeleted("ref"),void 0!==h?Kl(_._root,h):_._root}function is(_,h){(_=(0,oe.m9)(_))._checkNotDeleted("refFromURL");const f=Yi(h,_._repo.repoInfo_.nodeAdmin);Fu("refFromURL",f);const w=f.repoInfo;return!_._repo.repoInfo_.isCustomHost()&&w.host!==_._repo.repoInfo_.host&&Ie("refFromURL: Host name does not match the current database: (found "+w.host+" but expected "+_._repo.repoInfo_.host+")"),ho(_,f.path.toString())}function Kl(_,h){return null===Xi((_=(0,oe.m9)(_))._path)?sd("child","path",h,!1):Ao("child","path",h,!1),new Ja(_._repo,Ae(_._path,h))}function sl(_,h){_=(0,oe.m9)(_),as("push",_._path),Fa("push",h,_._path,!0);const f=Bu(_._repo),w=Ls(f),L=Kl(_,w),ee=Kl(_,w);let ue;return ue=null!=h?xo(ee,h).then(()=>ee):Promise.resolve(ee),L.then=ue.then.bind(ue),L.catch=ue.then.bind(ue,void 0),L}function ad(_){return as("remove",_._path),xo(_,null)}function xo(_,h){_=(0,oe.m9)(_),as("set",_._path),Fa("set",h,_._path,!1);const f=new oe.BH;return zo(_._repo,_._path,h,null,f.wrapCallback(()=>{})),f.promise}function wd(_,h){_=(0,oe.m9)(_),as("setPriority",_._path),ml("setPriority",h,!1);const f=new oe.BH;return zo(_._repo,Ae(_._path,".priority"),h,null,f.wrapCallback(()=>{})),f.promise}function Hu(_,h,f){if(as("setWithPriority",_._path),Fa("setWithPriority",h,_._path,!1),ml("setWithPriority",f,!1),".length"===_.key||".keys"===_.key)throw"setWithPriority failed: "+_.key+" is a read-only object.";const w=new oe.BH;return zo(_._repo,_._path,h,f,w.wrapCallback(()=>{})),w.promise}function ru(_,h){Qc("update",h,_._path,!1);const f=new oe.BH;return function Ss(_,h,f,w){Yl(_,"update",{path:h.toString(),value:f});let L=!0;const ee=Bc(_),ue={};if(rt(f,(Xe,Ft)=>{L=!1,ue[Xe]=Lo(Ae(h,Xe),rs(Ft),_.serverSyncTree_,ee)}),L)dt("update() called with empty data.  Don't do anything."),Pl(0,w,"ok",void 0);else{const Xe=Uc(_),Ft=function Fo(_,h,f,w){!function dl(_,h,f,w){(0,oe.hu)(w>_.lastWriteId,"Stacking an older merge on top of newer ones"),_.allWrites.push({path:h,children:f,writeId:w,visible:!0}),_.visibleWrites=Ul(_.visibleWrites,h,f),_.lastWriteId=w}(_.pendingWriteTree_,h,f,w);const L=fs.fromObject(f);return Es(_,new zs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},h,L))}(_.serverSyncTree_,h,ue,Xe);Sc(_.eventQueue_,Ft),_.server_.merge(h.toString(),f,(tn,Gn)=>{const Kn="ok"===tn;Kn||nt("update at "+h+" failed: "+tn);const ti=fc(_.serverSyncTree_,Xe,!Kn),ir=ti.length>0?Mo(_,h):h;sa(_.eventQueue_,ir,ti),Pl(0,w,tn,Gn)}),rt(f,tn=>{const Gn=De(_,Ae(h,tn));Mo(_,Gn)}),sa(_.eventQueue_,h,[])}}(_._repo,_._path,h,f.wrapCallback(()=>{})),f.promise}function xc(_){_=(0,oe.m9)(_);const h=new kl(()=>{}),f=new su(h);return function vu(_,h,f){const w=function ka(_,h){const f=h._path;let w=null;_.syncPointTree_.foreachOnPath(f,(tn,Gn)=>{const Kn=Xt(tn,f);w=w||Za(Gn,Kn)});let L=_.syncPointTree_.get(f);L?w=w||Za(L,or()):(L=new Pc,_.syncPointTree_=_.syncPointTree_.set(f,L));const ee=null!=w,ue=ee?new cs(w,!0,!1):null;return function jo(_){return _a(_.viewCache_)}(uc(L,h,di(_.pendingWriteTree_,h._path),ee?ue.getNode():gr.EMPTY_NODE,ee))}(_.serverSyncTree_,h);return null!=w?Promise.resolve(w):_.server_.get(h).then(L=>{const ee=rs(L).withIndex(h._queryParams.getIndex());let ue;if(Gl(_.serverSyncTree_,h,f,!0),h._queryParams.loadsAllData())ue=ta(_.serverSyncTree_,h._path,ee);else{const Xe=Xa(_.serverSyncTree_,h);ue=gl(_.serverSyncTree_,h._path,ee,Xe)}return sa(_.eventQueue_,h._path,ue),pu(_.serverSyncTree_,h,f,null,!0),ee},L=>(Yl(_,"get for query "+(0,oe.Wl)(h)+" failed: "+L),Promise.reject(new Error(L))))}(_._repo,_,f).then(w=>new bc(w,new Ja(_._repo,_._path),_._queryParams.getIndex()))}class su{constructor(h){this.callbackContext=h}respondsTo(h){return"value"===h}createEvent(h,f){const w=f._queryParams.getIndex();return new yl("value",this,new bc(h.snapshotNode,new Ja(f._repo,f._path),w))}getEventRunner(h){return"cancel"===h.getEventType()?()=>this.callbackContext.onCancel(h.error):()=>this.callbackContext.onValue(h.snapshot,null)}createCancelEvent(h,f){return this.callbackContext.hasCancelCallback?new bl(this,h,f):null}matches(h){return h instanceof su&&(!h.callbackContext||!this.callbackContext||h.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class $a{constructor(h,f){this.eventType=h,this.callbackContext=f}respondsTo(h){let f="children_added"===h?"child_added":h;return f="children_removed"===f?"child_removed":f,this.eventType===f}createCancelEvent(h,f){return this.callbackContext.hasCancelCallback?new bl(this,h,f):null}createEvent(h,f){(0,oe.hu)(null!=h.childName,"Child events should have a childName.");const w=Kl(new Ja(f._repo,f._path),h.childName),L=f._queryParams.getIndex();return new yl(h.type,this,new bc(h.snapshotNode,w,L),h.prevName)}getEventRunner(h){return"cancel"===h.getEventType()?()=>this.callbackContext.onCancel(h.error):()=>this.callbackContext.onValue(h.snapshot,h.prevName)}matches(h){return h instanceof $a&&this.eventType===h.eventType&&(!this.callbackContext||!h.callbackContext||this.callbackContext.matches(h.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ju(_,h,f,w,L){let ee;if("object"==typeof w&&(ee=void 0,L=w),"function"==typeof w&&(ee=w),L&&L.onlyOnce){const Ft=f,tn=(Gn,Kn)=>{od(_._repo,_,Xe),Ft(Gn,Kn)};tn.userCallback=f.userCallback,tn.context=f.context,f=tn}const ue=new kl(f,ee||void 0),Xe="value"===h?new su(ue):new $a(h,ue);return function Vc(_,h,f){let w;w=".info"===Xi(h._path)?Gl(_.infoSyncTree_,h,f):Gl(_.serverSyncTree_,h,f),$u(_.eventQueue_,h._path,w)}(_._repo,_,Xe),()=>od(_._repo,_,Xe)}function ou(_,h,f,w){return ju(_,"value",h,f,w)}function Yr(_,h,f,w){return ju(_,"child_added",h,f,w)}function zd(_,h,f,w){return ju(_,"child_changed",h,f,w)}function Cl(_,h,f,w){return ju(_,"child_moved",h,f,w)}function Gu(_,h,f,w){return ju(_,"child_removed",h,f,w)}function zu(_,h,f){let w=null;const L=f?new kl(f):null;"value"===h?w=new su(L):h&&(w=new $a(h,L)),od(_._repo,_,w)}class oa{}class Td extends oa{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){Fa("endAt",this._value,h._path,!0);const f=re(h._queryParams,this._value,this._key);if(El(f),yc(f),h._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wo(h._repo,h._path,f,h._orderByCalled)}}function ld(_,h){return ra("endAt","key",h,!0),new Td(_,h)}class Wd extends oa{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){Fa("endBefore",this._value,h._path,!1);const f=function M(_,h,f){let w;return w=re(_,h,_.index_===Ur||f?f:Pt),w.endBeforeSet_=!0,w}(h._queryParams,this._value,this._key);if(El(f),yc(f),h._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wo(h._repo,h._path,f,h._orderByCalled)}}function cd(_,h){return ra("endBefore","key",h,!0),new Wd(_,h)}class au extends oa{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){Fa("startAt",this._value,h._path,!0);const f=nc(h._queryParams,this._value,this._key);if(El(f),yc(f),h._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Wo(h._repo,h._path,f,h._orderByCalled)}}function yu(_=null,h){return ra("startAt","key",h,!0),new au(_,h)}class ud extends oa{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){Fa("startAfter",this._value,h._path,!1);const f=function x(_,h,f){let w;return w=nc(_,h,_.index_===Ur||f?f:Lt),w.startAfterSet_=!0,w}(h._queryParams,this._value,this._key);if(El(f),yc(f),h._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Wo(h._repo,h._path,f,h._orderByCalled)}}function Wu(_,h){return ra("startAfter","key",h,!0),new ud(_,h)}class dd extends oa{constructor(h){super(),this._limit=h}_apply(h){if(h._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wo(h._repo,h._path,function il(_,h){const f=_.copy();return f.limitSet_=!0,f.limit_=h,f.viewFrom_="l",f}(h._queryParams,this._limit),h._orderByCalled)}}function bu(_){if("number"!=typeof _||Math.floor(_)!==_||_<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new dd(_)}class Eu extends oa{constructor(h){super(),this._limit=h}_apply(h){if(h._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wo(h._repo,h._path,function ul(_,h){const f=_.copy();return f.limitSet_=!0,f.limit_=h,f.viewFrom_="r",f}(h._queryParams,this._limit),h._orderByCalled)}}function uh(_){if("number"!=typeof _||Math.floor(_)!==_||_<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Eu(_)}class dh extends oa{constructor(h){super(),this._path=h}_apply(h){ya(h,"orderByChild");const f=new Wi(this._path);if(bt(f))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const w=new cl(f),L=J(h._queryParams,w);return yc(L),new Wo(h._repo,h._path,L,!0)}}function Oo(_){if("$key"===_)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===_)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===_)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ao("orderByChild","path",_,!1),new dh(_)}class Id extends oa{_apply(h){ya(h,"orderByKey");const f=J(h._queryParams,Ur);return yc(f),new Wo(h._repo,h._path,f,!0)}}function Dd(){return new Id}class Cu extends oa{_apply(h){ya(h,"orderByPriority");const f=J(h._queryParams,Zr);return yc(f),new Wo(h._repo,h._path,f,!0)}}function wl(){return new Cu}class Yu extends oa{_apply(h){ya(h,"orderByValue");const f=J(h._queryParams,Us);return yc(f),new Wo(h._repo,h._path,f,!0)}}function ol(){return new Yu}class wu extends oa{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){if(Fa("equalTo",this._value,h._path,!1),h._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(h._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Td(this._value,this._key)._apply(new au(this._value,this._key)._apply(h))}}function Yd(_,h){return ra("equalTo","key",h,!0),new wu(_,h)}function Jh(_,...h){let f=(0,oe.m9)(_);for(const w of h)f=w._apply(f);return f}(function Ka(_){(0,oe.hu)(!fl,"__referenceConstructor has already been defined"),fl=_})(Ja),function hc(_){(0,oe.hu)(!pl,"__referenceConstructor has already been defined"),pl=_}(Ja);const Kd="FIREBASE_DATABASE_EMULATOR_HOST",hd={};let hh=!1;function Iu(_,h,f,w,L){let ee=w||_.options.databaseURL;void 0===ee&&(_.options.projectId||Ie("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",_.options.projectId),ee=`${_.options.projectId}-default-rtdb.firebaseio.com`);let Ft,tn,ue=Yi(ee,L),Xe=ue.repoInfo;typeof process<"u"&&process.env&&(tn=process.env[Kd]),tn?(Ft=!0,ee=`http://${tn}?ns=${Xe.namespace}`,ue=Yi(ee,L),Xe=ue.repoInfo):Ft=!ue.repoInfo.secure;const Gn=L&&Ft?new Mi(Mi.OWNER):new bi(_.name,_.options,h);Fu("Invalid Firebase Database URL",ue),bt(ue.path)||Ie("Database URL must point to the root of a Firebase Database (not including a child path).");const Kn=function qd(_,h,f,w){let L=hd[h.name];L||(L={},hd[h.name]=L);let ee=L[_.toURLString()];return ee&&Ie("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ee=new Gd(_,hh,f,w),L[_.toURLString()]=ee,ee}(Xe,_,Gn,new ai(_.name,f));return new Qh(Kn,_)}class Qh{constructor(h,f){this._repoInternal=h,this.app=f,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ac(_,h,f){if(_.stats_=xt(_.repoInfo_),_.forceRestClient_||Ln())_.server_=new Oi(_.repoInfo_,(w,L,ee,ue)=>{tu(_,w,L,ee,ue)},_.authTokenProvider_,_.appCheckProvider_),setTimeout(()=>nu(_,!0),0);else{if(typeof f<"u"&&null!==f){if("object"!=typeof f)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,oe.Wl)(f)}catch(w){throw new Error("Invalid authOverride provided: "+w)}}_.persistentConnection_=new Ts(_.repoInfo_,h,(w,L,ee,ue)=>{tu(_,w,L,ee,ue)},w=>{nu(_,w)},w=>{!function mc(_,h){rt(h,(f,w)=>{Ys(_,f,w)})}(_,w)},_.authTokenProvider_,_.appCheckProvider_,f),_.server_=_.persistentConnection_}_.authTokenProvider_.addTokenChangeListener(w=>{_.server_.refreshAuthToken(w)}),_.appCheckProvider_.addTokenChangeListener(w=>{_.server_.refreshAppCheckToken(w.token)}),_.statsReporter_=function Wt(_,h){const f=_.toString();return dn[f]||(dn[f]=h()),dn[f]}(_.repoInfo_,()=>new zi(_.stats_,_.server_)),_.infoData_=new Ji,_.infoSyncTree_=new Ic({startListening:(w,L,ee,ue)=>{let Xe=[];const Ft=_.infoData_.getNode(w._path);return Ft.isEmpty()||(Xe=ta(_.infoSyncTree_,w._path,Ft),setTimeout(()=>{ue("ok")},0)),Xe},stopListening:()=>{}}),Ys(_,"connected",!1),_.serverSyncTree_=new Ic({startListening:(w,L,ee,ue)=>(_.server_.listen(w,ee,L,(Xe,Ft)=>{const tn=ue(Xe,Ft);sa(_.eventQueue_,w._path,tn)}),[]),stopListening:(w,L)=>{_.server_.unlisten(w,L)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ja(this._repo,or())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Sd(_,h){const f=hd[h];(!f||f[_.key]!==_)&&Ie(`Database ${h}(${_.repoInfo_}) has already been deleted.`),es(_),delete f[_.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(h){null===this._rootInternal&&Ie("Cannot call "+h+" on a deleted database.")}}function ph(){et.IS_TRANSPORT_INITIALIZED&&nt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ef(){ph(),rn.forceDisallow()}function gh(){ph(),mt.forceDisallow(),rn.forceAllow()}function Zd(_=(0,Z.getApp)(),h){const f=(0,Z._getProvider)(_,"database").getImmediate({identifier:h});if(!f._instanceStarted){const w=(0,oe.P0)("database");w&&mh(f,...w)}return f}function mh(_,h,f,w={}){(_=(0,oe.m9)(_))._checkNotDeleted("useEmulator"),_._instanceStarted&&Ie("Cannot call useEmulator() after instance has already been initialized.");const L=_._repoInternal;let ee;if(L.repoInfo_.nodeAdmin)w.mockUserToken&&Ie('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),ee=new Mi(Mi.OWNER);else if(w.mockUserToken){const ue="string"==typeof w.mockUserToken?w.mockUserToken:(0,oe.Sg)(w.mockUserToken,_.app.options.projectId);ee=new Mi(ue)}!function Tu(_,h,f,w){_.repoInfo_=new zn(`${h}:${f}`,!1,_.repoInfo_.namespace,_.repoInfo_.webSocketOnly,_.repoInfo_.nodeAdmin,_.repoInfo_.persistenceKey,_.repoInfo_.includeNamespaceInQueryParams,!0),w&&(_.authTokenProvider_=w)}(L,h,f,ee)}function Du(_){(_=(0,oe.m9)(_))._checkNotDeleted("goOffline"),es(_._repo)}function Qa(_){(_=(0,oe.m9)(_))._checkNotDeleted("goOnline"),function $o(_){_.persistentConnection_&&_.persistentConnection_.resume(jd)}(_._repo)}function Ku(_,h){Ve(_,h)}const _h={".sv":"timestamp"};function al(){return _h}function qf(_){return{".sv":{increment:_}}}class nf{constructor(h,f){this.committed=h,this.snapshot=f}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function jc(_,h,f){var w;if(_=(0,oe.m9)(_),as("Reference.transaction",_._path),".length"===_.key||".keys"===_.key)throw"Reference.transaction failed: "+_.key+" is a read-only object.";const L=null===(w=null==f?void 0:f.applyLocally)||void 0===w||w,ee=new oe.BH,Xe=ou(_,()=>{});return function ls(_,h,f,w,L,ee){Yl(_,"transaction on "+h);const ue={path:h,update:f,onComplete:w,status:null,order:kt(),applyLocally:ee,retryCount:0,unwatcher:L,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Xe=_l(_,h,void 0);ue.currentInputSnapshot=Xe;const Ft=ue.update(Xe.val());if(void 0===Ft)ue.unwatcher(),ue.currentOutputSnapshotRaw=null,ue.currentOutputSnapshotResolved=null,ue.onComplete&&ue.onComplete(null,!1,ue.currentInputSnapshot);else{io("transaction failed: Data returned ",Ft,ue.path),ue.status=0;const tn=zl(_.transactionQueueTree_,h),Gn=Hs(tn)||[];let Kn;Gn.push(ue),Dc(tn,Gn),"object"==typeof Ft&&null!==Ft&&(0,oe.r3)(Ft,".priority")?(Kn=(0,oe.DV)(Ft,".priority"),(0,oe.hu)(xs(Kn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Kn=(na(_.serverSyncTree_,h)||gr.EMPTY_NODE).getPriority().val();const ti=Bc(_),ir=rs(Ft,Kn),Cr=mr(ir,Xe,ti);ue.currentOutputSnapshotRaw=ir,ue.currentOutputSnapshotResolved=Cr,ue.currentWriteId=Uc(_);const As=Jc(_.serverSyncTree_,h,Cr,ue.currentWriteId,ue.applyLocally);sa(_.eventQueue_,h,As),vl(_,_.transactionQueueTree_)}}(_._repo,_._path,h,(Ft,tn,Gn)=>{let Kn=null;Ft?ee.reject(Ft):(Kn=new bc(Gn,new Ja(_._repo,_._path),Zr),ee.resolve(new nf(tn,Kn)))},Xe,L),ee.promise}Ts.prototype.simpleListen=function(_,h){this.sendRequest("q",{p:_},h)},Ts.prototype.echo=function(_,h){this.sendRequest("echo",{d:_},h)},function tf(_){vt(Z.SDK_VERSION),(0,Z._registerComponent)(new ie.wA("database",(h,{instanceIdentifier:f})=>Iu(h.getProvider("app").getImmediate(),h.getProvider("auth-internal"),h.getProvider("app-check-internal"),f),"PUBLIC").setMultipleInstances(!0)),(0,Z.registerVersion)(ct,"0.14.4",_),(0,Z.registerVersion)(ct,"0.14.4","esm2017")}()},5525:(ei,Jt,U)=>{"use strict";U.d(Jt,{u7:()=>Um,Jj:()=>Hh,IX:()=>Vh,my:()=>ro,xU:()=>Wh,Lz:()=>ah,WA:()=>B,F8:()=>Wg,$q:()=>wp,W:()=>Yh,EK:()=>Lr,PU:()=>Va,l7:()=>Na,Ky:()=>ki,Xb:()=>os,Cf:()=>$r,K9:()=>Ml,Me:()=>Jc,yq:()=>dl,Wi:()=>Zi,ET:()=>Br,Ab:()=>$_,vr:()=>L_,Fc:()=>cy,hJ:()=>ng,B$:()=>ig,at:()=>Ru,oe:()=>fy,AK:()=>Iv,TF:()=>u_,JU:()=>Lh,ST:()=>rv,fH:()=>Om,Ix:()=>av,Wu:()=>mv,Lx:()=>gv,qY:()=>Bo,GL:()=>Ip,QT:()=>Wf,kl:()=>Cv,Xk:()=>Tp,PL:()=>dy,UQ:()=>Hm,zN:()=>hy,ad:()=>xm,nP:()=>B_,b9:()=>C_,vh:()=>w_,Pb:()=>$l,L$:()=>d_,cf:()=>wv,sc:()=>Tv,Xo:()=>E_,IO:()=>Bm,iE:()=>$h,Eo:()=>Hf,i3:()=>k_,Bt:()=>F_,pl:()=>R_,Ub:()=>us,qK:()=>O_,TQ:()=>pv,e0:()=>fv,r7:()=>N_,Mx:()=>ov,ar:()=>b_});var Fe,t=U(5861),Z=U(9681),ie=U(4859),oe=U(1877),ze=U(2090),ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={},vt=vt||{},Pe=ct||self;function xe(){}function Ue(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function je(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var gt="closure_uid_"+(1e9*Math.random()>>>0),kt=0;function be(s,e,n){return s.call.apply(s.bind,arguments)}function Ge(s,e,n){if(!s)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,l),s.apply(e,d)}}return function(){return s.apply(e,arguments)}}function yt(s,e,n){return(yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?be:Ge).apply(null,arguments)}function at(s,e){var n=Array.prototype.slice.call(arguments,1);return function(){var l=n.slice();return l.push.apply(l,arguments),s.apply(this,l)}}function Ve(s,e){function n(){}n.prototype=e.prototype,s.X=e.prototype,s.prototype=new n,s.prototype.constructor=s,s.Wb=function(l,d,b){for(var A=Array(arguments.length-2),G=2;G<arguments.length;G++)A[G-2]=arguments[G];return e.prototype[d].apply(l,A)}}function dt(){this.s=this.s,this.o=this.o}dt.prototype.s=!1,dt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function pt(s){Object.prototype.hasOwnProperty.call(s,gt)&&s[gt]||(s[gt]=++kt)}(this)},dt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ut=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let n=0;n<s.length;n++)if(n in s&&s[n]===e)return n;return-1};function Ie(s){const e=s.length;if(0<e){const n=Array(e);for(let l=0;l<e;l++)n[l]=s[l];return n}return[]}function nt(s,e){for(let n=1;n<arguments.length;n++){const l=arguments[n];if(Ue(l)){const d=s.length||0,b=l.length||0;s.length=d+b;for(let A=0;A<b;A++)s[d+A]=l[A]}else s.push(l)}}function St(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Pe.addEventListener("test",xe,e),Pe.removeEventListener("test",xe,e)}catch(n){}return s}();function At(s){return/^[\s\xa0]*$/.test(s)}var Pt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Lt(s,e){return s<e?-1:s>e?1:0}function Et(){var s=Pe.navigator;return s&&(s=s.userAgent)?s:""}function it(s){return-1!=Et().indexOf(s)}function Vt(s){return Vt[" "](s),s}Vt[" "]=xe;var qe,s,Je=it("Opera"),rt=it("Trident")||it("MSIE"),Yt=it("Edge"),$t=Yt||rt,Qt=it("Gecko")&&!(-1!=Et().toLowerCase().indexOf("webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),Bt=-1!=Et().toLowerCase().indexOf("webkit")&&!it("Edge");function hn(){var s=Pe.document;return s?s.documentMode:void 0}e:{var cn="",Tn=(s=Et(),Qt?/rv:([^\);]+)(\)|;)/.exec(s):Yt?/Edge\/([\d\.]+)/.exec(s):rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Bt?/WebKit\/(\S+)/.exec(s):Je?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Tn&&(cn=Tn?Tn[1]:""),rt){var Hn=hn();if(null!=Hn&&Hn>parseFloat(cn)){qe=String(Hn);break e}}qe=cn}var Ln={};var Mi=Pe.document&&rt&&(hn()||parseInt(qe,10))||void 0;function Kt(s,e){if(St.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var n=this.type=s.type,l=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Qt){e:{try{Vt(e.nodeName);var d=!0;break e}catch(b){}d=!1}d||(e=null)}}else"mouseover"==n?e=s.fromElement:"mouseout"==n&&(e=s.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Ye[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Kt.X.h.call(this)}}Ve(Kt,St);var Ye={2:"touch",3:"pen",4:"mouse"};Kt.prototype.h=function(){Kt.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Mt(s,e,n,l,d){this.listener=s,this.proxy=null,this.src=e,this.type=n,this.capture=!!l,this.ha=d,this.key=++Be,this.ba=this.ea=!1}function vn(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function qn(s,e,n){for(const l in s)e.call(n,s[l],l,s)}function ii(s){const e={};for(const n in s)e[n]=s[n];return e}const gi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $i(s,e){let n,l;for(let d=1;d<arguments.length;d++){for(n in l=arguments[d],l)s[n]=l[n];for(let b=0;b<gi.length;b++)n=gi[b],Object.prototype.hasOwnProperty.call(l,n)&&(s[n]=l[n])}}function Xn(s){this.src=s,this.g={},this.h=0}function zn(s,e){var n=e.type;if(n in s.g){var b,l=s.g[n],d=ut(l,e);(b=0<=d)&&Array.prototype.splice.call(l,d,1),b&&(vn(e),0==s.g[n].length&&(delete s.g[n],s.h--))}}function mi(s,e,n,l){for(var d=0;d<s.length;++d){var b=s[d];if(!b.ba&&b.listener==e&&b.capture==!!n&&b.ha==l)return d}return-1}Xn.prototype.add=function(s,e,n,l,d){var b=s.toString();(s=this.g[b])||(s=this.g[b]=[],this.h++);var A=mi(s,e,l,d);return-1<A?(e=s[A],n||(e.ea=!1)):((e=new Mt(e,this.src,b,!!l,d)).ea=n,s.push(e)),e};var Pi="closure_lm_"+(1e6*Math.random()|0),Si={};function Ci(s,e,n,l,d){if(l&&l.once)return Wt(s,e,n,l,d);if(Array.isArray(e)){for(var b=0;b<e.length;b++)Ci(s,e[b],n,l,d);return null}return n=ot(n),s&&s[ke]?s.N(e,n,je(l)?!!l.capture:!!l,d):dn(s,e,n,!1,l,d)}function dn(s,e,n,l,d,b){if(!e)throw Error("Invalid event type");var A=je(d)?!!d.capture:!!d,G=Ee(s);if(G||(s[Pi]=G=new Xn(s)),(n=G.add(e,n,l,A,b)).proxy)return n;if(l=function xt(){const e=mn;return function s(n){return e.call(s.src,s.listener,n)}}(),n.proxy=l,l.src=s,l.listener=n,s.addEventListener)Nt||(d=A),void 0===d&&(d=!1),s.addEventListener(e.toString(),l,d);else if(s.attachEvent)s.attachEvent(Dn(e.toString()),l);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(l)}return n}function Wt(s,e,n,l,d){if(Array.isArray(e)){for(var b=0;b<e.length;b++)Wt(s,e[b],n,l,d);return null}return n=ot(n),s&&s[ke]?s.O(e,n,je(l)?!!l.capture:!!l,d):dn(s,e,n,!0,l,d)}function pn(s,e,n,l,d){if(Array.isArray(e))for(var b=0;b<e.length;b++)pn(s,e[b],n,l,d);else l=je(l)?!!l.capture:!!l,n=ot(n),s&&s[ke]?(s=s.i,(e=String(e).toString())in s.g&&-1<(n=mi(b=s.g[e],n,l,d))&&(vn(b[n]),Array.prototype.splice.call(b,n,1),0==b.length&&(delete s.g[e],s.h--))):s&&(s=Ee(s))&&(e=s.g[e.toString()],s=-1,e&&(s=mi(e,n,l,d)),(n=-1<s?e[s]:null)&&Rn(n))}function Rn(s){if("number"!=typeof s&&s&&!s.ba){var e=s.src;if(e&&e[ke])zn(e.i,s);else{var n=s.type,l=s.proxy;e.removeEventListener?e.removeEventListener(n,l,s.capture):e.detachEvent?e.detachEvent(Dn(n),l):e.addListener&&e.removeListener&&e.removeListener(l),(n=Ee(e))?(zn(n,s),0==n.h&&(n.src=null,e[Pi]=null)):vn(s)}}}function Dn(s){return s in Si?Si[s]:Si[s]="on"+s}function mn(s,e){if(s.ba)s=!0;else{e=new Kt(e,this);var n=s.listener,l=s.ha||s.src;s.ea&&Rn(s),s=n.call(l,e)}return s}function Ee(s){return(s=s[Pi])instanceof Xn?s:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(s){return"function"==typeof s?s:(s[we]||(s[we]=function(e){return s.handleEvent(e)}),s[we])}function on(){dt.call(this),this.i=new Xn(this),this.P=this,this.I=null}function Un(s,e){var n,l=s.I;if(l)for(n=[];l;l=l.I)n.push(l);if(s=s.P,l=e.type||e,"string"==typeof e)e=new St(e,s);else if(e instanceof St)e.target=e.target||s;else{var d=e;$i(e=new St(l,s),d)}if(d=!0,n)for(var b=n.length-1;0<=b;b--){var A=e.g=n[b];d=wi(A,l,!0,e)&&d}if(d=wi(A=e.g=s,l,!0,e)&&d,d=wi(A,l,!1,e)&&d,n)for(b=0;b<n.length;b++)d=wi(A=e.g=n[b],l,!1,e)&&d}function wi(s,e,n,l){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,b=0;b<e.length;++b){var A=e[b];if(A&&!A.ba&&A.capture==n){var G=A.listener,se=A.ha||A.src;A.ea&&zn(s.i,A),d=!1!==G.call(se,l)&&d}}return d&&!l.defaultPrevented}Ve(on,dt),on.prototype[ke]=!0,on.prototype.removeEventListener=function(s,e,n,l){pn(this,s,e,n,l)},on.prototype.M=function(){if(on.X.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var n=s.g[e],l=0;l<n.length;l++)vn(n[l]);delete s.g[e],s.h--}}this.I=null},on.prototype.N=function(s,e,n,l){return this.i.add(String(s),e,!1,n,l)},on.prototype.O=function(s,e,n,l){return this.i.add(String(s),e,!0,n,l)};var xi=Pe.JSON.stringify;function rr(){var s=jn;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var It,ye=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new he,s=>s.reset());class he{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _e(s){Pe.setTimeout(()=>{throw s},0)}function ge(s,e){It||function rn(){var s=Pe.Promise.resolve(void 0);It=function(){s.then(_i)}}(),xn||(It(),xn=!0),jn.add(s,e)}var xn=!1,jn=new class wt{constructor(){this.h=this.g=null}add(e,n){const l=ye.get();l.set(e,n),this.h?this.h.next=l:this.g=l,this.h=l}};function _i(){for(var s;s=rr();){try{s.h.call(s.g)}catch(n){_e(n)}var e=ye;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}xn=!1}function jt(s,e){on.call(this),this.h=s||1,this.g=e||Pe,this.j=yt(this.lb,this),this.l=Date.now()}function mt(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function et(s,e,n){if("function"==typeof s)n&&(s=yt(s,n));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=yt(s.handleEvent,s)}return 2147483647<Number(e)?-1:Pe.setTimeout(s,e||0)}function ft(s){s.g=et(()=>{s.g=null,s.i&&(s.i=!1,ft(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Ve(jt,on),(Fe=jt.prototype).ca=!1,Fe.R=null,Fe.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Un(this,"tick"),this.ca&&(mt(this),this.start()))}},Fe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fe.M=function(){jt.X.M.call(this),mt(this),delete this.g};class qt extends dt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ft(this)}M(){super.M(),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function We(s){dt.call(this),this.h=s,this.g={}}Ve(We,dt);var zt=[];function Wn(s,e,n,l){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var d=0;d<n.length;d++){var b=Ci(e,n[d],l||s.handleEvent,!1,s.h||s);if(!b)break;s.g[b.key]=b}}function Jn(s){qn(s.g,function(e,n){this.g.hasOwnProperty(n)&&Rn(e)},s),s.g={}}function oi(){this.g=!0}function Bn(s,e,n,l){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vr(s,e){if(!s.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(s=0;s<n.length;s++)if(Array.isArray(n[s])){var l=n[s];if(!(2>l.length)){var d=l[1];if(Array.isArray(d)&&!(1>d.length)){var b=d[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var A=1;A<d.length;A++)d[A]=""}}}return xi(n)}catch(G){return e}}(s,n)+(l?" "+l:"")})}We.prototype.M=function(){We.X.M.call(this),Jn(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oi.prototype.Aa=function(){this.g=!1},oi.prototype.info=function(){};var vi={},Ni=null;function Ir(){return Ni=Ni||new on}function Jr(s){St.call(this,vi.Pa,s)}function Rr(s){const e=Ir();Un(e,new Jr(e))}function ns(s,e){St.call(this,vi.STAT_EVENT,s),this.stat=e}function yi(s){const e=Ir();Un(e,new ns(e,s))}function sr(s,e){St.call(this,vi.Qa,s),this.size=e}function Wi(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){s()},e)}vi.Pa="serverreachability",Ve(Jr,St),vi.STAT_EVENT="statevent",Ve(ns,St),vi.Qa="timingevent",Ve(sr,St);var or={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Xi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sn(){}function de(){}sn.prototype.h=null;var Ae,Ze={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _t(){St.call(this,"d")}function Gt(){St.call(this,"c")}function bt(){}function Xt(s,e,n,l){this.l=s,this.j=e,this.m=n,this.U=l||1,this.S=new We(this),this.O=On,this.T=new jt(s=$t?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}Ve(_t,St),Ve(Gt,St),Ve(bt,sn),bt.prototype.g=function(){return new XMLHttpRequest},bt.prototype.i=function(){return{}},Ae=new bt;var On=45e3,li={},Bi={};function Gi(s,e,n){s.K=1,s.v=Xo(Ur(e)),s.s=n,s.P=!0,Dr(s,null)}function Dr(s,e){s.F=Date.now(),Rs(s),s.A=Ur(s.v);var n=s.A,l=s.U;Array.isArray(l)||(l=[String(l)]),Zr(n.i,"t",l),s.C=0,n=s.l.H,s.h=new Sn,s.g=Vo(s.l,n?e:null,!s.s),0<s.N&&(s.L=new qt(yt(s.La,s,s.g),s.N)),Wn(s.S,s.g,"readystatechange",s.ib),e=s.H?ii(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,e)):(s.u="GET",s.g.da(s.A,s.u,null,e)),Rr(),function Ot(s,e,n,l,d,b){s.info(function(){if(s.g)if(b)for(var A="",G=b.split("&"),se=0;se<G.length;se++){var pe=G[se].split("=");if(1<pe.length){var Ke=pe[0];pe=pe[1];var Zt=Ke.split("_");A=2<=Zt.length&&"type"==Zt[1]?A+(Ke+"=")+pe+"&":A+(Ke+"=redacted&")}}else A=null;else A=b;return"XMLHTTP REQ ("+l+") [attempt "+d+"]: "+e+"\n"+n+"\n"+A})}(s.j,s.u,s.A,s.m,s.U,s.s)}function qs(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Da}function Sr(s,e,n){let d,l=!0;for(;!s.I&&s.C<n.length;){if(d=jr(s,n),d==Bi){4==e&&(s.o=4,yi(14),l=!1),Bn(s.j,s.m,null,"[Incomplete Response]");break}if(d==li){s.o=4,yi(15),Bn(s.j,s.m,n,"[Invalid Chunk]"),l=!1;break}Bn(s.j,s.m,d,null),Ms(s,d)}qs(s)&&d!=Bi&&d!=li&&(s.h.g="",s.C=0),4!=e||0!=n.length||s.h.h||(s.o=1,yi(16),l=!1),s.i=s.i&&l,l?0<n.length&&!s.$&&(s.$=!0,(e=s.l).g==s&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ea(e),e.K=!0,yi(11))):(Bn(s.j,s.m,n,"[Invalid Chunked Response]"),Xs(s),po(s))}function jr(s,e){var n=s.C,l=e.indexOf("\n",n);return-1==l?Bi:(n=Number(e.substring(n,l)),isNaN(n)?li:(l+=1)+n>e.length?Bi:(e=e.substr(l,n),s.C=l+n,e))}function Rs(s){s.V=Date.now()+s.O,Zs(s,s.O)}function Zs(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Wi(yt(s.gb,s),e)}function Eo(s){s.B&&(Pe.clearTimeout(s.B),s.B=null)}function po(s){0==s.l.G||s.I||Uo(s.l,s)}function Xs(s){Eo(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,mt(s.T),Jn(s.S),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Ms(s,e){try{var n=s.l;if(0!=n.G&&(n.g==s||gr(n.h,s)))if(!s.J&&gr(n.h,s)&&3==n.G){try{var l=n.Fa.g.parse(e)}catch(pe){l=null}if(Array.isArray(l)&&3==l.length){var d=l;if(0==d[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<s.F))break e;ga(n),W(n)}Io(n),yi(18)}}else n.Ba=d[1],0<n.Ba-n.T&&37500>d[2]&&n.L&&0==n.A&&!n.v&&(n.v=Wi(yt(n.cb,n),6e3));if(1>=pa(n.h)&&n.ja){try{n.ja()}catch(pe){}n.ja=void 0}}else cs(n,11)}else if((s.J||n.g==s)&&ga(n),!At(e))for(d=n.Fa.g.parse(e),e=0;e<d.length;e++){let pe=d[e];if(n.T=pe[0],pe=pe[1],2==n.G)if("c"==pe[0]){n.I=pe[1],n.ka=pe[2];const Ke=pe[3];null!=Ke&&(n.ma=Ke,n.j.info("VER="+n.ma));const Zt=pe[4];null!=Zt&&(n.Ca=Zt,n.j.info("SVER="+n.Ca));const Cn=pe[5];null!=Cn&&"number"==typeof Cn&&0<Cn&&(n.J=l=1.5*Cn,n.j.info("backChannelRequestTimeoutMs_="+l)),l=n;const ni=s.g;if(ni){const pi=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var b=l.h;b.g||-1==pi.indexOf("spdy")&&-1==pi.indexOf("quic")&&-1==pi.indexOf("h2")||(b.j=b.l,b.g=new Set,b.h&&(wo(b,b.h),b.h=null))}if(l.D){const lr=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;lr&&(l.za=lr,yr(l.F,l.D,lr))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-s.F,n.j.info("Handshake RTT: "+n.P+"ms"));var A=s;if((l=n).sa=ja(l,l.H?l.ka:null,l.V),A.J){Bs(l.h,A);var G=A,se=l.J;se&&G.setTimeout(se),G.B&&(Eo(G),Rs(G)),l.g=A}else hs(l);0<n.i.length&&Y(n)}else"stop"!=pe[0]&&"close"!=pe[0]||cs(n,7);else 3==n.G&&("stop"==pe[0]||"close"==pe[0]?"stop"==pe[0]?cs(n,7):ss(n):"noop"!=pe[0]&&n.l&&n.l.wa(pe),n.A=0)}Rr()}catch(pe){}}function dr(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Ue(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var n=function Ts(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Ue(s)||"string"==typeof s){var e=[];s=s.length;for(var n=0;n<s;n++)e.push(n);return e}e=[],n=0;for(const l in s)e[n++]=l;return e}}}(s),l=function ec(s){if(s.W&&"function"==typeof s.W)return s.W();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Ue(s)){for(var e=[],n=s.length,l=0;l<n;l++)e.push(s[l]);return e}for(l in e=[],n=0,s)e[n++]=s[l];return e}(s),d=l.length,b=0;b<d;b++)e.call(void 0,l[b],n&&n[b],s)}(Fe=Xt.prototype).setTimeout=function(s){this.O=s},Fe.ib=function(s){s=s.target;const e=this.L;e&&3==En(s)?e.l():this.La(s)},Fe.La=function(s){try{if(s==this.g)e:{const Ke=En(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Ke)&&(3!=Ke||$t||this.g&&(this.h.h||this.g.fa()||Oi(this.g)))){this.I||4!=Ke||7==e||Rr(),Eo(this);var n=this.g.aa();this.Y=n;t:if(qs(this)){var l=Oi(this.g);s="";var d=l.length,b=4==En(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),po(this);var A="";break t}this.h.i=new Pe.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,s+=this.h.i.decode(l[e],{stream:b&&e==d-1});l.splice(0,d),this.h.g+=s,this.C=0,A=this.h.g}else A=this.g.fa();if(this.i=200==n,function yn(s,e,n,l,d,b,A){s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+d+"]: "+e+"\n"+n+"\n"+b+" "+A})}(this.j,this.u,this.A,this.m,this.U,Ke,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var G,se=this.g;if((G=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(G)){var pe=G;break t}}pe=null}if(!(n=pe)){this.i=!1,this.o=3,yi(12),Xs(this),po(this);break e}Bn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ms(this,n)}this.P?(Sr(this,Ke,A),$t&&this.i&&3==Ke&&(Wn(this.S,this.T,"tick",this.hb),this.T.start())):(Bn(this.j,this.m,A,null),Ms(this,A)),4==Ke&&Xs(this),this.i&&!this.I&&(4==Ke?Uo(this.l,this):(this.i=!1,Rs(this)))}else 400==n&&0<A.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),Xs(this),po(this)}}}catch(Ke){}},Fe.hb=function(){if(this.g){var s=En(this.g),e=this.g.fa();this.C<e.length&&(Eo(this),Sr(this,s,e),this.i&&4!=s&&Rs(this))}},Fe.cancel=function(){this.I=!0,Xs(this)},Fe.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function Ii(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Rr(),yi(17)),Xs(this),this.o=2,po(this)):Zs(this,this.V-s)};var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(s,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof js){this.h=void 0!==e?e:s.h,Ca(this,s.j),this.s=s.s,this.g=s.g,Qs(this,s.m),this.l=s.l,e=s.i;var n=new Jo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$s(this,n),this.o=s.o}else s&&(n=String(s).match(Js))?(this.h=!!e,Ca(this,n[1]||"",!0),this.s=Co(n[2]||""),this.g=Co(n[3]||"",!0),Qs(this,n[4]),this.l=Co(n[5]||"",!0),$s(this,n[6]||"",!0),this.o=Co(n[7]||"")):(this.h=!!e,this.i=new Jo(null,this.h))}function Ur(s){return new js(s)}function Ca(s,e,n){s.j=n?Co(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function Qs(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function $s(s,e,n){e instanceof Jo?(s.i=e,function Sl(s,e){e&&!s.j&&(da(s),s.i=null,s.g.forEach(function(n,l){var d=l.toLowerCase();l!=d&&(eo(this,l),Zr(this,d,n))},s)),s.j=e}(s.i,s.h)):(n||(e=Po(e,mo)),s.i=new Jo(e,s.h))}function yr(s,e,n){s.i.set(e,n)}function Xo(s){return yr(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Co(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Po(s,e,n){return"string"==typeof s?(s=encodeURI(s).replace(e,Dl),n&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Dl(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}js.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Po(e,ko,!0),":");var n=this.g;return(n||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Po(e,ko,!0),"@"),s.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&s.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&s.push("/"),s.push(Po(n,"/"==n.charAt(0)?ua:so,!0))),(n=this.i.toString())&&s.push("?",n),(n=this.o)&&s.push("#",Po(n,Ha)),s.join("")};var ko=/[#\/\?@]/g,so=/[#\?:]/g,ua=/[#\?]/g,mo=/[#\?@]/g,Ha=/#/g;function Jo(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function da(s){s.g||(s.g=new Map,s.h=0,s.i&&function Ns(s,e){if(s){s=s.split("&");for(var n=0;n<s.length;n++){var l=s[n].indexOf("="),d=null;if(0<=l){var b=s[n].substring(0,l);d=s[n].substring(l+1)}else b=s[n];e(b,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(s.i,function(e,n){s.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function eo(s,e){da(s),e=fa(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function ha(s,e){return da(s),e=fa(s,e),s.g.has(e)}function Zr(s,e,n){eo(s,e),0<n.length&&(s.i=null,s.g.set(fa(s,e),Ie(n)),s.h+=n.length)}function fa(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function oo(s){this.l=s||wa,s=Pe.PerformanceNavigationTiming?0<(s=Pe.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Pe.g&&Pe.g.Ga&&Pe.g.Ga()&&Pe.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Fe=Jo.prototype).add=function(s,e){da(this),this.i=null,s=fa(this,s);var n=this.g.get(s);return n||this.g.set(s,n=[]),n.push(e),this.h+=1,this},Fe.forEach=function(s,e){da(this),this.g.forEach(function(n,l){n.forEach(function(d){s.call(e,d,l,this)},this)},this)},Fe.oa=function(){da(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let l=0;l<e.length;l++){const d=s[l];for(let b=0;b<d.length;b++)n.push(e[l])}return n},Fe.W=function(s){da(this);let e=[];if("string"==typeof s)ha(this,s)&&(e=e.concat(this.g.get(fa(this,s))));else{s=Array.from(this.g.values());for(let n=0;n<s.length;n++)e=e.concat(s[n])}return e},Fe.set=function(s,e){return da(this),this.i=null,ha(this,s=fa(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Fe.get=function(s,e){return s&&0<(s=this.W(s)).length?String(s[0]):e},Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var l=e[n];const b=encodeURIComponent(String(l)),A=this.W(l);for(l=0;l<A.length;l++){var d=b;""!==A[l]&&(d+="="+encodeURIComponent(String(A[l]))),s.push(d)}}return this.i=s.join("&")};var wa=10;function to(s){return!!s.h||!!s.g&&s.g.size>=s.j}function pa(s){return s.h?1:s.g?s.g.size:0}function gr(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function wo(s,e){s.g?s.g.add(e):s.h=e}function Bs(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Cc(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const n of s.g.values())e=e.concat(n.D);return e}return Ie(s.i)}function rs(){}function cl(){this.g=new rs}function Ta(s,e,n){const l=n||"";try{dr(s,function(d,b){let A=d;je(d)&&(A=xi(d)),e.push(l+b+"="+encodeURIComponent(A))})}catch(d){throw e.push(l+"type="+encodeURIComponent("_badmap")),d}}function Qo(s,e,n,l,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(l)}catch(b){}}function ao(s){this.l=s.ac||null,this.j=s.jb||!1}function Qr(s,e){on.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=To,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oo.prototype.cancel=function(){if(this.i=Cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},rs.prototype.stringify=function(s){return Pe.JSON.stringify(s,void 0)},rs.prototype.parse=function(s){return Pe.JSON.parse(s,void 0)},Ve(ao,sn),ao.prototype.g=function(){return new Qr(this.l,this.j)},ao.prototype.i=function(s){return function(){return s}}({}),Ve(Qr,on);var To=0;function Ps(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function ds(s){s.readyState=4,s.l=null,s.j=null,s.A=null,lo(s)}function lo(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Fe=Qr.prototype).open=function(s,e){if(this.readyState!=To)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,lo(this)},Fe.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Pe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ds(this)),this.readyState=To},Fe.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ps(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},Fe.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?ds(this):lo(this),3==this.readyState&&Ps(this)}},Fe.Va=function(s){this.g&&(this.response=this.responseText=s,ds(this))},Fe.Ua=function(s){this.g&&(this.response=s,ds(this))},Fe.ga=function(){this.g&&ds(this)},Fe.setRequestHeader=function(s,e){this.v.append(s,e)},Fe.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Fe.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var n=e.next();!n.done;)s.push((n=n.value)[0]+": "+n[1]),n=e.next();return s.join("\r\n")},Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var tc=Pe.JSON.parse;function zr(s){on.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gs,this.K=this.L=!1}Ve(zr,on);var Gs="",il=/^https?$/i,ul=["POST","PUT"];function x(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,re(s),J(s)}function re(s){s.D||(s.D=!0,Un(s,"complete"),Un(s,"error"))}function M(s){if(s.h&&typeof vt<"u"&&(!s.C[1]||4!=En(s)||2!=s.aa()))if(s.v&&4==En(s))et(s.Ha,0,s);else if(Un(s,"readystatechange"),4==En(s)){s.h=!1;try{const G=s.aa();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var l;if(l=0===G){var d=String(s.H).match(Js)[1]||null;if(!d&&Pe.self&&Pe.self.location){var b=Pe.self.location.protocol;d=b.substr(0,b.length-1)}l=!il.test(d?d.toLowerCase():"")}n=l}if(n)Un(s,"complete"),Un(s,"success");else{s.m=6;try{var A=2<En(s)?s.g.statusText:""}catch(se){A=""}s.j=A+" ["+s.aa()+"]",re(s)}}finally{J(s)}}}function J(s,e){if(s.g){He(s);const n=s.g,l=s.C[0]?xe:null;s.g=null,s.C=null,e||Un(s,"ready");try{n.onreadystatechange=l}catch(d){}}}function He(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Pe.clearTimeout(s.A),s.A=null)}function En(s){return s.g?s.g.readyState:0}function Oi(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Gs:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ji(s){let e="";return qn(s,function(n,l){e+=l,e+=":",e+=n,e+="\r\n"}),e}function _r(s,e,n){e:{for(l in n){var l=!1;break e}l=!0}l||(n=Ji(n),"string"==typeof s?null!=n&&encodeURIComponent(String(n)):yr(s,e,n))}function Nr(s,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[s]||e}function bs(s){this.Ca=0,this.i=[],this.j=new oi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Nr("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Nr("baseRetryDelayMs",5e3,s),this.bb=Nr("retryDelaySeedMs",1e4,s),this.$a=Nr("forwardChannelMaxRetries",2,s),this.ta=Nr("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new oo(s&&s.concurrentRequestLimit),this.Fa=new cl,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ss(s){if(K(s),3==s.G){var e=s.U++,n=Ur(s.F);yr(n,"SID",s.I),yr(n,"RID",e),yr(n,"TYPE","terminate"),zi(s,n),(e=new Xt(s,s.j,e,void 0)).K=2,e.v=Xo(Ur(n)),n=!1,Pe.navigator&&Pe.navigator.sendBeacon&&(n=Pe.navigator.sendBeacon(e.v.toString(),"")),!n&&Pe.Image&&((new Image).src=e.v,n=!0),n||(e.g=Vo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Rs(e)}Al(s)}function W(s){s.g&&(ea(s),s.g.cancel(),s.g=null)}function K(s){W(s),s.u&&(Pe.clearTimeout(s.u),s.u=null),ga(s),s.h.cancel(),s.m&&("number"==typeof s.m&&Pe.clearTimeout(s.m),s.m=null)}function Y(s){to(s.h)||s.m||(s.m=!0,ge(s.Ja,s),s.C=0)}function _n(s,e){var n;n=e?e.m:s.U++;const l=Ur(s.F);yr(l,"SID",s.I),yr(l,"RID",n),yr(l,"AID",s.T),zi(s,l),s.o&&s.s&&_r(l,s.o,s.s),n=new Xt(s,s.j,n,s.C+1),null===s.o&&(n.H=s.s),e&&(s.i=e.D.concat(s.i)),e=br(s,n,1e3),n.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),wo(s.h,n),Gi(n,l,e)}function zi(s,e){s.ia&&qn(s.ia,function(n,l){yr(e,l,n)}),s.l&&dr({},function(n,l){yr(e,l,n)})}function br(s,e,n){n=Math.min(s.i.length,n);var l=s.l?yt(s.l.Ra,s.l,s):null;e:{var d=s.i;let b=-1;for(;;){const A=["count="+n];-1==b?0<n?(b=d[0].h,A.push("ofs="+b)):b=0:A.push("ofs="+b);let G=!0;for(let se=0;se<n;se++){let pe=d[se].h;const Ke=d[se].g;if(pe-=b,0>pe)b=Math.max(0,d[se].h-100),G=!1;else try{Ta(Ke,A,"req"+pe+"_")}catch(Zt){l&&l(Ke)}}if(G){l=A.join("&");break e}}}return s=s.i.splice(0,n),e.D=s,l}function hs(s){s.g||s.u||(s.Z=1,ge(s.Ia,s),s.A=0)}function Io(s){return!(s.g||s.u||3<=s.A||(s.Z++,s.u=Wi(yt(s.Ia,s),zs(s,s.A)),s.A++,0))}function ea(s){null!=s.B&&(Pe.clearTimeout(s.B),s.B=null)}function Ia(s){s.g=new Xt(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var e=Ur(s.sa);yr(e,"RID","rpc"),yr(e,"SID",s.I),yr(e,"CI",s.L?"0":"1"),yr(e,"AID",s.T),yr(e,"TYPE","xmlhttp"),zi(s,e),s.o&&s.s&&_r(e,s.o,s.s),s.J&&s.g.setTimeout(s.J);var n=s.g;s=s.ka,n.K=1,n.v=Xo(Ur(e)),n.s=null,n.P=!0,Dr(n,s)}function ga(s){null!=s.v&&(Pe.clearTimeout(s.v),s.v=null)}function Uo(s,e){var n=null;if(s.g==e){ga(s),ea(s),s.g=null;var l=2}else{if(!gr(s.h,e))return;n=e.D,Bs(s.h,e),l=1}if(0!=s.G)if(s.pa=e.Y,e.i)if(1==l){n=e.s?e.s.length:0,e=Date.now()-e.F;var d=s.C;Un(l=Ir(),new sr(l,n)),Y(s)}else hs(s);else if(3==(d=e.o)||0==d&&0<s.pa||!(1==l&&function Oe(s,e){return!(pa(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=e.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=Wi(yt(s.Ja,s,e),zs(s,s.C)),s.C++,0)))}(s,e)||2==l&&Io(s)))switch(n&&0<n.length&&(e=s.h,e.i=e.i.concat(n)),d){case 1:cs(s,5);break;case 4:cs(s,10);break;case 3:cs(s,6);break;default:cs(s,2)}}function zs(s,e){let n=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(n*=2),n*e}function cs(s,e){if(s.j.info("Error code "+e),2==e){var n=null;s.l&&(n=null);var l=yt(s.kb,s);n||(n=new js("//www.google.com/images/cleardot.gif"),Pe.location&&"http"==Pe.location.protocol||Ca(n,"https"),Xo(n)),function Us(s,e){const n=new oi;if(Pe.Image){const l=new Image;l.onload=at(Qo,n,l,"TestLoadImage: loaded",!0,e),l.onerror=at(Qo,n,l,"TestLoadImage: error",!1,e),l.onabort=at(Qo,n,l,"TestLoadImage: abort",!1,e),l.ontimeout=at(Qo,n,l,"TestLoadImage: timeout",!1,e),Pe.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=s}else e(!1)}(n.toString(),l)}else yi(2);s.G=0,s.l&&s.l.va(e),Al(s),K(s)}function Al(s){if(s.G=0,s.la=[],s.l){const e=Cc(s.h);(0!=e.length||0!=s.i.length)&&(nt(s.la,e),nt(s.la,s.i),s.h.i.length=0,Ie(s.i),s.i.length=0),s.l.ua()}}function ja(s,e,n){var l=n instanceof js?Ur(n):new js(n,void 0);if(""!=l.g)e&&(l.g=e+"."+l.g),Qs(l,l.m);else{var d=Pe.location;l=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var b=new js(null,void 0);l&&Ca(b,l),e&&(b.g=e),d&&Qs(b,d),n&&(b.l=n),l=b}return e=s.za,(n=s.D)&&e&&yr(l,n,e),yr(l,"VER",s.ma),zi(s,l),l}function Vo(s,e,n){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zr(n&&s.Da&&!s.ra?new ao({jb:!0}):s.ra)).Ka(s.H),e}function ic(){}function ma(){if(rt&&!(10<=Number(Mi)))throw Error("Environmental error: no available transport.")}function Ws(s,e){on.call(this),this.g=new bs(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.S=s,(s=e&&e.Yb)&&!At(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!At(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new _a(this)}function Bl(s){_t.call(this);var e=s.__sm__;if(e){e:{for(const n in e){s=n;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Ga(){Gt.call(this),this.status=1}function _a(s){this.g=s}(Fe=zr.prototype).Ka=function(s){this.L=s},Fe.da=function(s,e,n,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ae.g(),this.C=function Q(s){return s.h||(s.h=s.i())}(this.u?this.u:Ae),this.g.onreadystatechange=yt(this.Ha,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(b){return void x(this,b)}if(s=n||"",n=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var d in l)n.set(d,l[d]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const b of l.keys())n.set(b,l.get(b))}l=Array.from(n.keys()).find(b=>"content-type"==b.toLowerCase()),d=Pe.FormData&&s instanceof Pe.FormData,!(0<=ut(ul,e))||l||d||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,A]of n)this.g.setRequestHeader(b,A);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{He(this),0<this.B&&((this.K=function nc(s){return rt&&function si(){return function lt(s){var e=Ln;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=s(9)}(function(){let s=0;const e=Pt(String(qe)).split("."),n=Pt("9").split("."),l=Math.max(e.length,n.length);for(let A=0;0==s&&A<l;A++){var d=e[A]||"",b=n[A]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==d[0].length&&0==b[0].length)break;s=Lt(0==d[1].length?0:parseInt(d[1],10),0==b[1].length?0:parseInt(b[1],10))||Lt(0==d[2].length,0==b[2].length)||Lt(d[2],b[2]),d=d[3],b=b[3]}while(0==s)}return 0<=s})}()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yt(this.qa,this)):this.A=et(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(b){x(this,b)}},Fe.qa=function(){typeof vt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},Fe.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Un(this,"complete"),Un(this,"abort"),J(this))},Fe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),J(this,!0)),zr.X.M.call(this)},Fe.Ha=function(){this.s||(this.F||this.v||this.l?M(this):this.fb())},Fe.fb=function(){M(this)},Fe.aa=function(){try{return 2<En(this)?this.g.status:-1}catch(s){return-1}},Fe.fa=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Fe.Sa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),tc(e)}},Fe.Ea=function(){return this.m},Fe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Fe=bs.prototype).ma=8,Fe.G=1,Fe.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const d=new Xt(this,this.j,s,void 0);let b=this.s;if(this.S&&(b?(b=ii(b),$i(b,this.S)):b=this.S),null!==this.o||this.N||(d.H=b,b=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var l=this.i[n];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=br(this,d,e),yr(n=Ur(this.F),"RID",s),yr(n,"CVER",22),this.D&&yr(n,"X-HTTP-Session-Id",this.D),zi(this,n),b&&(this.N?e="headers="+encodeURIComponent(String(Ji(b)))+"&"+e:this.o&&_r(n,this.o,b)),wo(this.h,d),this.Ya&&yr(n,"TYPE","init"),this.O?(yr(n,"$req",e),yr(n,"SID","null"),d.Z=!0,Gi(d,n,null)):Gi(d,n,e),this.G=2}}else 3==this.G&&(s?_n(this,s):0==this.i.length||to(this.h)||_n(this))},Fe.Ia=function(){if(this.u=null,Ia(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=Wi(yt(this.eb,this),s)}},Fe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yi(10),W(this),Ia(this))},Fe.cb=function(){null!=this.v&&(this.v=null,W(this),Io(this),yi(19))},Fe.kb=function(s){s?(this.j.info("Successfully pinged google.com"),yi(2)):(this.j.info("Failed to ping google.com"),yi(1))},(Fe=ic.prototype).xa=function(){},Fe.wa=function(){},Fe.va=function(){},Fe.ua=function(){},Fe.Ra=function(){},ma.prototype.g=function(s,e){return new Ws(s,e)},Ve(Ws,on),Ws.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,n=this.h||void 0;yi(0),s.V=e,s.ia=n||{},s.L=s.Y,s.F=ja(s,null,s.V),Y(s)},Ws.prototype.close=function(){ss(this.g)},Ws.prototype.u=function(s){var e=this.g;if("string"==typeof s){var n={};n.__data__=s,s=n}else this.v&&((n={}).__data__=xi(s),s=n);e.i.push(new class{constructor(s,e){this.h=s,this.g=e}}(e.ab++,s)),3==e.G&&Y(e)},Ws.prototype.M=function(){this.g.l=null,delete this.j,ss(this.g),delete this.g,Ws.X.M.call(this)},Ve(Bl,_t),Ve(Ga,Gt),Ve(_a,ic),_a.prototype.xa=function(){Un(this.g,"a")},_a.prototype.wa=function(s){Un(this.g,new Bl(s))},_a.prototype.va=function(s){Un(this.g,new Ga)},_a.prototype.ua=function(){Un(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,Ws.prototype.send=Ws.prototype.u,Ws.prototype.open=Ws.prototype.m,Ws.prototype.close=Ws.prototype.close,or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Xi.COMPLETE="complete",de.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",on.prototype.listen=on.prototype.N,zr.prototype.listenOnce=zr.prototype.O,zr.prototype.getLastError=zr.prototype.Oa,zr.prototype.getLastErrorCode=zr.prototype.Ea,zr.prototype.getStatus=zr.prototype.aa,zr.prototype.getResponseJson=zr.prototype.Sa,zr.prototype.getResponseText=zr.prototype.fa,zr.prototype.send=zr.prototype.da,zr.prototype.setWithCredentials=zr.prototype.Ka;var Da=$e.createWebChannelTransport=function(){return new ma},rc=$e.getStatEventTarget=function(){return Ir()},Kc=$e.ErrorCode=or,fs=$e.EventType=Xi,Ho=$e.Event=vi,sc=$e.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ul=$e.FetchXmlHttpFactory=ao,Vl=$e.WebChannel=de,qc=$e.XhrIo=zr;const za="@firebase/firestore";class go{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}go.UNAUTHENTICATED=new go(null),go.GOOGLE_CREDENTIALS=new go("google-credentials-uid"),go.FIRST_PARTY=new go("first-party-uid"),go.MOCK_USER=new go("mock-user");let Sa="9.17.2";const ks=new oe.Yd("@firebase/firestore");function _o(){return ks.logLevel}function us(s){ks.setLogLevel(s)}function di(s,...e){if(ks.logLevel<=oe.in.DEBUG){const n=e.map(Zc);ks.debug(`Firestore (${Sa}): ${s}`,...n)}}function no(s,...e){if(ks.logLevel<=oe.in.ERROR){const n=e.map(Zc);ks.error(`Firestore (${Sa}): ${s}`,...n)}}function dl(s,...e){if(ks.logLevel<=oe.in.WARN){const n=e.map(Zc);ks.warn(`Firestore (${Sa}): ${s}`,...n)}}function Zc(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(n){return s}}function Qi(s="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+s;throw no(e),new Error(e)}function tr(s,e){s||Qi()}function Ml(s,e){s||Qi()}function Fi(s,e){return s}const An={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends ze.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ce{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class X{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Me{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(go.UNAUTHENTICATED))}shutdown(){}}class Dt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nn{constructor(e){this.t=e,this.currentUser=go.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var l=this;let d=this.i;const b=pe=>this.i!==d?(d=this.i,n(pe)):Promise.resolve();let A=new ce;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new ce,e.enqueueRetryable(()=>b(this.currentUser))};const G=()=>{const pe=A;e.enqueueRetryable((0,t.Z)(function*(){yield pe.promise,yield b(l.currentUser)}))},se=pe=>{di("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=pe,this.auth.addAuthTokenListener(this.o),G()};this.t.onInit(pe=>se(pe)),setTimeout(()=>{if(!this.auth){const pe=this.t.getImmediate({optional:!0});pe?se(pe):(di("FirebaseAuthCredentialsProvider","Auth not yet detected"),A.resolve(),A=new ce)}},0),G()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(l=>this.i!==e?(di("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(tr("string"==typeof l.accessToken),new X(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tr(null===e||"string"==typeof e),new go(e)}}class Fn{constructor(e,n,l,d){this.h=e,this.l=n,this.m=l,this.g=d,this.type="FirstParty",this.user=go.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(tr(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Hi{constructor(e,n,l,d){this.h=e,this.l=n,this.m=l,this.g=d}getToken(){return Promise.resolve(new Fn(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(go.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fr{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const l=b=>{null!=b.error&&di("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const A=b.token!==this.A;return this.A=b.token,di("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(b.token):Promise.resolve()};this.o=b=>{e.enqueueRetryable(()=>l(b))};const d=b=>{di("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.T.onInit(b=>d(b)),setTimeout(()=>{if(!this.appCheck){const b=this.T.getImmediate({optional:!0});b?d(b):di("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tr("string"==typeof n.token),this.A=n.token,new kr(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ar(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let l=0;l<s;l++)n[l]=Math.floor(256*Math.random());return n}class Er{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const d=ar(40);for(let b=0;b<d.length;++b)l.length<20&&d[b]<n&&(l+=e.charAt(d[b]%e.length))}return l}}function Ui(s,e){return s<e?-1:s>e?1:0}function Hr(s,e,n){return s.length===e.length&&s.every((l,d)=>n(l,e[d]))}function va(s){return s+"\0"}class Lr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(An.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(An.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(An.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(An.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*n));return new Lr(n,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ui(this.nanoseconds,e.nanoseconds):Ui(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nr(e)}static min(){return new nr(new Lr(0,0))}static max(){return new nr(new Lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Is{constructor(e,n,l){void 0===n?n=0:n>e.length&&Qi(),void 0===l?l=e.length-n:l>e.length-n&&Qi(),this.segments=e,this.offset=n,this.len=l}get length(){return this.len}isEqual(e){return 0===Is.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach(l=>{n.push(l)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,l=this.limit();n<l;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const l=Math.min(e.length,n.length);for(let d=0;d<l;d++){const b=e.get(d),A=n.get(d);if(b<A)return-1;if(b>A)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ar extends Is{construct(e,n,l){return new Ar(e,n,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const l of e){if(l.indexOf("//")>=0)throw new B(An.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);n.push(...l.split("/").filter(d=>d.length>0))}return new Ar(n)}static emptyPath(){return new Ar([])}}const oc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class os extends Is{construct(e,n,l){return new os(e,n,l)}static isValidIdentifier(e){return oc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),os.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new os(["__name__"])}static fromServerFormat(e){const n=[];let l="",d=0;const b=()=>{if(0===l.length)throw new B(An.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(l),l=""};let A=!1;for(;d<e.length;){const G=e[d];if("\\"===G){if(d+1===e.length)throw new B(An.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const se=e[d+1];if("\\"!==se&&"."!==se&&"`"!==se)throw new B(An.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=se,d+=2}else"`"===G?(A=!A,d++):"."!==G||A?(l+=G,d++):(b(),d++)}if(b(),A)throw new B(An.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new os(n)}static emptyPath(){return new os([])}}class ki{constructor(e){this.path=e}static fromPath(e){return new ki(Ar.fromString(e))}static fromName(e){return new ki(Ar.fromString(e).popFirst(5))}static empty(){return new ki(Ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ar.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ki(new Ar(e.slice()))}}class Aa{constructor(e,n,l,d){this.indexId=e,this.collectionGroup=n,this.fields=l,this.indexState=d}}function Hl(s){return s.fields.find(e=>2===e.kind)}function Ma(s){return s.fields.filter(e=>2!==e.kind)}Aa.UNKNOWN_ID=-1;class ac{constructor(e,n){this.fieldPath=e,this.kind=n}}class lc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new lc(0,Oa.min())}}function xa(s,e){const n=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,d=nr.fromTimestamp(1e9===l?new Lr(n+1,0):new Lr(n,l));return new Oa(d,ki.empty(),e)}function Xc(s){return new Oa(s.readTime,s.key,-1)}class Oa{constructor(e,n,l){this.readTime=e,this.documentKey=n,this.largestBatchId=l}static min(){return new Oa(nr.min(),ki.empty(),-1)}static max(){return new Oa(nr.max(),ki.empty(),-1)}}function wc(s,e){let n=s.readTime.compareTo(e.readTime);return 0!==n?n:(n=ki.comparator(s.documentKey,e.documentKey),0!==n?n:Ui(s.largestBatchId,e.largestBatchId))}const hu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hl(s){return cc.apply(this,arguments)}function cc(){return cc=(0,t.Z)(function*(s){if(s.code!==An.FAILED_PRECONDITION||s.message!==hu)throw s;di("LocalStore","Unexpectedly lost primary lease")}),cc.apply(this,arguments)}class Mn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Mn((l,d)=>{this.nextCallback=b=>{this.wrapSuccess(e,b).next(l,d)},this.catchCallback=b=>{this.wrapFailure(n,b).next(l,d)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Mn?n:Mn.resolve(n)}catch(n){return Mn.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Mn.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Mn.reject(n)}static resolve(e){return new Mn((n,l)=>{n(e)})}static reject(e){return new Mn((n,l)=>{l(e)})}static waitFor(e){return new Mn((n,l)=>{let d=0,b=0,A=!1;e.forEach(G=>{++d,G.next(()=>{++b,A&&b===d&&n()},se=>l(se))}),A=!0,b===d&&n()})}static or(e){let n=Mn.resolve(!1);for(const l of e)n=n.next(d=>d?Mn.resolve(d):l());return n}static forEach(e,n){const l=[];return e.forEach((d,b)=>{l.push(n.call(this,d,b))}),this.waitFor(l)}static mapArray(e,n){return new Mn((l,d)=>{const b=e.length,A=new Array(b);let G=0;for(let se=0;se<b;se++){const pe=se;n(e[pe]).next(Ke=>{A[pe]=Ke,++G,G===b&&l(A)},Ke=>d(Ke))}})}static doWhile(e,n){return new Mn((l,d)=>{const b=()=>{!0===e()?n().next(()=>{b()},d):l()};b()})}}class xl{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new ce,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Ya(e,n.error)):this.v.resolve()},this.transaction.onerror=l=>{const d=fu(l.target.error);this.v.reject(new Ya(e,d))}}static open(e,n,l,d){try{return new xl(n,e.transaction(d,l))}catch(b){throw new Ya(n,b)}}get P(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(di("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Pc(n)}}class rl{constructor(e,n,l){this.name=e,this.version=n,this.S=l,12.2===rl.D((0,ze.z$)())&&no("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return di("SimpleDb","Removing database:",e),Ka(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ze.hl)())return!1;if(rl.N())return!0;const e=(0,ze.z$)(),n=rl.D(e),l=0<n&&n<10,d=rl.k(e),b=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||b)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static k(e){const n=e.match(/Android ([\d.]+)/i),l=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(l)}F(e){var n=this;return(0,t.Z)(function*(){return n.db||(di("SimpleDb","Opening database:",n.name),n.db=yield new Promise((l,d)=>{const b=indexedDB.open(n.name,n.version);b.onsuccess=A=>{l(A.target.result)},b.onblocked=()=>{d(new Ya(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},b.onerror=A=>{const G=A.target.error;d("VersionError"===G.name?new B(An.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===G.name?new B(An.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+G):new Ya(e,G))},b.onupgradeneeded=A=>{di("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',A.oldVersion),n.S.$(A.target.result,b.transaction,A.oldVersion,n.version).next(()=>{di("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=l=>n.B(l)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,l,d){var b=this;return(0,t.Z)(function*(){const A="readonly"===n;let G=0;for(;;){++G;try{b.db=yield b.F(e);const se=xl.open(b.db,e,A?"readonly":"readwrite",l),pe=d(se).next(Ke=>(se.V(),Ke)).catch(Ke=>(se.abort(Ke),Mn.reject(Ke))).toPromise();return pe.catch(()=>{}),yield se.P,pe}catch(se){const pe=se,Ke="FirebaseError"!==pe.name&&G<3;if(di("SimpleDb","Transaction failed with error:",pe.message,"Retrying:",Ke),b.close(),!Ke)return Promise.reject(pe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Nc{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ka(this.q.delete())}}class Ya extends B{constructor(e,n){super(An.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fl(s){return"IndexedDbTransactionError"===s.name}class Pc{constructor(e){this.store=e}put(e,n){let l;return void 0!==n?(di("SimpleDb","PUT",this.store.name,e,n),l=this.store.put(n,e)):(di("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Ka(l)}add(e){return di("SimpleDb","ADD",this.store.name,e,e),Ka(this.store.add(e))}get(e){return Ka(this.store.get(e)).next(n=>(void 0===n&&(n=null),di("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return di("SimpleDb","DELETE",this.store.name,e),Ka(this.store.delete(e))}count(){return di("SimpleDb","COUNT",this.store.name),Ka(this.store.count())}W(e,n){const l=this.options(e,n);if(l.index||"function"!=typeof this.store.getAll){const d=this.cursor(l),b=[];return this.H(d,(A,G)=>{b.push(G)}).next(()=>b)}{const d=this.store.getAll(l.range);return new Mn((b,A)=>{d.onerror=G=>{A(G.target.error)},d.onsuccess=G=>{b(G.target.result)}})}}J(e,n){const l=this.store.getAll(e,null===n?void 0:n);return new Mn((d,b)=>{l.onerror=A=>{b(A.target.error)},l.onsuccess=A=>{d(A.target.result)}})}Y(e,n){di("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,n);l.Z=!1;const d=this.cursor(l);return this.H(d,(b,A,G)=>G.delete())}X(e,n){let l;n?l=e:(l={},n=e);const d=this.cursor(l);return this.H(d,n)}tt(e){const n=this.cursor({});return new Mn((l,d)=>{n.onerror=b=>{const A=fu(b.target.error);d(A)},n.onsuccess=b=>{const A=b.target.result;A?e(A.primaryKey,A.value).next(G=>{G?A.continue():l()}):l()}})}H(e,n){const l=[];return new Mn((d,b)=>{e.onerror=A=>{b(A.target.error)},e.onsuccess=A=>{const G=A.target.result;if(!G)return void d();const se=new Nc(G),pe=n(G.primaryKey,G.value,se);if(pe instanceof Mn){const Ke=pe.catch(Zt=>(se.done(),Mn.reject(Zt)));l.push(Ke)}se.isDone?d():null===se.G?G.continue():G.continue(se.G)}}).next(()=>Mn.waitFor(l))}options(e,n){let l;return void 0!==e&&("string"==typeof e?l=e:n=e),{index:l,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const l=this.store.index(e.index);return e.Z?l.openKeyCursor(e.range,n):l.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ka(s){return new Mn((e,n)=>{s.onsuccess=l=>{e(l.target.result)},s.onerror=l=>{const d=fu(l.target.error);n(d)}})}let Fs=!1;function fu(s){const e=rl.D((0,ze.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(n)>=0){const l=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Fs||(Fs=!0,setTimeout(()=>{throw l},0)),l}}return s}class qa{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;di("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,t.Z)(function*(){n.task=null;try{di("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(l){fl(l)?di("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield hl(l)}yield n.nt(6e4)}))}}class uc{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,t.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>n.it(l,e))})()}it(e,n){const l=new Set;let d=n,b=!0;return Mn.doWhile(()=>!0===b&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(A=>{if(null!==A&&!l.has(A))return di("IndexBackiller",`Processing collection: ${A}`),this.rt(e,A,d).next(G=>{d-=G,l.add(A)});b=!1})).next(()=>n-d)}rt(e,n,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(d=>this.localStore.localDocuments.getNextDocuments(e,n,d,l).next(b=>{const A=b.changes;return this.localStore.indexManager.updateIndexEntries(e,A).next(()=>this.ot(d,b)).next(G=>(di("IndexBackiller",`Updating offset: ${G}`),this.localStore.indexManager.updateCollectionGroup(e,n,G))).next(()=>A.size)}))}ot(e,n){let l=e;return n.changes.forEach((d,b)=>{const A=Xc(b);wc(A,l)>0&&(l=A)}),new Oa(l.readTime,l.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ra=(()=>{class s{constructor(n,l){this.previousValue=n,l&&(l.sequenceNumberHandler=d=>this.ut(d),this.ct=d=>l.writeSequenceNumber(d))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return s.at=-1,s})();class kc{constructor(e,n,l,d,b,A,G,se){this.databaseId=e,this.appId=n,this.persistenceKey=l,this.host=d,this.ssl=b,this.forceLongPolling=A,this.autoDetectLongPolling=G,this.useFetchStreams=se}}class Na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Na("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Na&&e.projectId===this.projectId&&e.database===this.database}}function Go(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Pa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function pl(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function hc(s){return null==s}function Tc(s){return 0===s&&1/s==-1/0}function Mr(s){return"number"==typeof s&&Number.isInteger(s)&&!Tc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class Ic extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Jc(){return typeof atob<"u"}class Fo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(d){throw d instanceof DOMException?new Ic("Invalid base64 string: "+d):d}}(e);return new Fo(n)}static fromUint8Array(e){const n=function(l){let d="";for(let b=0;b<l.length;++b)d+=String.fromCharCode(l[b]);return d}(e);return new Fo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ui(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fo.EMPTY_BYTE_STRING=new Fo("");const fc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(s){if(tr(!!s),"string"==typeof s){let e=0;const n=fc.exec(s);if(tr(!!n),n[1]){let d=n[1];d=(d+"000000000").substr(0,9),e=Number(d)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:Cs(s.seconds),nanos:Cs(s.nanos)}}function Cs(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Fc(s){return"string"==typeof s?Fo.fromBase64String(s):Fo.fromUint8Array(s)}function Ol(s){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pu(s){const e=s.mapValue.fields.__previous_value__;return Ol(e)?pu(e):e}function gl(s){const e=ta(s.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}const ws={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gl={nullValue:"NULL_VALUE"};function na(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ol(s)?4:Ht(s)?9007199254740991:10:Qi()}function ka(s,e){if(s===e)return!0;const n=na(s);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return gl(s).isEqual(gl(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const b=ta(l.timestampValue),A=ta(d.timestampValue);return b.seconds===A.seconds&&b.nanos===A.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return d=e,Fc(s.bytesValue).isEqual(Fc(d.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,d){return Cs(l.geoPointValue.latitude)===Cs(d.geoPointValue.latitude)&&Cs(l.geoPointValue.longitude)===Cs(d.geoPointValue.longitude)}(s,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return Cs(l.integerValue)===Cs(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const b=Cs(l.doubleValue),A=Cs(d.doubleValue);return b===A?Tc(b)===Tc(A):isNaN(b)&&isNaN(A)}return!1}(s,e);case 9:return Hr(s.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:return function(l,d){const b=l.mapValue.fields||{},A=d.mapValue.fields||{};if(Go(b)!==Go(A))return!1;for(const G in b)if(b.hasOwnProperty(G)&&(void 0===A[G]||!ka(b[G],A[G])))return!1;return!0}(s,e);default:return Qi()}var d}function Es(s,e){return void 0!==(s.values||[]).find(n=>ka(n,e))}function Do(s,e){if(s===e)return 0;const n=na(s),l=na(e);if(n!==l)return Ui(n,l);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ui(s.booleanValue,e.booleanValue);case 2:return function(d,b){const A=Cs(d.integerValue||d.doubleValue),G=Cs(b.integerValue||b.doubleValue);return A<G?-1:A>G?1:A===G?0:isNaN(A)?isNaN(G)?0:-1:1}(s,e);case 3:return Rl(s.timestampValue,e.timestampValue);case 4:return Rl(gl(s),gl(e));case 5:return Ui(s.stringValue,e.stringValue);case 6:return function(d,b){const A=Fc(d),G=Fc(b);return A.compareTo(G)}(s.bytesValue,e.bytesValue);case 7:return function(d,b){const A=d.split("/"),G=b.split("/");for(let se=0;se<A.length&&se<G.length;se++){const pe=Ui(A[se],G[se]);if(0!==pe)return pe}return Ui(A.length,G.length)}(s.referenceValue,e.referenceValue);case 8:return function(d,b){const A=Ui(Cs(d.latitude),Cs(b.latitude));return 0!==A?A:Ui(Cs(d.longitude),Cs(b.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(d,b){const A=d.values||[],G=b.values||[];for(let se=0;se<A.length&&se<G.length;++se){const pe=Do(A[se],G[se]);if(pe)return pe}return Ui(A.length,G.length)}(s.arrayValue,e.arrayValue);case 10:return function(d,b){if(d===ws.mapValue&&b===ws.mapValue)return 0;if(d===ws.mapValue)return 1;if(b===ws.mapValue)return-1;const A=d.fields||{},G=Object.keys(A),se=b.fields||{},pe=Object.keys(se);G.sort(),pe.sort();for(let Ke=0;Ke<G.length&&Ke<pe.length;++Ke){const Zt=Ui(G[Ke],pe[Ke]);if(0!==Zt)return Zt;const Cn=Do(A[G[Ke]],se[pe[Ke]]);if(0!==Cn)return Cn}return Ui(G.length,pe.length)}(s.mapValue,e.mapValue);default:throw Qi()}}function Rl(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Ui(s,e);const n=ta(s),l=ta(e),d=Ui(n.seconds,l.seconds);return 0!==d?d:Ui(n.nanos,l.nanos)}function ia(s){return Xa(s)}function Xa(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(l){const d=ta(l);return`time(${d.seconds},${d.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Fc(s.bytesValue).toBase64():"referenceValue"in s?ki.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(l){let d="[",b=!0;for(const A of l.values||[])b?b=!1:d+=",",d+=Xa(A);return d+"]"}(s.arrayValue):"mapValue"in s?function(l){const d=Object.keys(l.fields||{}).sort();let b="{",A=!0;for(const G of d)A?A=!1:b+=",",b+=`${G}:${Xa(l.fields[G])}`;return b+"}"}(s.mapValue):Qi();var e}function R(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function k(s){return!!s&&"integerValue"in s}function S(s){return!!s&&"arrayValue"in s}function V(s){return!!s&&"nullValue"in s}function ne(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Se(s){return!!s&&"mapValue"in s}function Re(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Pa(s.mapValue.fields,(n,l)=>e.mapValue.fields[n]=Re(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Re(s.arrayValue.values[n]);return e}return Object.assign({},s)}function Ht(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function kn(s){return"nullValue"in s?Gl:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?R(Na.empty(),ki.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Qi()}function Ei(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?R(Na.empty(),ki.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?ws:Qi()}function qi(s,e){const n=Do(s.value,e.value);return 0!==n?n:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function Vi(s,e){const n=Do(s.value,e.value);return 0!==n?n:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Gr{constructor(e,n){this.position=e,this.inclusive=n}}function Vs(s,e,n){let l=0;for(let d=0;d<s.position.length;d++){const b=e[d],A=s.position[d];if(l=b.field.isKeyField()?ki.comparator(ki.fromName(A.referenceValue),n.key):Do(A,n.data.field(b.field)),"desc"===b.dir&&(l*=-1),0!==l)break}return l}function uo(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ka(s.position[n],e.position[n]))return!1;return!0}class Lo{}class mr extends Lo{constructor(e,n,l){super(),this.field=e,this.op=n,this.value=l}static create(e,n,l){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,l):new bd(e,n,l):"array-contains"===n?new rd(e,l):"in"===n?new Vd(e,l):"not-in"===n?new mu(e,l):"array-contains-any"===n?new _u(e,l):new mr(e,n,l)}static createKeyFieldInFilter(e,n,l){return"in"===n?new gc(e,l):new Wl(e,l)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Do(n,this.value)):null!==n&&na(this.value)===na(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pr extends Lo{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new Pr(e,n)}matches(e){return So(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return null!==e?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function So(s){return"and"===s.op}function zl(s){return"or"===s.op}function Hs(s){return Dc(s)&&So(s)}function Dc(s){for(const e of s.filters)if(e instanceof Pr)return!1;return!0}function gu(s){if(s instanceof mr)return s.field.canonicalString()+s.op.toString()+ia(s.value);if(Hs(s))return s.filters.map(e=>gu(e)).join(",");{const e=s.filters.map(n=>gu(n)).join(",");return`${s.op}(${e})`}}function pc(s,e){return s instanceof mr?(n=s,(l=e)instanceof mr&&n.op===l.op&&n.field.isEqual(l.field)&&ka(n.value,l.value)):s instanceof Pr?function(n,l){return l instanceof Pr&&n.op===l.op&&n.filters.length===l.filters.length&&n.filters.reduce((d,b,A)=>d&&pc(b,l.filters[A]),!0)}(s,e):void Qi();var n,l}function Nl(s,e){const n=s.filters.concat(e);return Pr.create(n,s.op)}function ku(s){return s instanceof mr?`${(e=s).field.canonicalString()} ${e.op} ${ia(e.value)}`:s instanceof Pr?function(e){return e.op.toString()+" {"+e.getFilters().map(ku).join(" ,")+"}"}(s):"Filter";var e}class bd extends mr{constructor(e,n,l){super(e,n,l),this.key=ki.fromName(l.referenceValue)}matches(e){const n=ki.comparator(e.key,this.key);return this.matchesComparison(n)}}class gc extends mr{constructor(e,n){super(e,"in",n),this.keys=Lc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wl extends mr{constructor(e,n){super(e,"not-in",n),this.keys=Lc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Lc(s,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(l=>ki.fromName(l.referenceValue))}class rd extends mr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return S(n)&&Es(n.arrayValue,this.value)}}class Vd extends mr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Es(this.value.arrayValue,n)}}class mu extends mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Es(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Es(this.value.arrayValue,n)}}class _u extends mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!S(n)||!n.arrayValue.values)&&n.arrayValue.values.some(l=>Es(this.value.arrayValue,l))}}class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hd(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class xs{constructor(e,n){this.comparator=e,this.root=n||io.EMPTY}insert(e,n){return new xs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,io.BLACK,null,null))}remove(e){return new xs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,io.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const l=this.comparator(e,n.key);if(0===l)return n.value;l<0?n=n.left:l>0&&(n=n.right)}return null}indexOf(e){let n=0,l=this.root;for(;!l.isEmpty();){const d=this.comparator(e,l.key);if(0===d)return n+l.left.size;d<0?l=l.left:(n+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,l)=>(e(n,l),!1))}toString(){const e=[];return this.inorderTraversal((n,l)=>(e.push(`${n}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}}class Fa{constructor(e,n,l,d){this.isReverse=d,this.nodeStack=[];let b=1;for(;!e.isEmpty();)if(b=n?l(e.key,n):1,n&&d&&(b*=-1),b<0)e=this.isReverse?e.left:e.right;else{if(0===b){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class io{constructor(e,n,l,d,b){this.key=e,this.value=n,this.color=null!=l?l:io.RED,this.left=null!=d?d:io.EMPTY,this.right=null!=b?b:io.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,l,d,b){return new io(null!=e?e:this.key,null!=n?n:this.value,null!=l?l:this.color,null!=d?d:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,l){let d=this;const b=l(e,d.key);return d=b<0?d.copy(null,null,null,d.left.insert(e,n,l),null):0===b?d.copy(null,n,null,null,null):d.copy(null,null,null,null,d.right.insert(e,n,l)),d.fixUp()}removeMin(){if(this.left.isEmpty())return io.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let l,d=this;if(n(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,n),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===n(e,d.key)){if(d.right.isEmpty())return io.EMPTY;l=d.right.min(),d=d.copy(l.key,l.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,n))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,io.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qi();const e=this.left.check();if(e!==this.right.check())throw Qi();return e+(this.isRed()?0:1)}}io.EMPTY=null,io.RED=!0,io.BLACK=!1,io.EMPTY=new class{constructor(){this.size=0}get key(){throw Qi()}get value(){throw Qi()}get color(){throw Qi()}get left(){throw Qi()}get right(){throw Qi()}copy(s,e,n,l,d){return this}insert(s,e,n){return new io(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ds{constructor(e){this.comparator=e,this.data=new xs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,l)=>(e(n),!1))}forEachInRange(e,n){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const d=l.getNext();if(this.comparator(d.key,e[1])>=0)return;n(d.key)}}forEachWhile(e,n){let l;for(l=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qc(this.data.getIterator())}getIteratorFrom(e){return new Qc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(l=>{n=n.add(l)}),n}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const n=this.data.getIterator(),l=e.data.getIterator();for(;n.hasNext();){const d=n.getNext().key,b=l.getNext().key;if(0!==this.comparator(d,b))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ds(this.comparator);return n.data=e,n}}class Qc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ml(s){return s.hasNext()?s.getNext():void 0}class ra{constructor(e){this.fields=e,e.sort(os.comparator)}static empty(){return new ra([])}unionWith(e){let n=new Ds(os.comparator);for(const l of this.fields)n=n.add(l);for(const l of e)n=n.add(l);return new ra(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hr(this.fields,e.fields,(n,l)=>n.isEqual(l))}}class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let l=0;l<e.length-1;++l)if(n=(n.mapValue.fields||{})[e.get(l)],!Se(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Re(n)}setAll(e){let n=os.emptyPath(),l={},d=[];e.forEach((A,G)=>{if(!n.isImmediateParentOf(G)){const se=this.getFieldsMap(n);this.applyChanges(se,l,d),l={},d=[],n=G.popLast()}A?l[G.lastSegment()]=Re(A):d.push(G.lastSegment())});const b=this.getFieldsMap(n);this.applyChanges(b,l,d)}delete(e){const n=this.field(e.popLast());Se(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let l=0;l<e.length;++l){let d=n.mapValue.fields[e.get(l)];Se(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},n.mapValue.fields[e.get(l)]=d),n=d}return n.mapValue.fields}applyChanges(e,n,l){Pa(n,(d,b)=>e[d]=b);for(const d of l)delete e[d]}clone(){return new Ao(Re(this.value))}}function sd(s){const e=[];return Pa(s.fields,(n,l)=>{const d=new os([n]);if(Se(l)){const b=sd(l.mapValue).fields;if(0===b.length)e.push(d);else for(const A of b)e.push(d.child(A))}else e.push(d)}),new ra(e)}class as{constructor(e,n,l,d,b,A,G){this.key=e,this.documentType=n,this.version=l,this.readTime=d,this.createTime=b,this.data=A,this.documentState=G}static newInvalidDocument(e){return new as(e,0,nr.min(),nr.min(),nr.min(),Ao.empty(),0)}static newFoundDocument(e,n,l,d){return new as(e,1,n,nr.min(),l,d,0)}static newNoDocument(e,n){return new as(e,2,n,nr.min(),nr.min(),Ao.empty(),0)}static newUnknownDocument(e,n){return new as(e,3,n,nr.min(),nr.min(),Ao.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fu{constructor(e,n=null,l=[],d=[],b=null,A=null,G=null){this.path=e,this.collectionGroup=n,this.orderBy=l,this.filters=d,this.limit=b,this.startAt=A,this.endAt=G,this._t=null}}function Lu(s,e=null,n=[],l=[],d=null,b=null,A=null){return new Fu(s,e,n,l,d,b,A)}function Sc(s){const e=Fi(s);if(null===e._t){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(l=>gu(l)).join(","),n+="|ob:",n+=e.orderBy.map(l=>{return(d=l).field.canonicalString()+d.dir;var d}).join(","),hc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(l=>ia(l)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(l=>ia(l)).join(",")),e._t=n}return e._t}function $u(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Hd(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!pc(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!uo(s.startAt,e.startAt)&&uo(s.endAt,e.endAt)}function sa(s){return ki.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Ed(s,e){return s.filters.filter(n=>n instanceof mr&&n.field.isEqual(e))}function Xh(s,e,n){let l=Gl,d=!0;for(const b of Ed(s,e)){let A=Gl,G=!0;switch(b.op){case"<":case"<=":A=kn(b.value);break;case"==":case"in":case">=":A=b.value;break;case">":A=b.value,G=!1;break;case"!=":case"not-in":A=Gl}qi({value:l,inclusive:d},{value:A,inclusive:G})<0&&(l=A,d=G)}if(null!==n)for(let b=0;b<s.orderBy.length;++b)if(s.orderBy[b].field.isEqual(e)){const A=n.position[b];qi({value:l,inclusive:d},{value:A,inclusive:n.inclusive})<0&&(l=A,d=n.inclusive);break}return{value:l,inclusive:d}}function jd(s,e,n){let l=ws,d=!0;for(const b of Ed(s,e)){let A=ws,G=!0;switch(b.op){case">=":case">":A=Ei(b.value),G=!1;break;case"==":case"in":case"<=":A=b.value;break;case"<":A=b.value,G=!1;break;case"!=":case"not-in":A=ws}Vi({value:l,inclusive:d},{value:A,inclusive:G})>0&&(l=A,d=G)}if(null!==n)for(let b=0;b<s.orderBy.length;++b)if(s.orderBy[b].field.isEqual(e)){const A=n.position[b];Vi({value:l,inclusive:d},{value:A,inclusive:n.inclusive})>0&&(l=A,d=n.inclusive);break}return{value:l,inclusive:d}}class eu{constructor(e,n=null,l=[],d=[],b=null,A="F",G=null,se=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=l,this.filters=d,this.limit=b,this.limitType=A,this.startAt=G,this.endAt=se,this.wt=null,this.gt=null}}function Gd(s,e,n,l,d,b,A,G){return new eu(s,e,n,l,d,b,A,G)}function Ac(s){return new eu(s)}function Bu(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Bc(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function tu(s){for(const e of s.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function nu(s){return null!==s.collectionGroup}function mc(s){const e=Fi(s);if(null===e.wt){e.wt=[];const n=tu(e),l=Bc(e);if(null!==n&&null===l)n.isKeyField()||e.wt.push(new $c(n)),e.wt.push(new $c(os.keyField(),"asc"));else{let d=!1;for(const b of e.explicitOrderBy)e.wt.push(b),b.field.isKeyField()&&(d=!0);if(!d){const b=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $c(os.keyField(),b))}}}return e.wt}function Ys(s){const e=Fi(s);if(!e.gt)if("F"===e.limitType)e.gt=Lu(e.path,e.collectionGroup,mc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const b of mc(e))n.push(new $c(b.field,"desc"===b.dir?"asc":"desc"));const l=e.endAt?new Gr(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new Gr(e.startAt.position,e.startAt.inclusive):null;e.gt=Lu(e.path,e.collectionGroup,n,e.filters,e.limit,l,d)}return e.gt}function Uc(s,e){e.getFirstInequalityField(),tu(s);const n=s.filters.concat([e]);return new eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function vu(s,e,n){return new eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function zo(s,e){return $u(Ys(s),Ys(e))&&s.limitType===e.limitType}function Ss(s){return`${Sc(Ys(s))}|lt:${s.limitType}`}function Mc(s){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(l=>ku(l)).join(", ")}]`),hc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(l=>{return`${(d=l).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(l=>ia(l)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(l=>ia(l)).join(",")),`Target(${n})`}(Ys(s))}; limitType=${s.limitType})`}function _c(s,e){return e.isFoundDocument()&&function(n,l){const d=l.key.path;return null!==n.collectionGroup?l.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(d):ki.isDocumentKey(n.path)?n.path.isEqual(d):n.path.isImmediateParentOf(d)}(s,e)&&function(n,l){for(const d of mc(n))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(s,e)&&function(n,l){for(const d of n.filters)if(!d.matches(l))return!1;return!0}(s,e)&&(l=e,!((n=s).startAt&&!function(d,b,A){const G=Vs(d,b,A);return d.inclusive?G<=0:G<0}(n.startAt,mc(n),l)||n.endAt&&!function(d,b,A){const G=Vs(d,b,A);return d.inclusive?G>=0:G>0}(n.endAt,mc(n),l)));var n,l}function iu(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Uu(s){return(e,n)=>{let l=!1;for(const d of mc(s)){const b=Cd(d,e,n);if(0!==b)return b;l=l||d.field.isKeyField()}return 0}}function Cd(s,e,n){const l=s.field.isKeyField()?ki.comparator(e.key,n.key):function(d,b,A){const G=b.data.field(d),se=A.data.field(d);return null!==G&&null!==se?Do(G,se):Qi()}(s.field,e,n);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Qi()}}function Vc(s,e){if(s.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function od(s){return{integerValue:""+s}}function es(s,e){return Mr(e)?od(e):Vc(s,e)}class $o{constructor(){this._=void 0}}function Yl(s,e,n){return s instanceof _l?function(l,d){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&(b.fields.__previous_value__=d),{mapValue:b}}(n,e):s instanceof vl?vc(s,e):s instanceof Mo?Hc(s,e):function(l,d){const b=ls(l,d),A=C(b)+C(l.It);return k(b)&&k(l.It)?od(A):Vc(l.Tt,A)}(s,e)}function Pl(s,e,n){return s instanceof vl?vc(s,e):s instanceof Mo?Hc(s,e):n}function ls(s,e){return s instanceof F?k(n=e)||(l=n)&&"doubleValue"in l?e:{integerValue:0}:null;var l,n}class _l extends $o{}class vl extends $o{constructor(e){super(),this.elements=e}}function vc(s,e){const n=D(e);for(const l of s.elements)n.some(d=>ka(d,l))||n.push(l);return{arrayValue:{values:n}}}class Mo extends $o{constructor(e){super(),this.elements=e}}function Hc(s,e){let n=D(e);for(const l of s.elements)n=n.filter(d=>!ka(d,l));return{arrayValue:{values:n}}}class F extends $o{constructor(e,n){super(),this.Tt=e,this.It=n}}function C(s){return Cs(s.integerValue||s.doubleValue)}function D(s){return S(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class H{constructor(e,n){this.field=e,this.transform=n}}class Qe{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ci(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Yi{}function hr(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new El(s.key,gn.none()):new kl(s.key,s.data,gn.none());{const n=s.data,l=Ao.empty();let d=new Ds(os.comparator);for(let b of e.fields)if(!d.has(b)){let A=n.field(b);null===A&&b.length>1&&(b=b.popLast(),A=n.field(b)),null===A?l.delete(b):l.set(b,A),d=d.add(b)}return new La(s.key,l,new ra(d.toArray()),gn.none())}}function Wr(s,e,n){s instanceof kl?function(l,d,b){const A=l.value.clone(),G=ya(l.fieldTransforms,d,b.transformResults);A.setAll(G),d.convertToFoundDocument(b.version,A).setHasCommittedMutations()}(s,e,n):s instanceof La?function(l,d,b){if(!ci(l.precondition,d))return void d.convertToUnknownDocument(b.version);const A=ya(l.fieldTransforms,d,b.transformResults),G=d.data;G.setAll(Wo(l)),G.setAll(A),d.convertToFoundDocument(b.version,G).setHasCommittedMutations()}(s,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ls(s,e,n,l){return s instanceof kl?function(d,b,A,G){if(!ci(d.precondition,b))return A;const se=d.value.clone(),pe=yc(d.fieldTransforms,G,b);return se.setAll(pe),b.convertToFoundDocument(b.version,se).setHasLocalMutations(),null}(s,e,n,l):s instanceof La?function(d,b,A,G){if(!ci(d.precondition,b))return A;const se=yc(d.fieldTransforms,G,b),pe=b.data;return pe.setAll(Wo(d)),pe.setAll(se),b.convertToFoundDocument(b.version,pe).setHasLocalMutations(),null===A?null:A.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(Ke=>Ke.field))}(s,e,n,l):(A=n,ci(s.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):A);var b,A}function yl(s,e){let n=null;for(const l of s.fieldTransforms){const d=e.data.field(l.field),b=ls(l.transform,d||null);null!=b&&(null===n&&(n=Ao.empty()),n.set(l.field,b))}return n||null}function bl(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(n=s.fieldTransforms)&&void 0===l||n&&l&&Hr(n,l,(d,b)=>function De(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(n=s.transform)instanceof vl&&l instanceof vl||n instanceof Mo&&l instanceof Mo?Hr(n.elements,l.elements,ka):n instanceof F&&l instanceof F?ka(n.It,l.It):n instanceof _l&&l instanceof _l);var n,l}(d,b))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var n,l}class kl extends Yi{constructor(e,n,l,d=[]){super(),this.key=e,this.value=n,this.precondition=l,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class La extends Yi{constructor(e,n,l,d,b=[]){super(),this.key=e,this.data=n,this.fieldMask=l,this.precondition=d,this.fieldTransforms=b,this.type=1}getFieldMask(){return this.fieldMask}}function Wo(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const l=s.data.field(n);e.set(n,l)}}),e}function ya(s,e,n){const l=new Map;tr(s.length===n.length);for(let d=0;d<n.length;d++){const b=s[d],A=b.transform,G=e.data.field(b.field);l.set(b.field,Pl(A,G,n[d]))}return l}function yc(s,e,n){const l=new Map;for(const d of s){const b=d.transform,A=n.data.field(d.field);l.set(d.field,Yl(b,A,e))}return l}class El extends Yi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ja extends Yi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bc{constructor(e){this.count=e}}var ho,is;function Kl(s){switch(s){default:return Qi();case An.CANCELLED:case An.UNKNOWN:case An.DEADLINE_EXCEEDED:case An.RESOURCE_EXHAUSTED:case An.INTERNAL:case An.UNAVAILABLE:case An.UNAUTHENTICATED:return!1;case An.INVALID_ARGUMENT:case An.NOT_FOUND:case An.ALREADY_EXISTS:case An.PERMISSION_DENIED:case An.FAILED_PRECONDITION:case An.ABORTED:case An.OUT_OF_RANGE:case An.UNIMPLEMENTED:case An.DATA_LOSS:return!0}}function Vu(s){if(void 0===s)return no("GRPC error has no .code"),An.UNKNOWN;switch(s){case ho.OK:return An.OK;case ho.CANCELLED:return An.CANCELLED;case ho.UNKNOWN:return An.UNKNOWN;case ho.DEADLINE_EXCEEDED:return An.DEADLINE_EXCEEDED;case ho.RESOURCE_EXHAUSTED:return An.RESOURCE_EXHAUSTED;case ho.INTERNAL:return An.INTERNAL;case ho.UNAVAILABLE:return An.UNAVAILABLE;case ho.UNAUTHENTICATED:return An.UNAUTHENTICATED;case ho.INVALID_ARGUMENT:return An.INVALID_ARGUMENT;case ho.NOT_FOUND:return An.NOT_FOUND;case ho.ALREADY_EXISTS:return An.ALREADY_EXISTS;case ho.PERMISSION_DENIED:return An.PERMISSION_DENIED;case ho.FAILED_PRECONDITION:return An.FAILED_PRECONDITION;case ho.ABORTED:return An.ABORTED;case ho.OUT_OF_RANGE:return An.OUT_OF_RANGE;case ho.UNIMPLEMENTED:return An.UNIMPLEMENTED;case ho.DATA_LOSS:return An.DATA_LOSS;default:return Qi()}}(is=ho||(ho={}))[is.OK=0]="OK",is[is.CANCELLED=1]="CANCELLED",is[is.UNKNOWN=2]="UNKNOWN",is[is.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",is[is.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",is[is.NOT_FOUND=5]="NOT_FOUND",is[is.ALREADY_EXISTS=6]="ALREADY_EXISTS",is[is.PERMISSION_DENIED=7]="PERMISSION_DENIED",is[is.UNAUTHENTICATED=16]="UNAUTHENTICATED",is[is.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",is[is.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",is[is.ABORTED=10]="ABORTED",is[is.OUT_OF_RANGE=11]="OUT_OF_RANGE",is[is.UNIMPLEMENTED=12]="UNIMPLEMENTED",is[is.INTERNAL=13]="INTERNAL",is[is.UNAVAILABLE=14]="UNAVAILABLE",is[is.DATA_LOSS=15]="DATA_LOSS";class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0!==l)for(const[d,b]of l)if(this.equalsFn(d,e))return b}has(e){return void 0!==this.get(e)}set(e,n){const l=this.mapKeyFn(e),d=this.inner[l];if(void 0===d)return this.inner[l]=[[e,n]],void this.innerSize++;for(let b=0;b<d.length;b++)if(this.equalsFn(d[b][0],e))return void(d[b]=[e,n]);d.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0===l)return!1;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return 1===l.length?delete this.inner[n]:l.splice(d,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,l)=>{for(const[d,b]of l)e(d,b)})}isEmpty(){return pl(this.inner)}size(){return this.innerSize}}const ad=new xs(ki.comparator);function xo(){return ad}const wd=new xs(ki.comparator);function Hu(...s){let e=wd;for(const n of s)e=e.insert(n.key,n);return e}function ru(s){let e=wd;return s.forEach((n,l)=>e=e.insert(n,l.overlayedDocument)),e}function xc(){return $a()}function su(){return $a()}function $a(){return new sl(s=>s.toString(),(s,e)=>s.isEqual(e))}const ju=new xs(ki.comparator),ou=new Ds(ki.comparator);function Yr(...s){let e=ou;for(const n of s)e=e.add(n);return e}const zd=new Ds(Ui);function Cl(){return zd}class Gu{constructor(e,n,l,d,b){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=l,this.documentUpdates=d,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(e,n,l){const d=new Map;return d.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,l)),new Gu(nr.min(),d,Cl(),xo(),Yr())}}class zu{constructor(e,n,l,d,b){this.resumeToken=e,this.current=n,this.addedDocuments=l,this.modifiedDocuments=d,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(e,n,l){return new zu(l,n,Yr(),Yr(),Yr())}}class oa{constructor(e,n,l,d){this.Et=e,this.removedTargetIds=n,this.key=l,this.At=d}}class Td{constructor(e,n){this.targetId=e,this.Rt=n}}class ld{constructor(e,n,l=Fo.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=n,this.resumeToken=l,this.cause=d}}class Wd{constructor(){this.bt=0,this.vt=yu(),this.Pt=Fo.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=Yr(),n=Yr(),l=Yr();return this.vt.forEach((d,b)=>{switch(b){case 0:e=e.add(d);break;case 2:n=n.add(d);break;case 1:l=l.add(d);break;default:Qi()}}),new zu(this.Pt,this.Vt,e,n,l)}kt(){this.St=!1,this.vt=yu()}Ot(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class cd{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=xo(),this.Kt=au(),this.Gt=new Ds(Ui)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const l=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&l.xt(e.resumeToken);break;case 1:l.$t(),l.Dt||l.kt(),l.xt(e.resumeToken);break;case 2:l.$t(),l.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(l.Bt(),l.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),l.xt(e.resumeToken));break;default:Qi()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((l,d)=>{this.Jt(d)&&n(d)})}Zt(e){const n=e.targetId,l=e.Rt.count,d=this.Xt(n);if(d){const b=d.target;if(sa(b))if(0===l){const A=new ki(b.path);this.zt(n,A,as.newNoDocument(A,nr.min()))}else tr(1===l);else this.te(n)!==l&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((b,A)=>{const G=this.Xt(A);if(G){if(b.current&&sa(G.target)){const se=new ki(G.target.path);null!==this.Ut.get(se)||this.ne(A,se)||this.zt(A,se,as.newNoDocument(se,e))}b.Ct&&(n.set(A,b.Nt()),b.kt())}});let l=Yr();this.Kt.forEach((b,A)=>{let G=!0;A.forEachWhile(se=>{const pe=this.Xt(se);return!pe||2===pe.purpose||(G=!1,!1)}),G&&(l=l.add(b))}),this.Ut.forEach((b,A)=>A.setReadTime(e));const d=new Gu(e,n,this.Gt,this.Ut,l);return this.Ut=xo(),this.Kt=au(),this.Gt=new Ds(Ui),d}jt(e,n){if(!this.Jt(e))return;const l=this.ne(e,n.key)?2:0;this.Ht(e).Ot(n.key,l),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,l){if(!this.Jt(e))return;const d=this.Ht(e);this.ne(e,n)?d.Ot(n,1):d.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),l&&(this.Ut=this.Ut.insert(n,l))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let n=this.qt.get(e);return n||(n=new Wd,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new Ds(Ui),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=null!==this.Xt(e);return n||di("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Wd),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function au(){return new xs(ki.comparator)}function yu(){return new xs(ki.comparator)}const ud={asc:"ASCENDING",desc:"DESCENDING"},Wu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dd={and:"AND",or:"OR"};class bu{constructor(e,n){this.databaseId=e,this.yt=n}}function Eu(s,e){return s.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uh(s,e){return s.yt?e.toBase64():e.toUint8Array()}function dh(s,e){return Eu(s,e.toTimestamp())}function Oo(s){return tr(!!s),nr.fromTimestamp(function(e){const n=ta(e);return new Lr(n.seconds,n.nanos)}(s))}function Id(s,e){return(n=s,new Ar(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Dd(s){const e=Ar.fromString(s);return tr(_h(e)),e}function Cu(s,e){return Id(s.databaseId,e.path)}function wl(s,e){const n=Dd(e);if(n.get(1)!==s.databaseId.projectId)throw new B(An.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new B(An.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ki(Yd(n))}function Yu(s,e){return Id(s.databaseId,e)}function ol(s){const e=Dd(s);return 4===e.length?Ar.emptyPath():Yd(e)}function wu(s){return new Ar(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Yd(s){return tr(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Jh(s,e,n){return{name:Cu(s,e),fields:n.value.mapValue.fields}}function Kd(s,e,n){const l=wl(s,e.name),d=Oo(e.updateTime),b=e.createTime?Oo(e.createTime):nr.min(),A=new Ao({mapValue:{fields:e.fields}}),G=as.newFoundDocument(l,d,b,A);return n&&G.setHasCommittedMutations(),n?G.setHasCommittedMutations():G}function Tu(s,e){let n;if(e instanceof kl)n={update:Jh(s,e.key,e.value)};else if(e instanceof El)n={delete:Cu(s,e.key)};else if(e instanceof La)n={update:Jh(s,e.key,e.data),updateMask:tf(e.fieldMask)};else{if(!(e instanceof Ja))return Qi();n={verify:Cu(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(l=>function(d,b){const A=b.transform;if(A instanceof _l)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof vl)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Mo)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof F)return{fieldPath:b.field.canonicalString(),increment:A.It};throw Qi()}(0,l))),e.precondition.isNone||(n.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:dh(s,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Qi()),n;var d}function Iu(s,e){const n=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?gn.updateTime(Oo(d.updateTime)):void 0!==d.exists?gn.exists(d.exists):gn.none():gn.none(),l=e.updateTransforms?e.updateTransforms.map(d=>function(b,A){let G=null;"setToServerValue"in A?(tr("REQUEST_TIME"===A.setToServerValue),G=new _l):"appendMissingElements"in A?G=new vl(A.appendMissingElements.values||[]):"removeAllFromArray"in A?G=new Mo(A.removeAllFromArray.values||[]):"increment"in A?G=new F(b,A.increment):Qi();const se=os.fromServerFormat(A.fieldPath);return new H(se,G)}(s,d)):[];var d;if(e.update){const d=wl(s,e.update.name),b=new Ao({mapValue:{fields:e.update.fields}});if(e.updateMask){const A=new ra((e.updateMask.fieldPaths||[]).map(pe=>os.fromServerFormat(pe)));return new La(d,b,A,n,l)}return new kl(d,b,n,l)}if(e.delete){const d=wl(s,e.delete);return new El(d,n)}if(e.verify){const d=wl(s,e.verify);return new Ja(d,n)}return Qi()}function qd(s,e){return{documents:[Yu(s,e.path)]}}function fh(s,e){const n={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(n.parent=Yu(s,l),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yu(s,l.popLast()),n.structuredQuery.from=[{collectionId:l.lastSegment()}]);const d=function(se){if(0!==se.length)return Ku(Pr.create(se,"and"))}(e.filters);d&&(n.structuredQuery.where=d);const b=function(se){if(0!==se.length)return se.map(pe=>{return{field:Du((Ke=pe).field),direction:gh(Ke.dir)};var Ke})}(e.orderBy);b&&(n.structuredQuery.orderBy=b);const A=(pe=e.limit,s.yt||hc(pe)?pe:{value:pe});var pe,G,se;return null!==A&&(n.structuredQuery.limit=A),e.startAt&&(n.structuredQuery.startAt={before:(G=e.startAt).inclusive,values:G.position}),e.endAt&&(n.structuredQuery.endAt={before:!(se=e.endAt).inclusive,values:se.position}),n}function Qh(s){let e=ol(s.parent);const n=s.structuredQuery,l=n.from?n.from.length:0;let d=null;if(l>0){tr(1===l);const Ke=n.from[0];Ke.allDescendants?d=Ke.collectionId:e=e.child(Ke.collectionId)}let b=[];n.where&&(b=function(Ke){const Zt=ef(Ke);return Zt instanceof Pr&&Hs(Zt)?Zt.getFilters():[Zt]}(n.where));let A=[];n.orderBy&&(A=n.orderBy.map(Ke=>{return new $c(Qa((Zt=Ke).field),function(Cn){switch(Cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Zt.direction));var Zt}));let G=null;n.limit&&(G=function(Ke){let Zt;return Zt="object"==typeof Ke?Ke.value:Ke,hc(Zt)?null:Zt}(n.limit));let se=null;var Ke;n.startAt&&(se=new Gr((Ke=n.startAt).values||[],!!Ke.before));let pe=null;return n.endAt&&(pe=function(Ke){return new Gr(Ke.values||[],!Ke.before)}(n.endAt)),Gd(e,d,A,b,G,"F",se,pe)}function ef(s){return void 0!==s.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qa(e.unaryFilter.field);return mr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(e.unaryFilter.field);return mr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Qa(e.unaryFilter.field);return mr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Qa(e.unaryFilter.field);return mr.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Qi()}}(s):void 0!==s.fieldFilter?mr.create(Qa((e=s).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qi()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==s.compositeFilter?function(e){return Pr.create(e.compositeFilter.filters.map(n=>ef(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Qi()}}(e.compositeFilter.op))}(s):Qi();var e}function gh(s){return ud[s]}function Zd(s){return Wu[s]}function mh(s){return dd[s]}function Du(s){return{fieldPath:s.canonicalString()}}function Qa(s){return os.fromServerFormat(s.fieldPath)}function Ku(s){return s instanceof mr?function(e){if("=="===e.op){if(ne(e.value))return{unaryFilter:{field:Du(e.field),op:"IS_NAN"}};if(V(e.value))return{unaryFilter:{field:Du(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ne(e.value))return{unaryFilter:{field:Du(e.field),op:"IS_NOT_NAN"}};if(V(e.value))return{unaryFilter:{field:Du(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(e.field),op:Zd(e.op),value:e.value}}}(s):s instanceof Pr?function(e){const n=e.getFilters().map(l=>Ku(l));return 1===n.length?n[0]:{compositeFilter:{op:mh(e.op),filters:n}}}(s):Qi()}function tf(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _h(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function al(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=nf(e)),e=qf(s.get(n),e);return nf(e)}function qf(s,e){let n=e;const l=s.length;for(let d=0;d<l;d++){const b=s.charAt(d);switch(b){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=b}}return n}function nf(s){return s+"\x01\x01"}function jc(s){const e=s.length;if(tr(e>=2),2===e)return tr("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Ar.emptyPath();const n=e-2,l=[];let d="";for(let b=0;b<e;){const A=s.indexOf("\x01",b);switch((A<0||A>n)&&Qi(),s.charAt(A+1)){case"\x01":const G=s.substring(b,A);let se;0===d.length?se=G:(d+=G,se=d,d=""),l.push(se);break;case"\x10":d+=s.substring(b,A),d+="\0";break;case"\x11":d+=s.substring(b,A+1);break;default:Qi()}b=A+2}return new Ar(l)}const rf=["userId","batchId"];function vh(s,e){return[s,al(e)]}function _(s,e,n){return[s,al(e),n]}const h={},f=["prefixPath","collectionGroup","readTime","documentId"],w=["prefixPath","collectionGroup","documentId"],L=["collectionGroup","readTime","prefixPath","documentId"],ee=["canonicalId","targetId"],ue=["targetId","path"],Xe=["path","targetId"],Ft=["collectionId","parent"],tn=["indexId","uid"],Gn=["uid","sequenceNumber"],Kn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ti=["indexId","uid","orderedDocumentKey"],ir=["userId","collectionPath","documentId"],Cr=["userId","collectionPath","largestBatchId"],As=["userId","collectionGroup","largestBatchId"],ba=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ad=[...ba,"documentOverlays"],Xd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yh=Xd,Zf=[...yh,"indexConfiguration","indexState","indexEntries"];class Xf extends jo{constructor(e,n){super(),this.re=e,this.currentSequenceNumber=n}}function Ba(s,e){const n=Fi(s);return rl.M(n.re,e)}class Sp{constructor(e,n,l,d){this.batchId=e,this.localWriteTime=n,this.baseMutations=l,this.mutations=d}applyToRemoteDocument(e,n){const l=n.mutationResults;for(let d=0;d<this.mutations.length;d++){const b=this.mutations[d];b.key.isEqual(e.key)&&Wr(b,e,l[d])}}applyToLocalView(e,n){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(n=Ls(l,e,n,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(n=Ls(l,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const l=su();return this.mutations.forEach(d=>{const b=e.get(d.key),A=b.overlayedDocument;let G=this.applyToLocalView(A,b.mutatedFields);G=n.has(d.key)?null:G;const se=hr(A,G);null!==se&&l.set(d.key,se),A.isValidDocument()||A.convertToNoDocument(nr.min())}),l}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Yr())}isEqual(e){return this.batchId===e.batchId&&Hr(this.mutations,e.mutations,(n,l)=>bl(n,l))&&Hr(this.baseMutations,e.baseMutations,(n,l)=>bl(n,l))}}class sf{constructor(e,n,l,d){this.batch=e,this.commitVersion=n,this.mutationResults=l,this.docVersions=d}static from(e,n,l){tr(e.mutations.length===l.length);let d=ju;const b=e.mutations;for(let A=0;A<b.length;A++)d=d.insert(b[A].key,l[A].version);return new sf(e,n,l,d)}}class af{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vo{constructor(e,n,l,d,b=nr.min(),A=nr.min(),G=Fo.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=l,this.sequenceNumber=d,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=G}withSequenceNumber(e){return new vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ap{constructor(e){this.oe=e}}function lf(s,e){const n=e.key,l={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:cf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:Cu(d=s.oe,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Eu(d,b.version.toTimestamp()),createTime:Eu(d,b.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:n.path.toArray(),readTime:Jd(e.version)};else{if(!e.isUnknownDocument())return Qi();l.unknownDocument={path:n.path.toArray(),version:Jd(e.version)}}var d,b;return l}function cf(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Jd(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qd(s){const e=new Lr(s.seconds,s.nanoseconds);return nr.fromTimestamp(e)}function Md(s,e){const n=(e.baseMutations||[]).map(b=>Iu(s.oe,b));for(let b=0;b<e.mutations.length-1;++b)b+1<e.mutations.length&&void 0!==e.mutations[b+1].transform&&(e.mutations[b].updateTransforms=e.mutations[b+1].transform.fieldTransforms,e.mutations.splice(b+1,1),++b);const l=e.mutations.map(b=>Iu(s.oe,b)),d=Lr.fromMillis(e.localWriteTimeMs);return new Sp(e.batchId,d,n,l)}function xd(s){const e=Qd(s.readTime),n=void 0!==s.lastLimboFreeSnapshotVersion?Qd(s.lastLimboFreeSnapshotVersion):nr.min();let l;var d;return void 0!==s.query.documents?(tr(1===(d=s.query).documents.length),l=Ys(Ac(ol(d.documents[0])))):l=Ys(Qh(s.query)),new vo(l,s.targetId,0,s.lastListenSequenceNumber,e,n,Fo.fromBase64String(s.resumeToken))}function bh(s,e){const n=Jd(e.snapshotVersion),l=Jd(e.lastLimboFreeSnapshotVersion);let d;d=sa(e.target)?qd(s.oe,e.target):fh(s.oe,e.target);const b=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sc(e.target),readTime:n,resumeToken:b,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:d}}function Eh(s){const e=Qh({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?vu(e,e.limit,"L"):e}function g(s,e){return new af(e.largestBatchId,Iu(s.oe,e.overlayMutation))}function T(s,e){const n=e.path.lastSegment();return[s,al(e.path.popLast()),n]}function c(s,e,n,l){return{indexId:s,uid:e.uid||"",sequenceNumber:n,readTime:Jd(l.readTime),documentKey:al(l.documentKey.path),largestBatchId:l.largestBatchId}}class y{getBundleMetadata(e,n){return P(e).get(n).next(l=>{if(l)return{id:(d=l).bundleId,createTime:Qd(d.createTime),version:d.version};var d})}saveBundleMetadata(e,n){return P(e).put({bundleId:(l=n).id,createTime:Jd(Oo(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return te(e).get(n).next(l=>{if(l)return{name:(d=l).name,query:Eh(d.bundledQuery),readTime:Qd(d.readTime)};var d})}saveNamedQuery(e,n){return te(e).put({name:(l=n).name,readTime:Jd(Oo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function P(s){return Ba(s,"bundles")}function te(s){return Ba(s,"namedQueries")}class st{constructor(e,n){this.Tt=e,this.userId=n}static ue(e,n){return new st(e,n.uid||"")}getOverlay(e,n){return en(e).get(T(this.userId,n)).next(l=>l?g(this.Tt,l):null)}getOverlays(e,n){const l=xc();return Mn.forEach(n,d=>this.getOverlay(e,d).next(b=>{null!==b&&l.set(d,b)})).next(()=>l)}saveOverlays(e,n,l){const d=[];return l.forEach((b,A)=>{const G=new af(n,A);d.push(this.ce(e,G))}),Mn.waitFor(d)}removeOverlaysForBatchId(e,n,l){const d=new Set;n.forEach(A=>d.add(al(A.getCollectionPath())));const b=[];return d.forEach(A=>{const G=IDBKeyRange.bound([this.userId,A,l],[this.userId,A,l+1],!1,!0);b.push(en(e).Y("collectionPathOverlayIndex",G))}),Mn.waitFor(b)}getOverlaysForCollection(e,n,l){const d=xc(),b=al(n),A=IDBKeyRange.bound([this.userId,b,l],[this.userId,b,Number.POSITIVE_INFINITY],!0);return en(e).W("collectionPathOverlayIndex",A).next(G=>{for(const se of G){const pe=g(this.Tt,se);d.set(pe.getKey(),pe)}return d})}getOverlaysForCollectionGroup(e,n,l,d){const b=xc();let A;const G=IDBKeyRange.bound([this.userId,n,l],[this.userId,n,Number.POSITIVE_INFINITY],!0);return en(e).X({index:"collectionGroupOverlayIndex",range:G},(se,pe,Ke)=>{const Zt=g(this.Tt,pe);b.size()<d||Zt.largestBatchId===A?(b.set(Zt.getKey(),Zt),A=Zt.largestBatchId):Ke.done()}).next(()=>b)}ce(e,n){return en(e).put(function(l,d,b){const[A,G,se]=T(d,b.mutation.key);return{userId:d,collectionPath:G,documentId:se,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Tu(l.oe,b.mutation)}}(this.Tt,this.userId,n))}}function en(s){return Ba(s,"documentOverlays")}class ln{constructor(){}ae(e,n){this.he(e,n),n.le()}he(e,n){if("nullValue"in e)this.fe(n,5);else if("booleanValue"in e)this.fe(n,10),n.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(n,15),n.de(Cs(e.integerValue));else if("doubleValue"in e){const l=Cs(e.doubleValue);isNaN(l)?this.fe(n,13):(this.fe(n,15),Tc(l)?n.de(0):n.de(l))}else if("timestampValue"in e){const l=e.timestampValue;this.fe(n,20),"string"==typeof l?n._e(l):(n._e(`${l.seconds||""}`),n.de(l.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,n),this.me(n);else if("bytesValue"in e)this.fe(n,30),n.ge(Fc(e.bytesValue)),this.me(n);else if("referenceValue"in e)this.ye(e.referenceValue,n);else if("geoPointValue"in e){const l=e.geoPointValue;this.fe(n,45),n.de(l.latitude||0),n.de(l.longitude||0)}else"mapValue"in e?Ht(e)?this.fe(n,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,n),this.me(n)):"arrayValue"in e?(this.Ie(e.arrayValue,n),this.me(n)):Qi()}we(e,n){this.fe(n,25),this.Te(e,n)}Te(e,n){n._e(e)}pe(e,n){const l=e.fields||{};this.fe(n,55);for(const d of Object.keys(l))this.we(d,n),this.he(l[d],n)}Ie(e,n){const l=e.values||[];this.fe(n,50);for(const d of l)this.he(d,n)}ye(e,n){this.fe(n,37),ki.fromName(e).path.forEach(l=>{this.fe(n,60),this.Te(l,n)})}fe(e,n){e.de(n)}me(e){e.de(2)}}function wn(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function Pn(s){const e=64-function(n){let l=0;for(let d=0;d<8;++d){const b=wn(255&n[d]);if(l+=b,8!==b)break}return l}(s);return Math.ceil(e/8)}ln.Ee=new ln;class Qn{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const n=e[Symbol.iterator]();let l=n.next();for(;!l.done;)this.Re(l.value),l=n.next();this.be()}ve(e){const n=e[Symbol.iterator]();let l=n.next();for(;!l.done;)this.Pe(l.value),l=n.next();this.Ve()}Se(e){for(const n of e){const l=n.charCodeAt(0);if(l<128)this.Re(l);else if(l<2048)this.Re(960|l>>>6),this.Re(128|63&l);else if(n<"\ud800"||"\udbff"<n)this.Re(480|l>>>12),this.Re(128|63&l>>>6),this.Re(128|63&l);else{const d=n.codePointAt(0);this.Re(240|d>>>18),this.Re(128|63&d>>>12),this.Re(128|63&d>>>6),this.Re(128|63&d)}}this.be()}De(e){for(const n of e){const l=n.charCodeAt(0);if(l<128)this.Pe(l);else if(l<2048)this.Pe(960|l>>>6),this.Pe(128|63&l);else if(n<"\ud800"||"\udbff"<n)this.Pe(480|l>>>12),this.Pe(128|63&l>>>6),this.Pe(128|63&l);else{const d=n.codePointAt(0);this.Pe(240|d>>>18),this.Pe(128|63&d>>>12),this.Pe(128|63&d>>>6),this.Pe(128|63&d)}}this.Ve()}Ce(e){const n=this.xe(e),l=Pn(n);this.Ne(1+l),this.buffer[this.position++]=255&l;for(let d=n.length-l;d<n.length;++d)this.buffer[this.position++]=255&n[d]}ke(e){const n=this.xe(e),l=Pn(n);this.Ne(1+l),this.buffer[this.position++]=~(255&l);for(let d=n.length-l;d<n.length;++d)this.buffer[this.position++]=~(255&n[d])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const n=function(d){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,d,!1),new Uint8Array(b.buffer)}(e),l=0!=(128&n[0]);n[0]^=l?255:128;for(let d=1;d<n.length;++d)n[d]^=l?255:0;return n}Re(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(n)}Pe(e){const n=255&e;0===n?(this.$e(0),this.$e(255)):255===n?(this.$e(255),this.$e(0)):this.$e(e)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}$e(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const n=e+this.position;if(n<=this.buffer.length)return;let l=2*this.buffer.length;l<n&&(l=n);const d=new Uint8Array(l);d.set(this.buffer),this.buffer=d}}class Ai{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.Oe()}}class Ki{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Fe()}}class Kr{constructor(){this.Le=new Qn,this.qe=new Ai(this.Le),this.Ue=new Ki(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class pr{constructor(e,n,l,d){this.indexId=e,this.documentKey=n,this.arrayValue=l,this.directionalValue=d}Ge(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(n);return l.set(this.directionalValue,0),n!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new pr(this.indexId,this.documentKey,this.arrayValue,l)}}function Or(s,e){let n=s.indexId-e.indexId;return 0!==n?n:(n=qr(s.arrayValue,e.arrayValue),0!==n?n:(n=qr(s.directionalValue,e.directionalValue),0!==n?n:ki.comparator(s.documentKey,e.documentKey)))}function qr(s,e){for(let n=0;n<s.length&&n<e.length;++n){const l=s[n]-e[n];if(0!==l)return l}return s.length-e.length}class ps{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const n of e.filters){const l=n;l.isInequality()?this.ze=l:this.je.push(l)}}We(e){tr(e.collectionGroup===this.collectionId);const n=Hl(e);if(void 0!==n&&!this.He(n))return!1;const l=Ma(e);let d=0,b=0;for(;d<l.length&&this.He(l[d]);++d);if(d===l.length)return!0;if(void 0!==this.ze){const A=l[d];if(!this.Je(this.ze,A)||!this.Ye(this.Qe[b++],A))return!1;++d}for(;d<l.length;++d)if(b>=this.Qe.length||!this.Ye(this.Qe[b++],l[d]))return!1;return!0}He(e){for(const n of this.je)if(this.Je(n,e))return!0;return!1}Je(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function fo(s){var e,n;if(tr(s instanceof mr||s instanceof Pr),s instanceof mr){if(s instanceof Vd){const d=(null===(n=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(b=>mr.create(s.field,"==",b)))||[];return Pr.create(d,"or")}return s}const l=s.filters.map(d=>fo(d));return Pr.create(l,s.op)}function gs(s){if(0===s.getFilters().length)return[];const e=vs(fo(s));return tr(Ks(e)),ms(e)||_s(e)?[e]:e.getFilters()}function ms(s){return s instanceof mr}function _s(s){return s instanceof Pr&&Hs(s)}function Ks(s){return ms(s)||_s(s)||function(e){if(e instanceof Pr&&zl(e)){for(const n of e.getFilters())if(!ms(n)&&!_s(n))return!1;return!0}return!1}(s)}function vs(s){if(tr(s instanceof mr||s instanceof Pr),s instanceof mr)return s;if(1===s.filters.length)return vs(s.filters[0]);const e=s.filters.map(l=>vs(l));let n=Pr.create(e,s.op);return n=Ro(n),Ks(n)?n:(tr(n instanceof Pr),tr(So(n)),tr(n.filters.length>1),n.filters.reduce((l,d)=>Yo(l,d)))}function Yo(s,e){let n;return tr(s instanceof mr||s instanceof Pr),tr(e instanceof mr||e instanceof Pr),n=s instanceof mr?e instanceof mr?Pr.create([s,e],"and"):Ko(s,e):e instanceof mr?Ko(e,s):function(l,d){if(tr(l.filters.length>0&&d.filters.length>0),So(l)&&So(d))return Nl(l,d.getFilters());const b=zl(l)?l:d,A=zl(l)?d:l,G=b.filters.map(se=>Yo(se,A));return Pr.create(G,"or")}(s,e),Ro(n)}function Ko(s,e){if(So(e))return Nl(e,s.getFilters());{const n=e.filters.map(l=>Yo(s,l));return Pr.create(n,"or")}}function Ro(s){if(tr(s instanceof mr||s instanceof Pr),s instanceof mr)return s;const e=s.getFilters();if(1===e.length)return Ro(e[0]);if(Dc(s))return s;const n=e.map(d=>Ro(d)),l=[];return n.forEach(d=>{d instanceof mr?l.push(d):d instanceof Pr&&(d.op===s.op?l.push(...d.filters):l.push(d))}),1===l.length?l[0]:Pr.create(l,s.op)}class lu{constructor(){this.Ze=new el}addToCollectionParentIndex(e,n){return this.Ze.add(n),Mn.resolve()}getCollectionParents(e,n){return Mn.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return Mn.resolve()}deleteFieldIndex(e,n){return Mn.resolve()}getDocumentsMatchingTarget(e,n){return Mn.resolve(null)}getIndexType(e,n){return Mn.resolve(0)}getFieldIndexes(e,n){return Mn.resolve([])}getNextCollectionGroupToUpdate(e){return Mn.resolve(null)}getMinOffset(e,n){return Mn.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,n){return Mn.resolve(Oa.min())}updateCollectionGroup(e,n,l){return Mn.resolve()}updateIndexEntries(e,n){return Mn.resolve()}}class el{constructor(){this.index={}}add(e){const n=e.lastSegment(),l=e.popLast(),d=this.index[n]||new Ds(Ar.comparator),b=!d.has(l);return this.index[n]=d.add(l),b}has(e){const n=e.lastSegment(),l=e.popLast(),d=this.index[n];return d&&d.has(l)}getEntries(e){return(this.index[e]||new Ds(Ar.comparator)).toArray()}}const ql=new Uint8Array(0);class fd{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new el,this.tn=new sl(l=>Sc(l),(l,d)=>$u(l,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const l=n.lastSegment(),d=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const b={collectionId:l,parent:al(d)};return Ec(e).put(b)}return Mn.resolve()}getCollectionParents(e,n){const l=[],d=IDBKeyRange.bound([n,""],[va(n),""],!1,!0);return Ec(e).W(d).next(b=>{for(const A of b){if(A.collectionId!==n)break;l.push(jc(A.parent))}return l})}addFieldIndex(e,n){const l=Su(e),d={indexId:(A=n).indexId,collectionGroup:A.collectionGroup,fields:A.fields.map(G=>[G.fieldPath.canonicalString(),G.kind])};var A;delete d.indexId;const b=l.add(d);if(n.indexState){const A=cu(e);return b.next(G=>{A.put(c(G,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return b.next()}deleteFieldIndex(e,n){const l=Su(e),d=cu(e),b=Zl(e);return l.delete(n.indexId).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>b.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const l=Zl(e);let d=!0;const b=new Map;return Mn.forEach(this.en(n),A=>this.nn(e,A).next(G=>{d&&(d=!!G),b.set(A,G)})).next(()=>{if(d){let A=Yr();const G=[];return Mn.forEach(b,(se,pe)=>{var Ke;di("IndexedDbIndexManager",`Using index ${Ke=se,`id=${Ke.indexId}|cg=${Ke.collectionGroup}|f=${Ke.fields.map(yo=>`${yo.fieldPath}:${yo.kind}`).join(",")}`} to execute ${Sc(n)}`);const Zt=function(yo,Ql){const Zo=Hl(Ql);if(void 0===Zo)return null;for(const bo of Ed(yo,Zo.fieldPath))switch(bo.op){case"array-contains-any":return bo.value.arrayValue.values||[];case"array-contains":return[bo.value]}return null}(pe,se),Cn=function(yo,Ql){const Zo=new Map;for(const bo of Ma(Ql))for(const Rc of Ed(yo,bo.fieldPath))switch(Rc.op){case"==":case"in":Zo.set(bo.fieldPath.canonicalString(),Rc.value);break;case"not-in":case"!=":return Zo.set(bo.fieldPath.canonicalString(),Rc.value),Array.from(Zo.values())}return null}(pe,se),ni=function(yo,Ql){const Zo=[];let bo=!0;for(const Rc of Ma(Ql)){const im=0===Rc.kind?Xh(yo,Rc.fieldPath,yo.startAt):jd(yo,Rc.fieldPath,yo.startAt);Zo.push(im.value),bo&&(bo=im.inclusive)}return new Gr(Zo,bo)}(pe,se),pi=function(yo,Ql){const Zo=[];let bo=!0;for(const Rc of Ma(Ql)){const im=0===Rc.kind?jd(yo,Rc.fieldPath,yo.endAt):Xh(yo,Rc.fieldPath,yo.endAt);Zo.push(im.value),bo&&(bo=im.inclusive)}return new Gr(Zo,bo)}(pe,se),lr=this.sn(se,pe,ni),wr=this.sn(se,pe,pi),qo=this.rn(se,pe,Cn),Ea=this.on(se.indexId,Zt,lr,ni.inclusive,wr,pi.inclusive,qo);return Mn.forEach(Ea,yo=>l.J(yo,n.limit).next(Ql=>{Ql.forEach(Zo=>{const bo=ki.fromSegments(Zo.documentKey);A.has(bo)||(A=A.add(bo),G.push(bo))})}))}).next(()=>G)}return Mn.resolve(null)})}en(e){let n=this.tn.get(e);return n||(n=0===e.filters.length?[e]:gs(Pr.create(e.filters,"and")).map(l=>Lu(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,n),n)}on(e,n,l,d,b,A,G){const se=(null!=n?n.length:1)*Math.max(l.length,b.length),pe=se/(null!=n?n.length:1),Ke=[];for(let Zt=0;Zt<se;++Zt){const Cn=n?this.un(n[Zt/pe]):ql,ni=this.cn(e,Cn,l[Zt%pe],d),pi=this.an(e,Cn,b[Zt%pe],A),lr=G.map(wr=>this.cn(e,Cn,wr,!0));Ke.push(...this.createRange(ni,pi,lr))}return Ke}cn(e,n,l,d){const b=new pr(e,ki.empty(),n,l);return d?b:b.Ge()}an(e,n,l,d){const b=new pr(e,ki.empty(),n,l);return d?b.Ge():b}nn(e,n){const l=new ps(n),d=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,d).next(b=>{let A=null;for(const G of b)l.We(G)&&(!A||G.fields.length>A.fields.length)&&(A=G);return A})}getIndexType(e,n){let l=2;const d=this.en(n);return Mn.forEach(d,b=>this.nn(e,b).next(A=>{A?0!==l&&A.fields.length<function(G){let se=new Ds(os.comparator),pe=!1;for(const Ke of G.filters)for(const Zt of Ke.getFlattenedFilters())Zt.field.isKeyField()||("array-contains"===Zt.op||"array-contains-any"===Zt.op?pe=!0:se=se.add(Zt.field));for(const Ke of G.orderBy)Ke.field.isKeyField()||(se=se.add(Ke.field));return se.size+(pe?1:0)}(b)&&(l=1):l=0})).next(()=>null!==n.limit&&d.length>1&&2===l?1:l)}hn(e,n){const l=new Kr;for(const d of Ma(e)){const b=n.data.field(d.fieldPath);if(null==b)return null;const A=l.Ke(d.kind);ln.Ee.ae(b,A)}return l.Be()}un(e){const n=new Kr;return ln.Ee.ae(e,n.Ke(0)),n.Be()}ln(e,n){const l=new Kr;return ln.Ee.ae(R(this.databaseId,n),l.Ke(function(d){const b=Ma(d);return 0===b.length?0:b[b.length-1].kind}(e))),l.Be()}rn(e,n,l){if(null===l)return[];let d=[];d.push(new Kr);let b=0;for(const A of Ma(e)){const G=l[b++];for(const se of d)if(this.fn(n,A.fieldPath)&&S(G))d=this.dn(d,A,G);else{const pe=se.Ke(A.kind);ln.Ee.ae(G,pe)}}return this._n(d)}sn(e,n,l){return this.rn(e,n,l.position)}_n(e){const n=[];for(let l=0;l<e.length;++l)n[l]=e[l].Be();return n}dn(e,n,l){const d=[...e],b=[];for(const A of l.arrayValue.values||[])for(const G of d){const se=new Kr;se.seed(G.Be()),ln.Ee.ae(A,se.Ke(n.kind)),b.push(se)}return b}fn(e,n){return!!e.filters.find(l=>l instanceof mr&&l.field.isEqual(n)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,n){const l=Su(e),d=cu(e);return(n?l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):l.W()).next(b=>{const A=[];return Mn.forEach(b,G=>d.get([G.indexId,this.uid]).next(se=>{A.push(function(pe,Ke){const Zt=Ke?new lc(Ke.sequenceNumber,new Oa(Qd(Ke.readTime),new ki(jc(Ke.documentKey)),Ke.largestBatchId)):lc.empty(),Cn=pe.fields.map(([ni,pi])=>new ac(os.fromServerFormat(ni),pi));return new Aa(pe.indexId,pe.collectionGroup,Cn,Zt)}(G,se))})).next(()=>A)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((l,d)=>{const b=l.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==b?b:Ui(l.collectionGroup,d.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,l){const d=Su(e),b=cu(e);return this.wn(e).next(A=>d.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(G=>Mn.forEach(G,se=>b.put(c(se.indexId,this.user,A,l)))))}updateIndexEntries(e,n){const l=new Map;return Mn.forEach(n,(d,b)=>{const A=l.get(d.collectionGroup);return(A?Mn.resolve(A):this.getFieldIndexes(e,d.collectionGroup)).next(G=>(l.set(d.collectionGroup,G),Mn.forEach(G,se=>this.mn(e,d,se).next(pe=>{const Ke=this.gn(b,se);return pe.isEqual(Ke)?Mn.resolve():this.yn(e,b,se,pe,Ke)}))))})}pn(e,n,l,d){return Zl(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.ln(l,n.key),documentKey:n.key.path.toArray()})}In(e,n,l,d){return Zl(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.ln(l,n.key),n.key.path.toArray()])}mn(e,n,l){const d=Zl(e);let b=new Ds(Or);return d.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.ln(l,n)])},(A,G)=>{b=b.add(new pr(l.indexId,n,G.arrayValue,G.directionalValue))}).next(()=>b)}gn(e,n){let l=new Ds(Or);const d=this.hn(n,e);if(null==d)return l;const b=Hl(n);if(null!=b){const A=e.data.field(b.fieldPath);if(S(A))for(const G of A.arrayValue.values||[])l=l.add(new pr(n.indexId,e.key,this.un(G),d))}else l=l.add(new pr(n.indexId,e.key,ql,d));return l}yn(e,n,l,d,b){di("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const A=[];return function(G,se,pe,Ke,Zt){const Cn=G.getIterator(),ni=se.getIterator();let pi=ml(Cn),lr=ml(ni);for(;pi||lr;){let wr=!1,qo=!1;if(pi&&lr){const Ea=pe(pi,lr);Ea<0?qo=!0:Ea>0&&(wr=!0)}else null!=pi?qo=!0:wr=!0;wr?(Ke(lr),lr=ml(ni)):qo?(Zt(pi),pi=ml(Cn)):(pi=ml(Cn),lr=ml(ni))}}(d,b,Or,G=>{A.push(this.pn(e,n,l,G))},G=>{A.push(this.In(e,n,l,G))}),Mn.waitFor(A)}wn(e){let n=1;return cu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,d,b)=>{b.done(),n=d.sequenceNumber+1}).next(()=>n)}createRange(e,n,l){l=l.sort((A,G)=>Or(A,G)).filter((A,G,se)=>!G||0!==Or(A,se[G-1]));const d=[];d.push(e);for(const A of l){const G=Or(A,e),se=Or(A,n);if(0===G)d[0]=e.Ge();else if(G>0&&se<0)d.push(A),d.push(A.Ge());else if(se>0)break}d.push(n);const b=[];for(let A=0;A<d.length;A+=2){if(this.Tn(d[A],d[A+1]))return[];b.push(IDBKeyRange.bound([d[A].indexId,this.uid,d[A].arrayValue,d[A].directionalValue,ql,[]],[d[A+1].indexId,this.uid,d[A+1].arrayValue,d[A+1].directionalValue,ql,[]]))}return b}Tn(e,n){return Or(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Od)}getMinOffset(e,n){return Mn.mapArray(this.en(n),l=>this.nn(e,l).next(d=>d||Qi())).next(Od)}}function Ec(s){return Ba(s,"collectionParents")}function Zl(s){return Ba(s,"indexEntries")}function Su(s){return Ba(s,"indexConfiguration")}function cu(s){return Ba(s,"indexState")}function Od(s){tr(0!==s.length);let e=s[0].indexState.offset,n=e.largestBatchId;for(let l=1;l<s.length;l++){const d=s[l].indexState.offset;wc(d,e)<0&&(e=d),n<d.largestBatchId&&(n=d.largestBatchId)}return new Oa(e.readTime,e.documentKey,n)}const Ch={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tl{constructor(e,n,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new tl(e,tl.DEFAULT_COLLECTION_PERCENTILE,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uf(s,e,n){const l=s.store("mutations"),d=s.store("documentMutations"),b=[],A=IDBKeyRange.only(n.batchId);let G=0;const se=l.X({range:A},(Ke,Zt,Cn)=>(G++,Cn.delete()));b.push(se.next(()=>{tr(1===G)}));const pe=[];for(const Ke of n.mutations){const Zt=_(e,Ke.key.path,n.batchId);b.push(d.delete(Zt)),pe.push(Ke.key)}return Mn.waitFor(b).next(()=>pe)}function Au(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Qi();e=s.noDocument}return JSON.stringify(e).length}tl.DEFAULT_COLLECTION_PERCENTILE=10,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tl.DEFAULT=new tl(41943040,tl.DEFAULT_COLLECTION_PERCENTILE,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tl.DISABLED=new tl(-1,0,0);class Fl{constructor(e,n,l,d){this.userId=e,this.Tt=n,this.indexManager=l,this.referenceDelegate=d,this.En={}}static ue(e,n,l,d){tr(""!==e.uid);const b=e.isAuthenticated()?e.uid:"";return new Fl(b,n,l,d)}checkEmpty(e){let n=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).X({index:"userMutationsIndex",range:l},(d,b,A)=>{n=!1,A.done()}).next(()=>n)}addMutationBatch(e,n,l,d){const b=Il(e),A=Tl(e);return A.add({}).next(G=>{tr("number"==typeof G);const se=new Sp(G,n,l,d),pe=function(Cn,ni,pi){const lr=pi.baseMutations.map(qo=>Tu(Cn.oe,qo)),wr=pi.mutations.map(qo=>Tu(Cn.oe,qo));return{userId:ni,batchId:pi.batchId,localWriteTimeMs:pi.localWriteTime.toMillis(),baseMutations:lr,mutations:wr}}(this.Tt,this.userId,se),Ke=[];let Zt=new Ds((Cn,ni)=>Ui(Cn.canonicalString(),ni.canonicalString()));for(const Cn of d){const ni=_(this.userId,Cn.key.path,G);Zt=Zt.add(Cn.key.path.popLast()),Ke.push(A.put(pe)),Ke.push(b.put(ni,h))}return Zt.forEach(Cn=>{Ke.push(this.indexManager.addToCollectionParentIndex(e,Cn))}),e.addOnCommittedListener(()=>{this.En[G]=se.keys()}),Mn.waitFor(Ke).next(()=>se)})}lookupMutationBatch(e,n){return Tl(e).get(n).next(l=>l?(tr(l.userId===this.userId),Md(this.Tt,l)):null)}An(e,n){return this.En[n]?Mn.resolve(this.En[n]):this.lookupMutationBatch(e,n).next(l=>{if(l){const d=l.keys();return this.En[n]=d,d}return null})}getNextMutationBatchAfterBatchId(e,n){const l=n+1,d=IDBKeyRange.lowerBound([this.userId,l]);let b=null;return Tl(e).X({index:"userMutationsIndex",range:d},(A,G,se)=>{G.userId===this.userId&&(tr(G.batchId>=l),b=Md(this.Tt,G)),se.done()}).next(()=>b)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return Tl(e).X({index:"userMutationsIndex",range:n,reverse:!0},(d,b,A)=>{l=b.batchId,A.done()}).next(()=>l)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).W("userMutationsIndex",n).next(l=>l.map(d=>Md(this.Tt,d)))}getAllMutationBatchesAffectingDocumentKey(e,n){const l=vh(this.userId,n.path),d=IDBKeyRange.lowerBound(l),b=[];return Il(e).X({range:d},(A,G,se)=>{const[pe,Ke,Zt]=A,Cn=jc(Ke);if(pe===this.userId&&n.path.isEqual(Cn))return Tl(e).get(Zt).next(ni=>{if(!ni)throw Qi();tr(ni.userId===this.userId),b.push(Md(this.Tt,ni))});se.done()}).next(()=>b)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new Ds(Ui);const d=[];return n.forEach(b=>{const A=vh(this.userId,b.path),G=IDBKeyRange.lowerBound(A),se=Il(e).X({range:G},(pe,Ke,Zt)=>{const[Cn,ni,pi]=pe,lr=jc(ni);Cn===this.userId&&b.path.isEqual(lr)?l=l.add(pi):Zt.done()});d.push(se)}),Mn.waitFor(d).next(()=>this.Rn(e,l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,d=l.length+1,b=vh(this.userId,l),A=IDBKeyRange.lowerBound(b);let G=new Ds(Ui);return Il(e).X({range:A},(se,pe,Ke)=>{const[Zt,Cn,ni]=se,pi=jc(Cn);Zt===this.userId&&l.isPrefixOf(pi)?pi.length===d&&(G=G.add(ni)):Ke.done()}).next(()=>this.Rn(e,G))}Rn(e,n){const l=[],d=[];return n.forEach(b=>{d.push(Tl(e).get(b).next(A=>{if(null===A)throw Qi();tr(A.userId===this.userId),l.push(Md(this.Tt,A))}))}),Mn.waitFor(d).next(()=>l)}removeMutationBatch(e,n){return uf(e.re,this.userId,n).next(l=>(e.addOnCommittedListener(()=>{this.bn(n.batchId)}),Mn.forEach(l,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}bn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Mn.resolve();const l=IDBKeyRange.lowerBound([this.userId]),d=[];return Il(e).X({range:l},(b,A,G)=>{if(b[0]===this.userId){const se=jc(b[1]);d.push(se)}else G.done()}).next(()=>{tr(0===d.length)})})}containsKey(e,n){return Rd(e,this.userId,n)}vn(e){return wh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rd(s,e,n){const l=vh(e,n.path),d=l[1],b=IDBKeyRange.lowerBound(l);let A=!1;return Il(s).X({range:b,Z:!0},(G,se,pe)=>{const[Ke,Zt,Cn]=G;Ke===e&&Zt===d&&(A=!0),pe.done()}).next(()=>A)}function Tl(s){return Ba(s,"mutations")}function Il(s){return Ba(s,"documentMutations")}function wh(s){return Ba(s,"mutationQueues")}class qu{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new qu(0)}static Sn(){return new qu(-1)}}class df{constructor(e,n){this.referenceDelegate=e,this.Tt=n}allocateTargetId(e){return this.Dn(e).next(n=>{const l=new qu(n.highestTargetId);return n.highestTargetId=l.next(),this.Cn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(n=>nr.fromTimestamp(new Lr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,l){return this.Dn(e).next(d=>(d.highestListenSequenceNumber=n,l&&(d.lastRemoteSnapshotVersion=l.toTimestamp()),n>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=n),this.Cn(e,d)))}addTargetData(e,n){return this.xn(e,n).next(()=>this.Dn(e).next(l=>(l.targetCount+=1,this.Nn(n,l),this.Cn(e,l))))}updateTargetData(e,n){return this.xn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Nd(e).delete(n.targetId)).next(()=>this.Dn(e)).next(l=>(tr(l.targetCount>0),l.targetCount-=1,this.Cn(e,l)))}removeTargets(e,n,l){let d=0;const b=[];return Nd(e).X((A,G)=>{const se=xd(G);se.sequenceNumber<=n&&null===l.get(se.targetId)&&(d++,b.push(this.removeTargetData(e,se)))}).next(()=>Mn.waitFor(b)).next(()=>d)}forEachTarget(e,n){return Nd(e).X((l,d)=>{const b=xd(d);n(b)})}Dn(e){return hf(e).get("targetGlobalKey").next(n=>(tr(null!==n),n))}Cn(e,n){return hf(e).put("targetGlobalKey",n)}xn(e,n){return Nd(e).put(bh(this.Tt,n))}Nn(e,n){let l=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,l=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.Dn(e).next(n=>n.targetCount)}getTargetData(e,n){const l=Sc(n),d=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let b=null;return Nd(e).X({range:d,index:"queryTargetsIndex"},(A,G,se)=>{const pe=xd(G);$u(n,pe.target)&&(b=pe,se.done())}).next(()=>b)}addMatchingKeys(e,n,l){const d=[],b=Zu(e);return n.forEach(A=>{const G=al(A.path);d.push(b.put({targetId:l,path:G})),d.push(this.referenceDelegate.addReference(e,l,A))}),Mn.waitFor(d)}removeMatchingKeys(e,n,l){const d=Zu(e);return Mn.forEach(n,b=>{const A=al(b.path);return Mn.waitFor([d.delete([l,A]),this.referenceDelegate.removeReference(e,l,b)])})}removeMatchingKeysForTargetId(e,n){const l=Zu(e),d=IDBKeyRange.bound([n],[n+1],!1,!0);return l.delete(d)}getMatchingKeysForTargetId(e,n){const l=IDBKeyRange.bound([n],[n+1],!1,!0),d=Zu(e);let b=Yr();return d.X({range:l,Z:!0},(A,G,se)=>{const pe=jc(A[1]),Ke=new ki(pe);b=b.add(Ke)}).next(()=>b)}containsKey(e,n){const l=al(n.path),d=IDBKeyRange.bound([l],[va(l)],!1,!0);let b=0;return Zu(e).X({index:"documentTargetsIndex",Z:!0,range:d},([A,G],se,pe)=>{0!==A&&(b++,pe.done())}).next(()=>b>0)}ie(e,n){return Nd(e).get(n).next(l=>l?xd(l):null)}}function Nd(s){return Ba(s,"targets")}function hf(s){return Ba(s,"targetGlobal")}function Zu(s){return Ba(s,"targetDocuments")}function ff([s,e],[n,l]){const d=Ui(s,n);return 0===d?Ui(e,l):d}class pf{constructor(e){this.kn=e,this.buffer=new Ds(ff),this.On=0}Mn(){return++this.On}Fn(e){const n=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(n);else{const l=this.buffer.last();ff(n,l)<0&&(this.buffer=this.buffer.delete(l).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gf{constructor(e,n,l){this.garbageCollector=e,this.asyncQueue=n,this.localStore=l,this.$n=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return null!==this.$n}Bn(e){var n=this;di("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,t.Z)(function*(){n.$n=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(l){fl(l)?di("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield hl(l)}yield n.Bn(3e5)}))}}class dg{constructor(e,n){this.Ln=e,this.params=n}calculateTargetCount(e,n){return this.Ln.qn(e).next(l=>Math.floor(n/100*l))}nthSequenceNumber(e,n){if(0===n)return Mn.resolve(Ra.at);const l=new pf(n);return this.Ln.forEachTarget(e,d=>l.Fn(d.sequenceNumber)).next(()=>this.Ln.Un(e,d=>l.Fn(d))).next(()=>l.maxValue)}removeTargets(e,n,l){return this.Ln.removeTargets(e,n,l)}removeOrphanedDocuments(e,n){return this.Ln.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(di("LruGarbageCollector","Garbage collection skipped; disabled"),Mn.resolve(Ch)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(di("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ch):this.Kn(e,n))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,n){let l,d,b,A,G,se,pe;const Ke=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Zt=>(Zt>this.params.maximumSequenceNumbersToCollect?(di("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Zt}`),d=this.params.maximumSequenceNumbersToCollect):d=Zt,A=Date.now(),this.nthSequenceNumber(e,d))).next(Zt=>(l=Zt,G=Date.now(),this.removeTargets(e,l,n))).next(Zt=>(b=Zt,se=Date.now(),this.removeOrphanedDocuments(e,l))).next(Zt=>(pe=Date.now(),_o()<=oe.in.DEBUG&&di("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${A-Ke}ms\n\tDetermined least recently used ${d} in `+(G-A)+`ms\n\tRemoved ${b} targets in `+(se-G)+`ms\n\tRemoved ${Zt} documents in `+(pe-se)+`ms\nTotal Duration: ${pe-Ke}ms`),Mn.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:b,documentsRemoved:Zt})))}}class mf{constructor(e,n){this.db=e,this.garbageCollector=new dg(this,n)}qn(e){const n=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>n.next(d=>l+d))}Gn(e){let n=0;return this.Un(e,l=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Un(e,n){return this.Qn(e,(l,d)=>n(d))}addReference(e,n,l){return Xl(e,l)}removeReference(e,n,l){return Xl(e,l)}removeTargets(e,n,l){return this.db.getTargetCache().removeTargets(e,n,l)}markPotentiallyOrphaned(e,n){return Xl(e,n)}jn(e,n){return function(l,d){let b=!1;return wh(l).tt(A=>Rd(l,A,d).next(G=>(G&&(b=!0),Mn.resolve(!G)))).next(()=>b)}(e,n)}removeOrphanedDocuments(e,n){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let b=0;return this.Qn(e,(A,G)=>{if(G<=n){const se=this.jn(e,A).next(pe=>{if(!pe)return b++,l.getEntry(e,A).next(()=>(l.removeEntry(A,nr.min()),Zu(e).delete([0,al(A.path)])))});d.push(se)}}).next(()=>Mn.waitFor(d)).next(()=>l.apply(e)).next(()=>b)}removeTarget(e,n){const l=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,n){return Xl(e,n)}Qn(e,n){const l=Zu(e);let d,b=Ra.at;return l.X({index:"documentTargetsIndex"},([A,G],{path:se,sequenceNumber:pe})=>{0===A?(b!==Ra.at&&n(new ki(jc(d)),b),b=pe,d=se):b=Ra.at}).next(()=>{b!==Ra.at&&n(new ki(jc(d)),b)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xl(s,e){return Zu(s).put((l=s.currentSequenceNumber,{targetId:0,path:al(e.path),sequenceNumber:l}));var l}class eh{constructor(){this.changes=new sl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const l=this.changes.get(n);return void 0!==l?Mn.resolve(l):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Jf{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,l){return Xu(e).put(l)}removeEntry(e,n,l){return Xu(e).delete(function(d,b){const A=d.path.toArray();return[A.slice(0,A.length-2),A[A.length-2],cf(b),A[A.length-1]]}(n,l))}updateMetadata(e,n){return this.getMetadata(e).next(l=>(l.byteSize+=n,this.zn(e,l)))}getEntry(e,n){let l=as.newInvalidDocument(n);return Xu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Pd(n))},(d,b)=>{l=this.Wn(n,b)}).next(()=>l)}Hn(e,n){let l={size:0,document:as.newInvalidDocument(n)};return Xu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Pd(n))},(d,b)=>{l={document:this.Wn(n,b),size:Au(b)}}).next(()=>l)}getEntries(e,n){let l=xo();return this.Jn(e,n,(d,b)=>{const A=this.Wn(d,b);l=l.insert(d,A)}).next(()=>l)}Yn(e,n){let l=xo(),d=new xs(ki.comparator);return this.Jn(e,n,(b,A)=>{const G=this.Wn(b,A);l=l.insert(b,G),d=d.insert(b,Au(A))}).next(()=>({documents:l,Zn:d}))}Jn(e,n,l){if(n.isEmpty())return Mn.resolve();let d=new Ds(Qu);n.forEach(se=>d=d.add(se));const b=IDBKeyRange.bound(Pd(d.first()),Pd(d.last())),A=d.getIterator();let G=A.getNext();return Xu(e).X({index:"documentKeyIndex",range:b},(se,pe,Ke)=>{const Zt=ki.fromSegments([...pe.prefixPath,pe.collectionGroup,pe.documentId]);for(;G&&Qu(G,Zt)<0;)l(G,null),G=A.getNext();G&&G.isEqual(Zt)&&(l(G,pe),G=A.hasNext()?A.getNext():null),G?Ke.j(Pd(G)):Ke.done()}).next(()=>{for(;G;)l(G,null),G=A.hasNext()?A.getNext():null})}getDocumentsMatchingQuery(e,n,l,d){const b=n.path,A=[b.popLast().toArray(),b.lastSegment(),cf(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],G=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xu(e).W(IDBKeyRange.bound(A,G,!0)).next(se=>{let pe=xo();for(const Ke of se){const Zt=this.Wn(ki.fromSegments(Ke.prefixPath.concat(Ke.collectionGroup,Ke.documentId)),Ke);Zt.isFoundDocument()&&(_c(n,Zt)||d.has(Zt.key))&&(pe=pe.insert(Zt.key,Zt))}return pe})}getAllFromCollectionGroup(e,n,l,d){let b=xo();const A=Ju(n,l),G=Ju(n,Oa.max());return Xu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(A,G,!0)},(se,pe,Ke)=>{const Zt=this.Wn(ki.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);b=b.insert(Zt.key,Zt),b.size===d&&Ke.done()}).next(()=>b)}newChangeBuffer(e){return new _f(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return vf(e).get("remoteDocumentGlobalKey").next(n=>(tr(!!n),n))}zn(e,n){return vf(e).put("remoteDocumentGlobalKey",n)}Wn(e,n){if(n){const l=function am(s,e){let n;if(e.document)n=Kd(s.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=ki.fromSegments(e.noDocument.path),d=Qd(e.noDocument.readTime);n=as.newNoDocument(l,d),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qi();{const l=ki.fromSegments(e.unknownDocument.path),d=Qd(e.unknownDocument.version);n=as.newUnknownDocument(l,d)}}return e.readTime&&n.setReadTime(function(l){const d=new Lr(l[0],l[1]);return nr.fromTimestamp(d)}(e.readTime)),n}(this.Tt,n);if(!l.isNoDocument()||!l.version.isEqual(nr.min()))return l}return as.newInvalidDocument(e)}}function Qf(s){return new Jf(s)}class _f extends eh{constructor(e,n){super(),this.Xn=e,this.trackRemovals=n,this.ts=new sl(l=>l.toString(),(l,d)=>l.isEqual(d))}applyChanges(e){const n=[];let l=0,d=new Ds((b,A)=>Ui(b.canonicalString(),A.canonicalString()));return this.changes.forEach((b,A)=>{const G=this.ts.get(b);if(n.push(this.Xn.removeEntry(e,b,G.readTime)),A.isValidDocument()){const se=lf(this.Xn.Tt,A);d=d.add(b.path.popLast());const pe=Au(se);l+=pe-G.size,n.push(this.Xn.addEntry(e,b,se))}else if(l-=G.size,this.trackRemovals){const se=lf(this.Xn.Tt,A.convertToNoDocument(nr.min()));n.push(this.Xn.addEntry(e,b,se))}}),d.forEach(b=>{n.push(this.Xn.indexManager.addToCollectionParentIndex(e,b))}),n.push(this.Xn.updateMetadata(e,l)),Mn.waitFor(n)}getFromCache(e,n){return this.Xn.Hn(e,n).next(l=>(this.ts.set(n,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,n){return this.Xn.Yn(e,n).next(({documents:l,Zn:d})=>(d.forEach((b,A)=>{this.ts.set(b,{size:A,readTime:l.get(b).readTime})}),l))}}function vf(s){return Ba(s,"remoteDocumentGlobal")}function Xu(s){return Ba(s,"remoteDocumentsV14")}function Pd(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ju(s,e){const n=e.documentKey.path.toArray();return[s,cf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Qu(s,e){const n=s.path.toArray(),l=e.path.toArray();let d=0;for(let b=0;b<n.length-2&&b<l.length-2;++b)if(d=Ui(n[b],l[b]),d)return d;return d=Ui(n.length,l.length),d||(d=Ui(n[n.length-2],l[l.length-2]),d||Ui(n[n.length-1],l[l.length-1]))}class qm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lm{constructor(e,n,l,d){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=l,this.indexManager=d}getDocument(e,n){let l=null;return this.documentOverlayCache.getOverlay(e,n).next(d=>(l=d,this.remoteDocumentCache.getEntry(e,n))).next(d=>(null!==l&&Ls(l.mutation,d,ra.empty(),Lr.now()),d))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(l=>this.getLocalViewOfDocuments(e,l,Yr()).next(()=>l))}getLocalViewOfDocuments(e,n,l=Yr()){const d=xc();return this.populateOverlays(e,d,n).next(()=>this.computeViews(e,n,d,l).next(b=>{let A=Hu();return b.forEach((G,se)=>{A=A.insert(G,se.overlayedDocument)}),A}))}getOverlayedDocuments(e,n){const l=xc();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,Yr()))}populateOverlays(e,n,l){const d=[];return l.forEach(b=>{n.has(b)||d.push(b)}),this.documentOverlayCache.getOverlays(e,d).next(b=>{b.forEach((A,G)=>{n.set(A,G)})})}computeViews(e,n,l,d){let b=xo();const A=$a(),G=$a();return n.forEach((se,pe)=>{const Ke=l.get(pe.key);d.has(pe.key)&&(void 0===Ke||Ke.mutation instanceof La)?b=b.insert(pe.key,pe):void 0!==Ke?(A.set(pe.key,Ke.mutation.getFieldMask()),Ls(Ke.mutation,pe,Ke.mutation.getFieldMask(),Lr.now())):A.set(pe.key,ra.empty())}),this.recalculateAndSaveOverlays(e,b).next(se=>(se.forEach((pe,Ke)=>A.set(pe,Ke)),n.forEach((pe,Ke)=>{var Zt;return G.set(pe,new qm(Ke,null!==(Zt=A.get(pe))&&void 0!==Zt?Zt:null))}),G))}recalculateAndSaveOverlays(e,n){const l=$a();let d=new xs((A,G)=>A-G),b=Yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(A=>{for(const G of A)G.keys().forEach(se=>{const pe=n.get(se);if(null===pe)return;let Ke=l.get(se)||ra.empty();Ke=G.applyToLocalView(pe,Ke),l.set(se,Ke);const Zt=(d.get(G.batchId)||Yr()).add(se);d=d.insert(G.batchId,Zt)})}).next(()=>{const A=[],G=d.getReverseIterator();for(;G.hasNext();){const se=G.getNext(),pe=se.key,Ke=se.value,Zt=su();Ke.forEach(Cn=>{if(!b.has(Cn)){const ni=hr(n.get(Cn),l.get(Cn));null!==ni&&Zt.set(Cn,ni),b=b.add(Cn)}}),A.push(this.documentOverlayCache.saveOverlays(e,pe,Zt))}return Mn.waitFor(A)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,n,l){return ki.isDocumentKey((d=n).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):nu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,l):this.getDocumentsMatchingCollectionQuery(e,n,l);var d}getNextDocuments(e,n,l,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,l,d).next(b=>{const A=d-b.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,l.largestBatchId,d-b.size):Mn.resolve(xc());let G=-1,se=b;return A.next(pe=>Mn.forEach(pe,(Ke,Zt)=>(G<Zt.largestBatchId&&(G=Zt.largestBatchId),b.get(Ke)?Mn.resolve():this.remoteDocumentCache.getEntry(e,Ke).next(Cn=>{se=se.insert(Ke,Cn)}))).next(()=>this.populateOverlays(e,pe,b)).next(()=>this.computeViews(e,se,pe,Yr())).next(Ke=>({batchId:G,changes:ru(Ke)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ki(n)).next(l=>{let d=Hu();return l.isFoundDocument()&&(d=d.insert(l.key,l)),d})}getDocumentsMatchingCollectionGroupQuery(e,n,l){const d=n.collectionGroup;let b=Hu();return this.indexManager.getCollectionParents(e,d).next(A=>Mn.forEach(A,G=>{const se=(pe=n,Ke=G.child(d),new eu(Ke,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,Ke;return this.getDocumentsMatchingCollectionQuery(e,se,l).next(pe=>{pe.forEach((Ke,Zt)=>{b=b.insert(Ke,Zt)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,n,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,l.largestBatchId).next(b=>(d=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,l,d))).next(b=>{d.forEach((G,se)=>{const pe=se.getKey();null===b.get(pe)&&(b=b.insert(pe,as.newInvalidDocument(pe)))});let A=Hu();return b.forEach((G,se)=>{const pe=d.get(G);void 0!==pe&&Ls(pe.mutation,se,ra.empty(),Lr.now()),_c(n,se)&&(A=A.insert(G,se))}),A})}}class J_{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return Mn.resolve(this.es.get(n))}saveBundleMetadata(e,n){var l;return this.es.set(n.id,{id:(l=n).id,version:l.version,createTime:Oo(l.createTime)}),Mn.resolve()}getNamedQuery(e,n){return Mn.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,{name:(l=n).name,query:Eh(l.bundledQuery),readTime:Oo(l.readTime)}),Mn.resolve();var l}}class Q_{constructor(){this.overlays=new xs(ki.comparator),this.ss=new Map}getOverlay(e,n){return Mn.resolve(this.overlays.get(n))}getOverlays(e,n){const l=xc();return Mn.forEach(n,d=>this.getOverlay(e,d).next(b=>{null!==b&&l.set(d,b)})).next(()=>l)}saveOverlays(e,n,l){return l.forEach((d,b)=>{this.ce(e,n,b)}),Mn.resolve()}removeOverlaysForBatchId(e,n,l){const d=this.ss.get(l);return void 0!==d&&(d.forEach(b=>this.overlays=this.overlays.remove(b)),this.ss.delete(l)),Mn.resolve()}getOverlaysForCollection(e,n,l){const d=xc(),b=n.length+1,A=new ki(n.child("")),G=this.overlays.getIteratorFrom(A);for(;G.hasNext();){const se=G.getNext().value,pe=se.getKey();if(!n.isPrefixOf(pe.path))break;pe.path.length===b&&se.largestBatchId>l&&d.set(se.getKey(),se)}return Mn.resolve(d)}getOverlaysForCollectionGroup(e,n,l,d){let b=new xs((pe,Ke)=>pe-Ke);const A=this.overlays.getIterator();for(;A.hasNext();){const pe=A.getNext().value;if(pe.getKey().getCollectionGroup()===n&&pe.largestBatchId>l){let Ke=b.get(pe.largestBatchId);null===Ke&&(Ke=xc(),b=b.insert(pe.largestBatchId,Ke)),Ke.set(pe.getKey(),pe)}}const G=xc(),se=b.getIterator();for(;se.hasNext()&&(se.getNext().value.forEach((pe,Ke)=>G.set(pe,Ke)),!(G.size()>=d)););return Mn.resolve(G)}ce(e,n,l){const d=this.overlays.get(l.key);if(null!==d){const A=this.ss.get(d.largestBatchId).delete(l.key);this.ss.set(d.largestBatchId,A)}this.overlays=this.overlays.insert(l.key,new af(n,l));let b=this.ss.get(n);void 0===b&&(b=Yr(),this.ss.set(n,b)),this.ss.set(n,b.add(l.key))}}class Mp{constructor(){this.rs=new Ds(Jl.os),this.us=new Ds(Jl.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const l=new Jl(e,n);this.rs=this.rs.add(l),this.us=this.us.add(l)}hs(e,n){e.forEach(l=>this.addReference(l,n))}removeReference(e,n){this.ls(new Jl(e,n))}fs(e,n){e.forEach(l=>this.removeReference(l,n))}ds(e){const n=new ki(new Ar([])),l=new Jl(n,e),d=new Jl(n,e+1),b=[];return this.us.forEachInRange([l,d],A=>{this.ls(A),b.push(A.key)}),b}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new ki(new Ar([])),l=new Jl(n,e),d=new Jl(n,e+1);let b=Yr();return this.us.forEachInRange([l,d],A=>{b=b.add(A.key)}),b}containsKey(e){const n=new Jl(e,0),l=this.rs.firstAfterOrEqual(n);return null!==l&&e.isEqual(l.key)}}class Jl{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return ki.comparator(e.key,n.key)||Ui(e.gs,n.gs)}static cs(e,n){return Ui(e.gs,n.gs)||ki.comparator(e.key,n.key)}}class cm{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ds(Jl.os)}checkEmpty(e){return Mn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,l,d){const b=this.ys;this.ys++;const A=new Sp(b,n,l,d);this.mutationQueue.push(A);for(const G of d)this.ps=this.ps.add(new Jl(G.key,b)),this.indexManager.addToCollectionParentIndex(e,G.key.path.popLast());return Mn.resolve(A)}lookupMutationBatch(e,n){return Mn.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const d=this.Ts(n+1),b=d<0?0:d;return Mn.resolve(this.mutationQueue.length>b?this.mutationQueue[b]:null)}getHighestUnacknowledgedBatchId(){return Mn.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return Mn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const l=new Jl(n,0),d=new Jl(n,Number.POSITIVE_INFINITY),b=[];return this.ps.forEachInRange([l,d],A=>{const G=this.Is(A.gs);b.push(G)}),Mn.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new Ds(Ui);return n.forEach(d=>{const b=new Jl(d,0),A=new Jl(d,Number.POSITIVE_INFINITY);this.ps.forEachInRange([b,A],G=>{l=l.add(G.gs)})}),Mn.resolve(this.Es(l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,d=l.length+1;let b=l;ki.isDocumentKey(b)||(b=b.child(""));const A=new Jl(new ki(b),0);let G=new Ds(Ui);return this.ps.forEachWhile(se=>{const pe=se.key.path;return!!l.isPrefixOf(pe)&&(pe.length===d&&(G=G.add(se.gs)),!0)},A),Mn.resolve(this.Es(G))}Es(e){const n=[];return e.forEach(l=>{const d=this.Is(l);null!==d&&n.push(d)}),n}removeMutationBatch(e,n){tr(0===this.As(n.batchId,"removed")),this.mutationQueue.shift();let l=this.ps;return Mn.forEach(n.mutations,d=>{const b=new Jl(d.key,n.batchId);return l=l.delete(b),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.ps=l})}bn(e){}containsKey(e,n){const l=new Jl(n,0),d=this.ps.firstAfterOrEqual(l);return Mn.resolve(n.isEqual(d&&d.key))}performConsistencyCheck(e){return Mn.resolve()}As(e,n){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class um{constructor(e){this.Rs=e,this.docs=new xs(ki.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const l=n.key,d=this.docs.get(l),b=d?d.size:0,A=this.Rs(n);return this.docs=this.docs.insert(l,{document:n.mutableCopy(),size:A}),this.size+=A-b,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const l=this.docs.get(n);return Mn.resolve(l?l.document.mutableCopy():as.newInvalidDocument(n))}getEntries(e,n){let l=xo();return n.forEach(d=>{const b=this.docs.get(d);l=l.insert(d,b?b.document.mutableCopy():as.newInvalidDocument(d))}),Mn.resolve(l)}getDocumentsMatchingQuery(e,n,l,d){let b=xo();const A=n.path,G=new ki(A.child("")),se=this.docs.getIteratorFrom(G);for(;se.hasNext();){const{key:pe,value:{document:Ke}}=se.getNext();if(!A.isPrefixOf(pe.path))break;pe.path.length>A.length+1||wc(Xc(Ke),l)<=0||(d.has(Ke.key)||_c(n,Ke))&&(b=b.insert(Ke.key,Ke.mutableCopy()))}return Mn.resolve(b)}getAllFromCollectionGroup(e,n,l,d){Qi()}bs(e,n){return Mn.forEach(this.docs,l=>n(l))}newChangeBuffer(e){return new dm(this)}getSize(e){return Mn.resolve(this.size)}}class dm extends eh{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((l,d)=>{d.isValidDocument()?n.push(this.Xn.addEntry(e,d)):this.Xn.removeEntry(l)}),Mn.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}class aa{constructor(e){this.persistence=e,this.vs=new sl(n=>Sc(n),$u),this.lastRemoteSnapshotVersion=nr.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new Mp,this.targetCount=0,this.Ss=qu.Vn()}forEachTarget(e,n){return this.vs.forEach((l,d)=>n(d)),Mn.resolve()}getLastRemoteSnapshotVersion(e){return Mn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mn.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),Mn.resolve(this.highestTargetId)}setTargetsMetadata(e,n,l){return l&&(this.lastRemoteSnapshotVersion=l),n>this.Ps&&(this.Ps=n),Mn.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new qu(n),this.highestTargetId=n),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,Mn.resolve()}updateTargetData(e,n){return this.xn(n),Mn.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,Mn.resolve()}removeTargets(e,n,l){let d=0;const b=[];return this.vs.forEach((A,G)=>{G.sequenceNumber<=n&&null===l.get(G.targetId)&&(this.vs.delete(A),b.push(this.removeMatchingKeysForTargetId(e,G.targetId)),d++)}),Mn.waitFor(b).next(()=>d)}getTargetCount(e){return Mn.resolve(this.targetCount)}getTargetData(e,n){const l=this.vs.get(n)||null;return Mn.resolve(l)}addMatchingKeys(e,n,l){return this.Vs.hs(n,l),Mn.resolve()}removeMatchingKeys(e,n,l){this.Vs.fs(n,l);const d=this.persistence.referenceDelegate,b=[];return d&&n.forEach(A=>{b.push(d.markPotentiallyOrphaned(e,A))}),Mn.waitFor(b)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),Mn.resolve()}getMatchingKeysForTargetId(e,n){const l=this.Vs.ws(n);return Mn.resolve(l)}containsKey(e,n){return Mn.resolve(this.Vs.containsKey(n))}}class hm{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new Ra(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new aa(this),this.indexManager=new lu,this.remoteDocumentCache=new um(l=>this.referenceDelegate.ks(l)),this.Tt=new Ap(n),this.Os=new J_(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let l=this.Ds[e.toKey()];return l||(l=new cm(n,this.referenceDelegate),this.Ds[e.toKey()]=l),l}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,n,l){di("MemoryPersistence","Starting transaction:",e);const d=new Zm(this.Cs.next());return this.referenceDelegate.Ms(),l(d).next(b=>this.referenceDelegate.Fs(d).next(()=>b)).toPromise().then(b=>(d.raiseOnCommittedEvent(),b))}$s(e,n){return Mn.or(Object.values(this.Ds).map(l=>()=>l.containsKey(e,n)))}}class Zm extends jo{constructor(e){super(),this.currentSequenceNumber=e}}class Gc{constructor(e){this.persistence=e,this.Bs=new Mp,this.Ls=null}static qs(e){return new Gc(e)}get Us(){if(this.Ls)return this.Ls;throw Qi()}addReference(e,n,l){return this.Bs.addReference(l,n),this.Us.delete(l.toString()),Mn.resolve()}removeReference(e,n,l){return this.Bs.removeReference(l,n),this.Us.add(l.toString()),Mn.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),Mn.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(d=>this.Us.add(d.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,n.targetId).next(d=>{d.forEach(b=>this.Us.add(b.toString()))}).next(()=>l.removeTargetData(e,n))}Ms(){this.Ls=new Set}Fs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mn.forEach(this.Us,l=>{const d=ki.fromPath(l);return this.Ks(e,d).next(b=>{b||n.removeEntry(d,nr.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(l=>{l?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return Mn.or([()=>Mn.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.$s(e,n)])}}class Xm{constructor(e){this.Tt=e}$(e,n,l,d){const b=new xl("createOrUpgrade",n);var G;l<1&&d>=1&&(e.createObjectStore("owner"),(G=e).createObjectStore("mutationQueues",{keyPath:"userId"}),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rf,{unique:!0}),G.createObjectStore("documentMutations"),hg(e),function(G){G.createObjectStore("remoteDocuments")}(e));let A=Mn.resolve();return l<3&&d>=3&&(0!==l&&(function(G){G.deleteObjectStore("targetDocuments"),G.deleteObjectStore("targets"),G.deleteObjectStore("targetGlobal")}(e),hg(e)),A=A.next(()=>function(G){const se=G.store("targetGlobal"),pe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nr.min().toTimestamp(),targetCount:0};return se.put("targetGlobalKey",pe)}(b))),l<4&&d>=4&&(0!==l&&(A=A.next(()=>function(G,se){return se.store("mutations").W().next(pe=>{G.deleteObjectStore("mutations"),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rf,{unique:!0});const Ke=se.store("mutations"),Zt=pe.map(Cn=>Ke.put(Cn));return Mn.waitFor(Zt)})}(e,b))),A=A.next(()=>{!function(G){G.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&d>=5&&(A=A.next(()=>this.Gs(b))),l<6&&d>=6&&(A=A.next(()=>(function(G){G.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(b)))),l<7&&d>=7&&(A=A.next(()=>this.js(b))),l<8&&d>=8&&(A=A.next(()=>this.zs(e,b))),l<9&&d>=9&&(A=A.next(()=>{!function(G){G.objectStoreNames.contains("remoteDocumentChanges")&&G.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&d>=10&&(A=A.next(()=>this.Ws(b))),l<11&&d>=11&&(A=A.next(()=>{(function(G){G.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(G){G.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&d>=12&&(A=A.next(()=>{!function(G){const se=G.createObjectStore("documentOverlays",{keyPath:ir});se.createIndex("collectionPathOverlayIndex",Cr,{unique:!1}),se.createIndex("collectionGroupOverlayIndex",As,{unique:!1})}(e)})),l<13&&d>=13&&(A=A.next(()=>function(G){const se=G.createObjectStore("remoteDocumentsV14",{keyPath:f});se.createIndex("documentKeyIndex",w),se.createIndex("collectionGroupIndex",L)}(e)).next(()=>this.Hs(e,b)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&d>=14&&(A=A.next(()=>this.Js(e,b))),l<15&&d>=15&&(A=A.next(()=>function(G){G.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),G.createObjectStore("indexState",{keyPath:tn}).createIndex("sequenceNumberIndex",Gn,{unique:!1}),G.createObjectStore("indexEntries",{keyPath:Kn}).createIndex("documentKeyIndex",ti,{unique:!1})}(e))),A}Qs(e){let n=0;return e.store("remoteDocuments").X((l,d)=>{n+=Au(d)}).next(()=>{const l={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Gs(e){const n=e.store("mutationQueues"),l=e.store("mutations");return n.W().next(d=>Mn.forEach(d,b=>{const A=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return l.W("userMutationsIndex",A).next(G=>Mn.forEach(G,se=>{tr(se.userId===b.userId);const pe=Md(this.Tt,se);return uf(e,b.userId,pe).next(()=>{})}))}))}js(e){const n=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const b=[];return l.X((A,G)=>{const se=new Ar(A),pe=[0,al(se)];b.push(n.get(pe).next(Ke=>Ke?Mn.resolve():n.put({targetId:0,path:al(se),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>Mn.waitFor(b))})}zs(e,n){e.createObjectStore("collectionParents",{keyPath:Ft});const l=n.store("collectionParents"),d=new el,b=A=>{if(d.add(A)){const G=A.lastSegment(),se=A.popLast();return l.put({collectionId:G,parent:al(se)})}};return n.store("remoteDocuments").X({Z:!0},(A,G)=>{const se=new Ar(A);return b(se.popLast())}).next(()=>n.store("documentMutations").X({Z:!0},([A,G,se],pe)=>{const Ke=jc(G);return b(Ke.popLast())}))}Ws(e){const n=e.store("targets");return n.X((l,d)=>{const b=xd(d),A=bh(this.Tt,b);return n.put(A)})}Hs(e,n){const l=n.store("remoteDocuments"),d=[];return l.X((b,A)=>{const G=n.store("remoteDocumentsV14"),se=(pe=A,pe.document?new ki(Ar.fromString(pe.document.name).popFirst(5)):pe.noDocument?ki.fromSegments(pe.noDocument.path):pe.unknownDocument?ki.fromSegments(pe.unknownDocument.path):Qi()).path.toArray();var pe;const Ke={prefixPath:se.slice(0,se.length-2),collectionGroup:se[se.length-2],documentId:se[se.length-1],readTime:A.readTime||[0,0],unknownDocument:A.unknownDocument,noDocument:A.noDocument,document:A.document,hasCommittedMutations:!!A.hasCommittedMutations};d.push(G.put(Ke))}).next(()=>Mn.waitFor(d))}Js(e,n){const l=n.store("mutations"),d=Qf(this.Tt),b=new hm(Gc.qs,this.Tt.oe);return l.W().next(A=>{const G=new Map;return A.forEach(se=>{var pe;let Ke=null!==(pe=G.get(se.userId))&&void 0!==pe?pe:Yr();Md(this.Tt,se).keys().forEach(Zt=>Ke=Ke.add(Zt)),G.set(se.userId,Ke)}),Mn.forEach(G,(se,pe)=>{const Ke=new go(pe),Zt=st.ue(this.Tt,Ke),Cn=b.getIndexManager(Ke),ni=Fl.ue(Ke,this.Tt,Cn,b.referenceDelegate);return new lm(d,ni,Zt,Cn).recalculateAndSaveOverlaysForDocumentKeys(new Xf(n,Ra.at),se).next()})})}}function hg(s){s.createObjectStore("targetDocuments",{keyPath:ue}).createIndex("documentTargetsIndex",Xe,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ee,{unique:!0}),s.createObjectStore("targetGlobal")}const fg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pg{constructor(e,n,l,d,b,A,G,se,pe,Ke,Zt=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=l,this.Ys=b,this.window=A,this.document=G,this.Zs=pe,this.Xs=Ke,this.ti=Zt,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=Cn=>Promise.resolve(),!pg.C())throw new B(An.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mf(this,d),this.oi=n+"main",this.Tt=new Ap(se),this.ui=new rl(this.oi,this.ti,new Xm(this.Tt)),this.Ns=new df(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Qf(this.Tt),this.Os=new y,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===Ke&&no("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new B(An.FAILED_PRECONDITION,fg);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Ra(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var n=this;return this.ri=function(){var l=(0,t.Z)(function*(d){if(n.started)return e(d)});return function(d){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var n=(0,t.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,t.Z)(function*(){n.started&&(yield n.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(n=>{n||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(n=>this.isPrimary&&!n?this.mi(e).next(()=>!1):!!n&&this.gi(e).next(()=>!0))).catch(e=>{if(fl(e))return di("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return di("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return ep(e).get("owner").next(n=>Mn.resolve(this.yi(n)))}pi(e){return xp(e).delete(this.clientId)}Ii(){var e=this;return(0,t.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const d=Ba(l,"clientMetadata");return d.W().next(b=>{const A=e.Ei(b,18e5),G=b.filter(se=>-1===A.indexOf(se));return Mn.forEach(G,se=>d.delete(se.clientId)).next(()=>G)})}).catch(()=>[]);if(e.ci)for(const l of n)e.ci.removeItem(e.Ai(l.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?Mn.resolve(!0):ep(e).get("owner").next(n=>{if(null!==n&&this.Ti(n.leaseTimestampMs,5e3)&&!this.Ri(n.ownerId)){if(this.yi(n)&&this.networkEnabled)return!0;if(!this.yi(n)){if(!n.allowTabSynchronization)throw new B(An.FAILED_PRECONDITION,fg);return!1}}return!(!this.networkEnabled||!this.inForeground)||xp(e).W().next(l=>void 0===this.Ei(l,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(n=>(this.isPrimary!==n&&di("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,t.Z)(function*(){e.xs=!1,e.bi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.Pi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const l=new Xf(n,Ra.at);return e.mi(l).next(()=>e.pi(l))}),e.ui.close(),e.Vi()})()}Ei(e,n){return e.filter(l=>this.Ti(l.updateTimeMs,n)&&!this.Ri(l.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>xp(e).W().next(n=>this.Ei(n,18e5).map(l=>l.clientId)))}get started(){return this.xs}getMutationQueue(e,n){return Fl.ue(e,this.Tt,n,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fd(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return st.ue(this.Tt,e)}getBundleCache(){return this.Os}runTransaction(e,n,l){di("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===n?"readonly":"readwrite",b=15===(A=this.ti)?Zf:14===A?yh:13===A?Xd:12===A?Ad:11===A?ba:void Qi();var A;let G;return this.ui.runTransaction(e,d,b,se=>(G=new Xf(se,this.Cs?this.Cs.next():Ra.at),"readwrite-primary"===n?this._i(G).next(pe=>!!pe||this.wi(G)).next(pe=>{if(!pe)throw no(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new B(An.FAILED_PRECONDITION,hu);return l(G)}).next(pe=>this.gi(G).next(()=>pe)):this.Di(G).next(()=>l(G)))).then(se=>(G.raiseOnCommittedEvent(),se))}Di(e){return ep(e).get("owner").next(n=>{if(null!==n&&this.Ti(n.leaseTimestampMs,5e3)&&!this.Ri(n.ownerId)&&!this.yi(n)&&!(this.Xs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new B(An.FAILED_PRECONDITION,fg)})}gi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ep(e).put("owner",n)}static C(){return rl.C()}mi(e){const n=ep(e);return n.get("owner").next(l=>this.yi(l)?(di("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Mn.resolve())}Ti(e,n){const l=Date.now();return!(e<l-n||e>l&&(no(`Detected an update time that is in the future: ${e} > ${l}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.bi(),(0,ze.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var n;try{const l=null!==(null===(n=this.ci)||void 0===n?void 0:n.getItem(this.Ai(e)));return di("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return no("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){no("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(e){}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ep(s){return Ba(s,"owner")}function xp(s){return Ba(s,"clientMetadata")}function Op(s,e){let n=s.projectId;return s.isDefaultDatabase||(n+="."+s.database),"firestore/"+e+"/"+n+"/"}class gg{constructor(e,n,l,d){this.targetId=e,this.fromCache=n,this.Ci=l,this.xi=d}static Ni(e,n){let l=Yr(),d=Yr();for(const b of n.docChanges)switch(b.type){case 0:l=l.add(b.doc.key);break;case 1:d=d.add(b.doc.key)}return new gg(e,n.fromCache,l,d)}}class fm{constructor(){this.ki=!1}initialize(e,n){this.Oi=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,l,d){return this.Mi(e,n).next(b=>b||this.Fi(e,n,d,l)).next(b=>b||this.$i(e,n))}Mi(e,n){if(Bu(n))return Mn.resolve(null);let l=Ys(n);return this.indexManager.getIndexType(e,l).next(d=>0===d?null:(null!==n.limit&&1===d&&(n=vu(n,null,"F"),l=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,l).next(b=>{const A=Yr(...b);return this.Oi.getDocuments(e,A).next(G=>this.indexManager.getMinOffset(e,l).next(se=>{const pe=this.Bi(n,G);return this.Li(n,pe,A,se.readTime)?this.Mi(e,vu(n,null,"F")):this.qi(e,pe,n,se)}))})))}Fi(e,n,l,d){return Bu(n)||d.isEqual(nr.min())?this.$i(e,n):this.Oi.getDocuments(e,l).next(b=>{const A=this.Bi(n,b);return this.Li(n,A,l,d)?this.$i(e,n):(_o()<=oe.in.DEBUG&&di("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Mc(n)),this.qi(e,A,n,xa(d,-1)))})}Bi(e,n){let l=new Ds(Uu(e));return n.forEach((d,b)=>{_c(e,b)&&(l=l.add(b))}),l}Li(e,n,l,d){if(null===e.limit)return!1;if(l.size!==n.size)return!0;const b="F"===e.limitType?n.last():n.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(d)>0)}$i(e,n){return _o()<=oe.in.DEBUG&&di("QueryEngine","Using full collection scan to execute query:",Mc(n)),this.Oi.getDocumentsMatchingQuery(e,n,Oa.min())}qi(e,n,l,d){return this.Oi.getDocumentsMatchingQuery(e,l,d).next(b=>(n.forEach(A=>{b=b.insert(A.key,A)}),b))}}class Jm{constructor(e,n,l,d){this.persistence=e,this.Ui=n,this.Tt=d,this.Ki=new xs(Ui),this.Gi=new sl(b=>Sc(b),$u),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(l)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lm(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function Xr(s,e,n,l){return new Jm(s,e,n,l)}function mg(s,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,t.Z)(function*(s,e){const n=Fi(s);return yield n.persistence.runTransaction("Handle user change","readonly",l=>{let d;return n.mutationQueue.getAllMutationBatches(l).next(b=>(d=b,n.zi(e),n.mutationQueue.getAllMutationBatches(l))).next(b=>{const A=[],G=[];let se=Yr();for(const pe of d){A.push(pe.batchId);for(const Ke of pe.mutations)se=se.add(Ke.key)}for(const pe of b){G.push(pe.batchId);for(const Ke of pe.mutations)se=se.add(Ke.key)}return n.localDocuments.getDocuments(l,se).next(pe=>({Wi:pe,removedBatchIds:A,addedBatchIds:G}))})})}),Rp.apply(this,arguments)}function gm(s){const e=Fi(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function _g(s,e,n){let l=Yr(),d=Yr();return n.forEach(b=>l=l.add(b)),e.getEntries(s,l).next(b=>{let A=xo();return n.forEach((G,se)=>{const pe=b.get(G);se.isFoundDocument()!==pe.isFoundDocument()&&(d=d.add(G)),se.isNoDocument()&&se.version.isEqual(nr.min())?(e.removeEntry(G,se.readTime),A=A.insert(G,se)):!pe.isValidDocument()||se.version.compareTo(pe.version)>0||0===se.version.compareTo(pe.version)&&pe.hasPendingWrites?(e.addEntry(se),A=A.insert(G,se)):di("LocalStore","Ignoring outdated watch update for ",G,". Current version:",pe.version," Watch version:",se.version)}),{Hi:A,Ji:d}})}function e_(s,e){const n=Fi(s);return n.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Th(s,e){const n=Fi(s);return n.persistence.runTransaction("Allocate target","readwrite",l=>{let d;return n.Ns.getTargetData(l,e).next(b=>b?(d=b,Mn.resolve(d)):n.Ns.allocateTargetId(l).next(A=>(d=new vo(e,A,0,l.currentSequenceNumber),n.Ns.addTargetData(l,d).next(()=>d))))}).then(l=>{const d=n.Ki.get(l.targetId);return(null===d||l.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(l.targetId,l),n.Gi.set(e,l.targetId)),l})}function yf(s,e,n){return tp.apply(this,arguments)}function tp(){return tp=(0,t.Z)(function*(s,e,n){const l=Fi(s),d=l.Ki.get(e),b=n?"readwrite":"readwrite-primary";try{n||(yield l.persistence.runTransaction("Release target",b,A=>l.persistence.referenceDelegate.removeTarget(A,d)))}catch(A){if(!fl(A))throw A;di("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}l.Ki=l.Ki.remove(e),l.Gi.delete(d.target)}),tp.apply(this,arguments)}function No(s,e,n){const l=Fi(s);let d=nr.min(),b=Yr();return l.persistence.runTransaction("Execute query","readonly",A=>function(G,se,pe){const Ke=Fi(G),Zt=Ke.Gi.get(pe);return void 0!==Zt?Mn.resolve(Ke.Ki.get(Zt)):Ke.Ns.getTargetData(se,pe)}(l,A,Ys(e)).next(G=>{if(G)return d=G.lastLimboFreeSnapshotVersion,l.Ns.getMatchingKeysForTargetId(A,G.targetId).next(se=>{b=se})}).next(()=>l.Ui.getDocumentsMatchingQuery(A,e,n?d:nr.min(),n?b:Yr())).next(G=>(uu(l,iu(e),G),{documents:G,Yi:b})))}function Np(s,e){const n=Fi(s),l=Fi(n.Ns),d=n.Ki.get(e);return d?Promise.resolve(d.target):n.persistence.runTransaction("Get target data","readonly",b=>l.ie(b,e).next(A=>A?A.target:null))}function bf(s,e){const n=Fi(s),l=n.Qi.get(e)||nr.min();return n.persistence.runTransaction("Get new document changes","readonly",d=>n.ji.getAllFromCollectionGroup(d,e,xa(l,-1),Number.MAX_SAFE_INTEGER)).then(d=>(uu(n,e,d),d))}function uu(s,e,n){let l=s.Qi.get(e)||nr.min();n.forEach((d,b)=>{b.readTime.compareTo(l)>0&&(l=b.readTime)}),s.Qi.set(e,l)}function Ef(){return Ef=(0,t.Z)(function*(s,e,n,l){const d=Fi(s);let b=Yr(),A=xo();for(const pe of n){const Ke=e.Zi(pe.metadata.name);pe.document&&(b=b.add(Ke));const Zt=e.Xi(pe);Zt.setReadTime(e.tr(pe.metadata.readTime)),A=A.insert(Ke,Zt)}const G=d.ji.newChangeBuffer({trackRemovals:!0}),se=yield Th(d,(pe=l,Ys(Ac(Ar.fromString(`__bundle__/docs/${pe}`)))));var pe;return d.persistence.runTransaction("Apply bundle documents","readwrite",pe=>_g(pe,G,A).next(Ke=>(G.apply(pe),Ke)).next(Ke=>d.Ns.removeMatchingKeysForTargetId(pe,se.targetId).next(()=>d.Ns.addMatchingKeys(pe,b,se.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(pe,Ke.Hi,Ke.Ji)).next(()=>Ke.Hi)))}),Ef.apply(this,arguments)}function Ih(s,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,t.Z)(function*(s,e,n=Yr()){const l=yield Th(s,Ys(Eh(e.bundledQuery))),d=Fi(s);return d.persistence.runTransaction("Save named query","readwrite",b=>{const A=Oo(e.readTime);if(l.snapshotVersion.compareTo(A)>=0)return d.Os.saveNamedQuery(b,e);const G=l.withResumeToken(Fo.EMPTY_BYTE_STRING,A);return d.Ki=d.Ki.insert(G.targetId,G),d.Ns.updateTargetData(b,G).next(()=>d.Ns.removeMatchingKeysForTargetId(b,l.targetId)).next(()=>d.Ns.addMatchingKeys(b,n,l.targetId)).next(()=>d.Os.saveNamedQuery(b,e))})}),Pp.apply(this,arguments)}function zc(s,e){return`firestore_clients_${s}_${e}`}function np(s,e,n){let l=`firestore_mutations_${s}_${n}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function kp(s,e){return`firestore_targets_${s}_${e}`}class Dh{constructor(e,n,l,d){this.user=e,this.batchId=n,this.state=l,this.error=d}static er(e,n,l){const d=JSON.parse(l);let b,A="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return A&&d.error&&(A="string"==typeof d.error.message&&"string"==typeof d.error.code,A&&(b=new B(d.error.code,d.error.message))),A?new Dh(e,n,d.state,b):(no("SharedClientState",`Failed to parse mutation state for ID '${n}': ${l}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sh{constructor(e,n,l){this.targetId=e,this.state=n,this.error=l}static er(e,n){const l=JSON.parse(n);let d,b="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return b&&l.error&&(b="string"==typeof l.error.message&&"string"==typeof l.error.code,b&&(d=new B(l.error.code,l.error.message))),b?new Sh(e,l.state,d):(no("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ip{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static er(e,n){const l=JSON.parse(n);let d="object"==typeof l&&l.activeTargetIds instanceof Array,b=Cl();for(let A=0;d&&A<l.activeTargetIds.length;++A)d=Mr(l.activeTargetIds[A]),b=b.add(l.activeTargetIds[A]);return d?new ip(e,b):(no("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Cf{constructor(e,n){this.clientId=e,this.onlineState=n}static er(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Cf(n.clientId,n.onlineState):(no("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kd{constructor(){this.activeTargetIds=Cl()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fp{constructor(e,n,l,d,b){this.window=e,this.Ys=n,this.persistenceKey=l,this.rr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new xs(Ui),this.started=!1,this.hr=[];const A=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=b,this.lr=zc(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new kd),this._r=new RegExp(`^firestore_clients_${A}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${A}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${A}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(G){return`firestore_bundle_loaded_v2_${G}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,t.Z)(function*(){const n=yield e.syncEngine.Si();for(const d of n){if(d===e.rr)continue;const b=e.getItem(zc(e.persistenceKey,d));if(b){const A=ip.er(d,b);A&&(e.ar=e.ar.insert(A.clientId,A))}}e.pr();const l=e.storage.getItem(e.gr);if(l){const d=e.Ir(l);d&&e.Tr(d)}for(const d of e.hr)e.cr(d);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let n=!1;return this.ar.forEach((l,d)=>{d.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,n,l){this.Ar(e,n,l),this.Rr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(kp(this.persistenceKey,e));if(l){const d=Sh.er(e,l);d&&(n=d.state)}}return this.br.sr(e),this.pr(),n}removeLocalQueryTarget(e){this.br.ir(e),this.pr()}isLocalQueryTarget(e){return this.br.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kp(this.persistenceKey,e))}updateQueryState(e,n,l){this.vr(e,n,l)}handleUserChange(e,n,l){n.forEach(d=>{this.Rr(d)}),this.currentUser=e,l.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return di("SharedClientState","READ",e,n),n}setItem(e,n){di("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){di("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var n=this;const l=e;if(l.storageArea===this.storage){if(di("SharedClientState","EVENT",l.key,l.newValue),l.key===this.lr)return void no("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,t.Z)(function*(){if(n.started){if(null!==l.key)if(n._r.test(l.key)){if(null==l.newValue){const d=n.Sr(l.key);return n.Dr(d,null)}{const d=n.Cr(l.key,l.newValue);if(d)return n.Dr(d.clientId,d)}}else if(n.wr.test(l.key)){if(null!==l.newValue){const d=n.Nr(l.key,l.newValue);if(d)return n.kr(d)}}else if(n.mr.test(l.key)){if(null!==l.newValue){const d=n.Or(l.key,l.newValue);if(d)return n.Mr(d)}}else if(l.key===n.gr){if(null!==l.newValue){const d=n.Ir(l.newValue);if(d)return n.Tr(d)}}else if(l.key===n.dr){const d=function(b){let A=Ra.at;if(null!=b)try{const G=JSON.parse(b);tr("number"==typeof G),A=G}catch(G){no("SharedClientState","Failed to read sequence number from WebStorage",G)}return A}(l.newValue);d!==Ra.at&&n.sequenceNumberHandler(d)}else if(l.key===n.yr){const d=n.Fr(l.newValue);yield Promise.all(d.map(b=>n.syncEngine.$r(b)))}}else n.hr.push(l)}))}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(e,n,l){const d=new Dh(this.currentUser,e,n,l),b=np(this.persistenceKey,this.currentUser,e);this.setItem(b,d.nr())}Rr(e){const n=np(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Pr(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,n,l){const d=kp(this.persistenceKey,e),b=new Sh(e,n,l);this.setItem(d,b.nr())}Vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.yr,n)}Sr(e){const n=this._r.exec(e);return n?n[1]:null}Cr(e,n){const l=this.Sr(e);return ip.er(l,n)}Nr(e,n){const l=this.wr.exec(e),d=Number(l[1]);return Dh.er(new go(void 0!==l[2]?l[2]:null),d,n)}Or(e,n){const l=this.mr.exec(e),d=Number(l[1]);return Sh.er(d,n)}Ir(e){return Cf.er(e)}Fr(e){return JSON.parse(e)}kr(e){var n=this;return(0,t.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Br(e.batchId,e.state,e.error);di("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,n){const l=n?this.ar.insert(e,n):this.ar.remove(e),d=this.Er(this.ar),b=this.Er(l),A=[],G=[];return b.forEach(se=>{d.has(se)||A.push(se)}),d.forEach(se=>{b.has(se)||G.push(se)}),this.syncEngine.qr(A,G).then(()=>{this.ar=l})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let n=Cl();return e.forEach((l,d)=>{n=n.unionWith(d.activeTargetIds)}),n}}class wf{constructor(){this.Ur=new kd,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,l){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,l){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new kd,Promise.resolve()}handleUserChange(e,n,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rp{Gr(e){}shutdown(){}}class vg{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){di("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){di("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _m{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class vm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,l,d,b){const A=this.fo(e,n);di("RestConnection","Sending: ",A,l);const G={};return this._o(G,d,b),this.wo(e,A,G,l).then(se=>(di("RestConnection","Received: ",se),se),se=>{throw dl("RestConnection",`${e} failed with error: `,se,"url: ",A,"request:",l),se})}mo(e,n,l,d,b,A){return this.lo(e,n,l,d,b)}_o(e,n,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((d,b)=>e[b]=d),l&&l.headers.forEach((d,b)=>e[b]=d)}fo(e,n){return`${this.co}/v1/${n}:${yg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,l,d){return new Promise((b,A)=>{const G=new qc;G.setWithCredentials(!0),G.listenOnce(fs.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Kc.NO_ERROR:const pe=G.getResponseJson();di("Connection","XHR received:",JSON.stringify(pe)),b(pe);break;case Kc.TIMEOUT:di("Connection",'RPC "'+e+'" timed out'),A(new B(An.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const Ke=G.getStatus();if(di("Connection",'RPC "'+e+'" failed with status:',Ke,"response text:",G.getResponseText()),Ke>0){let Zt=G.getResponseJson();Array.isArray(Zt)&&(Zt=Zt[0]);const Cn=null==Zt?void 0:Zt.error;if(Cn&&Cn.status&&Cn.message){const ni=function(pi){const lr=pi.toLowerCase().replace(/_/g,"-");return Object.values(An).indexOf(lr)>=0?lr:An.UNKNOWN}(Cn.status);A(new B(ni,Cn.message))}else A(new B(An.UNKNOWN,"Server responded with status "+G.getStatus()))}else A(new B(An.UNAVAILABLE,"Connection failed."));break;default:Qi()}}finally{di("Connection",'RPC "'+e+'" completed.')}});const se=JSON.stringify(d);G.send(n,"POST",se,l,15)})}yo(e,n,l){const d=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Da(),A=rc(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(G.xmlHttpFactory=new Ul({})),this._o(G.initMessageHeaders,n,l),G.encodeInitMessageHeaders=!0;const se=d.join("");di("Connection","Creating WebChannel: "+se,G);const pe=b.createWebChannel(se,G);let Ke=!1,Zt=!1;const Cn=new _m({Yr:pi=>{Zt?di("Connection","Not sending because WebChannel is closed:",pi):(Ke||(di("Connection","Opening WebChannel transport."),pe.open(),Ke=!0),di("Connection","WebChannel sending:",pi),pe.send(pi))},Zr:()=>pe.close()}),ni=(pi,lr,wr)=>{pi.listen(lr,qo=>{try{wr(qo)}catch(Ea){setTimeout(()=>{throw Ea},0)}})};return ni(pe,Vl.EventType.OPEN,()=>{Zt||di("Connection","WebChannel transport opened.")}),ni(pe,Vl.EventType.CLOSE,()=>{Zt||(Zt=!0,di("Connection","WebChannel transport closed"),Cn.oo())}),ni(pe,Vl.EventType.ERROR,pi=>{Zt||(Zt=!0,dl("Connection","WebChannel transport errored:",pi),Cn.oo(new B(An.UNAVAILABLE,"The operation could not be completed")))}),ni(pe,Vl.EventType.MESSAGE,pi=>{var lr;if(!Zt){const wr=pi.data[0];tr(!!wr);const Ea=wr.error||(null===(lr=wr[0])||void 0===lr?void 0:lr.error);if(Ea){di("Connection","WebChannel received error:",Ea);const yo=Ea.status;let Ql=function(bo){const Rc=ho[bo];if(void 0!==Rc)return Vu(Rc)}(yo),Zo=Ea.message;void 0===Ql&&(Ql=An.INTERNAL,Zo="Unknown error status: "+yo+" with message "+Ea.message),Zt=!0,Cn.oo(new B(Ql,Zo)),pe.close()}else di("Connection","WebChannel received:",wr),Cn.uo(wr)}}),ni(A,Ho.STAT_EVENT,pi=>{pi.stat===sc.PROXY?di("Connection","Detected buffering proxy"):pi.stat===sc.NOPROXY&&di("Connection","Detected no buffering proxy")}),setTimeout(()=>{Cn.ro()},0),Cn}}function bg(){return typeof window<"u"?window:null}function sp(){return typeof document<"u"?document:null}function Tf(s){return new bu(s,!0)}class op{constructor(e,n,l=1e3,d=1.5,b=6e4){this.Ys=e,this.timerId=n,this.po=l,this.Io=d,this.To=b,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.Po()),l=Math.max(0,Date.now()-this.Ro),d=Math.max(0,n-l);d>0&&di("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${l} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,d,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class Eg{constructor(e,n,l,d,b,A,G,se){this.Ys=e,this.So=l,this.Do=d,this.connection=b,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=G,this.listener=se,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new op(e,n)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return(0,t.Z)(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,t.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,n){var l=this;return(0,t.Z)(function*(){l.Uo(),l.Ko(),l.ko.cancel(),l.Co++,4!==e?l.ko.reset():n&&n.code===An.RESOURCE_EXHAUSTED?(no(n.toString()),no("Using maximum backoff delay to prevent overloading the backend."),l.ko.bo()):n&&n.code===An.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Go(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.no(n)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,d])=>{this.Co===n&&this.jo(l,d)},l=>{e(()=>{const d=new B(An.UNKNOWN,"Fetching auth token failed: "+l.message);return this.zo(d)})})}jo(e,n){const l=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{l(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(d=>{l(()=>this.zo(d))}),this.stream.onMessage(d=>{l(()=>this.onMessage(d))})}Fo(){var e=this;this.state=5,this.ko.vo((0,t.Z)(function*(){e.state=0,e.start()}))}zo(e){return di("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(di("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cg extends Eg{constructor(e,n,l,d,b,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,l,d,A),this.Tt=b}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=function hh(s,e){let n;if("targetChange"in e){const l="NO_CHANGE"===(se=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===se?1:"REMOVE"===se?2:"CURRENT"===se?3:"RESET"===se?4:Qi(),d=e.targetChange.targetIds||[],b=function(se,pe){return se.yt?(tr(void 0===pe||"string"==typeof pe),Fo.fromBase64String(pe||"")):(tr(void 0===pe||pe instanceof Uint8Array),Fo.fromUint8Array(pe||new Uint8Array))}(s,e.targetChange.resumeToken),A=e.targetChange.cause,G=A&&function(se){const pe=void 0===se.code?An.UNKNOWN:Vu(se.code);return new B(pe,se.message||"")}(A);n=new ld(l,d,b,G||null)}else if("documentChange"in e){const l=e.documentChange,d=wl(s,l.document.name),b=Oo(l.document.updateTime),A=l.document.createTime?Oo(l.document.createTime):nr.min(),G=new Ao({mapValue:{fields:l.document.fields}}),se=as.newFoundDocument(d,b,A,G);n=new oa(l.targetIds||[],l.removedTargetIds||[],se.key,se)}else if("documentDelete"in e){const l=e.documentDelete,d=wl(s,l.document),b=l.readTime?Oo(l.readTime):nr.min(),A=as.newNoDocument(d,b);n=new oa([],l.removedTargetIds||[],A.key,A)}else if("documentRemove"in e){const l=e.documentRemove,d=wl(s,l.document);n=new oa([],l.removedTargetIds||[],d,null)}else{if(!("filter"in e))return Qi();{const l=e.filter,b=new bc(l.count||0);n=new Td(l.targetId,b)}}var se;return n}(this.Tt,e),l=function(d){if(!("targetChange"in d))return nr.min();const b=d.targetChange;return b.targetIds&&b.targetIds.length?nr.min():b.readTime?Oo(b.readTime):nr.min()}(e);return this.listener.Ho(n,l)}Jo(e){const n={};n.database=wu(this.Tt),n.addTarget=function(d,b){let A;const G=b.target;return A=sa(G)?{documents:qd(d,G)}:{query:fh(d,G)},A.targetId=b.targetId,b.resumeToken.approximateByteSize()>0?A.resumeToken=uh(d,b.resumeToken):b.snapshotVersion.compareTo(nr.min())>0&&(A.readTime=Eu(d,b.snapshotVersion.toTimestamp())),A}(this.Tt,e);const l=function ph(s,e){const n=function(l,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qi()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);l&&(n.labels=l),this.qo(n)}Yo(e){const n={};n.database=wu(this.Tt),n.removeTarget=e,this.qo(n)}}class wg extends Eg{constructor(e,n,l,d,b,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,l,d,A),this.Tt=b,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=function Sd(s,e){return s&&s.length>0?(tr(void 0!==e),s.map(n=>function(l,d){let b=Oo(l.updateTime?l.updateTime:d);return b.isEqual(nr.min())&&(b=Oo(d)),new Qe(b,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),l=Oo(e.commitTime);return this.listener.eu(l,n)}return tr(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=wu(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(l=>Tu(this.Tt,l))};this.qo(n)}}class Lp extends class{}{constructor(e,n,l,d){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=l,this.Tt=d,this.iu=!1}ru(){if(this.iu)throw new B(An.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,l){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,b])=>this.connection.lo(e,n,l,d,b)).catch(d=>{throw"FirebaseError"===d.name?(d.code===An.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new B(An.UNKNOWN,d.toString())})}mo(e,n,l,d){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,A])=>this.connection.mo(e,n,l,b,A,d)).catch(b=>{throw"FirebaseError"===b.name?(b.code===An.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new B(An.UNKNOWN,b.toString())})}terminate(){this.iu=!0}}class ym{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(no(n),this.cu=!1):di("OnlineStateTracker",n)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class n_{constructor(e,n,l,d,b){var A=this;this.localStore=e,this.datastore=n,this.asyncQueue=l,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=b,this.yu.Gr(G=>{l.enqueueAndForget((0,t.Z)(function*(){var se;Mu(A)&&(di("RemoteStore","Restarting streams for network reachability change."),yield(se=(0,t.Z)(function*(pe){const Ke=Fi(pe);Ke.mu.add(4),yield Ah(Ke),Ke.pu.set("Unknown"),Ke.mu.delete(4),yield ed(Ke)}),function(pe){return se.apply(this,arguments)})(A))}))}),this.pu=new ym(l,d)}}function ed(s){return ap.apply(this,arguments)}function ap(){return ap=(0,t.Z)(function*(s){if(Mu(s))for(const e of s.gu)yield e(!0)}),ap.apply(this,arguments)}function Ah(s){return lp.apply(this,arguments)}function lp(){return lp=(0,t.Z)(function*(s){for(const e of s.gu)yield e(!1)}),lp.apply(this,arguments)}function cp(s,e){const n=Fi(s);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),nh(n)?Df(n):Rh(n).Mo()&&xh(n,e))}function Mh(s,e){const n=Fi(s),l=Rh(n);n.wu.delete(e),l.Mo()&&th(n,e),0===n.wu.size&&(l.Mo()?l.Bo():Mu(n)&&n.pu.set("Unknown"))}function xh(s,e){s.Iu.Ft(e.targetId),Rh(s).Jo(e)}function th(s,e){s.Iu.Ft(e),Rh(s).Yo(e)}function Df(s){s.Iu=new cd({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>s.wu.get(e)||null}),Rh(s).start(),s.pu.au()}function nh(s){return Mu(s)&&!Rh(s).Oo()&&s.wu.size>0}function Mu(s){return 0===Fi(s).mu.size}function Sf(s){s.Iu=void 0}function Tg(s){return Af.apply(this,arguments)}function Af(){return Af=(0,t.Z)(function*(s){s.wu.forEach((e,n)=>{xh(s,e)})}),Af.apply(this,arguments)}function $p(s,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,t.Z)(function*(s,e){Sf(s),nh(s)?(s.pu.fu(e),Df(s)):s.pu.set("Unknown")}),Mf.apply(this,arguments)}function Ig(s,e,n){return xf.apply(this,arguments)}function xf(){return xf=(0,t.Z)(function*(s,e,n){if(s.pu.set("Online"),e instanceof ld&&2===e.state&&e.cause)try{yield(l=(0,t.Z)(function*(d,b){const A=b.cause;for(const G of b.targetIds)d.wu.has(G)&&(yield d.remoteSyncer.rejectListen(G,A),d.wu.delete(G),d.Iu.removeTarget(G))}),function(d,b){return l.apply(this,arguments)})(s,e)}catch(l){di("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield up(s,l)}else if(e instanceof oa?s.Iu.Qt(e):e instanceof Td?s.Iu.Zt(e):s.Iu.Wt(e),!n.isEqual(nr.min()))try{const l=yield gm(s.localStore);n.compareTo(l)>=0&&(yield function(d,b){const A=d.Iu.ee(b);return A.targetChanges.forEach((G,se)=>{if(G.resumeToken.approximateByteSize()>0){const pe=d.wu.get(se);pe&&d.wu.set(se,pe.withResumeToken(G.resumeToken,b))}}),A.targetMismatches.forEach(G=>{const se=d.wu.get(G);if(!se)return;d.wu.set(G,se.withResumeToken(Fo.EMPTY_BYTE_STRING,se.snapshotVersion)),th(d,G);const pe=new vo(se.target,G,1,se.sequenceNumber);xh(d,pe)}),d.remoteSyncer.applyRemoteEvent(A)}(s,n))}catch(l){di("RemoteStore","Failed to raise snapshot:",l),yield up(s,l)}var l}),xf.apply(this,arguments)}function up(s,e,n){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,t.Z)(function*(s,e,n){if(!fl(e))throw e;s.mu.add(1),yield Ah(s),s.pu.set("Offline"),n||(n=()=>gm(s.localStore)),s.asyncQueue.enqueueRetryable((0,t.Z)(function*(){di("RemoteStore","Retrying IndexedDB access"),yield n(),s.mu.delete(1),yield ed(s)}))}),Bp.apply(this,arguments)}function Up(s,e){return e().catch(n=>up(s,n,e))}function Oh(s){return dp.apply(this,arguments)}function dp(){return dp=(0,t.Z)(function*(s){const e=Fi(s),n=Fd(e);let l=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Dg(e);)try{const d=yield e_(e.localStore,l);if(null===d){0===e._u.length&&n.Bo();break}l=d.batchId,bm(e,d)}catch(d){yield up(e,d)}Sg(e)&&Oc(e)}),dp.apply(this,arguments)}function Dg(s){return Mu(s)&&s._u.length<10}function bm(s,e){s._u.push(e);const n=Fd(s);n.Mo()&&n.Xo&&n.tu(e.mutations)}function Sg(s){return Mu(s)&&!Fd(s).Oo()&&s._u.length>0}function Oc(s){Fd(s).start()}function Ag(s){return hp.apply(this,arguments)}function hp(){return hp=(0,t.Z)(function*(s){Fd(s).su()}),hp.apply(this,arguments)}function i_(s){return Of.apply(this,arguments)}function Of(){return Of=(0,t.Z)(function*(s){const e=Fd(s);for(const n of s._u)e.tu(n.mutations)}),Of.apply(this,arguments)}function Vp(s,e,n){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,t.Z)(function*(s,e,n){const l=s._u.shift(),d=sf.from(l,e,n);yield Up(s,()=>s.remoteSyncer.applySuccessfulWrite(d)),yield Oh(s)}),Hp.apply(this,arguments)}function Mg(s,e){return jp.apply(this,arguments)}function jp(){return jp=(0,t.Z)(function*(s,e){var n;e&&Fd(s).Xo&&(yield(n=(0,t.Z)(function*(l,d){if(Kl(b=d.code)&&b!==An.ABORTED){const A=l._u.shift();Fd(l).$o(),yield Up(l,()=>l.remoteSyncer.rejectFailedWrite(A.batchId,d)),yield Oh(l)}var b}),function(l,d){return n.apply(this,arguments)})(s,e)),Sg(s)&&Oc(s)}),jp.apply(this,arguments)}function Gp(s,e){return zp.apply(this,arguments)}function zp(){return zp=(0,t.Z)(function*(s,e){const n=Fi(s);n.asyncQueue.verifyOperationInProgress(),di("RemoteStore","RemoteStore received new credentials");const l=Mu(n);n.mu.add(3),yield Ah(n),l&&n.pu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),yield ed(n)}),zp.apply(this,arguments)}function fp(s,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,t.Z)(function*(s,e){const n=Fi(s);e?(n.mu.delete(2),yield ed(n)):e||(n.mu.add(2),yield Ah(n),n.pu.set("Unknown"))}),Rf.apply(this,arguments)}function Rh(s){return s.Tu||(s.Tu=function(e,n,l){const d=Fi(e);return d.ru(),new Cg(n,d.connection,d.authCredentials,d.appCheckCredentials,d.Tt,l)}(s.datastore,s.asyncQueue,{Xr:Tg.bind(null,s),no:$p.bind(null,s),Ho:Ig.bind(null,s)}),s.gu.push(function(){var e=(0,t.Z)(function*(n){n?(s.Tu.$o(),nh(s)?Df(s):s.pu.set("Unknown")):(yield s.Tu.stop(),Sf(s))});return function(n){return e.apply(this,arguments)}}())),s.Tu}function Fd(s){return s.Eu||(s.Eu=function(e,n,l){const d=Fi(e);return d.ru(),new wg(n,d.connection,d.authCredentials,d.appCheckCredentials,d.Tt,l)}(s.datastore,s.asyncQueue,{Xr:Ag.bind(null,s),no:Mg.bind(null,s),nu:i_.bind(null,s),eu:Vp.bind(null,s)}),s.gu.push(function(){var e=(0,t.Z)(function*(n){n?(s.Eu.$o(),yield Oh(s)):(yield s.Eu.stop(),s._u.length>0&&(di("RemoteStore",`Stopping write stream with ${s._u.length} pending writes`),s._u=[]))});return function(n){return e.apply(this,arguments)}}())),s.Eu}class Wp{constructor(e,n,l,d,b){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=l,this.op=d,this.removalCallback=b,this.deferred=new ce,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}static createAndSchedule(e,n,l,d,b){const A=Date.now()+l,G=new Wp(e,n,A,d,b);return G.start(l),G}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(An.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nh(s,e){if(no("AsyncQueue",`${e}: ${s}`),fl(s))return new B(An.UNAVAILABLE,`${e}: ${s}`);throw s}class Ph{constructor(e){this.comparator=e?(n,l)=>e(n,l)||ki.comparator(n.key,l.key):(n,l)=>ki.comparator(n.key,l.key),this.keyedMap=Hu(),this.sortedSet=new xs(this.comparator)}static emptySet(e){return new Ph(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,l)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ph)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;n.hasNext();){const d=n.getNext().key,b=l.getNext().key;if(!d.isEqual(b))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const l=new Ph;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=n,l}}class xu{constructor(){this.Au=new xs(ki.comparator)}track(e){const n=e.doc.key,l=this.Au.get(n);l?0!==e.type&&3===l.type?this.Au=this.Au.insert(n,e):3===e.type&&1!==l.type?this.Au=this.Au.insert(n,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Au=this.Au.remove(n):1===e.type&&2===l.type?this.Au=this.Au.insert(n,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):Qi():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,l)=>{e.push(l)}),e}}class Ld{constructor(e,n,l,d,b,A,G,se,pe){this.query=e,this.docs=n,this.oldDocs=l,this.docChanges=d,this.mutatedKeys=b,this.fromCache=A,this.syncStateChanged=G,this.excludesMetadataChanges=se,this.hasCachedResults=pe}static fromInitialDocuments(e,n,l,d,b){const A=[];return n.forEach(G=>{A.push({type:0,doc:G})}),new Ld(e,n,Ph.emptySet(n),A,l,d,!0,!1,b)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,l=e.docChanges;if(n.length!==l.length)return!1;for(let d=0;d<n.length;d++)if(n[d].type!==l[d].type||!n[d].doc.isEqual(l[d].doc))return!1;return!0}}class Em{constructor(){this.bu=void 0,this.listeners=[]}}class Cm{constructor(){this.queries=new sl(e=>Ss(e),zo),this.onlineState="Unknown",this.vu=new Set}}function pp(s,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,t.Z)(function*(s,e){const n=Fi(s),l=e.query;let d=!1,b=n.queries.get(l);if(b||(d=!0,b=new Em),d)try{b.bu=yield n.onListen(l)}catch(A){const G=Nh(A,`Initialization of query '${Mc(e.query)}' failed`);return void e.onError(G)}n.queries.set(l,b),b.listeners.push(e),e.Pu(n.onlineState),b.bu&&e.Vu(b.bu)&&Wc(n)}),Yp.apply(this,arguments)}function gp(s,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,t.Z)(function*(s,e){const n=Fi(s),l=e.query;let d=!1;const b=n.queries.get(l);if(b){const A=b.listeners.indexOf(e);A>=0&&(b.listeners.splice(A,1),d=0===b.listeners.length)}if(d)return n.queries.delete(l),n.onUnlisten(l)}),Kp.apply(this,arguments)}function Nf(s,e){const n=Fi(s);let l=!1;for(const d of e){const A=n.queries.get(d.query);if(A){for(const G of A.listeners)G.Vu(d)&&(l=!0);A.bu=d}}l&&Wc(n)}function qp(s,e,n){const l=Fi(s),d=l.queries.get(e);if(d)for(const b of d.listeners)b.onError(n);l.queries.delete(e)}function Wc(s){s.vu.forEach(e=>{e.next()})}class Pf{constructor(e,n,l){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=l||{}}Vu(e){if(!this.options.includeMetadataChanges){const l=[];for(const d of e.docChanges)3!==d.type&&l.push(d);e=new Ld(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){return!e.fromCache||(!this.options.Ou||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class xg{constructor(e,n){this.Mu=e,this.byteLength=n}Fu(){return"metadata"in this.Mu}}class mp{constructor(e){this.Tt=e}Zi(e){return wl(this.Tt,e)}Xi(e){return e.metadata.exists?Kd(this.Tt,e.document,!1):as.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return Oo(e)}}class ev{constructor(e,n,l){this.$u=e,this.localStore=n,this.Tt=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zp(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++n;const l=Ar.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Lu(e){const n=new Map,l=new mp(this.Tt);for(const d of e)if(d.metadata.queries){const b=l.Zi(d.metadata.name);for(const A of d.metadata.queries){const G=(n.get(A)||Yr()).add(b);n.set(A,G)}}return n}complete(){var e=this;return(0,t.Z)(function*(){const n=yield function mm(s,e,n,l){return Ef.apply(this,arguments)}(e.localStore,new mp(e.Tt),e.documents,e.$u.id),l=e.Lu(e.documents);for(const d of e.queries)yield Ih(e.localStore,d,l.get(d.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:n}})()}}function Zp(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class r_{constructor(e){this.key=e}}class Og{constructor(e){this.key=e}}class Rg{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Yr(),this.mutatedKeys=Yr(),this.ju=Uu(e),this.zu=new Ph(this.ju)}get Wu(){return this.Ku}Hu(e,n){const l=n?n.Ju:new xu,d=n?n.zu:this.zu;let b=n?n.mutatedKeys:this.mutatedKeys,A=d,G=!1;const se="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,pe="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((Ke,Zt)=>{const Cn=d.get(Ke),ni=_c(this.query,Zt)?Zt:null,pi=!!Cn&&this.mutatedKeys.has(Cn.key),lr=!!ni&&(ni.hasLocalMutations||this.mutatedKeys.has(ni.key)&&ni.hasCommittedMutations);let wr=!1;Cn&&ni?Cn.data.isEqual(ni.data)?pi!==lr&&(l.track({type:3,doc:ni}),wr=!0):this.Yu(Cn,ni)||(l.track({type:2,doc:ni}),wr=!0,(se&&this.ju(ni,se)>0||pe&&this.ju(ni,pe)<0)&&(G=!0)):!Cn&&ni?(l.track({type:0,doc:ni}),wr=!0):Cn&&!ni&&(l.track({type:1,doc:Cn}),wr=!0,(se||pe)&&(G=!0)),wr&&(ni?(A=A.add(ni),b=lr?b.add(Ke):b.delete(Ke)):(A=A.delete(Ke),b=b.delete(Ke)))}),null!==this.query.limit)for(;A.size>this.query.limit;){const Ke="F"===this.query.limitType?A.last():A.first();A=A.delete(Ke.key),b=b.delete(Ke.key),l.track({type:1,doc:Ke})}return{zu:A,Ju:l,Li:G,mutatedKeys:b}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,l){const d=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const b=e.Ju.Ru();b.sort((pe,Ke)=>function(Zt,Cn){const ni=pi=>{switch(pi){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qi()}};return ni(Zt)-ni(Cn)}(pe.type,Ke.type)||this.ju(pe.doc,Ke.doc)),this.Zu(l);const A=n?this.Xu():[],G=0===this.Qu.size&&this.current?1:0,se=G!==this.Gu;return this.Gu=G,0!==b.length||se?{snapshot:new Ld(this.query,e.zu,d,b,e.mutatedKeys,0===G,se,!1,!!l&&l.resumeToken.approximateByteSize()>0),tc:A}:{tc:A}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new xu,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Yr(),this.zu.forEach(l=>{this.ec(l.key)&&(this.Qu=this.Qu.add(l.key))});const n=[];return e.forEach(l=>{this.Qu.has(l)||n.push(new Og(l))}),this.Qu.forEach(l=>{e.has(l)||n.push(new r_(l))}),n}nc(e){this.Ku=e.Yi,this.Qu=Yr();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return Ld.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class wm{constructor(e,n,l){this.query=e,this.targetId=n,this.view=l}}class Tm{constructor(e){this.key=e,this.ic=!1}}class Ng{constructor(e,n,l,d,b,A){this.localStore=e,this.remoteStore=n,this.eventManager=l,this.sharedClientState=d,this.currentUser=b,this.maxConcurrentLimboResolutions=A,this.rc={},this.oc=new sl(G=>Ss(G),zo),this.uc=new Map,this.cc=new Set,this.ac=new xs(ki.comparator),this.hc=new Map,this.lc=new Mp,this.fc={},this.dc=new Map,this._c=qu.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function $d(s,e){return kf.apply(this,arguments)}function kf(){return kf=(0,t.Z)(function*(s,e){const n=bp(s);let l,d;const b=n.oc.get(e);if(b)l=b.targetId,n.sharedClientState.addLocalQueryTarget(l),d=b.view.sc();else{const A=yield Th(n.localStore,Ys(e));n.isPrimaryClient&&cp(n.remoteStore,A);const G=n.sharedClientState.addLocalQueryTarget(A.targetId);l=A.targetId,d=yield Ff(n,e,l,"current"===G,A.resumeToken)}return d}),kf.apply(this,arguments)}function Ff(s,e,n,l,d){return kh.apply(this,arguments)}function kh(){return kh=(0,t.Z)(function*(s,e,n,l,d){s.mc=(Zt,Cn,ni)=>{return(pi=(0,t.Z)(function*(lr,wr,qo,Ea){let yo=wr.view.Hu(qo);yo.Li&&(yo=yield No(lr.localStore,wr.query,!1).then(({documents:bo})=>wr.view.Hu(bo,yo)));const Ql=Ea&&Ea.targetChanges.get(wr.targetId),Zo=wr.view.applyChanges(yo,lr.isPrimaryClient,Ql);return Bg(lr,wr.targetId,Zo.tc),Zo.snapshot}),function(lr,wr,qo,Ea){return pi.apply(this,arguments)})(s,Zt,Cn,ni);var pi};const b=yield No(s.localStore,e,!0),A=new Rg(e,b.Yi),G=A.Hu(b.documents),se=zu.createSynthesizedTargetChangeForCurrentChange(n,l&&"Offline"!==s.onlineState,d),pe=A.applyChanges(G,s.isPrimaryClient,se);Bg(s,n,pe.tc);const Ke=new wm(e,n,A);return s.oc.set(e,Ke),s.uc.has(n)?s.uc.get(n).push(e):s.uc.set(n,[e]),pe.snapshot}),kh.apply(this,arguments)}function s_(s,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,t.Z)(function*(s,e){const n=Fi(s),l=n.oc.get(e),d=n.uc.get(l.targetId);if(d.length>1)return n.uc.set(l.targetId,d.filter(b=>!zo(b,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(l.targetId),n.sharedClientState.isActiveQueryTarget(l.targetId)||(yield yf(n.localStore,l.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(l.targetId),Mh(n.remoteStore,l.targetId),$f(n,l.targetId)}).catch(hl))):($f(n,l.targetId),yield yf(n.localStore,l.targetId,!0))}),Xp.apply(this,arguments)}function Pg(){return Pg=(0,t.Z)(function*(s,e,n){const l=rh(s);try{const d=yield function(b,A){const G=Fi(b),se=Lr.now(),pe=A.reduce((Cn,ni)=>Cn.add(ni.key),Yr());let Ke,Zt;return G.persistence.runTransaction("Locally write mutations","readwrite",Cn=>{let ni=xo(),pi=Yr();return G.ji.getEntries(Cn,pe).next(lr=>{ni=lr,ni.forEach((wr,qo)=>{qo.isValidDocument()||(pi=pi.add(wr))})}).next(()=>G.localDocuments.getOverlayedDocuments(Cn,ni)).next(lr=>{Ke=lr;const wr=[];for(const qo of A){const Ea=yl(qo,Ke.get(qo.key).overlayedDocument);null!=Ea&&wr.push(new La(qo.key,Ea,sd(Ea.value.mapValue),gn.exists(!0)))}return G.mutationQueue.addMutationBatch(Cn,se,wr,A)}).next(lr=>{Zt=lr;const wr=lr.applyToLocalDocumentSet(Ke,pi);return G.documentOverlayCache.saveOverlays(Cn,lr.batchId,wr)})}).then(()=>({batchId:Zt.batchId,changes:ru(Ke)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(d.batchId),function(b,A,G){let se=b.fc[b.currentUser.toKey()];se||(se=new xs(Ui)),se=se.insert(A,G),b.fc[b.currentUser.toKey()]=se}(l,d.batchId,n),yield pd(l,d.changes),yield Oh(l.remoteStore)}catch(d){const b=Nh(d,"Failed to persist write");n.reject(b)}}),Pg.apply(this,arguments)}function Dm(s,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,t.Z)(function*(s,e){const n=Fi(s);try{const l=yield function Qm(s,e){const n=Fi(s),l=e.snapshotVersion;let d=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const A=n.ji.newChangeBuffer({trackRemovals:!0});d=n.Ki;const G=[];e.targetChanges.forEach((Ke,Zt)=>{const Cn=d.get(Zt);if(!Cn)return;G.push(n.Ns.removeMatchingKeys(b,Ke.removedDocuments,Zt).next(()=>n.Ns.addMatchingKeys(b,Ke.addedDocuments,Zt)));let ni=Cn.withSequenceNumber(b.currentSequenceNumber);var pi,lr,wr;e.targetMismatches.has(Zt)?ni=ni.withResumeToken(Fo.EMPTY_BYTE_STRING,nr.min()).withLastLimboFreeSnapshotVersion(nr.min()):Ke.resumeToken.approximateByteSize()>0&&(ni=ni.withResumeToken(Ke.resumeToken,l)),d=d.insert(Zt,ni),lr=ni,wr=Ke,(0===(pi=Cn).resumeToken.approximateByteSize()||lr.snapshotVersion.toMicroseconds()-pi.snapshotVersion.toMicroseconds()>=3e8||wr.addedDocuments.size+wr.modifiedDocuments.size+wr.removedDocuments.size>0)&&G.push(n.Ns.updateTargetData(b,ni))});let se=xo(),pe=Yr();if(e.documentUpdates.forEach(Ke=>{e.resolvedLimboDocuments.has(Ke)&&G.push(n.persistence.referenceDelegate.updateLimboDocument(b,Ke))}),G.push(_g(b,A,e.documentUpdates).next(Ke=>{se=Ke.Hi,pe=Ke.Ji})),!l.isEqual(nr.min())){const Ke=n.Ns.getLastRemoteSnapshotVersion(b).next(Zt=>n.Ns.setTargetsMetadata(b,b.currentSequenceNumber,l));G.push(Ke)}return Mn.waitFor(G).next(()=>A.apply(b)).next(()=>n.localDocuments.getLocalViewOfDocuments(b,se,pe)).next(()=>se)}).then(b=>(n.Ki=d,b))}(n.localStore,e);e.targetChanges.forEach((d,b)=>{const A=n.hc.get(b);A&&(tr(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?A.ic=!0:d.modifiedDocuments.size>0?tr(A.ic):d.removedDocuments.size>0&&(tr(A.ic),A.ic=!1))}),yield pd(n,l,e)}catch(l){yield hl(l)}}),Fh.apply(this,arguments)}function Sm(s,e,n){const l=Fi(s);if(l.isPrimaryClient&&0===n||!l.isPrimaryClient&&1===n){const d=[];l.oc.forEach((b,A)=>{const G=A.view.Pu(e);G.snapshot&&d.push(G.snapshot)}),function(b,A){const G=Fi(b);G.onlineState=A;let se=!1;G.queries.forEach((pe,Ke)=>{for(const Zt of Ke.listeners)Zt.Pu(A)&&(se=!0)}),se&&Wc(G)}(l.eventManager,e),d.length&&l.rc.Ho(d),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function tv(s,e,n){return kg.apply(this,arguments)}function kg(){return kg=(0,t.Z)(function*(s,e,n){const l=Fi(s);l.sharedClientState.updateQueryState(e,"rejected",n);const d=l.hc.get(e),b=d&&d.key;if(b){let A=new xs(ki.comparator);A=A.insert(b,as.newNoDocument(b,nr.min()));const G=Yr().add(b),se=new Gu(nr.min(),new Map,new Ds(Ui),A,G);yield Dm(l,se),l.ac=l.ac.remove(b),l.hc.delete(e),Ug(l)}else yield yf(l.localStore,e,!1).then(()=>$f(l,e,n)).catch(hl)}),kg.apply(this,arguments)}function o_(s,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,t.Z)(function*(s,e){const n=Fi(s),l=e.batch.batchId;try{const d=yield function pm(s,e){const n=Fi(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const d=e.batch.keys(),b=n.ji.newChangeBuffer({trackRemovals:!0});return function(A,G,se,pe){const Ke=se.batch,Zt=Ke.keys();let Cn=Mn.resolve();return Zt.forEach(ni=>{Cn=Cn.next(()=>pe.getEntry(G,ni)).next(pi=>{const lr=se.docVersions.get(ni);tr(null!==lr),pi.version.compareTo(lr)<0&&(Ke.applyToRemoteDocument(pi,se),pi.isValidDocument()&&(pi.setReadTime(se.commitVersion),pe.addEntry(pi)))})}),Cn.next(()=>A.mutationQueue.removeMutationBatch(G,Ke))}(n,l,e,b).next(()=>b.apply(l)).next(()=>n.mutationQueue.performConsistencyCheck(l)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(l,d,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(A){let G=Yr();for(let se=0;se<A.mutationResults.length;++se)A.mutationResults[se].transformResults.length>0&&(G=G.add(A.batch.mutations[se].key));return G}(e))).next(()=>n.localDocuments.getDocuments(l,d))})}(n.localStore,e);Lf(n,l,null),Jp(n,l),n.sharedClientState.updateMutationState(l,"acknowledged"),yield pd(n,d)}catch(d){yield hl(d)}}),Fg.apply(this,arguments)}function a_(s,e,n){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,t.Z)(function*(s,e,n){const l=Fi(s);try{const d=yield function(b,A){const G=Fi(b);return G.persistence.runTransaction("Reject batch","readwrite-primary",se=>{let pe;return G.mutationQueue.lookupMutationBatch(se,A).next(Ke=>(tr(null!==Ke),pe=Ke.keys(),G.mutationQueue.removeMutationBatch(se,Ke))).next(()=>G.mutationQueue.performConsistencyCheck(se)).next(()=>G.documentOverlayCache.removeOverlaysForBatchId(se,pe,A)).next(()=>G.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(se,pe)).next(()=>G.localDocuments.getDocuments(se,pe))})}(l.localStore,e);Lf(l,e,n),Jp(l,e),l.sharedClientState.updateMutationState(e,"rejected",n),yield pd(l,d)}catch(d){yield hl(d)}}),Lg.apply(this,arguments)}function $g(){return $g=(0,t.Z)(function*(s,e){const n=Fi(s);Mu(n.remoteStore)||di("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(b){const A=Fi(b);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",G=>A.mutationQueue.getHighestUnacknowledgedBatchId(G))}(n.localStore);if(-1===l)return void e.resolve();const d=n.dc.get(l)||[];d.push(e),n.dc.set(l,d)}catch(l){const d=Nh(l,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),$g.apply(this,arguments)}function Jp(s,e){(s.dc.get(e)||[]).forEach(n=>{n.resolve()}),s.dc.delete(e)}function Lf(s,e,n){const l=Fi(s);let d=l.fc[l.currentUser.toKey()];if(d){const b=d.get(e);b&&(n?b.reject(n):b.resolve(),d=d.remove(e)),l.fc[l.currentUser.toKey()]=d}}function $f(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s.uc.get(e))s.oc.delete(l),n&&s.rc.gc(l,n);s.uc.delete(e),s.isPrimaryClient&&s.lc.ds(e).forEach(l=>{s.lc.containsKey(l)||_p(s,l)})}function _p(s,e){s.cc.delete(e.path.canonicalString());const n=s.ac.get(e);null!==n&&(Mh(s.remoteStore,n),s.ac=s.ac.remove(e),s.hc.delete(n),Ug(s))}function Bg(s,e,n){for(const l of n)l instanceof r_?(s.lc.addReference(l.key,e),Am(s,l)):l instanceof Og?(di("SyncEngine","Document no longer in limbo: "+l.key),s.lc.removeReference(l.key,e),s.lc.containsKey(l.key)||_p(s,l.key)):Qi()}function Am(s,e){const n=e.key,l=n.path.canonicalString();s.ac.get(n)||s.cc.has(l)||(di("SyncEngine","New document in limbo: "+n),s.cc.add(l),Ug(s))}function Ug(s){for(;s.cc.size>0&&s.ac.size<s.maxConcurrentLimboResolutions;){const e=s.cc.values().next().value;s.cc.delete(e);const n=new ki(Ar.fromString(e)),l=s._c.next();s.hc.set(l,new Tm(n)),s.ac=s.ac.insert(n,l),cp(s.remoteStore,new vo(Ys(Ac(n.path)),l,2,Ra.at))}}function pd(s,e,n){return vp.apply(this,arguments)}function vp(){return vp=(0,t.Z)(function*(s,e,n){const l=Fi(s),d=[],b=[],A=[];var G;l.oc.isEmpty()||(l.oc.forEach((G,se)=>{A.push(l.mc(se,e,n).then(pe=>{if((pe||n)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(se.targetId,null!=pe&&pe.fromCache?"not-current":"current"),pe){d.push(pe);const Ke=gg.Ni(se.targetId,pe);b.push(Ke)}}))}),yield Promise.all(A),l.rc.Ho(d),yield(G=(0,t.Z)(function*(se,pe){const Ke=Fi(se);try{yield Ke.persistence.runTransaction("notifyLocalViewChanges","readwrite",Zt=>Mn.forEach(pe,Cn=>Mn.forEach(Cn.Ci,ni=>Ke.persistence.referenceDelegate.addReference(Zt,Cn.targetId,ni)).next(()=>Mn.forEach(Cn.xi,ni=>Ke.persistence.referenceDelegate.removeReference(Zt,Cn.targetId,ni)))))}catch(Zt){if(!fl(Zt))throw Zt;di("LocalStore","Failed to update sequence numbers: "+Zt)}for(const Zt of pe){const Cn=Zt.targetId;if(!Zt.fromCache){const ni=Ke.Ki.get(Cn),lr=ni.withLastLimboFreeSnapshotVersion(ni.snapshotVersion);Ke.Ki=Ke.Ki.insert(Cn,lr)}}}),function(se,pe){return G.apply(this,arguments)})(l.localStore,b))}),vp.apply(this,arguments)}function Mm(s,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,t.Z)(function*(s,e){const n=Fi(s);if(!n.currentUser.isEqual(e)){di("SyncEngine","User change. New user:",e.toKey());const l=yield mg(n.localStore,e);n.currentUser=e,(d=n).dc.forEach(A=>{A.forEach(G=>{G.reject(new B(An.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.dc.clear(),n.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield pd(n,l.Wi)}var d}),Qp.apply(this,arguments)}function Vg(s,e){const n=Fi(s),l=n.hc.get(e);if(l&&l.ic)return Yr().add(l.key);{let d=Yr();const b=n.uc.get(e);if(!b)return d;for(const A of b){const G=n.oc.get(A);d=d.unionWith(G.view.Wu)}return d}}function Hg(s,e){return jg.apply(this,arguments)}function jg(){return jg=(0,t.Z)(function*(s,e){const n=Fi(s),l=yield No(n.localStore,e.query,!0),d=e.view.nc(l);return n.isPrimaryClient&&Bg(n,e.targetId,d.tc),d}),jg.apply(this,arguments)}function nv(s,e){return eg.apply(this,arguments)}function eg(){return eg=(0,t.Z)(function*(s,e){const n=Fi(s);return bf(n.localStore,e).then(l=>pd(n,l))}),eg.apply(this,arguments)}function iv(s,e,n,l){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,t.Z)(function*(s,e,n,l){const d=Fi(s),b=yield function(A,G){const se=Fi(A),pe=Fi(se.mutationQueue);return se.persistence.runTransaction("Lookup mutation documents","readonly",Ke=>pe.An(Ke,G).next(Zt=>Zt?se.localDocuments.getDocuments(Ke,Zt):Mn.resolve(null)))}(d.localStore,e);var G;null!==b?("pending"===n?yield Oh(d.remoteStore):"acknowledged"===n||"rejected"===n?(Lf(d,e,l||null),Jp(d,e),G=e,Fi(Fi(d.localStore).mutationQueue).bn(G)):Qi(),yield pd(d,b)):di("SyncEngine","Cannot apply mutation batch with id: "+e)}),Bf.apply(this,arguments)}function yp(){return yp=(0,t.Z)(function*(s,e){const n=Fi(s);if(bp(n),rh(n),!0===e&&!0!==n.wc){const l=n.sharedClientState.getAllActiveQueryTargets(),d=yield ih(n,l.toArray());n.wc=!0,yield fp(n.remoteStore,!0);for(const b of d)cp(n.remoteStore,b)}else if(!1===e&&!1!==n.wc){const l=[];let d=Promise.resolve();n.uc.forEach((b,A)=>{n.sharedClientState.isLocalQueryTarget(A)?l.push(A):d=d.then(()=>($f(n,A),yf(n.localStore,A,!0))),Mh(n.remoteStore,A)}),yield d,yield ih(n,l),function(b){const A=Fi(b);A.hc.forEach((G,se)=>{Mh(A.remoteStore,se)}),A.lc._s(),A.hc=new Map,A.ac=new xs(ki.comparator)}(n),n.wc=!1,yield fp(n.remoteStore,!1)}}),yp.apply(this,arguments)}function ih(s,e,n){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,t.Z)(function*(s,e,n){const l=Fi(s),d=[],b=[];for(const A of e){let G;const se=l.uc.get(A);if(se&&0!==se.length){G=yield Th(l.localStore,Ys(se[0]));for(const pe of se){const Ke=l.oc.get(pe),Zt=yield Hg(l,Ke);Zt.snapshot&&b.push(Zt.snapshot)}}else{const pe=yield Np(l.localStore,A);G=yield Th(l.localStore,pe),yield Ff(l,td(pe),A,!1,G.resumeToken)}d.push(G)}return l.rc.Ho(b),d}),Gg.apply(this,arguments)}function td(s){return Gd(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function gd(s){const e=Fi(s);return Fi(Fi(e.localStore).persistence).Si()}function Ll(s,e,n,l){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,t.Z)(function*(s,e,n,l){const d=Fi(s);if(d.wc)return void di("SyncEngine","Ignoring unexpected query state notification.");const b=d.uc.get(e);if(b&&b.length>0)switch(n){case"current":case"not-current":{const A=yield bf(d.localStore,iu(b[0])),G=Gu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Fo.EMPTY_BYTE_STRING);yield pd(d,A,G);break}case"rejected":yield yf(d.localStore,e,!0),$f(d,e,l);break;default:Qi()}}),Bd.apply(this,arguments)}function tg(s,e,n){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,t.Z)(function*(s,e,n){const l=bp(s);if(l.wc){for(const d of e){if(l.uc.has(d)){di("SyncEngine","Adding an already active target "+d);continue}const b=yield Np(l.localStore,d),A=yield Th(l.localStore,b);yield Ff(l,td(b),A.targetId,!1,A.resumeToken),cp(l.remoteStore,A)}for(const d of n)l.uc.has(d)&&(yield yf(l.localStore,d,!1).then(()=>{Mh(l.remoteStore,d),$f(l,d)}).catch(hl))}}),Yc.apply(this,arguments)}function bp(s){const e=Fi(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tv.bind(null,e),e.rc.Ho=Nf.bind(null,e.eventManager),e.rc.gc=qp.bind(null,e.eventManager),e}function rh(s){const e=Fi(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a_.bind(null,e),e}class sh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,t.Z)(function*(){n.Tt=Tf(e.databaseInfo.databaseId),n.sharedClientState=n.Ic(e),n.persistence=n.Tc(e),yield n.persistence.start(),n.localStore=n.Ec(e),n.gcScheduler=n.Ac(e,n.localStore),n.indexBackfillerScheduler=n.Rc(e,n.localStore)})()}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return Xr(this.persistence,new fm,e.initialUser,this.Tt)}Tc(e){return new hm(Gc.qs,this.Tt)}Ic(e){return new wf}terminate(){var e=this;return(0,t.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class oh extends sh{constructor(e,n,l){super(),this.bc=e,this.cacheSizeBytes=n,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,l=this;return(0,t.Z)(function*(){yield n().call(l,e),yield l.bc.initialize(l,e),yield rh(l.bc.syncEngine),yield Oh(l.bc.remoteStore),yield l.persistence.di(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return Xr(this.persistence,new fm,e.initialUser,this.Tt)}Ac(e,n){return new gf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Rc(e,n){const l=new uc(n,this.persistence);return new qa(e.asyncQueue,l)}Tc(e){const n=Op(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?tl.withCacheSize(this.cacheSizeBytes):tl.DEFAULT;return new pg(this.synchronizeTabs,n,e.clientId,l,e.asyncQueue,bg(),sp(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new wf}}class Ou extends oh{constructor(e,n){super(e,n,!1),this.bc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,l=this;return(0,t.Z)(function*(){yield n().call(l,e);const d=l.bc.syncEngine;l.sharedClientState instanceof Fp&&(l.sharedClientState.syncEngine={Br:iv.bind(null,d),Lr:Ll.bind(null,d),qr:tg.bind(null,d),Si:gd.bind(null,d),$r:nv.bind(null,d)},yield l.sharedClientState.start()),yield l.persistence.di(function(){var b=(0,t.Z)(function*(A){yield function c_(s,e){return yp.apply(this,arguments)}(l.bc.syncEngine,A),l.gcScheduler&&(A&&!l.gcScheduler.started?l.gcScheduler.start():A||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(A&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():A||l.indexBackfillerScheduler.stop())});return function(A){return b.apply(this,arguments)}}())})()}Ic(e){const n=bg();if(!Fp.C(n))throw new B(An.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=Op(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fp(n,e.asyncQueue,l,e.clientId,e.initialUser)}}class o{initialize(e,n){var l=this;return(0,t.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(n),l.remoteStore=l.createRemoteStore(n),l.eventManager=l.createEventManager(n),l.syncEngine=l.createSyncEngine(n,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=d=>Sm(l.syncEngine,d,1),l.remoteStore.remoteSyncer.handleCredentialChange=Mm.bind(null,l.syncEngine),yield fp(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cm}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),l=new vm(e.databaseInfo);return new Lp(e.authCredentials,e.appCheckCredentials,l,n)}createRemoteStore(e){return n=this.localStore,l=this.datastore,d=e.asyncQueue,b=G=>Sm(this.syncEngine,G,0),A=vg.C()?new vg:new rp,new n_(n,l,d,b,A);var n,l,d,b,A}createSyncEngine(e,n){return function(l,d,b,A,G,se,pe){const Ke=new Ng(l,d,b,A,G,se);return pe&&(Ke.wc=!0),Ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,t.Z)(function*(n){const l=Fi(n);di("RemoteStore","RemoteStore shutting down."),l.mu.add(5),yield Ah(l),l.yu.shutdown(),l.pu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function p(s,e=10240){let n=0;return{read:()=>(0,t.Z)(function*(){if(n<s.byteLength){const l={value:s.slice(n,n+e),done:!1};return n+=e,l}return{done:!0}})(),cancel:()=>(0,t.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class v{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):no("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class I{constructor(e,n){this.Vc=e,this.Tt=n,this.metadata=new ce,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(l=>{l&&l.Fu()?this.metadata.resolve(l.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.Mu)}`))},l=>this.metadata.reject(l))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,t.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,t.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,t.Z)(function*(){const n=yield e.Cc();if(null===n)return null;const l=e.Sc.decode(n),d=Number(l);isNaN(d)&&e.xc(`length string (${l}) is not valid number`);const b=yield e.Nc(d);return new xg(JSON.parse(b),n.length+d)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,t.Z)(function*(){for(;e.kc()<0&&!(yield e.Oc()););if(0===e.buffer.length)return null;const n=e.kc();n<0&&e.xc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),l})()}Nc(e){var n=this;return(0,t.Z)(function*(){for(;n.buffer.length<e;)(yield n.Oc())&&n.xc("Reached the end of bundle when more is expected.");const l=n.Sc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),l})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}Oc(){var e=this;return(0,t.Z)(function*(){const n=yield e.Vc.read();if(!n.done){const l=new Uint8Array(e.buffer.length+n.value.length);l.set(e.buffer),l.set(n.value,e.buffer.length),e.buffer=l}return n.done})()}}class N{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,t.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new B(An.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(d=(0,t.Z)(function*(b,A){const G=Fi(b),se=wu(G.Tt)+"/documents",pe={documents:A.map(ni=>Cu(G.Tt,ni))},Ke=yield G.mo("BatchGetDocuments",se,pe,A.length),Zt=new Map;Ke.forEach(ni=>{const pi=function hd(s,e){return"found"in e?function(n,l){tr(!!l.found);const d=wl(n,l.found.name),b=Oo(l.found.updateTime),A=l.found.createTime?Oo(l.found.createTime):nr.min(),G=new Ao({mapValue:{fields:l.found.fields}});return as.newFoundDocument(d,b,A,G)}(s,e):"missing"in e?function(n,l){tr(!!l.missing),tr(!!l.readTime);const d=wl(n,l.missing),b=Oo(l.readTime);return as.newNoDocument(d,b)}(s,e):Qi()}(G.Tt,ni);Zt.set(pi.key.toString(),pi)});const Cn=[];return A.forEach(ni=>{const pi=Zt.get(ni.toString());tr(!!pi),Cn.push(pi)}),Cn}),function(b,A){return d.apply(this,arguments)})(n.datastore,e);var d;return l.forEach(d=>n.recordVersion(d)),l})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new El(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,t.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var l;e.mutations.forEach(l=>{n.delete(l.key.toString())}),n.forEach((l,d)=>{const b=ki.fromPath(d);e.mutations.push(new Ja(b,e.precondition(b)))}),yield(l=(0,t.Z)(function*(d,b){const A=Fi(d),G=wu(A.Tt)+"/documents",se={writes:b.map(pe=>Tu(A.Tt,pe))};yield A.lo("Commit",G,se)}),function(d,b){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Qi();n=nr.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!n.isEqual(l))throw new B(An.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(nr.min())?gn.exists(!1):gn.updateTime(n):gn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(nr.min()))throw new B(An.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gn.updateTime(n)}return gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class z{constructor(e,n,l,d,b){this.asyncQueue=e,this.datastore=n,this.options=l,this.updateFunction=d,this.deferred=b,this.Mc=l.maxAttempts,this.ko=new op(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){var e=this;this.ko.vo((0,t.Z)(function*(){const n=new N(e.datastore),l=e.$c(n);l&&l.then(d=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(d)}).catch(b=>{e.Bc(b)}))}).catch(d=>{e.Bc(d)})}))}$c(e){try{const n=this.updateFunction(e);return!hc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Kl(n)}return!1}}class le{constructor(e,n,l,d){var b=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=l,this.databaseInfo=d,this.user=go.UNAUTHENTICATED,this.clientId=Er.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var A=(0,t.Z)(function*(G){di("FirestoreClient","Received user=",G.uid),yield b.authCredentialListener(G),b.user=G});return function(G){return A.apply(this,arguments)}}()),this.appCheckCredentials.start(l,A=>(di("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}getConfiguration(){var e=this;return(0,t.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(An.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ce;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,t.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(l){const d=Nh(l,"Failed to shutdown persistence");n.reject(d)}})),n.promise}}function Te(s,e){return ae.apply(this,arguments)}function ae(){return ae=(0,t.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),di("FirestoreClient","Initializing OfflineComponentProvider");const n=yield s.getConfiguration();yield e.initialize(n);let l=n.initialUser;s.setCredentialChangeListener(function(){var d=(0,t.Z)(function*(b){l.isEqual(b)||(yield mg(e.localStore,b),l=b)});return function(b){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}),ae.apply(this,arguments)}function Ce(s,e){return me.apply(this,arguments)}function me(){return me=(0,t.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const n=yield ve(s);di("FirestoreClient","Initializing OnlineComponentProvider");const l=yield s.getConfiguration();yield e.initialize(n,l),s.setCredentialChangeListener(d=>Gp(e.remoteStore,d)),s.setAppCheckTokenChangeListener((d,b)=>Gp(e.remoteStore,b)),s.onlineComponents=e}),me.apply(this,arguments)}function ve(s){return Le.apply(this,arguments)}function Le(){return Le=(0,t.Z)(function*(s){return s.offlineComponents||(di("FirestoreClient","Using default OfflineComponentProvider"),yield Te(s,new sh)),s.offlineComponents}),Le.apply(this,arguments)}function Ct(s){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,t.Z)(function*(s){return s.onlineComponents||(di("FirestoreClient","Using default OnlineComponentProvider"),yield Ce(s,new o)),s.onlineComponents}),Rt.apply(this,arguments)}function tt(s){return ve(s).then(e=>e.persistence)}function ht(s){return ve(s).then(e=>e.localStore)}function an(s){return Ct(s).then(e=>e.remoteStore)}function nn(s){return Ct(s).then(e=>e.syncEngine)}function Zn(s){return ri.apply(this,arguments)}function ri(){return ri=(0,t.Z)(function*(s){const e=yield Ct(s),n=e.eventManager;return n.onListen=$d.bind(null,e.syncEngine),n.onUnlisten=s_.bind(null,e.syncEngine),n}),ri.apply(this,arguments)}function er(s,e,n={}){const l=new ce;return s.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function(d,b,A,G,se){const pe=new v({next:Zt=>{b.enqueueAndForget(()=>gp(d,Ke));const Cn=Zt.docs.has(A);!Cn&&Zt.fromCache?se.reject(new B(An.UNAVAILABLE,"Failed to get document because the client is offline.")):Cn&&Zt.fromCache&&G&&"server"===G.source?se.reject(new B(An.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):se.resolve(Zt)},error:Zt=>se.reject(Zt)}),Ke=new Pf(Ac(A.path),pe,{includeMetadataChanges:!0,Ou:!0});return pp(d,Ke)}(yield Zn(s),s.asyncQueue,e,n,l)})),l.promise}function $n(s,e,n={}){const l=new ce;return s.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function(d,b,A,G,se){const pe=new v({next:Zt=>{b.enqueueAndForget(()=>gp(d,Ke)),Zt.fromCache&&"server"===G.source?se.reject(new B(An.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):se.resolve(Zt)},error:Zt=>se.reject(Zt)}),Ke=new Pf(A,pe,{includeMetadataChanges:!0,Ou:!0});return pp(d,Ke)}(yield Zn(s),s.asyncQueue,e,n,l)})),l.promise}const xr=new Map;function Vn(s,e,n){if(!n)throw new B(An.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Zi(s,e,n,l){if(!0===e&&!0===l)throw new B(An.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function ji(s){if(!ki.isDocumentKey(s))throw new B(An.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ys(s){if(ki.isDocumentKey(s))throw new B(An.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Os(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(n=s).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof s?"a function":Qi()}function $r(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new B(An.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Os(s);throw new B(An.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function md(s,e){if(e<=0)throw new B(An.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class Vf{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new B(An.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B(An.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Zi("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,l,d){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=l,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(An.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B(An.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vf(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Me;switch(n.type){case"gapi":return new Hi(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(An.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=xr.get(e);n&&(di("ComponentProvider","Removing Datastore"),xr.delete(e),n.terminate())}(this),Promise.resolve()}}function Ru(s,e,n,l={}){var d;const b=(s=$r(s,_d))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==e&&dl("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},b),{host:`${e}:${n}`,ssl:!1})),l.mockUserToken){let A,G;if("string"==typeof l.mockUserToken)A=l.mockUserToken,G=go.MOCK_USER;else{A=(0,ze.Sg)(l.mockUserToken,null===(d=s._app)||void 0===d?void 0:d.options.projectId);const se=l.mockUserToken.sub||l.mockUserToken.user_id;if(!se)throw new B(An.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new go(se)}s._authCredentials=new Dt(new X(A,G))}}class ro{constructor(e,n,l){this.converter=n,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}}class Ua{constructor(e,n,l){this.converter=n,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class du extends Ua{constructor(e,n,l){super(e,n,Ac(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new ki(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function ng(s,e,...n){if(s=(0,ze.m9)(s),Vn("collection","path",e),s instanceof _d){const l=Ar.fromString(e,...n);return ys(l),new du(s,null,l)}{if(!(s instanceof ro||s instanceof du))throw new B(An.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(Ar.fromString(e,...n));return ys(l),new du(s.firestore,null,l)}}function ig(s,e){if(s=$r(s,_d),Vn("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new B(An.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ua(s,null,(n=e,new eu(Ar.emptyPath(),n)));var n}function Lh(s,e,...n){if(s=(0,ze.m9)(s),1===arguments.length&&(e=Er.R()),Vn("doc","path",e),s instanceof _d){const l=Ar.fromString(e,...n);return ji(l),new ro(s,null,new ki(l))}{if(!(s instanceof ro||s instanceof du))throw new B(An.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(Ar.fromString(e,...n));return ji(l),new ro(s.firestore,s instanceof du?s.converter:null,new ki(l))}}function Hf(s,e){return s=(0,ze.m9)(s),e=(0,ze.m9)(e),(s instanceof ro||s instanceof du)&&(e instanceof ro||e instanceof du)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function $h(s,e){return s=(0,ze.m9)(s),e=(0,ze.m9)(e),s instanceof Ua&&e instanceof Ua&&s.firestore===e.firestore&&zo(s._query,e._query)&&s.converter===e.converter}class Ep{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new op(this,"async_queue_retry"),this.Hc=()=>{const n=sp();n&&di("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=sp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=sp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new ce;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,t.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(n){if(!fl(n))throw n;di("AsyncQueue","Operation failed with retryable error: "+n)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(l=>{throw this.Qc=l,this.jc=!1,no("INTERNAL UNHANDLED ERROR: ",function(b){let A=b.message||"";return b.stack&&(A=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),A}(l)),l}).then(l=>(this.jc=!1,l))));return this.qc=n,n}enqueueAfterDelay(e,n,l){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const d=Wp.createAndSchedule(this,e,n,l,b=>this.Xc(b));return this.Gc.push(d),d}Jc(){this.Qc&&Qi()}verifyOperationInProgress(){}ta(){var e=this;return(0,t.Z)(function*(){let n;do{n=e.qc,yield n}while(n!==e.qc)})()}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,l)=>n.targetTimeMs-l.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function Bh(s){return function(e,n){if("object"!=typeof e||null===e)return!1;const l=e;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(s)}class Uh{constructor(){this._progressObserver={},this._taskCompletionResolver=new ce,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,l){this._progressObserver={next:e,error:n,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Vh=-1;class la extends _d{constructor(e,n,l,d){super(e,n,l,d),this.type="firestore",this._queue=new Ep,this._persistenceKey=(null==d?void 0:d.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zg(this),this._firestoreClient.terminate()}}function xm(s,e){const n="object"==typeof s?s:(0,Z.getApp)(),l="string"==typeof s?s:e||"(default)",d=(0,Z._getProvider)(n,"firestore").getImmediate({identifier:l});if(!d._initialized){const b=(0,ze.P0)("firestore");b&&Ru(d,...b)}return d}function Bo(s){return s._firestoreClient||zg(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function zg(s){var e;const n=s._freezeSettings(),l=(b=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new kc(s._databaseId,b,s._persistenceKey,(G=n).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,G.useFetchStreams));var b,G;s._firestoreClient=new le(s._authCredentials,s._appCheckCredentials,s._queue,l)}function rv(s,e){h_(s=$r(s,la));const n=Bo(s),l=s._freezeSettings(),d=new o;return sv(n,d,new oh(d,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Om(s){h_(s=$r(s,la));const e=Bo(s),n=s._freezeSettings(),l=new o;return sv(e,l,new Ou(l,n.cacheSizeBytes))}function sv(s,e,n){const l=new ce;return s.asyncQueue.enqueue((0,t.Z)(function*(){try{yield Te(s,n),yield Ce(s,e),l.resolve()}catch(d){const b=d;if(!("FirebaseError"===(A=b).name?A.code===An.FAILED_PRECONDITION||A.code===An.UNIMPLEMENTED:!(typeof DOMException<"u"&&A instanceof DOMException)||22===A.code||20===A.code||11===A.code))throw b;dl("Error enabling offline persistence. Falling back to persistence disabled: "+b),l.reject(b)}var A})).then(()=>l.promise)}function cy(s){if(s._initialized&&!s._terminated)throw new B(An.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ce;return s._queue.enqueueAndForgetEvenWhileRestricted((0,t.Z)(function*(){try{yield(n=(0,t.Z)(function*(l){if(!rl.C())return Promise.resolve();const d=l+"main";yield rl.delete(d)}),function(l){return n.apply(this,arguments)})(Op(s._databaseId,s._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function ov(s){return function(e){const n=new ce;return e.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function l_(s,e){return $g.apply(this,arguments)}(yield nn(e),n)})),n.promise}(Bo(s=$r(s,la)))}function av(s){return function hi(s){return s.asyncQueue.enqueue((0,t.Z)(function*(){const e=yield tt(s),n=yield an(s);return e.setNetworkEnabled(!0),function(l){const d=Fi(l);return d.mu.delete(0),ed(d)}(n)}))}(Bo(s=$r(s,la)))}function u_(s){return function fi(s){return s.asyncQueue.enqueue((0,t.Z)(function*(){const e=yield tt(s),n=yield an(s);return e.setNetworkEnabled(!1),(l=(0,t.Z)(function*(d){const b=Fi(d);b.mu.add(0),yield Ah(b),b.pu.set("Offline")}),function(d){return l.apply(this,arguments)})(n);var l}))}(Bo(s=$r(s,la)))}function $l(s,e){const n=Bo(s=$r(s,la)),l=new Uh;return function Yn(s,e,n,l){const d=function(b,A){let G;return G="string"==typeof b?(new TextEncoder).encode(b):b,se=function(se,pe){if(se instanceof Uint8Array)return p(se,void 0);if(se instanceof ArrayBuffer)return p(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(G),new I(se,A);var se}(n,Tf(e));s.asyncQueue.enqueueAndForget((0,t.Z)(function*(){!function Uf(s,e,n){const l=Fi(s);var d;(d=(0,t.Z)(function*(b,A,G){try{const se=yield A.getMetadata();if(yield function(Cn,ni){const pi=Fi(Cn),lr=Oo(ni.createTime);return pi.persistence.runTransaction("hasNewerBundle","readonly",wr=>pi.Os.getBundleMetadata(wr,ni.id)).then(wr=>!!wr&&wr.createTime.compareTo(lr)>=0)}(b.localStore,se))return yield A.close(),G._completeWith({taskState:"Success",documentsLoaded:(Cn=se).totalDocuments,bytesLoaded:Cn.totalBytes,totalDocuments:Cn.totalDocuments,totalBytes:Cn.totalBytes}),Promise.resolve(new Set);G._updateProgress(Zp(se));const pe=new ev(se,b.localStore,A.Tt);let Ke=yield A.yc();for(;Ke;){const Cn=yield pe.Bu(Ke);Cn&&G._updateProgress(Cn),Ke=yield A.yc()}const Zt=yield pe.complete();return yield pd(b,Zt.Uu,void 0),yield function(Cn,ni){const pi=Fi(Cn);return pi.persistence.runTransaction("Save bundle","readwrite",lr=>pi.Os.saveBundleMetadata(lr,ni))}(b.localStore,se),G._completeWith(Zt.progress),Promise.resolve(Zt.qu)}catch(se){return dl("SyncEngine",`Loading bundle failed with ${se}`),G._failWith(se),Promise.resolve(new Set)}var Cn}),function(b,A,G){return d.apply(this,arguments)})(l,e,n).then(d=>{l.sharedClientState.notifyBundleLoaded(d)})}(yield nn(s),d,l)}))}(n,s._databaseId,e,l),l}function d_(s,e){return function fr(s,e){return s.asyncQueue.enqueue((0,t.Z)(function*(){return function(n,l){const d=Fi(n);return d.persistence.runTransaction("Get named query","readonly",b=>d.Os.getNamedQuery(b,l))}(yield ht(s),e)}))}(Bo(s=$r(s,la)),e).then(n=>n?new Ua(s,null,n.query):null)}function h_(s){if(s._initialized||s._terminated)throw new B(An.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hh(Fo.fromBase64String(e))}catch(n){throw new B(An.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hh(Fo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ah{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new B(An.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new os(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nd{constructor(e){this._methodName=e}}class Wg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(An.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(An.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ui(this._lat,e._lat)||Ui(this._long,e._long)}}const cv=/^__.*__$/;class p_{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,n,this.fieldTransforms):new kl(e,this.data,n,this.fieldTransforms)}}class g_{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return new La(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Rm(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qi()}}class Nm{constructor(e,n,l,d,b,A){this.settings=e,this.databaseId=n,this.Tt=l,this.ignoreUndefinedProperties=d,void 0===b&&this.ia(),this.fieldTransforms=b||[],this.fieldMask=A||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const l=null===(n=this.path)||void 0===n?void 0:n.child(e),d=this.oa({path:l,ca:!1});return d.aa(e),d}ha(e){var n;const l=null===(n=this.path)||void 0===n?void 0:n.child(e),d=this.oa({path:l,ca:!1});return d.ia(),d}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return ag(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(Rm(this.ra)&&cv.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class Pm{constructor(e,n,l){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=l||Tf(e)}wa(e,n,l,d=!1){return new Nm({ra:e,methodName:n,_a:l,path:os.emptyPath(),ca:!1,da:d},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function lh(s){const e=s._freezeSettings(),n=Tf(s._databaseId);return new Pm(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Nu(s,e,n,l,d,b={}){const A=s.wa(b.merge||b.mergeFields?2:0,e,n,d);Gf("Data must be an object, but it was:",A,l);const G=v_(l,A);let se,pe;if(b.merge)se=new ra(A.fieldMask),pe=A.fieldTransforms;else if(b.mergeFields){const Ke=[];for(const Zt of b.mergeFields){const Cn=og(e,Zt,n);if(!A.contains(Cn))throw new B(An.INVALID_ARGUMENT,`Field '${Cn}' is specified in your field mask but missing from your input data.`);Lm(Ke,Cn)||Ke.push(Cn)}se=new ra(Ke),pe=A.fieldTransforms.filter(Zt=>se.covers(Zt.field))}else se=null,pe=A.fieldTransforms;return new p_(new Ao(G),se,pe)}class sg extends nd{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sg}}function km(s,e,n){return new Nm({ra:3,_a:e.settings._a,methodName:s._methodName,ca:n},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class id extends nd{_toFieldTransform(e){return new H(e.path,new _l)}isEqual(e){return e instanceof id}}class vd extends nd{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=km(this,e,!0),l=this.ma.map(b=>jf(b,n)),d=new vl(l);return new H(e.path,d)}isEqual(e){return this===e}}class yd extends nd{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=km(this,e,!0),l=this.ma.map(b=>jf(b,n)),d=new Mo(l);return new H(e.path,d)}isEqual(e){return this===e}}class m_ extends nd{constructor(e,n){super(e),this.ga=n}_toFieldTransform(e){const n=new F(e.Tt,es(e.Tt,this.ga));return new H(e.path,n)}isEqual(e){return this===e}}function Yg(s,e,n,l){const d=s.wa(1,e,n);Gf("Data must be an object, but it was:",d,l);const b=[],A=Ao.empty();Pa(l,(se,pe)=>{const Ke=qg(e,se,n);pe=(0,ze.m9)(pe);const Zt=d.ha(Ke);if(pe instanceof sg)b.push(Ke);else{const Cn=jf(pe,Zt);null!=Cn&&(b.push(Ke),A.set(Ke,Cn))}});const G=new ra(b);return new g_(A,G,d.fieldTransforms)}function Fm(s,e,n,l,d,b){const A=s.wa(1,e,n),G=[og(e,l,n)],se=[d];if(b.length%2!=0)throw new B(An.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Cn=0;Cn<b.length;Cn+=2)G.push(og(e,b[Cn])),se.push(b[Cn+1]);const pe=[],Ke=Ao.empty();for(let Cn=G.length-1;Cn>=0;--Cn)if(!Lm(pe,G[Cn])){const ni=G[Cn];let pi=se[Cn];pi=(0,ze.m9)(pi);const lr=A.ha(ni);if(pi instanceof sg)pe.push(ni);else{const wr=jf(pi,lr);null!=wr&&(pe.push(ni),Ke.set(ni,wr))}}const Zt=new ra(pe);return new g_(Ke,Zt,A.fieldTransforms)}function __(s,e,n,l=!1){return jf(n,s.wa(l?4:3,e))}function jf(s,e){if(Kg(s=(0,ze.m9)(s)))return Gf("Unsupported field value:",e,s),v_(s,e);if(s instanceof nd)return function(n,l){if(!Rm(l.ra))throw l.fa(`${n._methodName}() can only be used with update() and set()`);if(!l.path)throw l.fa(`${n._methodName}() is not currently supported inside arrays`);const d=n._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(n,l){const d=[];let b=0;for(const A of n){let G=jf(A,l.la(b));null==G&&(G={nullValue:"NULL_VALUE"}),d.push(G),b++}return{arrayValue:{values:d}}}(s,e)}return function(n,l){if(null===(n=(0,ze.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return es(l.Tt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const d=Lr.fromDate(n);return{timestampValue:Eu(l.Tt,d)}}if(n instanceof Lr){const d=new Lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Eu(l.Tt,d)}}if(n instanceof Wg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hh)return{bytesValue:uh(l.Tt,n._byteString)};if(n instanceof ro){const d=l.databaseId,b=n.firestore._databaseId;if(!b.isEqual(d))throw l.fa(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Id(n.firestore._databaseId||l.databaseId,n._key.path)}}throw l.fa(`Unsupported field value: ${Os(n)}`)}(s,e)}function v_(s,e){const n={};return pl(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(s,(l,d)=>{const b=jf(d,e.ua(l));null!=b&&(n[l]=b)}),{mapValue:{fields:n}}}function Kg(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Lr||s instanceof Wg||s instanceof Hh||s instanceof ro||s instanceof nd)}function Gf(s,e,n){if(!Kg(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Os(n);throw e.fa("an object"===l?s+" a custom object":s+" "+l)}var l}function og(s,e,n){if((e=(0,ze.m9)(e))instanceof ah)return e._internalPath;if("string"==typeof e)return qg(s,e);throw ag("Field path arguments must be of type string or ",s,!1,void 0,n)}const y_=new RegExp("[~\\*/\\[\\]]");function qg(s,e,n){if(e.search(y_)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ah(...e.split("."))._internalPath}catch(l){throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function ag(s,e,n,l,d){const b=l&&!l.isEmpty(),A=void 0!==d;let G=`Function ${e}() called with invalid data`;n&&(G+=" (via `toFirestore()`)"),G+=". ";let se="";return(b||A)&&(se+=" (found",b&&(se+=` in field ${l}`),A&&(se+=` in document ${d}`),se+=")"),new B(An.INVALID_ARGUMENT,G+s+se)}function Lm(s,e){return s.some(n=>n.isEqual(e))}class jh{constructor(e,n,l,d,b){this._firestore=e,this._userDataWriter=n,this._key=l,this._document=d,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class uv extends jh{data(){return super.data()}}function lg(s,e){return"string"==typeof e?qg(s,e):e instanceof ah?e._internalPath:e._delegate._internalPath}function $m(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new B(An.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class Gh extends cg{}function Bm(s,e,...n){let l=[];e instanceof cg&&l.push(e),l=l.concat(n),function(d){const b=d.filter(G=>G instanceof zf).length,A=d.filter(G=>G instanceof Cp).length;if(b>1||b>0&&A>0)throw new B(An.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const d of l)s=d._apply(s);return s}class Cp extends Gh{constructor(e,n,l){super(),this._field=e,this._op=n,this._value=l,this.type="where"}static _create(e,n,l){return new Cp(e,n,l)}_apply(e){const n=this._parse(e);return S_(e._query,n),new Ua(e.firestore,e.converter,Uc(e._query,n))}_parse(e){const n=lh(e.firestore);return function(d,b,A,G,se,pe,Ke){let Zt;if(se.isKeyField()){if("array-contains"===pe||"array-contains-any"===pe)throw new B(An.INVALID_ARGUMENT,`Invalid Query. You can't perform '${pe}' queries on documentId().`);if("in"===pe||"not-in"===pe){D_(Ke,pe);const Cn=[];for(const ni of Ke)Cn.push(I_(G,d,ni));Zt={arrayValue:{values:Cn}}}else Zt=I_(G,d,Ke)}else"in"!==pe&&"not-in"!==pe&&"array-contains-any"!==pe||D_(Ke,pe),Zt=__(A,"where",Ke,"in"===pe||"not-in"===pe);return mr.create(se,pe,Zt)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function b_(s,e,n){const l=e,d=lg("where",s);return Cp._create(d,l,n)}class zf extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zf(e,n)}_parse(e){const n=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===n.length?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,d){let b=l;const A=d.getFlattenedFilters();for(const G of A)S_(b,G),b=Uc(b,G)}(e._query,n),new Ua(e.firestore,e.converter,Uc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Zg extends Gh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zg(e,n)}_apply(e){const n=function(l,d,b){if(null!==l.startAt)throw new B(An.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new B(An.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const A=new $c(d,b);return function(G,se){if(null===Bc(G)){const pe=tu(G);null!==pe&&A_(0,pe,se.field)}}(l,A),A}(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,function(l,d){const b=l.explicitOrderBy.concat([d]);return new eu(l.path,l.collectionGroup,b,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function E_(s,e="asc"){const n=e,l=lg("orderBy",s);return Zg._create(l,n)}class Xg extends Gh{constructor(e,n,l){super(),this.type=e,this._limit=n,this._limitType=l}static _create(e,n,l){return new Xg(e,n,l)}_apply(e){return new Ua(e.firestore,e.converter,vu(e._query,this._limit,this._limitType))}}function C_(s){return md("limit",s),Xg._create("limit",s,"F")}function w_(s){return md("limitToLast",s),Xg._create("limitToLast",s,"L")}class Jg extends Gh{constructor(e,n,l){super(),this.type=e,this._docOrFields=n,this._inclusive=l}static _create(e,n,l){return new Jg(e,n,l)}_apply(e){const n=T_(e,this.type,this._docOrFields,this._inclusive);return new Ua(e.firestore,e.converter,(d=n,new eu((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}function fv(...s){return Jg._create("startAt",s,!0)}function pv(...s){return Jg._create("startAfter",s,!1)}class Qg extends Gh{constructor(e,n,l){super(),this.type=e,this._docOrFields=n,this._inclusive=l}static _create(e,n,l){return new Qg(e,n,l)}_apply(e){const n=T_(e,this.type,this._docOrFields,this._inclusive);return new Ua(e.firestore,e.converter,(d=n,new eu((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function gv(...s){return Qg._create("endBefore",s,!1)}function mv(...s){return Qg._create("endAt",s,!0)}function T_(s,e,n,l){if(n[0]=(0,ze.m9)(n[0]),n[0]instanceof jh)return function(d,b,A,G,se){if(!G)throw new B(An.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const pe=[];for(const Ke of mc(d))if(Ke.field.isKeyField())pe.push(R(b,G.key));else{const Zt=G.data.field(Ke.field);if(Ol(Zt))throw new B(An.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ke.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Zt){const Cn=Ke.field.canonicalString();throw new B(An.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Cn}' (used as the orderBy) does not exist.`)}pe.push(Zt)}return new Gr(pe,se)}(s._query,s.firestore._databaseId,e,n[0]._document,l);{const d=lh(s.firestore);return function(b,A,G,se,pe,Ke){const Zt=b.explicitOrderBy;if(pe.length>Zt.length)throw new B(An.INVALID_ARGUMENT,`Too many arguments provided to ${se}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Cn=[];for(let ni=0;ni<pe.length;ni++){const pi=pe[ni];if(Zt[ni].field.isKeyField()){if("string"!=typeof pi)throw new B(An.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${se}(), but got a ${typeof pi}`);if(!nu(b)&&-1!==pi.indexOf("/"))throw new B(An.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${se}() must be a plain document ID, but '${pi}' contains a slash.`);const lr=b.path.child(Ar.fromString(pi));if(!ki.isDocumentKey(lr))throw new B(An.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${se}() must result in a valid document path, but '${lr}' is not because it contains an odd number of segments.`);const wr=new ki(lr);Cn.push(R(A,wr))}else{const lr=__(G,se,pi);Cn.push(lr)}}return new Gr(Cn,Ke)}(s._query,s.firestore._databaseId,d,e,n,l)}}function I_(s,e,n){if("string"==typeof(n=(0,ze.m9)(n))){if(""===n)throw new B(An.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nu(e)&&-1!==n.indexOf("/"))throw new B(An.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const l=e.path.child(Ar.fromString(n));if(!ki.isDocumentKey(l))throw new B(An.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return R(s,new ki(l))}if(n instanceof ro)return R(s,n._key);throw new B(An.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Os(n)}.`)}function D_(s,e){if(!Array.isArray(s)||0===s.length)throw new B(An.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S_(s,e){if(e.isInequality()){const l=tu(s),d=e.field;if(null!==l&&!l.isEqual(d))throw new B(An.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${d.toString()}'`);const b=Bc(s);null!==b&&A_(0,d,b)}const n=function(l,d){for(const b of l)for(const A of b.getFlattenedFilters())if(d.indexOf(A.op)>=0)return A.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new B(An.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function A_(s,e,n){if(!n.isEqual(e))throw new B(An.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Um{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Qi()}}convertObject(e,n){const l={};return Pa(e.fields,(d,b)=>{l[d]=this.convertValue(b,n)}),l}convertGeoPoint(e){return new Wg(Cs(e.latitude),Cs(e.longitude))}convertArray(e,n){return(e.values||[]).map(l=>this.convertValue(l,n))}convertServerTimestamp(e,n){switch(n){case"previous":const l=pu(e);return null==l?null:this.convertValue(l,n);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Lr(n.seconds,n.nanos)}convertDocumentKey(e,n){const l=Ar.fromString(e);tr(_h(l));const d=new Na(l.get(1),l.get(3)),b=new ki(l.popFirst(5));return d.isEqual(n)||no(`Document ${b} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),b}}function em(s,e,n){let l;return l=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,l}class _v extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,n)}}class zh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wh extends jh{constructor(e,n,l,d,b,A){super(e,n,l,d,A),this._firestore=e,this._firestoreImpl=e,this.metadata=b}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const l=this._document.data.field(lg("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,n.serverTimestamps)}}}class wp extends Wh{data(e={}){return super.data(e)}}class Yh{constructor(e,n,l,d){this._firestore=e,this._userDataWriter=n,this._snapshot=d,this.metadata=new zh(d.hasPendingWrites,d.fromCache),this.query=l}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(l=>{e.call(n,new wp(this._firestore,this._userDataWriter,l.key,l,new zh(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(An.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let b=0;return l._snapshot.docChanges.map(A=>({type:"added",doc:new wp(l._firestore,l._userDataWriter,A.doc.key,A.doc,new zh(l._snapshot.mutatedKeys.has(A.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:b++}))}{let b=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(A=>d||3!==A.type).map(A=>{const G=new wp(l._firestore,l._userDataWriter,A.doc.key,A.doc,new zh(l._snapshot.mutatedKeys.has(A.doc.key),l._snapshot.fromCache),l.query.converter);let se=-1,pe=-1;return 0!==A.type&&(se=b.indexOf(A.doc.key),b=b.delete(A.doc.key)),1!==A.type&&(b=b.add(A.doc),pe=b.indexOf(A.doc.key)),{type:Vm(A.type),doc:G,oldIndex:se,newIndex:pe}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Vm(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qi()}}function O_(s,e){return s instanceof Wh&&e instanceof Wh?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Yh&&e instanceof Yh&&s._firestore===e._firestore&&$h(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function Wf(s){s=$r(s,ro);const e=$r(s.firestore,la);return er(Bo(e),s._key).then(n=>qh(e,s,n))}class Kh extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,n)}}function Cv(s){s=$r(s,ro);const e=$r(s.firestore,la),n=Bo(e),l=new Kh(e);return function Li(s,e){const n=new ce;return s.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return(l=(0,t.Z)(function*(d,b,A){try{const G=yield function(se,pe){const Ke=Fi(se);return Ke.persistence.runTransaction("read document","readonly",Zt=>Ke.localDocuments.getDocument(Zt,pe))}(d,b);G.isFoundDocument()?A.resolve(G):G.isNoDocument()?A.resolve(null):A.reject(new B(An.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(G){const se=Nh(G,`Failed to get document '${b} from cache`);A.reject(se)}}),function(d,b,A){return l.apply(this,arguments)})(yield ht(s),e,n);var l})),n.promise}(n,s._key).then(d=>new Wh(e,l,s._key,d,new zh(null!==d&&d.hasLocalMutations,!0),s.converter))}function Tp(s){s=$r(s,ro);const e=$r(s.firestore,la);return er(Bo(e),s._key,{source:"server"}).then(n=>qh(e,s,n))}function dy(s){s=$r(s,Ua);const e=$r(s.firestore,la),n=Bo(e),l=new Kh(e);return $m(s._query),$n(n,s._query).then(d=>new Yh(e,l,s,d))}function Hm(s){s=$r(s,Ua);const e=$r(s.firestore,la),n=Bo(e),l=new Kh(e);return function Di(s,e){const n=new ce;return s.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return(l=(0,t.Z)(function*(d,b,A){try{const G=yield No(d,b,!0),se=new Rg(b,G.Yi),pe=se.Hu(G.documents),Ke=se.applyChanges(pe,!1);A.resolve(Ke.snapshot)}catch(G){const se=Nh(G,`Failed to execute query '${b} against cache`);A.reject(se)}}),function(d,b,A){return l.apply(this,arguments)})(yield ht(s),e,n);var l})),n.promise}(n,s._query).then(d=>new Yh(e,l,s,d))}function hy(s){s=$r(s,Ua);const e=$r(s.firestore,la),n=Bo(e),l=new Kh(e);return $n(n,s._query,{source:"server"}).then(d=>new Yh(e,l,s,d))}function R_(s,e,n){s=$r(s,ro);const l=$r(s.firestore,la),d=em(s.converter,e,n);return Ip(l,[Nu(lh(l),"setDoc",s._key,d,null!==s.converter,n).toMutation(s._key,gn.none())])}function N_(s,e,n,...l){s=$r(s,ro);const d=$r(s.firestore,la),b=lh(d);let A;return A="string"==typeof(e=(0,ze.m9)(e))||e instanceof ah?Fm(b,"updateDoc",s._key,e,n,l):Yg(b,"updateDoc",s._key,e),Ip(d,[A.toMutation(s._key,gn.exists(!0))])}function fy(s){return Ip($r(s.firestore,la),[new El(s._key,gn.none())])}function Br(s,e){const n=$r(s.firestore,la),l=Lh(s),d=em(s.converter,e);return Ip(n,[Nu(lh(s.firestore),"addDoc",l._key,d,null!==s.converter,{}).toMutation(l._key,gn.exists(!1))]).then(()=>l)}function wv(s,...e){var n,l,d;s=(0,ze.m9)(s);let b={includeMetadataChanges:!1},A=0;"object"!=typeof e[A]||Bh(e[A])||(b=e[A],A++);const G={includeMetadataChanges:b.includeMetadataChanges};if(Bh(e[A])){const Zt=e[A];e[A]=null===(n=Zt.next)||void 0===n?void 0:n.bind(Zt),e[A+1]=null===(l=Zt.error)||void 0===l?void 0:l.bind(Zt),e[A+2]=null===(d=Zt.complete)||void 0===d?void 0:d.bind(Zt)}let se,pe,Ke;if(s instanceof ro)pe=$r(s.firestore,la),Ke=Ac(s._key.path),se={next:Zt=>{e[A]&&e[A](qh(pe,s,Zt))},error:e[A+1],complete:e[A+2]};else{const Zt=$r(s,Ua);pe=$r(Zt.firestore,la),Ke=Zt._query;const Cn=new Kh(pe);se={next:ni=>{e[A]&&e[A](new Yh(pe,Cn,Zt,ni))},error:e[A+1],complete:e[A+2]},$m(s._query)}return function(Zt,Cn,ni,pi){const lr=new v(pi),wr=new Pf(Cn,lr,ni);return Zt.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return pp(yield Zn(Zt),wr)})),()=>{lr.Pc(),Zt.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return gp(yield Zn(Zt),wr)}))}}(Bo(pe),Ke,G,se)}function Tv(s,e){return function bn(s,e){const n=new v(e);return s.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return l=yield Zn(s),d=n,Fi(l).vu.add(d),void d.next();var l,d})),()=>{n.Pc(),s.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return l=yield Zn(s),d=n,void Fi(l).vu.delete(d);var l,d}))}}(Bo(s=$r(s,la)),Bh(e)?e:{next:e})}function Ip(s,e){return function(n,l){const d=new ce;return n.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function Im(s,e,n){return Pg.apply(this,arguments)}(yield nn(n),l,d)})),d.promise}(Bo(s),e)}function qh(s,e,n){const l=n.docs.get(e._key),d=new Kh(s);return new Wh(s,d,e._key,l,new zh(n.hasPendingWrites,n.fromCache),e.converter)}const nm={maxAttempts:5};class Va{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lh(e)}set(e,n,l){this._verifyNotCommitted();const d=Yf(e,this._firestore),b=em(d.converter,n,l),A=Nu(this._dataReader,"WriteBatch.set",d._key,b,null!==d.converter,l);return this._mutations.push(A.toMutation(d._key,gn.none())),this}update(e,n,l,...d){this._verifyNotCommitted();const b=Yf(e,this._firestore);let A;return A="string"==typeof(n=(0,ze.m9)(n))||n instanceof ah?Fm(this._dataReader,"WriteBatch.update",b._key,n,l,d):Yg(this._dataReader,"WriteBatch.update",b._key,n),this._mutations.push(A.toMutation(b._key,gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Yf(e,this._firestore);return this._mutations=this._mutations.concat(new El(n._key,gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(An.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yf(s,e){if((s=(0,ze.m9)(s)).firestore!==e)throw new B(An.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class P_ extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=lh(e)}get(e){const n=Yf(e,this._firestore),l=new _v(this._firestore);return this._transaction.lookup([n._key]).then(d=>{if(!d||1!==d.length)return Qi();const b=d[0];if(b.isFoundDocument())return new jh(this._firestore,l,b.key,b,n.converter);if(b.isNoDocument())return new jh(this._firestore,l,n._key,null,n.converter);throw Qi()})}set(e,n,l){const d=Yf(e,this._firestore),b=em(d.converter,n,l),A=Nu(this._dataReader,"Transaction.set",d._key,b,null!==d.converter,l);return this._transaction.set(d._key,A),this}update(e,n,l,...d){const b=Yf(e,this._firestore);let A;return A="string"==typeof(n=(0,ze.m9)(n))||n instanceof ah?Fm(this._dataReader,"Transaction.update",b._key,n,l,d):Yg(this._dataReader,"Transaction.update",b._key,n),this._transaction.update(b._key,A),this}delete(e){const n=Yf(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Yf(e,this._firestore),l=new Kh(this._firestore);return super.get(e).then(d=>new Wh(this._firestore,l,n._key,d._document,new zh(!1,!1),n.converter))}}function k_(s,e,n){s=$r(s,la);const l=Object.assign(Object.assign({},nm),n);return function(d){if(d.maxAttempts<1)throw new B(An.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(d,b,A){const G=new ce;return d.asyncQueue.enqueueAndForget((0,t.Z)(function*(){const se=yield function un(s){return Ct(s).then(e=>e.datastore)}(d);new z(d.asyncQueue,se,A,b,G).run()})),G.promise}(Bo(s),d=>e(new P_(s,d)),l)}function Iv(){return new sg("deleteField")}function F_(){return new id("serverTimestamp")}function L_(...s){return new vd("arrayUnion",s)}function $_(...s){return new yd("arrayRemove",s)}function B_(s){return new m_("increment",s)}!function(s,e=!0){Sa=Z.SDK_VERSION,(0,Z._registerComponent)(new ie.wA("firestore",(n,{instanceIdentifier:l,options:d})=>{const b=n.getProvider("app").getImmediate(),A=new la(new Nn(n.getProvider("auth-internal")),new Fr(n.getProvider("app-check-internal")),function(G,se){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new B(An.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(G.options.projectId,se)}(b,l),b);return d=Object.assign({useFetchStreams:e},d),A._setSettings(d),A},"PUBLIC").setMultipleInstances(!0)),(0,Z.registerVersion)(za,"3.8.4",s),(0,Z.registerVersion)(za,"3.8.4","esm2017")}()},2090:(ei,Jt,U)=>{"use strict";U.d(Jt,{$s:()=>Un,BH:()=>Ut,DV:()=>Kt,Dv:()=>Ci,G6:()=>lt,GJ:()=>bi,L:()=>vt,LL:()=>Bt,P0:()=>at,Pz:()=>dt,Sg:()=>ut,UG:()=>St,UI:()=>ke,US:()=>ct,Wj:()=>Wt,Wl:()=>Tn,Yr:()=>Vt,ZB:()=>Ue,ZR:()=>Qt,aH:()=>Ve,b$:()=>Pt,cI:()=>cn,dS:()=>Rn,eu:()=>rt,g5:()=>ie,gK:()=>dn,gQ:()=>$i,h$:()=>Fe,hl:()=>Je,hu:()=>Z,jU:()=>Nt,lb:()=>pn,m9:()=>rr,ne:()=>Xn,p$:()=>xe,pd:()=>gi,q4:()=>yt,r3:()=>Mi,ru:()=>At,tV:()=>Pe,uI:()=>nt,ug:()=>Dn,vZ:()=>Be,w1:()=>Et,w9:()=>ai,xO:()=>qn,xb:()=>Ye,z$:()=>Ie,zI:()=>Yt,zd:()=>ii});const t={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Z=function(wt,ye){if(!wt)throw ie(ye)},ie=function(wt){return new Error("Firebase Database ("+t.SDK_VERSION+") INTERNAL ASSERT FAILED: "+wt)},oe=function(wt){const ye=[];let he=0;for(let _e=0;_e<wt.length;_e++){let ge=wt.charCodeAt(_e);ge<128?ye[he++]=ge:ge<2048?(ye[he++]=ge>>6|192,ye[he++]=63&ge|128):55296==(64512&ge)&&_e+1<wt.length&&56320==(64512&wt.charCodeAt(_e+1))?(ge=65536+((1023&ge)<<10)+(1023&wt.charCodeAt(++_e)),ye[he++]=ge>>18|240,ye[he++]=ge>>12&63|128,ye[he++]=ge>>6&63|128,ye[he++]=63&ge|128):(ye[he++]=ge>>12|224,ye[he++]=ge>>6&63|128,ye[he++]=63&ge|128)}return ye},ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(wt,ye){if(!Array.isArray(wt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const he=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ge=0;ge<wt.length;ge+=3){const It=wt[ge],rn=ge+1<wt.length,xn=rn?wt[ge+1]:0,jn=ge+2<wt.length,_i=jn?wt[ge+2]:0;let et=(15&xn)<<2|_i>>6,ft=63&_i;jn||(ft=64,rn||(et=64)),_e.push(he[It>>2],he[(3&It)<<4|xn>>4],he[et],he[ft])}return _e.join("")},encodeString(wt,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(wt):this.encodeByteArray(oe(wt),ye)},decodeString(wt,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(wt):function(wt){const ye=[];let he=0,_e=0;for(;he<wt.length;){const ge=wt[he++];if(ge<128)ye[_e++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const It=wt[he++];ye[_e++]=String.fromCharCode((31&ge)<<6|63&It)}else if(ge>239&&ge<365){const jn=((7&ge)<<18|(63&wt[he++])<<12|(63&wt[he++])<<6|63&wt[he++])-65536;ye[_e++]=String.fromCharCode(55296+(jn>>10)),ye[_e++]=String.fromCharCode(56320+(1023&jn))}else{const It=wt[he++],rn=wt[he++];ye[_e++]=String.fromCharCode((15&ge)<<12|(63&It)<<6|63&rn)}}return ye.join("")}(this.decodeStringToByteArray(wt,ye))},decodeStringToByteArray(wt,ye){this.init_();const he=ye?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ge=0;ge<wt.length;){const It=he[wt.charAt(ge++)],xn=ge<wt.length?he[wt.charAt(ge)]:0;++ge;const _i=ge<wt.length?he[wt.charAt(ge)]:64;++ge;const mt=ge<wt.length?he[wt.charAt(ge)]:64;if(++ge,null==It||null==xn||null==_i||null==mt)throw new $e;_e.push(It<<2|xn>>4),64!==_i&&(_e.push(xn<<4&240|_i>>2),64!==mt&&_e.push(_i<<6&192|mt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let wt=0;wt<this.ENCODED_VALS.length;wt++)this.byteToCharMap_[wt]=this.ENCODED_VALS.charAt(wt),this.charToByteMap_[this.byteToCharMap_[wt]]=wt,this.byteToCharMapWebSafe_[wt]=this.ENCODED_VALS_WEBSAFE.charAt(wt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[wt]]=wt,wt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(wt)]=wt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(wt)]=wt)}}};class $e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(wt){const ye=oe(wt);return ct.encodeByteArray(ye,!0)},vt=function(wt){return Fe(wt).replace(/\./g,"")},Pe=function(wt){try{return ct.decodeString(wt,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function xe(wt){return Ue(void 0,wt)}function Ue(wt,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===wt&&(wt={});break;case Array:wt=[];break;default:return ye}for(const he in ye)!ye.hasOwnProperty(he)||!je(he)||(wt[he]=Ue(wt[he],ye[he]));return wt}function je(wt){return"__proto__"!==wt}const Ge=()=>{try{return function pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const wt=process.env.__FIREBASE_DEFAULTS__;return wt?JSON.parse(wt):void 0})()||(()=>{if(typeof document>"u")return;let wt;try{wt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(he){return}const ye=wt&&Pe(wt[1]);return ye&&JSON.parse(ye)})()}catch(wt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${wt}`)}},yt=wt=>{var ye,he;return null===(he=null===(ye=Ge())||void 0===ye?void 0:ye.emulatorHosts)||void 0===he?void 0:he[wt]},at=wt=>{const ye=yt(wt);if(!ye)return;const he=ye.lastIndexOf(":");if(he<=0||he+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const _e=parseInt(ye.substring(he+1),10);return"["===ye[0]?[ye.substring(1,he-1),_e]:[ye.substring(0,he),_e]},Ve=()=>{var wt;return null===(wt=Ge())||void 0===wt?void 0:wt.config},dt=wt=>{var ye;return null===(ye=Ge())||void 0===ye?void 0:ye[`_${wt}`]};class Ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,he)=>{this.resolve=ye,this.reject=he})}wrapCallback(ye){return(he,_e)=>{he?this.reject(he):this.resolve(_e),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(he):ye(he,_e))}}}function ut(wt,ye){if(wt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=ye||"demo-project",ge=wt.iat||0,It=wt.sub||wt.user_id;if(!It)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rn=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ge,exp:ge+3600,auth_time:ge,sub:It,user_id:It,firebase:{sign_in_provider:"custom",identities:{}}},wt);return[vt(JSON.stringify({alg:"none",type:"JWT"})),vt(JSON.stringify(rn)),""].join(".")}function Ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function St(){var wt;const ye=null===(wt=Ge())||void 0===wt?void 0:wt.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(he){return!1}}function Nt(){return"object"==typeof self&&self.self===self}function At(){const wt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof wt&&void 0!==wt.id}function Pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){const wt=Ie();return wt.indexOf("MSIE ")>=0||wt.indexOf("Trident/")>=0}function Vt(){return!0===t.NODE_CLIENT||!0===t.NODE_ADMIN}function lt(){return!St()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){try{return"object"==typeof indexedDB}catch(wt){return!1}}function rt(){return new Promise((wt,ye)=>{try{let he=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(_e);ge.onsuccess=()=>{ge.result.close(),he||self.indexedDB.deleteDatabase(_e),wt(!0)},ge.onupgradeneeded=()=>{he=!1},ge.onerror=()=>{var It;ye((null===(It=ge.error)||void 0===It?void 0:It.message)||"")}}catch(he){ye(he)}})}function Yt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Qt extends Error{constructor(ye,he,_e){super(he),this.code=ye,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(ye,he,_e){this.service=ye,this.serviceName=he,this.errors=_e}create(ye,...he){const _e=he[0]||{},ge=`${this.service}/${ye}`,It=this.errors[ye],rn=It?function hn(wt,ye){return wt.replace(qe,(he,_e)=>{const ge=ye[_e];return null!=ge?String(ge):`<${_e}?>`})}(It,_e):"Error";return new Qt(ge,`${this.serviceName}: ${rn} (${ge}).`,_e)}}const qe=/\{\$([^}]+)}/g;function cn(wt){return JSON.parse(wt)}function Tn(wt){return JSON.stringify(wt)}const Hn=function(wt){let ye={},he={},_e={},ge="";try{const It=wt.split(".");ye=cn(Pe(It[0])||""),he=cn(Pe(It[1])||""),ge=It[2],_e=he.d||{},delete he.d}catch(It){}return{header:ye,claims:he,data:_e,signature:ge}},ai=function(wt){const he=Hn(wt).claims;return!!he&&"object"==typeof he&&he.hasOwnProperty("iat")},bi=function(wt){const ye=Hn(wt).claims;return"object"==typeof ye&&!0===ye.admin};function Mi(wt,ye){return Object.prototype.hasOwnProperty.call(wt,ye)}function Kt(wt,ye){if(Object.prototype.hasOwnProperty.call(wt,ye))return wt[ye]}function Ye(wt){for(const ye in wt)if(Object.prototype.hasOwnProperty.call(wt,ye))return!1;return!0}function ke(wt,ye,he){const _e={};for(const ge in wt)Object.prototype.hasOwnProperty.call(wt,ge)&&(_e[ge]=ye.call(he,wt[ge],ge,wt));return _e}function Be(wt,ye){if(wt===ye)return!0;const he=Object.keys(wt),_e=Object.keys(ye);for(const ge of he){if(!_e.includes(ge))return!1;const It=wt[ge],rn=ye[ge];if(Mt(It)&&Mt(rn)){if(!Be(It,rn))return!1}else if(It!==rn)return!1}for(const ge of _e)if(!he.includes(ge))return!1;return!0}function Mt(wt){return null!==wt&&"object"==typeof wt}function qn(wt){const ye=[];for(const[he,_e]of Object.entries(wt))Array.isArray(_e)?_e.forEach(ge=>{ye.push(encodeURIComponent(he)+"="+encodeURIComponent(ge))}):ye.push(encodeURIComponent(he)+"="+encodeURIComponent(_e));return ye.length?"&"+ye.join("&"):""}function ii(wt){const ye={};return wt.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ge,It]=_e.split("=");ye[decodeURIComponent(ge)]=decodeURIComponent(It)}}),ye}function gi(wt){const ye=wt.indexOf("?");if(!ye)return"";const he=wt.indexOf("#",ye);return wt.substring(ye,he>0?he:void 0)}class $i{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ye=1;ye<this.blockSize;++ye)this.pad_[ye]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ye,he){he||(he=0);const _e=this.W_;if("string"==typeof ye)for(let mt=0;mt<16;mt++)_e[mt]=ye.charCodeAt(he)<<24|ye.charCodeAt(he+1)<<16|ye.charCodeAt(he+2)<<8|ye.charCodeAt(he+3),he+=4;else for(let mt=0;mt<16;mt++)_e[mt]=ye[he]<<24|ye[he+1]<<16|ye[he+2]<<8|ye[he+3],he+=4;for(let mt=16;mt<80;mt++){const et=_e[mt-3]^_e[mt-8]^_e[mt-14]^_e[mt-16];_e[mt]=4294967295&(et<<1|et>>>31)}let _i,jt,ge=this.chain_[0],It=this.chain_[1],rn=this.chain_[2],xn=this.chain_[3],jn=this.chain_[4];for(let mt=0;mt<80;mt++){mt<40?mt<20?(_i=xn^It&(rn^xn),jt=1518500249):(_i=It^rn^xn,jt=1859775393):mt<60?(_i=It&rn|xn&(It|rn),jt=2400959708):(_i=It^rn^xn,jt=3395469782);const et=(ge<<5|ge>>>27)+_i+jn+jt+_e[mt]&4294967295;jn=xn,xn=rn,rn=4294967295&(It<<30|It>>>2),It=ge,ge=et}this.chain_[0]=this.chain_[0]+ge&4294967295,this.chain_[1]=this.chain_[1]+It&4294967295,this.chain_[2]=this.chain_[2]+rn&4294967295,this.chain_[3]=this.chain_[3]+xn&4294967295,this.chain_[4]=this.chain_[4]+jn&4294967295}update(ye,he){if(null==ye)return;void 0===he&&(he=ye.length);const _e=he-this.blockSize;let ge=0;const It=this.buf_;let rn=this.inbuf_;for(;ge<he;){if(0===rn)for(;ge<=_e;)this.compress_(ye,ge),ge+=this.blockSize;if("string"==typeof ye){for(;ge<he;)if(It[rn]=ye.charCodeAt(ge),++rn,++ge,rn===this.blockSize){this.compress_(It),rn=0;break}}else for(;ge<he;)if(It[rn]=ye[ge],++rn,++ge,rn===this.blockSize){this.compress_(It),rn=0;break}}this.inbuf_=rn,this.total_+=he}digest(){const ye=[];let he=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ge=this.blockSize-1;ge>=56;ge--)this.buf_[ge]=255&he,he/=256;this.compress_(this.buf_);let _e=0;for(let ge=0;ge<5;ge++)for(let It=24;It>=0;It-=8)ye[_e]=this.chain_[ge]>>It&255,++_e;return ye}}function Xn(wt,ye){const he=new zn(wt,ye);return he.subscribe.bind(he)}class zn{constructor(ye,he){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(()=>{ye(this)}).catch(_e=>{this.error(_e)})}next(ye){this.forEachObserver(he=>{he.next(ye)})}error(ye){this.forEachObserver(he=>{he.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,he,_e){let ge;if(void 0===ye&&void 0===he&&void 0===_e)throw new Error("Missing Observer.");ge=function Pi(wt,ye){if("object"!=typeof wt||null===wt)return!1;for(const he of ye)if(he in wt&&"function"==typeof wt[he])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:he,complete:_e},void 0===ge.next&&(ge.next=Si),void 0===ge.error&&(ge.error=Si),void 0===ge.complete&&(ge.complete=Si);const It=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch(rn){}}),this.observers.push(ge),It}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let he=0;he<this.observers.length;he++)this.sendOne(he,ye)}sendOne(ye,he){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{he(this.observers[ye])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Si(){}const Ci=function(wt,ye,he,_e){let ge;if(_e<ye?ge="at least "+ye:_e>he&&(ge=0===he?"none":"no more than "+he),ge)throw new Error(wt+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+ge+".")};function dn(wt,ye){return`${wt} failed: ${ye} argument `}function Wt(wt,ye,he,_e){if((!_e||he)&&"function"!=typeof he)throw new Error(dn(wt,ye)+"must be a valid function.")}function pn(wt,ye,he,_e){if((!_e||he)&&("object"!=typeof he||null===he))throw new Error(dn(wt,ye)+"must be a valid context object.")}const Rn=function(wt){const ye=[];let he=0;for(let _e=0;_e<wt.length;_e++){let ge=wt.charCodeAt(_e);if(ge>=55296&&ge<=56319){const It=ge-55296;_e++,Z(_e<wt.length,"Surrogate pair missing trail surrogate."),ge=65536+(It<<10)+(wt.charCodeAt(_e)-56320)}ge<128?ye[he++]=ge:ge<2048?(ye[he++]=ge>>6|192,ye[he++]=63&ge|128):ge<65536?(ye[he++]=ge>>12|224,ye[he++]=ge>>6&63|128,ye[he++]=63&ge|128):(ye[he++]=ge>>18|240,ye[he++]=ge>>12&63|128,ye[he++]=ge>>6&63|128,ye[he++]=63&ge|128)}return ye},Dn=function(wt){let ye=0;for(let he=0;he<wt.length;he++){const _e=wt.charCodeAt(he);_e<128?ye++:_e<2048?ye+=2:_e>=55296&&_e<=56319?(ye+=4,he++):ye+=3}return ye},Ee=1e3,we=2,ot=144e5,on=.5;function Un(wt,ye=Ee,he=we){const _e=ye*Math.pow(he,wt),ge=Math.round(on*_e*(Math.random()-.5)*2);return Math.min(ot,_e+ge)}function rr(wt){return wt&&wt._delegate?wt._delegate:wt}},603:(ei,Jt,U)=>{"use strict";U.d(Jt,{Br:()=>rs,Cb:()=>Ps,dr:()=>qn,BJ:()=>ii,oU:()=>gi,cs:()=>ha,YG:()=>Pi,Sm:()=>Si,PM:()=>Ci,FN:()=>dn,Zi:()=>xt,tO:()=>Wt,Dq:()=>pn,wI:()=>mn,W2:()=>Ee,jY:()=>rr,Gu:()=>wt,gu:()=>ye,pK:()=>It,Ie:()=>rn,Q$:()=>et,q_:()=>ft,yh:()=>qt,z0:()=>We,fG:()=>zt,d8:()=>wo,jP:()=>Jo,Nd:()=>ns,cJ:()=>sr,GO:()=>Wi,t9:()=>or,n0:()=>Xi,A$:()=>Q,Hr:()=>de,yq:()=>Gt,ZU:()=>Ae,UN:()=>eo,yW:()=>bt,g2:()=>Xt,wd:()=>On,sr:()=>Bi,Pc:()=>nc,r4:()=>zr,HT:()=>cl,_q:()=>Ta,IN:()=>ao,SH:()=>so,t4:()=>Po,YI:()=>fa,QI:()=>ai,j9:()=>bi});var t=U(4650),Z=U(433),ie=U(655),oe=U(4968),ze=U(7579),ct=U(1135),$e=U(9062),Ue=(U(181),U(6439),U(7838),U(1898),U(5179)),je=U(5730),pt=U(1843),gt=U(6369),kt=U(3539),yt=(U(3457),U(4349),U(1308)),Ie=U(9300),nt=U(3900),St=U(1884),Nt=U(6895);const Pt=Ue.i,it=["*"],Vt=["outlet"],lt=[[["","slot","top"]],"*"],Je=["[slot=top]","*"];function Yt(x,re){if(1&x&&t.GkF(0,1),2&x){const M=t.oxw();t.Q6J("ngTemplateOutlet",M.template)}}const $t=x=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(x):"function"==typeof requestAnimationFrame?requestAnimationFrame(x):setTimeout(x),Qt=x=>!!x.resolveComponentFactory;let Bt=(()=>{class x{constructor(M,J){this.injector=M,this.el=J,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(M){this.el.nativeElement.value=this.lastValue=null==M?"":M,hn(this.el)}handleChangeEvent(M,J){M===this.el.nativeElement&&(J!==this.lastValue&&(this.lastValue=J,this.onChange(J)),hn(this.el))}_handleBlurEvent(M){M===this.el.nativeElement&&(this.onTouched(),hn(this.el))}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){this.el.nativeElement.disabled=M}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let M;try{M=this.injector.get(Z.a5)}catch(He){}if(!M)return;M.statusChanges&&(this.statusChanges=M.statusChanges.subscribe(()=>hn(this.el)));const J=M.control;J&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(En=>{if(typeof J[En]<"u"){const Oi=J[En].bind(J);J[En]=(...Ji)=>{Oi(...Ji),hn(this.el)}}})}}return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.zs3),t.Y36(t.SBq))},x.\u0275dir=t.lG2({type:x,hostBindings:function(M,J){1&M&&t.NdJ("ionBlur",function(En){return J._handleBlurEvent(En.target)})}}),x})();const hn=x=>{$t(()=>{const re=x.nativeElement,M=null!=re.value&&re.value.toString().length>0,J=qe(re);cn(re,J);const He=re.closest("ion-item");He&&cn(He,M?[...J,"item-has-value"]:J)})},qe=x=>{const re=x.classList,M=[];for(let J=0;J<re.length;J++){const He=re.item(J);null!==He&&Tn(He,"ng-")&&M.push(`ion-${He.substring(3)}`)}return M},cn=(x,re)=>{const M=x.classList;M.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),M.add(...re)},Tn=(x,re)=>x.substring(0,re.length)===re;let ai=(()=>{class x extends Bt{constructor(M,J){super(M,J)}_handleChangeEvent(M){this.handleChangeEvent(M,M.value)}}return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.zs3),t.Y36(t.SBq))},x.\u0275dir=t.lG2({type:x,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(M,J){1&M&&t.NdJ("ionChange",function(En){return J._handleChangeEvent(En.target)})},features:[t._Bn([{provide:Z.JU,useExisting:x,multi:!0}]),t.qOj]}),x})(),bi=(()=>{class x extends Bt{constructor(M,J){super(M,J)}_handleInputEvent(M){this.handleChangeEvent(M,M.value)}}return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.zs3),t.Y36(t.SBq))},x.\u0275dir=t.lG2({type:x,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(M,J){1&M&&t.NdJ("ionChange",function(En){return J._handleInputEvent(En.target)})},features:[t._Bn([{provide:Z.JU,useExisting:x,multi:!0}]),t.qOj]}),x})();const Mi=(x,re)=>{const M=x.prototype;re.forEach(J=>{Object.defineProperty(M,J,{get(){return this.el[J]},set(He){this.z.runOutsideAngular(()=>this.el[J]=He)}})})},Kt=(x,re)=>{const M=x.prototype;re.forEach(J=>{M[J]=function(){const He=arguments;return this.z.runOutsideAngular(()=>this.el[J].apply(this.el,He))}})},Ye=(x,re,M)=>{M.forEach(J=>x[J]=(0,oe.R)(re,J))};function Be(x){return function(M){const{defineCustomElementFn:J,inputs:He,methods:En}=x;return void 0!==J&&J(),He&&Mi(M,He),En&&Kt(M,En),M}}let qn=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-app"]],ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0})],x),x})(),ii=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-avatar"]],ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0})],x),x})(),gi=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],x),x})(),Pi=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement,Ye(this,this.el,["ionFocus","ionBlur"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],x),x})(),Si=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["collapse"]})],x),x})(),Ci=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],x),x})(),dn=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["mode"]})],x),x})(),xt=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],x),x})(),Wt=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","mode"]})],x),x})(),pn=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","mode"]})],x),x})(),mn=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],x),x})(),Ee=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement,Ye(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],x),x})(),rr=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["fixed"]})],x),x})(),wt=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],x),x})(),ye=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],x),x})(),It=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement,Ye(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],x),x})(),rn=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],x),x})(),et=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],x),x})(),ft=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],x),x})(),qt=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],x),x})(),We=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement,Ye(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],x),x})(),zt=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],x),x})(),ns=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-row"]],ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0})],x),x})(),sr=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement,Ye(this,this.el,["ionChange"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],x),x})(),Wi=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],x),x})(),or=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement,Ye(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],x),x})(),Xi=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["disabled","value"]})],x),x})(),Q=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-slide"]],ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0})],x),x})(),de=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement,Ye(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-slides"]],inputs:{mode:"mode",options:"options",pager:"pager",scrollbar:"scrollbar"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]})],x),x})(),Gt=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],x),x})(),Ae=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],x),x})(),bt=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","mode"]})],x),x})(),Xt=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement,Ye(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],x),x})(),On=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","size"]})],x),x})(),Bi=(()=>{let x=class{constructor(M,J,He){this.z=He,M.detach(),this.el=J.nativeElement}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(M,J){1&M&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({defineCustomElementFn:void 0,inputs:["color","mode"]})],x),x})();class Gi{constructor(re={}){this.data=re}get(re){return this.data[re]}}let Dr=(()=>{class x{constructor(M,J){this.zone=M,this.appRef=J}create(M,J,He,En){return new qs(M,J,He,this.appRef,this.zone,En)}}return x.\u0275fac=function(M){return new(M||x)(t.LFG(t.R0b),t.LFG(t.z2F))},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac}),x})();class qs{constructor(re,M,J,He,En,Oi){this.resolverOrInjector=re,this.injector=M,this.location=J,this.appRef=He,this.zone=En,this.elementReferenceKey=Oi,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(re,M,J,He){return this.zone.run(()=>new Promise(En=>{const Oi=Object.assign({},J);void 0!==this.elementReferenceKey&&(Oi[this.elementReferenceKey]=re),En(Sr(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,re,M,Oi,He))}))}removeViewFromDom(re,M){return this.zone.run(()=>new Promise(J=>{const He=this.elRefMap.get(M);if(He){He.destroy(),this.elRefMap.delete(M);const En=this.elEventsMap.get(M);En&&(En(),this.elEventsMap.delete(M))}J()}))}}const Sr=(x,re,M,J,He,En,Oi,Ji,_r,Nr,bs)=>{let ss;const W=t.zs3.create({providers:Eo(Nr),parent:M});if(re&&Qt(re)){const _n=re.resolveComponentFactory(_r);ss=J?J.createComponent(_n,J.length,W):_n.create(W)}else{if(!J)return null;ss=J.createComponent(_r,{index:J.indexOf,injector:W,environmentInjector:re})}const K=ss.instance,Y=ss.location.nativeElement;if(Nr&&Object.assign(K,Nr),bs)for(const _n of bs)Y.classList.add(_n);const Oe=Rs(x,K,Y);return Ji.appendChild(Y),J||He.attachView(ss.hostView),ss.changeDetectorRef.reattach(),En.set(Y,ss),Oi.set(Y,Oe),Y},jr=[pt.L,pt.a,pt.b,pt.c,pt.d],Rs=(x,re,M)=>x.run(()=>{const J=jr.filter(He=>"function"==typeof re[He]).map(He=>{const En=Oi=>re[He](Oi.detail);return M.addEventListener(He,En),()=>M.removeEventListener(He,En)});return()=>J.forEach(He=>He())}),Zs=new t.OlP("NavParamsToken"),Eo=x=>[{provide:Zs,useValue:x},{provide:Gi,useFactory:po,deps:[Zs]}],po=x=>new Gi(x),Ms=(x,re)=>((x=x.filter(M=>M.stackId!==re.stackId)).push(re),x),dr=(x,re)=>{const M=x.createUrlTree(["."],{relativeTo:re});return x.serializeUrl(M)},Ns=(x,re)=>{if(!x)return;const M=js(re);for(let J=0;J<M.length;J++){if(J>=x.length)return M[J];if(M[J]!==x[J])return}},js=x=>x.split("/").map(re=>re.trim()).filter(re=>""!==re),Ur=x=>{x&&(x.ref.destroy(),x.unlistenEvents())};class Ca{constructor(re,M,J,He,En,Oi){this.containerEl=M,this.router=J,this.navCtrl=He,this.zone=En,this.location=Oi,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==re?js(re):void 0}createView(re,M){var J;const He=dr(this.router,M),En=null===(J=null==re?void 0:re.location)||void 0===J?void 0:J.nativeElement,Oi=Rs(this.zone,re.instance,En);return{id:this.nextId++,stackId:Ns(this.tabsPrefix,He),unlistenEvents:Oi,element:En,ref:re,url:He}}getExistingView(re){const M=dr(this.router,re),J=this.views.find(He=>He.url===M);return J&&J.ref.changeDetectorRef.reattach(),J}setActive(re){var M,J;const He=this.navCtrl.consumeTransition();let{direction:En,animation:Oi,animationBuilder:Ji}=He;const _r=this.activeView,Nr=((x,re)=>!re||x.stackId!==re.stackId)(re,_r);Nr&&(En="back",Oi=void 0);const bs=this.views.slice();let ss;const W=this.router;W.getCurrentNavigation?ss=W.getCurrentNavigation():!(null===(M=W.navigations)||void 0===M)&&M.value&&(ss=W.navigations.value),null!==(J=null==ss?void 0:ss.extras)&&void 0!==J&&J.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const K=this.views.includes(re),Y=this.insertView(re,En);K||re.ref.changeDetectorRef.detectChanges();const Oe=re.animationBuilder;return void 0===Ji&&"back"===En&&!Nr&&void 0!==Oe&&(Ji=Oe),_r&&(_r.animationBuilder=Ji),this.zone.runOutsideAngular(()=>this.wait(()=>(_r&&_r.ref.changeDetectorRef.detach(),re.ref.changeDetectorRef.reattach(),this.transition(re,_r,Oi,this.canGoBack(1),!1,Ji).then(()=>Qs(re,Y,bs,this.location,this.zone)).then(()=>({enteringView:re,direction:En,animation:Oi,tabSwitch:Nr})))))}canGoBack(re,M=this.getActiveStackId()){return this.getStack(M).length>re}pop(re,M=this.getActiveStackId()){return this.zone.run(()=>{var J,He;const En=this.getStack(M);if(En.length<=re)return Promise.resolve(!1);const Oi=En[En.length-re-1];let Ji=Oi.url;const _r=Oi.savedData;if(_r){const bs=_r.get("primary");null!==(He=null===(J=null==bs?void 0:bs.route)||void 0===J?void 0:J._routerState)&&void 0!==He&&He.snapshot.url&&(Ji=bs.route._routerState.snapshot.url)}const{animationBuilder:Nr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ji,Object.assign(Object.assign({},Oi.savedExtras),{animation:Nr})).then(()=>!0)})}startBackTransition(){const re=this.activeView;if(re){const M=this.getStack(re.stackId),J=M[M.length-2],He=J.animationBuilder;return this.wait(()=>this.transition(J,re,"back",this.canGoBack(2),!0,He))}return Promise.resolve()}endBackTransition(re){re?(this.skipTransition=!0,this.pop(1)):this.activeView&&$s(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(re){const M=this.getStack(re);return M.length>0?M[M.length-1]:void 0}getRootUrl(re){const M=this.getStack(re);return M.length>0?M[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ur),this.activeView=void 0,this.views=[]}getStack(re){return this.views.filter(M=>M.stackId===re)}insertView(re,M){return this.activeView=re,this.views=((x,re,M)=>"root"===M?Ms(x,re):"forward"===M?((x,re)=>(x.indexOf(re)>=0?x=x.filter(J=>J.stackId!==re.stackId||J.id<=re.id):x.push(re),x))(x,re):((x,re)=>x.indexOf(re)>=0?x.filter(J=>J.stackId!==re.stackId||J.id<=re.id):Ms(x,re))(x,re))(this.views,re,M),this.views.slice()}transition(re,M,J,He,En,Oi){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(M===re)return Promise.resolve(!1);const Ji=re?re.element:void 0,_r=M?M.element:void 0,Nr=this.containerEl;return Ji&&Ji!==_r&&(Ji.classList.add("ion-page"),Ji.classList.add("ion-page-invisible"),Ji.parentElement!==Nr&&Nr.appendChild(Ji),Nr.commit)?Nr.commit(Ji,_r,{deepWait:!0,duration:void 0===J?0:void 0,direction:J,showGoBack:He,progressAnimation:En,animationBuilder:Oi}):Promise.resolve(!1)}wait(re){return(0,ie.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const M=this.runningTask=re();return M.finally(()=>this.runningTask=void 0),M})}}const Qs=(x,re,M,J,He)=>"function"==typeof requestAnimationFrame?new Promise(En=>{requestAnimationFrame(()=>{$s(x,re,M,J,He),En()})}):Promise.resolve(),$s=(x,re,M,J,He)=>{He.run(()=>M.filter(En=>!re.includes(En)).forEach(Ur)),re.forEach(En=>{const Ji=J.path().split("?")[0].split("#")[0];if(En!==x&&En.url!==Ji){const _r=En.element;_r.setAttribute("aria-hidden","true"),_r.classList.add("ion-page-hidden"),En.ref.changeDetectorRef.detach()}})};let yr=(()=>{class x{get(M,J){const He=Co();return He?He.get(M,J):null}getBoolean(M,J){const He=Co();return!!He&&He.getBoolean(M,J)}getNumber(M,J){const He=Co();return He?He.getNumber(M,J):0}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Xo=new t.OlP("USERCONFIG"),Co=()=>{if(typeof window<"u"){const x=window.Ionic;if(null!=x&&x.config)return x.config}return null};let Po=(()=>{class x{constructor(M,J){this.doc=M,this.backButton=new ze.x,this.keyboardDidShow=new ze.x,this.keyboardDidHide=new ze.x,this.pause=new ze.x,this.resume=new ze.x,this.resize=new ze.x,J.run(()=>{var He;let En;this.win=M.defaultView,this.backButton.subscribeWithPriority=function(Oi,Ji){return this.subscribe(_r=>_r.register(Oi,Nr=>J.run(()=>Ji(Nr))))},ko(this.pause,M,"pause"),ko(this.resume,M,"resume"),ko(this.backButton,M,"ionBackButton"),ko(this.resize,this.win,"resize"),ko(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),ko(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Oi=>{En=Oi}),null!==(He=this.win)&&void 0!==He&&He.cordova?M.addEventListener("deviceready",()=>{En("cordova")},{once:!0}):En("dom")})}is(M){return(0,Ue.a)(this.win,M)}platforms(){return(0,Ue.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(M){return Dl(this.win.location.href,M)}isLandscape(){return!this.isPortrait()}isPortrait(){var M,J;return null===(J=(M=this.win).matchMedia)||void 0===J?void 0:J.call(M,"(orientation: portrait)").matches}testUserAgent(M){const J=this.win.navigator;return!!(null!=J&&J.userAgent&&J.userAgent.indexOf(M)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return x.\u0275fac=function(M){return new(M||x)(t.LFG(Nt.K0),t.LFG(t.R0b))},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Dl=(x,re)=>{re=re.replace(/[[\]\\]/g,"\\$&");const J=new RegExp("[\\?&]"+re+"=([^&#]*)").exec(x);return J?decodeURIComponent(J[1].replace(/\+/g," ")):null},ko=(x,re,M)=>{re&&re.addEventListener(M,J=>{x.next(null!=J?J.detail:void 0)})};let so=(()=>{class x{constructor(M,J,He,En){this.location=J,this.serializer=He,this.router=En,this.direction=mo,this.animated=Ha,this.guessDirection="forward",this.lastNavId=-1,En&&En.events.subscribe(Oi=>{if(Oi instanceof $e.OD){const Ji=Oi.restoredState?Oi.restoredState.navigationId:Oi.id;this.guessDirection=Ji<this.lastNavId?"back":"forward",this.guessAnimation=Oi.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Oi.id:Ji}}),M.backButton.subscribeWithPriority(0,Oi=>{this.pop(),Oi()})}navigateForward(M,J={}){return this.setDirection("forward",J.animated,J.animationDirection,J.animation),this.navigate(M,J)}navigateBack(M,J={}){return this.setDirection("back",J.animated,J.animationDirection,J.animation),this.navigate(M,J)}navigateRoot(M,J={}){return this.setDirection("root",J.animated,J.animationDirection,J.animation),this.navigate(M,J)}back(M={animated:!0,animationDirection:"back"}){return this.setDirection("back",M.animated,M.animationDirection,M.animation),this.location.back()}pop(){return(0,ie.mG)(this,void 0,void 0,function*(){let M=this.topOutlet;for(;M&&!(yield M.pop());)M=M.parentOutlet})}setDirection(M,J,He,En){this.direction=M,this.animated=ua(M,J,He),this.animationBuilder=En}setTopOutlet(M){this.topOutlet=M}consumeTransition(){let J,M="root";const He=this.animationBuilder;return"auto"===this.direction?(M=this.guessDirection,J=this.guessAnimation):(J=this.animated,M=this.direction),this.direction=mo,this.animated=Ha,this.animationBuilder=void 0,{direction:M,animation:J,animationBuilder:He}}navigate(M,J){if(Array.isArray(M))return this.router.navigate(M,J);{const He=this.serializer.parse(M.toString());return void 0!==J.queryParams&&(He.queryParams=Object.assign({},J.queryParams)),void 0!==J.fragment&&(He.fragment=J.fragment),this.router.navigateByUrl(He,J)}}}return x.\u0275fac=function(M){return new(M||x)(t.LFG(Po),t.LFG(Nt.Ye),t.LFG($e.Hx),t.LFG($e.F0,8))},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const ua=(x,re,M)=>{if(!1!==re){if(void 0!==M)return M;if("forward"===x||"back"===x)return x;if("root"===x&&!0===re)return"forward"}},mo="auto",Ha=void 0;let Jo=(()=>{class x{constructor(M,J,He,En,Oi,Ji,_r,Nr,bs,ss,W,K,Y){this.parentContexts=M,this.location=J,this.config=Oi,this.navCtrl=Ji,this.componentFactoryResolver=_r,this.parentOutlet=Y,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ct.X(null),this.stackEvents=new t.vpe,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.nativeEl=bs.nativeElement,this.name=He||$e.eC,this.tabsPrefix="true"===En?dr(ss,K):void 0,this.stackCtrl=new Ca(this.tabsPrefix,this.nativeEl,ss,Ji,W,Nr),M.onChildOutletCreated(this.name,this)}set animation(M){this.nativeEl.animation=M}set animated(M){this.nativeEl.animated=M}set swipeGesture(M){this._swipeGesture=M,this.nativeEl.swipeHandler=M?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:J=>this.stackCtrl.endBackTransition(J)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const M=this.getContext();null!=M&&M.route&&this.activateWith(M.route,M.resolver||null)}new Promise(M=>(0,je.c)(this.nativeEl,M)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(M,J){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const J=this.getContext();this.activatedView.savedData=new Map(J.children.contexts);const He=this.activatedView.savedData.get("primary");if(He&&J.route&&(He.route=Object.assign({},J.route)),this.activatedView.savedExtras={},J.route){const En=J.route.snapshot;this.activatedView.savedExtras.queryParams=En.queryParams,this.activatedView.savedExtras.fragment=En.fragment}}const M=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,J){var He;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=M;let En,Oi=this.stackCtrl.getExistingView(M);if(Oi){En=this.activated=Oi.ref;const Ji=Oi.savedData;Ji&&(this.getContext().children.contexts=Ji),this.updateActivatedRouteProxy(En.instance,M)}else{const Ji=M._futureSnapshot;if(null==Ji.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const _r=this.parentContexts.getOrCreateContext(this.name).children,Nr=new ct.X(null),bs=this.createActivatedRouteProxy(Nr,M),ss=new da(bs,_r,this.location.injector),W=null!==(He=Ji.routeConfig.component)&&void 0!==He?He:Ji.component;if((J=J||this.componentFactoryResolver)&&Qt(J)){const K=J.resolveComponentFactory(W);En=this.activated=this.location.createComponent(K,this.location.length,ss)}else En=this.activated=this.location.createComponent(W,{index:this.location.length,injector:ss,environmentInjector:null!=J?J:this.environmentInjector});Nr.next(En.instance),Oi=this.stackCtrl.createView(this.activated,M),this.proxyMap.set(En.instance,bs),this.currentActivatedRoute$.next({component:En.instance,activatedRoute:M})}this.activatedView=Oi,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Oi).then(Ji=>{this.activateEvents.emit(En.instance),this.stackEvents.emit(Ji)})}canGoBack(M=1,J){return this.stackCtrl.canGoBack(M,J)}pop(M=1,J){return this.stackCtrl.pop(M,J)}getLastUrl(M){const J=this.stackCtrl.getLastUrl(M);return J?J.url:void 0}getLastRouteView(M){return this.stackCtrl.getLastUrl(M)}getRootView(M){return this.stackCtrl.getRootUrl(M)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(M,J){const He=new $e.gz;return He._futureSnapshot=J._futureSnapshot,He._routerState=J._routerState,He.snapshot=J.snapshot,He.outlet=J.outlet,He.component=J.component,He._paramMap=this.proxyObservable(M,"paramMap"),He._queryParamMap=this.proxyObservable(M,"queryParamMap"),He.url=this.proxyObservable(M,"url"),He.params=this.proxyObservable(M,"params"),He.queryParams=this.proxyObservable(M,"queryParams"),He.fragment=this.proxyObservable(M,"fragment"),He.data=this.proxyObservable(M,"data"),He}proxyObservable(M,J){return M.pipe((0,Ie.h)(He=>!!He),(0,nt.w)(He=>this.currentActivatedRoute$.pipe((0,Ie.h)(En=>null!==En&&En.component===He),(0,nt.w)(En=>En&&En.activatedRoute[J]),(0,St.x)())))}updateActivatedRouteProxy(M,J){const He=this.proxyMap.get(M);if(!He)throw new Error("Could not find activated route proxy for view");He._futureSnapshot=J._futureSnapshot,He._routerState=J._routerState,He.snapshot=J.snapshot,He.outlet=J.outlet,He.component=J.component,this.currentActivatedRoute$.next({component:M,activatedRoute:J})}}return x.\u0275fac=function(M){return new(M||x)(t.Y36($e.y6),t.Y36(t.s_b),t.$8M("name"),t.$8M("tabs"),t.Y36(yr),t.Y36(so),t.Y36(t._Vd,8),t.Y36(Nt.Ye),t.Y36(t.SBq),t.Y36($e.F0),t.Y36(t.R0b),t.Y36($e.gz),t.Y36(x,12))},x.\u0275dir=t.lG2({type:x,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),x})();class da{constructor(re,M,J){this.route=re,this.childContexts=M,this.parent=J}get(re,M){return re===$e.gz?this.route:re===$e.y6?this.childContexts:this.parent.get(re,M)}}let eo=(()=>{class x{constructor(M){this.navCtrl=M,this.ionTabsWillChange=new t.vpe,this.ionTabsDidChange=new t.vpe}onPageSelected(M){const J=M.enteringView.stackId;M.tabSwitch&&void 0!==J&&(this.ionTabsWillChange.emit({tab:J}),this.tabBar&&(this.tabBar.selectedTab=J),this.ionTabsDidChange.emit({tab:J}))}select(M){const J="string"==typeof M,He=J?M:M.detail.tab,En=this.outlet.getActiveStackId()===He,Oi=`${this.outlet.tabsPrefix}/${He}`;if(J||M.stopPropagation(),En){const Ji=this.outlet.getActiveStackId(),_r=this.outlet.getLastRouteView(Ji);if((null==_r?void 0:_r.url)===Oi)return;const Nr=this.outlet.getRootView(He);return this.navCtrl.navigateRoot(Oi,Object.assign(Object.assign({},Nr&&Oi===Nr.url&&Nr.savedExtras),{animated:!0,animationDirection:"back"}))}{const Ji=this.outlet.getLastRouteView(He);return this.navCtrl.navigateRoot((null==Ji?void 0:Ji.url)||Oi,Object.assign(Object.assign({},null==Ji?void 0:Ji.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return x.\u0275fac=function(M){return new(M||x)(t.Y36(so))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-tabs"]],contentQueries:function(M,J,He){if(1&M&&t.Suo(He,Gt,5),2&M){let En;t.iGM(En=t.CRH())&&(J.tabBar=En.first)}},viewQuery:function(M,J){if(1&M&&t.Gf(Vt,5,Jo),2&M){let He;t.iGM(He=t.CRH())&&(J.outlet=He.first)}},hostBindings:function(M,J){1&M&&t.NdJ("ionTabButtonClick",function(En){return J.select(En)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Je,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(M,J){1&M&&(t.F$t(lt),t.Hsn(0),t.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),t.NdJ("stackEvents",function(En){return J.onPageSelected(En)}),t.qZA()(),t.Hsn(4,1)),2&M&&(t.xp6(2),t.Q6J("environmentInjector",J.environmentInjector))},dependencies:[Jo],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),x})(),ha=(()=>{class x{constructor(M,J,He){this.routerOutlet=M,this.navCtrl=J,this.config=He}onClick(M){var J;const He=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(J=this.routerOutlet)&&void 0!==J&&J.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),M.preventDefault()):null!=He&&(this.navCtrl.navigateBack(He,{animation:this.routerAnimation}),M.preventDefault())}}return x.\u0275fac=function(M){return new(M||x)(t.Y36(Jo,8),t.Y36(so),t.Y36(yr))},x.\u0275dir=t.lG2({type:x,selectors:[["ion-back-button"]],hostBindings:function(M,J){1&M&&t.NdJ("click",function(En){return J.onClick(En)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),x})(),fa=(()=>{class x{constructor(M,J,He,En,Oi){this.locationStrategy=M,this.navCtrl=J,this.elementRef=He,this.router=En,this.routerLink=Oi,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var M;if(null!==(M=this.routerLink)&&void 0!==M&&M.urlTree){const J=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=J}}onClick(M){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),M.preventDefault()}}return x.\u0275fac=function(M){return new(M||x)(t.Y36(Nt.S$),t.Y36(so),t.Y36(t.SBq),t.Y36($e.F0),t.Y36($e.rH,8))},x.\u0275dir=t.lG2({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(M,J){1&M&&t.NdJ("click",function(En){return J.onClick(En)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[t.TTD]}),x})(),wo=(()=>{let x=class{constructor(M,J,He){this.z=He,this.isCmpOpen=!1,this.el=J.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,M.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,M.detectChanges()}),Ye(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return x.\u0275fac=function(M){return new(M||x)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ion-popover"]],contentQueries:function(M,J,He){if(1&M&&t.Suo(He,t.Rgc,5),2&M){let En;t.iGM(En=t.CRH())&&(J.template=En.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(M,J){1&M&&t.YNc(0,Yt,1,1,"ng-container",0),2&M&&t.Q6J("ngIf",J.isCmpOpen||J.keepContentsMounted)},dependencies:[Nt.O5,Nt.tP],encapsulation:2,changeDetection:0}),x=(0,ie.gn)([Be({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],x),x})();class Bs{constructor(re){this.ctrl=re}create(re){return this.ctrl.create(re||{})}dismiss(re,M,J){return this.ctrl.dismiss(re,M,J)}getTop(){return this.ctrl.getTop()}}let rs=(()=>{class x extends Bs{constructor(){super(kt.a)}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),cl=(()=>{class x extends Bs{constructor(){super(kt.l)}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Ta=(()=>{class x{open(M){return gt.m.open(M)}close(M){return gt.m.close(M)}toggle(M){return gt.m.toggle(M)}enable(M,J){return gt.m.enable(M,J)}swipeGesture(M,J){return gt.m.swipeGesture(M,J)}isOpen(M){return gt.m.isOpen(M)}isEnabled(M){return gt.m.isEnabled(M)}get(M){return gt.m.get(M)}getOpen(){return gt.m.getOpen()}getMenus(){return gt.m.getMenus()}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class Qo{}let ao=(()=>{class x extends Bs{constructor(M,J,He,En){super(kt.m),this.angularDelegate=M,this.resolver=J,this.injector=He,this.environmentInjector=En}create(M){var J;return super.create(Object.assign(Object.assign({},M),{delegate:this.angularDelegate.create(null!==(J=this.resolver)&&void 0!==J?J:this.environmentInjector,this.injector,void 0,"modal")}))}}return x.\u0275fac=function(M){return new(M||x)(t.LFG(Dr),t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(Qo,8))},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac}),x})(),Qr=(()=>{class x extends Bs{constructor(M,J,He,En){super(kt.c),this.angularDelegate=M,this.resolver=J,this.injector=He,this.environmentInjector=En}create(M){var J;return super.create(Object.assign(Object.assign({},M),{delegate:this.angularDelegate.create(null!==(J=this.resolver)&&void 0!==J?J:this.environmentInjector,this.injector,void 0,"popover")}))}}return x.\u0275fac=function(M){return new(M||x)(t.LFG(Dr),t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(Qo,8))},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac}),x})(),Ps=(()=>{class x{read(M){ds().read(M)}write(M){ds().write(M)}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const ds=()=>{const x=typeof window<"u"?window:null;if(null!=x){const re=x.Ionic;return null!=re&&re.queue?re.queue:{read:M=>x.requestAnimationFrame(M),write:M=>x.requestAnimationFrame(M)}}return{read:re=>re(),write:re=>re()}};class zr{shouldDetach(re){return!1}shouldAttach(re){return!1}store(re,M){}retrieve(re){return null}shouldReuseRoute(re,M){if(re.routeConfig!==M.routeConfig)return!1;const J=re.params,He=M.params,En=Object.keys(J),Oi=Object.keys(He);if(En.length!==Oi.length)return!1;for(const Ji of En)if(He[Ji]!==J[Ji])return!1;return!0}}const Gs=(x,re,M)=>()=>{if(re.defaultView&&typeof window<"u"){(x=>{const re=window,M=re.Ionic;M&&M.config&&"Object"!==M.config.constructor.name||(re.Ionic=re.Ionic||{},re.Ionic.config=Object.assign(Object.assign({},re.Ionic.config),x))})(Object.assign(Object.assign({},x),{_zoneGate:En=>M.run(En)}));const He="__zone_symbol__addEventListener"in re.body?"__zone_symbol__addEventListener":"addEventListener";return function At(){var x=[];if(typeof window<"u"){var re=window;(!re.customElements||re.Element&&(!re.Element.prototype.closest||!re.Element.prototype.matches||!re.Element.prototype.remove||!re.Element.prototype.getRootNode))&&x.push(U.e(6748).then(U.t.bind(U,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||re.NodeList&&!re.NodeList.prototype.forEach||!re.fetch||!function(){try{var J=new URL("b","http://a");return J.pathname="c%20d","http://a/c%20d"===J.href&&J.searchParams}catch(He){return!1}}()||typeof WeakMap>"u")&&x.push(U.e(2214).then(U.t.bind(U,4144,23)))}return Promise.all(x)}().then(()=>((x,re)=>typeof window>"u"?Promise.resolve():(0,yt.p)().then(()=>(Pt(),(0,yt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),re))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:$t,jmp:En=>M.runOutsideAngular(En),ael(En,Oi,Ji,_r){En[He](Oi,Ji,_r)},rel(En,Oi,Ji,_r){En.removeEventListener(Oi,Ji,_r)}}))}};let nc=(()=>{class x{static forRoot(M){return{ngModule:x,providers:[{provide:Xo,useValue:M},{provide:t.ip1,useFactory:Gs,multi:!0,deps:[Xo,Nt.K0,t.R0b]}]}}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275mod=t.oAB({type:x}),x.\u0275inj=t.cJS({providers:[Dr,ao,Qr],imports:[[Nt.ez]]}),x})()},181:(ei,Jt,U)=>{"use strict";U.d(Jt,{c:()=>kt});var t=U(5730),Z=U(3457);let ie;const ze=be=>be.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ct=be=>(void 0===ie&&(ie=void 0===be.style.animationName&&void 0!==be.style.webkitAnimationName?"-webkit-":""),ie),$e=(be,Ge,yt)=>{const at=Ge.startsWith("animation")?ct(be):"";be.style.setProperty(at+Ge,yt)},Fe=(be,Ge)=>{const yt=Ge.startsWith("animation")?ct(be):"";be.style.removeProperty(yt+Ge)},xe=[],gt=(be=[],Ge)=>{if(void 0!==Ge){const yt=Array.isArray(Ge)?Ge:[Ge];return[...be,...yt]}return be},kt=be=>{let Ge,yt,at,Ve,dt,Ut,Nt,Je,rt,Yt,$t,qe,cn,ut=[],Ie=[],nt=[],St=!1,At={},Pt=[],Lt=[],Et={},it=0,Vt=!1,lt=!1,Qt=!0,Bt=!1,hn=!0,Tn=!1;const Hn=be,Ln=[],si=[],ai=[],bi=[],Mi=[],Kt=[],Ye=[],ke=[],Be=[],Mt=[],vn="function"==typeof AnimationEffect||void 0!==Z.w&&"function"==typeof Z.w.AnimationEffect,qn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&vn,gi=()=>Mt,Pi=(Ae,bt)=>((null!=bt&&bt.oneTimeCallback?si:Ln).push({c:Ae,o:bt}),cn),Ci=()=>{if(qn)Mt.forEach(Ae=>{Ae.cancel()}),Mt.length=0;else{const Ae=ai.slice();(0,t.r)(()=>{Ae.forEach(bt=>{Fe(bt,"animation-name"),Fe(bt,"animation-duration"),Fe(bt,"animation-timing-function"),Fe(bt,"animation-iteration-count"),Fe(bt,"animation-delay"),Fe(bt,"animation-play-state"),Fe(bt,"animation-fill-mode"),Fe(bt,"animation-direction")})})}},dn=()=>{Mi.forEach(Ae=>{null!=Ae&&Ae.parentNode&&Ae.parentNode.removeChild(Ae)}),Mi.length=0},xi=()=>void 0!==dt?dt:Nt?Nt.getFill():"both",rr=()=>void 0!==rt?rt:void 0!==Ut?Ut:Nt?Nt.getDirection():"normal",wt=()=>Vt?"linear":void 0!==at?at:Nt?Nt.getEasing():"linear",ye=()=>lt?0:void 0!==Yt?Yt:void 0!==yt?yt:Nt?Nt.getDuration():0,he=()=>void 0!==Ve?Ve:Nt?Nt.getIterations():1,_e=()=>void 0!==$t?$t:void 0!==Ge?Ge:Nt?Nt.getDelay():0,Jn=()=>{0!==it&&(it--,0===it&&((()=>{sr(),ke.forEach(On=>On()),Be.forEach(On=>On());const Ae=Qt?1:0,bt=Pt,Xt=Lt,Sn=Et;ai.forEach(On=>{const li=On.classList;bt.forEach(Bi=>li.add(Bi)),Xt.forEach(Bi=>li.remove(Bi));for(const Bi in Sn)Sn.hasOwnProperty(Bi)&&$e(On,Bi,Sn[Bi])}),Ln.forEach(On=>On.c(Ae,cn)),si.forEach(On=>On.c(Ae,cn)),si.length=0,hn=!0,Qt&&(Bt=!0),Qt=!0})(),Nt&&Nt.animationFinish()))},oi=(Ae=!0)=>{dn();const bt=(be=>(be.forEach(Ge=>{for(const yt in Ge)if(Ge.hasOwnProperty(yt)){const at=Ge[yt];if("easing"===yt)Ge["animation-timing-function"]=at,delete Ge[yt];else{const Ve=ze(yt);Ve!==yt&&(Ge[Ve]=at,delete Ge[yt])}}}),be))(ut);ai.forEach(Xt=>{if(bt.length>0){const Sn=((be=[])=>be.map(Ge=>{const yt=Ge.offset,at=[];for(const Ve in Ge)Ge.hasOwnProperty(Ve)&&"offset"!==Ve&&at.push(`${Ve}: ${Ge[Ve]};`);return`${100*yt}% { ${at.join(" ")} }`}).join(" "))(bt);qe=void 0!==be?be:(be=>{let Ge=xe.indexOf(be);return Ge<0&&(Ge=xe.push(be)-1),`ion-animation-${Ge}`})(Sn);const On=((be,Ge,yt)=>{var at;const Ve=(be=>{const Ge=void 0!==be.getRootNode?be.getRootNode():be;return Ge.head||Ge})(yt),dt=ct(yt),Ut=Ve.querySelector("#"+be);if(Ut)return Ut;const ut=(null!==(at=yt.ownerDocument)&&void 0!==at?at:document).createElement("style");return ut.id=be,ut.textContent=`@${dt}keyframes ${be} { ${Ge} } @${dt}keyframes ${be}-alt { ${Ge} }`,Ve.appendChild(ut),ut})(qe,Sn,Xt);Mi.push(On),$e(Xt,"animation-duration",`${ye()}ms`),$e(Xt,"animation-timing-function",wt()),$e(Xt,"animation-delay",`${_e()}ms`),$e(Xt,"animation-fill-mode",xi()),$e(Xt,"animation-direction",rr());const li=he()===1/0?"infinite":he().toString();$e(Xt,"animation-iteration-count",li),$e(Xt,"animation-play-state","paused"),Ae&&$e(Xt,"animation-name",`${On.id}-alt`),(0,t.r)(()=>{$e(Xt,"animation-name",On.id||null)})}})},yn=(Ae=!0)=>{(()=>{Kt.forEach(Sn=>Sn()),Ye.forEach(Sn=>Sn());const Ae=Ie,bt=nt,Xt=At;ai.forEach(Sn=>{const On=Sn.classList;Ae.forEach(li=>On.add(li)),bt.forEach(li=>On.remove(li));for(const li in Xt)Xt.hasOwnProperty(li)&&$e(Sn,li,Xt[li])})})(),ut.length>0&&(qn?(ai.forEach(Ae=>{const bt=Ae.animate(ut,{id:Hn,delay:_e(),duration:ye(),easing:wt(),iterations:he(),fill:xi(),direction:rr()});bt.pause(),Mt.push(bt)}),Mt.length>0&&(Mt[0].onfinish=()=>{Jn()})):oi(Ae)),St=!0},Bn=Ae=>{if(Ae=Math.min(Math.max(Ae,0),.9999),qn)Mt.forEach(bt=>{bt.currentTime=bt.effect.getComputedTiming().delay+ye()*Ae,bt.pause()});else{const bt=`-${ye()*Ae}ms`;ai.forEach(Xt=>{ut.length>0&&($e(Xt,"animation-delay",bt),$e(Xt,"animation-play-state","paused"))})}},Ii=Ae=>{Mt.forEach(bt=>{bt.effect.updateTiming({delay:_e(),duration:ye(),easing:wt(),iterations:he(),fill:xi(),direction:rr()})}),void 0!==Ae&&Bn(Ae)},vr=(Ae=!0,bt)=>{(0,t.r)(()=>{ai.forEach(Xt=>{$e(Xt,"animation-name",qe||null),$e(Xt,"animation-duration",`${ye()}ms`),$e(Xt,"animation-timing-function",wt()),$e(Xt,"animation-delay",void 0!==bt?`-${bt*ye()}ms`:`${_e()}ms`),$e(Xt,"animation-fill-mode",xi()||null),$e(Xt,"animation-direction",rr()||null);const Sn=he()===1/0?"infinite":he().toString();$e(Xt,"animation-iteration-count",Sn),Ae&&$e(Xt,"animation-name",`${qe}-alt`),(0,t.r)(()=>{$e(Xt,"animation-name",qe||null)})})})},vi=(Ae=!1,bt=!0,Xt)=>(Ae&&bi.forEach(Sn=>{Sn.update(Ae,bt,Xt)}),qn?Ii(Xt):vr(bt,Xt),cn),Rr=()=>{St&&(qn?Mt.forEach(Ae=>{Ae.pause()}):ai.forEach(Ae=>{$e(Ae,"animation-play-state","paused")}),Tn=!0)},yi=()=>{Je=void 0,Jn()},sr=()=>{Je&&clearTimeout(Je)},Q=Ae=>new Promise(bt=>{null!=Ae&&Ae.sync&&(lt=!0,Pi(()=>lt=!1,{oneTimeCallback:!0})),St||yn(),Bt&&(qn?(Bn(0),Ii()):vr(),Bt=!1),hn&&(it=bi.length+1,hn=!1),Pi(()=>bt(),{oneTimeCallback:!0}),bi.forEach(Xt=>{Xt.play()}),qn?(Mt.forEach(Ae=>{Ae.play()}),(0===ut.length||0===ai.length)&&Jn()):(()=>{if(sr(),(0,t.r)(()=>{ai.forEach(Ae=>{ut.length>0&&$e(Ae,"animation-play-state","running")})}),0===ut.length||0===ai.length)Jn();else{const Ae=_e()||0,bt=ye()||0,Xt=he()||1;isFinite(Xt)&&(Je=setTimeout(yi,Ae+bt*Xt+100)),((be,Ge)=>{let yt;const at={passive:!0},dt=Ut=>{be===Ut.target&&(yt&&yt(),sr(),(0,t.r)(()=>{ai.forEach(Ae=>{Fe(Ae,"animation-duration"),Fe(Ae,"animation-delay"),Fe(Ae,"animation-play-state")}),(0,t.r)(Jn)}))};be&&(be.addEventListener("webkitAnimationEnd",dt,at),be.addEventListener("animationend",dt,at),yt=()=>{be.removeEventListener("webkitAnimationEnd",dt,at),be.removeEventListener("animationend",dt,at)})})(ai[0])}})(),Tn=!1}),Ze=(Ae,bt)=>{const Xt=ut[0];return void 0===Xt||void 0!==Xt.offset&&0!==Xt.offset?ut=[{offset:0,[Ae]:bt},...ut]:Xt[Ae]=bt,cn};return cn={parentAnimation:Nt,elements:ai,childAnimations:bi,id:Hn,animationFinish:Jn,from:Ze,to:(Ae,bt)=>{const Xt=ut[ut.length-1];return void 0===Xt||void 0!==Xt.offset&&1!==Xt.offset?ut=[...ut,{offset:1,[Ae]:bt}]:Xt[Ae]=bt,cn},fromTo:(Ae,bt,Xt)=>Ze(Ae,bt).to(Ae,Xt),parent:Ae=>(Nt=Ae,cn),play:Q,pause:()=>(bi.forEach(Ae=>{Ae.pause()}),Rr(),cn),stop:()=>{bi.forEach(Ae=>{Ae.stop()}),St&&(Ci(),St=!1),Vt=!1,lt=!1,hn=!0,rt=void 0,Yt=void 0,$t=void 0,it=0,Bt=!1,Qt=!0,Tn=!1},destroy:Ae=>(bi.forEach(bt=>{bt.destroy(Ae)}),(Ae=>{Ci(),Ae&&dn()})(Ae),ai.length=0,bi.length=0,ut.length=0,Ln.length=0,si.length=0,St=!1,hn=!0,cn),keyframes:Ae=>{const bt=ut!==Ae;return ut=Ae,bt&&(Ae=>{qn?gi().forEach(bt=>{if(bt.effect.setKeyframes)bt.effect.setKeyframes(Ae);else{const Xt=new KeyframeEffect(bt.effect.target,Ae,bt.effect.getTiming());bt.effect=Xt}}):oi()})(ut),cn},addAnimation:Ae=>{if(null!=Ae)if(Array.isArray(Ae))for(const bt of Ae)bt.parent(cn),bi.push(bt);else Ae.parent(cn),bi.push(Ae);return cn},addElement:Ae=>{if(null!=Ae)if(1===Ae.nodeType)ai.push(Ae);else if(Ae.length>=0)for(let bt=0;bt<Ae.length;bt++)ai.push(Ae[bt]);else console.error("Invalid addElement value");return cn},update:vi,fill:Ae=>(dt=Ae,vi(!0),cn),direction:Ae=>(Ut=Ae,vi(!0),cn),iterations:Ae=>(Ve=Ae,vi(!0),cn),duration:Ae=>(!qn&&0===Ae&&(Ae=1),yt=Ae,vi(!0),cn),easing:Ae=>(at=Ae,vi(!0),cn),delay:Ae=>(Ge=Ae,vi(!0),cn),getWebAnimations:gi,getKeyframes:()=>ut,getFill:xi,getDirection:rr,getDelay:_e,getIterations:he,getEasing:wt,getDuration:ye,afterAddRead:Ae=>(ke.push(Ae),cn),afterAddWrite:Ae=>(Be.push(Ae),cn),afterClearStyles:(Ae=[])=>{for(const bt of Ae)Et[bt]="";return cn},afterStyles:(Ae={})=>(Et=Ae,cn),afterRemoveClass:Ae=>(Lt=gt(Lt,Ae),cn),afterAddClass:Ae=>(Pt=gt(Pt,Ae),cn),beforeAddRead:Ae=>(Kt.push(Ae),cn),beforeAddWrite:Ae=>(Ye.push(Ae),cn),beforeClearStyles:(Ae=[])=>{for(const bt of Ae)At[bt]="";return cn},beforeStyles:(Ae={})=>(At=Ae,cn),beforeRemoveClass:Ae=>(nt=gt(nt,Ae),cn),beforeAddClass:Ae=>(Ie=gt(Ie,Ae),cn),onFinish:Pi,isRunning:()=>0!==it&&!Tn,progressStart:(Ae=!1,bt)=>(bi.forEach(Xt=>{Xt.progressStart(Ae,bt)}),Rr(),Vt=Ae,St||yn(),vi(!1,!0,bt),cn),progressStep:Ae=>(bi.forEach(bt=>{bt.progressStep(Ae)}),Bn(Ae),cn),progressEnd:(Ae,bt,Xt)=>(Vt=!1,bi.forEach(Sn=>{Sn.progressEnd(Ae,bt,Xt)}),void 0!==Xt&&(Yt=Xt),Bt=!1,Qt=!0,0===Ae?(rt="reverse"===rr()?"normal":"reverse","reverse"===rt&&(Qt=!1),qn?(vi(),Bn(1-bt)):($t=(1-bt)*ye()*-1,vi(!1,!1))):1===Ae&&(qn?(vi(),Bn(bt)):($t=bt*ye()*-1,vi(!1,!1))),void 0!==Ae&&(Pi(()=>{Yt=void 0,rt=void 0,$t=void 0},{oneTimeCallback:!0}),Nt||Q()),cn)}}},4349:(ei,Jt,U)=>{"use strict";U.d(Jt,{G:()=>ze});class Z{constructor($e,Fe,vt,Pe,xe){this.id=Fe,this.name=vt,this.disableScroll=xe,this.priority=1e6*Pe+Fe,this.ctrl=$e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const $e=this.ctrl.capture(this.name,this.id,this.priority);return $e&&this.disableScroll&&this.ctrl.disableScroll(this.id),$e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ie{constructor($e,Fe,vt,Pe){this.id=Fe,this.disable=vt,this.disableScroll=Pe,this.ctrl=$e}block(){if(this.ctrl){if(this.disable)for(const $e of this.disable)this.ctrl.disableGesture($e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const $e of this.disable)this.ctrl.enableGesture($e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const oe="backdrop-no-scroll",ze=new class t{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture($e){var Fe;return new Z(this,this.newID(),$e.name,null!==(Fe=$e.priority)&&void 0!==Fe?Fe:0,!!$e.disableScroll)}createBlocker($e={}){return new ie(this,this.newID(),$e.disable,!!$e.disableScroll)}start($e,Fe,vt){return this.canStart($e)?(this.requestedStart.set(Fe,vt),!0):(this.requestedStart.delete(Fe),!1)}capture($e,Fe,vt){if(!this.start($e,Fe,vt))return!1;const Pe=this.requestedStart;let xe=-1e4;if(Pe.forEach(Ue=>{xe=Math.max(xe,Ue)}),xe===vt){this.capturedId=Fe,Pe.clear();const Ue=new CustomEvent("ionGestureCaptured",{detail:{gestureName:$e}});return document.dispatchEvent(Ue),!0}return Pe.delete(Fe),!1}release($e){this.requestedStart.delete($e),this.capturedId===$e&&(this.capturedId=void 0)}disableGesture($e,Fe){let vt=this.disabledGestures.get($e);void 0===vt&&(vt=new Set,this.disabledGestures.set($e,vt)),vt.add(Fe)}enableGesture($e,Fe){const vt=this.disabledGestures.get($e);void 0!==vt&&vt.delete(Fe)}disableScroll($e){this.disabledScroll.add($e),1===this.disabledScroll.size&&document.body.classList.add(oe)}enableScroll($e){this.disabledScroll.delete($e),0===this.disabledScroll.size&&document.body.classList.remove(oe)}canStart($e){return!(void 0!==this.capturedId||this.isDisabled($e))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled($e){const Fe=this.disabledGestures.get($e);return!!(Fe&&Fe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(ei,Jt,U)=>{"use strict";U.r(Jt),U.d(Jt,{MENU_BACK_BUTTON_PRIORITY:()=>ze,OVERLAY_BACK_BUTTON_PRIORITY:()=>oe,blockHardwareBackButton:()=>Z,startHardwareBackButton:()=>ie});var t=U(5861);const Z=()=>{document.addEventListener("backbutton",()=>{})},ie=()=>{const ct=document;let $e=!1;ct.addEventListener("backbutton",()=>{if($e)return;let Fe=0,vt=[];const Pe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(je,pt){vt.push({priority:je,handler:pt,id:Fe++})}}});ct.dispatchEvent(Pe);const xe=function(){var je=(0,t.Z)(function*(pt){try{if(null!=pt&&pt.handler){const gt=pt.handler(Ue);null!=gt&&(yield gt)}}catch(gt){console.error(gt)}});return function(gt){return je.apply(this,arguments)}}(),Ue=()=>{if(vt.length>0){let je={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};vt.forEach(pt=>{pt.priority>=je.priority&&(je=pt)}),$e=!0,vt=vt.filter(pt=>pt.id!==je.id),xe(je).then(()=>$e=!1)}};Ue()})},oe=100,ze=99},5730:(ei,Jt,U)=>{"use strict";U.d(Jt,{a:()=>$e,b:()=>Fe,c:()=>ie,d:()=>pt,e:()=>gt,f:()=>je,g:()=>vt,h:()=>Ve,i:()=>ct,j:()=>oe,k:()=>Ue,l:()=>kt,m:()=>xe,n:()=>be,o:()=>at,p:()=>yt,q:()=>dt,r:()=>Pe,s:()=>Ut,t:()=>t,u:()=>Ge});const t=(ut,Ie=0)=>new Promise(nt=>{Z(ut,Ie,nt)}),Z=(ut,Ie=0,nt)=>{let St,Nt;const At={passive:!0},Lt=()=>{St&&St()},Et=it=>{(void 0===it||ut===it.target)&&(Lt(),nt(it))};return ut&&(ut.addEventListener("webkitTransitionEnd",Et,At),ut.addEventListener("transitionend",Et,At),Nt=setTimeout(Et,Ie+500),St=()=>{Nt&&(clearTimeout(Nt),Nt=void 0),ut.removeEventListener("webkitTransitionEnd",Et,At),ut.removeEventListener("transitionend",Et,At)}),Lt},ie=(ut,Ie)=>{ut.componentOnReady?ut.componentOnReady().then(nt=>Ie(nt)):Pe(()=>Ie(ut))},oe=(ut,Ie=[])=>{const nt={};return Ie.forEach(St=>{ut.hasAttribute(St)&&(null!==ut.getAttribute(St)&&(nt[St]=ut.getAttribute(St)),ut.removeAttribute(St))}),nt},ze=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ct=(ut,Ie)=>{let nt=ze;return Ie&&Ie.length>0&&(nt=nt.filter(St=>!Ie.includes(St))),oe(ut,nt)},$e=(ut,Ie,nt,St)=>{var Nt;if(typeof window<"u"){const At=window,Pt=null===(Nt=null==At?void 0:At.Ionic)||void 0===Nt?void 0:Nt.config;if(Pt){const Lt=Pt.get("_ael");if(Lt)return Lt(ut,Ie,nt,St);if(Pt._ael)return Pt._ael(ut,Ie,nt,St)}}return ut.addEventListener(Ie,nt,St)},Fe=(ut,Ie,nt,St)=>{var Nt;if(typeof window<"u"){const At=window,Pt=null===(Nt=null==At?void 0:At.Ionic)||void 0===Nt?void 0:Nt.config;if(Pt){const Lt=Pt.get("_rel");if(Lt)return Lt(ut,Ie,nt,St);if(Pt._rel)return Pt._rel(ut,Ie,nt,St)}}return ut.removeEventListener(Ie,nt,St)},vt=(ut,Ie=ut)=>ut.shadowRoot||Ie,Pe=ut=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ut):"function"==typeof requestAnimationFrame?requestAnimationFrame(ut):setTimeout(ut),xe=ut=>!!ut.shadowRoot&&!!ut.attachShadow,Ue=ut=>{const Ie=ut.closest("ion-item");return Ie?Ie.querySelector("ion-label"):null},je=ut=>{if(ut.focus(),ut.classList.contains("ion-focusable")){const Ie=ut.closest("ion-app");Ie&&Ie.setFocus([ut])}},pt=(ut,Ie)=>{let nt;const St=ut.getAttribute("aria-labelledby"),Nt=ut.id;let At=null!==St&&""!==St.trim()?St:Ie+"-lbl",Pt=null!==St&&""!==St.trim()?document.getElementById(St):Ue(ut);return Pt?(null===St&&(Pt.id=At),nt=Pt.textContent,Pt.setAttribute("aria-hidden","true")):""!==Nt.trim()&&(Pt=document.querySelector(`label[for="${Nt}"]`),Pt&&(""!==Pt.id?At=Pt.id:Pt.id=At=`${Nt}-lbl`,nt=Pt.textContent)),{label:Pt,labelId:At,labelText:nt}},gt=(ut,Ie,nt,St,Nt)=>{if(ut||xe(Ie)){let At=Ie.querySelector("input.aux-input");At||(At=Ie.ownerDocument.createElement("input"),At.type="hidden",At.classList.add("aux-input"),Ie.appendChild(At)),At.disabled=Nt,At.name=nt,At.value=St||""}},kt=(ut,Ie,nt)=>Math.max(ut,Math.min(Ie,nt)),be=(ut,Ie)=>{if(!ut){const nt="ASSERT: "+Ie;throw console.error(nt),new Error(nt)}},Ge=ut=>ut.timeStamp||Date.now(),yt=ut=>{if(ut){const Ie=ut.changedTouches;if(Ie&&Ie.length>0){const nt=Ie[0];return{x:nt.clientX,y:nt.clientY}}if(void 0!==ut.pageX)return{x:ut.pageX,y:ut.pageY}}return{x:0,y:0}},at=ut=>{const Ie="rtl"===document.dir;switch(ut){case"start":return Ie;case"end":return!Ie;default:throw new Error(`"${ut}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=(ut,Ie)=>{const nt=ut._original||ut;return{_original:ut,emit:dt(nt.emit.bind(nt),Ie)}},dt=(ut,Ie=0)=>{let nt;return(...St)=>{clearTimeout(nt),nt=setTimeout(ut,Ie,...St)}},Ut=(ut,Ie)=>{if(null!=ut||(ut={}),null!=Ie||(Ie={}),ut===Ie)return!0;const nt=Object.keys(ut);if(nt.length!==Object.keys(Ie).length)return!1;for(const St of nt)if(!(St in Ie)||ut[St]!==Ie[St])return!1;return!0}},1843:(ei,Jt,U)=>{"use strict";U.d(Jt,{L:()=>oe,a:()=>ze,b:()=>ct,c:()=>$e,d:()=>Fe,e:()=>Ie,g:()=>Nt,l:()=>Ut,s:()=>nt,t:()=>xe});var t=U(5861),Z=U(1308),ie=U(5730);const oe="ionViewWillEnter",ze="ionViewDidEnter",ct="ionViewWillLeave",$e="ionViewDidLeave",Fe="ionViewWillUnload",xe=At=>new Promise((Pt,Lt)=>{(0,Z.c)(()=>{Ue(At),je(At).then(Et=>{Et.animation&&Et.animation.destroy(),pt(At),Pt(Et)},Et=>{pt(At),Lt(Et)})})}),Ue=At=>{const Pt=At.enteringEl,Lt=At.leavingEl;St(Pt,Lt,At.direction),At.showGoBack?Pt.classList.add("can-go-back"):Pt.classList.remove("can-go-back"),nt(Pt,!1),Pt.style.setProperty("pointer-events","none"),Lt&&(nt(Lt,!1),Lt.style.setProperty("pointer-events","none"))},je=function(){var At=(0,t.Z)(function*(Pt){const Lt=yield gt(Pt);return Lt&&Z.B.isBrowser?kt(Lt,Pt):be(Pt)});return function(Lt){return At.apply(this,arguments)}}(),pt=At=>{const Pt=At.enteringEl,Lt=At.leavingEl;Pt.classList.remove("ion-page-invisible"),Pt.style.removeProperty("pointer-events"),void 0!==Lt&&(Lt.classList.remove("ion-page-invisible"),Lt.style.removeProperty("pointer-events"))},gt=function(){var At=(0,t.Z)(function*(Pt){return Pt.leavingEl&&Pt.animated&&0!==Pt.duration?Pt.animationBuilder?Pt.animationBuilder:"ios"===Pt.mode?(yield Promise.resolve().then(U.bind(U,6439))).iosTransitionAnimation:(yield Promise.resolve().then(U.bind(U,7838))).mdTransitionAnimation:void 0});return function(Lt){return At.apply(this,arguments)}}(),kt=function(){var At=(0,t.Z)(function*(Pt,Lt){yield Ge(Lt,!0);const Et=Pt(Lt.baseEl,Lt);Ve(Lt.enteringEl,Lt.leavingEl);const it=yield at(Et,Lt);return Lt.progressCallback&&Lt.progressCallback(void 0),it&&dt(Lt.enteringEl,Lt.leavingEl),{hasCompleted:it,animation:Et}});return function(Lt,Et){return At.apply(this,arguments)}}(),be=function(){var At=(0,t.Z)(function*(Pt){const Lt=Pt.enteringEl,Et=Pt.leavingEl;return yield Ge(Pt,!1),Ve(Lt,Et),dt(Lt,Et),{hasCompleted:!0}});return function(Lt){return At.apply(this,arguments)}}(),Ge=function(){var At=(0,t.Z)(function*(Pt,Lt){const it=(void 0!==Pt.deepWait?Pt.deepWait:Lt)?[Ie(Pt.enteringEl),Ie(Pt.leavingEl)]:[ut(Pt.enteringEl),ut(Pt.leavingEl)];yield Promise.all(it),yield yt(Pt.viewIsReady,Pt.enteringEl)});return function(Lt,Et){return At.apply(this,arguments)}}(),yt=function(){var At=(0,t.Z)(function*(Pt,Lt){Pt&&(yield Pt(Lt))});return function(Lt,Et){return At.apply(this,arguments)}}(),at=(At,Pt)=>{const Lt=Pt.progressCallback,Et=new Promise(it=>{At.onFinish(Vt=>it(1===Vt))});return Lt?(At.progressStart(!0),Lt(At)):At.play(),Et},Ve=(At,Pt)=>{Ut(Pt,ct),Ut(At,oe)},dt=(At,Pt)=>{Ut(At,ze),Ut(Pt,$e)},Ut=(At,Pt)=>{if(At){const Lt=new CustomEvent(Pt,{bubbles:!1,cancelable:!1});At.dispatchEvent(Lt)}},ut=At=>At?new Promise(Pt=>(0,ie.c)(At,Pt)):Promise.resolve(),Ie=function(){var At=(0,t.Z)(function*(Pt){const Lt=Pt;if(Lt){if(null!=Lt.componentOnReady){if(null!=(yield Lt.componentOnReady()))return}else if(null!=Lt.__registerHost)return void(yield new Promise(it=>(0,ie.r)(it)));yield Promise.all(Array.from(Lt.children).map(Ie))}});return function(Lt){return At.apply(this,arguments)}}(),nt=(At,Pt)=>{Pt?(At.setAttribute("aria-hidden","true"),At.classList.add("ion-page-hidden")):(At.hidden=!1,At.removeAttribute("aria-hidden"),At.classList.remove("ion-page-hidden"))},St=(At,Pt,Lt)=>{void 0!==At&&(At.style.zIndex="back"===Lt?"99":"101"),void 0!==Pt&&(Pt.style.zIndex="100")},Nt=At=>At.classList.contains("ion-page")?At:At.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||At},6369:(ei,Jt,U)=>{"use strict";U.d(Jt,{m:()=>xe});var t=U(5861),Z=U(7593),ie=U(5730),oe=U(5179),ze=U(181);const ct=Ue=>(0,ze.c)().duration(Ue?400:300),$e=Ue=>{let je,pt;const gt=Ue.width+8,kt=(0,ze.c)(),be=(0,ze.c)();Ue.isEndSide?(je=gt+"px",pt="0px"):(je=-gt+"px",pt="0px"),kt.addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${je})`,`translateX(${pt})`);const yt="ios"===(0,oe.b)(Ue),at=yt?.2:.25;return be.addElement(Ue.backdropEl).fromTo("opacity",.01,at),ct(yt).addAnimation([kt,be])},Fe=Ue=>{let je,pt;const gt=(0,oe.b)(Ue),kt=Ue.width;Ue.isEndSide?(je=-kt+"px",pt=kt+"px"):(je=kt+"px",pt=-kt+"px");const be=(0,ze.c)().addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${pt})`,"translateX(0px)"),Ge=(0,ze.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${je})`),yt=(0,ze.c)().addElement(Ue.backdropEl).fromTo("opacity",.01,.32);return ct("ios"===gt).addAnimation([be,Ge,yt])},vt=Ue=>{const je=(0,oe.b)(Ue),pt=Ue.width*(Ue.isEndSide?-1:1)+"px",gt=(0,ze.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${pt})`);return ct("ios"===je).addAnimation(gt)},xe=(()=>{const Ue=new Map,je=[],pt=function(){var Je=(0,t.Z)(function*(rt){const Yt=yield Ve(rt);return!!Yt&&Yt.open()});return function(Yt){return Je.apply(this,arguments)}}(),gt=function(){var Je=(0,t.Z)(function*(rt){const Yt=yield void 0!==rt?Ve(rt):dt();return void 0!==Yt&&Yt.close()});return function(Yt){return Je.apply(this,arguments)}}(),kt=function(){var Je=(0,t.Z)(function*(rt){const Yt=yield Ve(rt);return!!Yt&&Yt.toggle()});return function(Yt){return Je.apply(this,arguments)}}(),be=function(){var Je=(0,t.Z)(function*(rt,Yt){const $t=yield Ve(Yt);return $t&&($t.disabled=!rt),$t});return function(Yt,$t){return Je.apply(this,arguments)}}(),Ge=function(){var Je=(0,t.Z)(function*(rt,Yt){const $t=yield Ve(Yt);return $t&&($t.swipeGesture=rt),$t});return function(Yt,$t){return Je.apply(this,arguments)}}(),yt=function(){var Je=(0,t.Z)(function*(rt){if(null!=rt){const Yt=yield Ve(rt);return void 0!==Yt&&Yt.isOpen()}return void 0!==(yield dt())});return function(Yt){return Je.apply(this,arguments)}}(),at=function(){var Je=(0,t.Z)(function*(rt){const Yt=yield Ve(rt);return!!Yt&&!Yt.disabled});return function(Yt){return Je.apply(this,arguments)}}(),Ve=function(){var Je=(0,t.Z)(function*(rt){return yield lt(),"start"===rt||"end"===rt?Vt(Qt=>Qt.side===rt&&!Qt.disabled)||Vt(Qt=>Qt.side===rt):null!=rt?Vt($t=>$t.menuId===rt):Vt($t=>!$t.disabled)||(je.length>0?je[0].el:void 0)});return function(Yt){return Je.apply(this,arguments)}}(),dt=function(){var Je=(0,t.Z)(function*(){return yield lt(),Lt()});return function(){return Je.apply(this,arguments)}}(),Ut=function(){var Je=(0,t.Z)(function*(){return yield lt(),Et()});return function(){return Je.apply(this,arguments)}}(),ut=function(){var Je=(0,t.Z)(function*(){return yield lt(),it()});return function(){return Je.apply(this,arguments)}}(),Ie=(Je,rt)=>{Ue.set(Je,rt)},Nt=Je=>{const rt=Je.side;je.filter(Yt=>Yt.side===rt&&Yt!==Je).forEach(Yt=>Yt.disabled=!0)},At=function(){var Je=(0,t.Z)(function*(rt,Yt,$t){if(it())return!1;if(Yt){const Qt=yield dt();Qt&&rt.el!==Qt&&(yield Qt.setOpen(!1,!1))}return rt._setOpen(Yt,$t)});return function(Yt,$t,Qt){return Je.apply(this,arguments)}}(),Lt=()=>Vt(Je=>Je._isOpen),Et=()=>je.map(Je=>Je.el),it=()=>je.some(Je=>Je.isAnimating),Vt=Je=>{const rt=je.find(Je);if(void 0!==rt)return rt.el},lt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Je=>new Promise(rt=>(0,ie.c)(Je,rt))));return Ie("reveal",vt),Ie("push",Fe),Ie("overlay",$e),typeof document<"u"&&document.addEventListener("ionBackButton",Je=>{const rt=Lt();rt&&Je.detail.register(Z.MENU_BACK_BUTTON_PRIORITY,()=>rt.close())}),{registerAnimation:Ie,get:Ve,getMenus:Ut,getOpen:dt,isEnabled:at,swipeGesture:Ge,isAnimating:ut,isOpen:yt,enable:be,toggle:kt,close:gt,open:pt,_getOpenSync:Lt,_createAnimation:(Je,rt)=>{const Yt=Ue.get(Je);if(!Yt)throw new Error("animation not registered");return Yt(rt)},_register:Je=>{je.indexOf(Je)<0&&(Je.disabled||Nt(Je),je.push(Je))},_unregister:Je=>{const rt=je.indexOf(Je);rt>-1&&je.splice(rt,1)},_setOpen:At,_setActiveMenu:Nt}})()},3457:(ei,Jt,U)=>{"use strict";U.d(Jt,{w:()=>t});const t=typeof window<"u"?window:void 0},1898:(ei,Jt,U)=>{"use strict";U.r(Jt),U.d(Jt,{GESTURE_CONTROLLER:()=>t.G,createGesture:()=>vt});var t=U(4349);const Z=(je,pt,gt,kt)=>{const be=ie(je)?{capture:!!kt.capture,passive:!!kt.passive}:!!kt.capture;let Ge,yt;return je.__zone_symbol__addEventListener?(Ge="__zone_symbol__addEventListener",yt="__zone_symbol__removeEventListener"):(Ge="addEventListener",yt="removeEventListener"),je[Ge](pt,gt,be),()=>{je[yt](pt,gt,be)}},ie=je=>{if(void 0===oe)try{const pt=Object.defineProperty({},"passive",{get:()=>{oe=!0}});je.addEventListener("optsTest",()=>{},pt)}catch(pt){oe=!1}return!!oe};let oe;const $e=je=>je instanceof Document?je:je.ownerDocument,vt=je=>{let pt=!1,gt=!1,kt=!0,be=!1;const Ge=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},je),yt=Ge.canStart,at=Ge.onWillStart,Ve=Ge.onStart,dt=Ge.onEnd,Ut=Ge.notCaptured,ut=Ge.onMove,Ie=Ge.threshold,nt=Ge.passive,St=Ge.blurOnStart,Nt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},At=((je,pt,gt)=>{const kt=gt*(Math.PI/180),be="x"===je,Ge=Math.cos(kt),yt=pt*pt;let at=0,Ve=0,dt=!1,Ut=0;return{start(ut,Ie){at=ut,Ve=Ie,Ut=0,dt=!0},detect(ut,Ie){if(!dt)return!1;const nt=ut-at,St=Ie-Ve,Nt=nt*nt+St*St;if(Nt<yt)return!1;const At=Math.sqrt(Nt),Pt=(be?nt:St)/At;return Ut=Pt>Ge?1:Pt<-Ge?-1:0,dt=!1,!0},isGesture:()=>0!==Ut,getDirection:()=>Ut}})(Ge.direction,Ge.threshold,Ge.maxAngle),Pt=t.G.createGesture({name:je.gestureName,priority:je.gesturePriority,disableScroll:je.disableScroll}),it=()=>{pt&&(be=!1,ut&&ut(Nt))},Vt=()=>!!Pt.capture()&&(pt=!0,kt=!1,Nt.startX=Nt.currentX,Nt.startY=Nt.currentY,Nt.startTime=Nt.currentTime,at?at(Nt).then(Je):Je(),!0),Je=()=>{St&&(()=>{if(typeof document<"u"){const Bt=document.activeElement;null!=Bt&&Bt.blur&&Bt.blur()}})(),Ve&&Ve(Nt),kt=!0},rt=()=>{pt=!1,gt=!1,be=!1,kt=!0,Pt.release()},Yt=Bt=>{const hn=pt,qe=kt;if(rt(),qe){if(Pe(Nt,Bt),hn)return void(dt&&dt(Nt));Ut&&Ut(Nt)}},$t=((je,pt,gt,kt,be)=>{let Ge,yt,at,Ve,dt,Ut,ut,Ie=0;const nt=lt=>{Ie=Date.now()+2e3,pt(lt)&&(!yt&&gt&&(yt=Z(je,"touchmove",gt,be)),at||(at=Z(lt.target,"touchend",Nt,be)),Ve||(Ve=Z(lt.target,"touchcancel",Nt,be)))},St=lt=>{Ie>Date.now()||pt(lt)&&(!Ut&&gt&&(Ut=Z($e(je),"mousemove",gt,be)),ut||(ut=Z($e(je),"mouseup",At,be)))},Nt=lt=>{Pt(),kt&&kt(lt)},At=lt=>{Lt(),kt&&kt(lt)},Pt=()=>{yt&&yt(),at&&at(),Ve&&Ve(),yt=at=Ve=void 0},Lt=()=>{Ut&&Ut(),ut&&ut(),Ut=ut=void 0},Et=()=>{Pt(),Lt()},it=(lt=!0)=>{lt?(Ge||(Ge=Z(je,"touchstart",nt,be)),dt||(dt=Z(je,"mousedown",St,be))):(Ge&&Ge(),dt&&dt(),Ge=dt=void 0,Et())};return{enable:it,stop:Et,destroy:()=>{it(!1),kt=gt=pt=void 0}}})(Ge.el,Bt=>{const hn=Ue(Bt);return!(gt||!kt||(xe(Bt,Nt),Nt.startX=Nt.currentX,Nt.startY=Nt.currentY,Nt.startTime=Nt.currentTime=hn,Nt.velocityX=Nt.velocityY=Nt.deltaX=Nt.deltaY=0,Nt.event=Bt,yt&&!1===yt(Nt))||(Pt.release(),!Pt.start()))&&(gt=!0,0===Ie?Vt():(At.start(Nt.startX,Nt.startY),!0))},Bt=>{pt?!be&&kt&&(be=!0,Pe(Nt,Bt),requestAnimationFrame(it)):(Pe(Nt,Bt),At.detect(Nt.currentX,Nt.currentY)&&(!At.isGesture()||!Vt())&&Qt())},Yt,{capture:!1,passive:nt}),Qt=()=>{rt(),$t.stop(),Ut&&Ut(Nt)};return{enable(Bt=!0){Bt||(pt&&Yt(void 0),rt()),$t.enable(Bt)},destroy(){Pt.destroy(),$t.destroy()}}},Pe=(je,pt)=>{if(!pt)return;const gt=je.currentX,kt=je.currentY,be=je.currentTime;xe(pt,je);const Ge=je.currentX,yt=je.currentY,Ve=(je.currentTime=Ue(pt))-be;if(Ve>0&&Ve<100){const Ut=(yt-kt)/Ve;je.velocityX=(Ge-gt)/Ve*.7+.3*je.velocityX,je.velocityY=.7*Ut+.3*je.velocityY}je.deltaX=Ge-je.startX,je.deltaY=yt-je.startY,je.event=pt},xe=(je,pt)=>{let gt=0,kt=0;if(je){const be=je.changedTouches;if(be&&be.length>0){const Ge=be[0];gt=Ge.clientX,kt=Ge.clientY}else void 0!==je.pageX&&(gt=je.pageX,kt=je.pageY)}pt.currentX=gt,pt.currentY=kt},Ue=je=>je.timeStamp||Date.now()},1308:(ei,Jt,U)=>{"use strict";U.d(Jt,{B:()=>sn,H:()=>ai,a:()=>Qt,b:()=>zt,c:()=>Xi,e:()=>mn,f:()=>or,g:()=>Bt,h:()=>Ln,i:()=>Dn,j:()=>rr,k:()=>Wn,p:()=>kt,r:()=>Ot,s:()=>pt});var t=U(5861);let ie,oe,ze,ct=!1,$e=!1,Fe=!1,vt=!1,Pe=!1;const xe=typeof window<"u"?window:{},Ue=xe.document||{head:{}},je={$flags$:0,$resourcesUrl$:"",jmp:Q=>Q(),raf:Q=>requestAnimationFrame(Q),ael:(Q,de,Ze,_t)=>Q.addEventListener(de,Ze,_t),rel:(Q,de,Ze,_t)=>Q.removeEventListener(de,Ze,_t),ce:(Q,de)=>new CustomEvent(Q,de)},pt=Q=>{Object.assign(je,Q)},kt=Q=>Promise.resolve(Q),be=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(Q){}return!1})(),Ge=(Q,de,Ze,_t)=>{Ze&&Ze.map(([Gt,Ae,bt])=>{const Xt=at(Q,Gt),Sn=yt(de,bt),On=Ve(Gt);je.ael(Xt,Ae,Sn,On),(de.$rmListeners$=de.$rmListeners$||[]).push(()=>je.rel(Xt,Ae,Sn,On))})},yt=(Q,de)=>Ze=>{try{256&Q.$flags$?Q.$lazyInstance$[de](Ze):(Q.$queuedListeners$=Q.$queuedListeners$||[]).push([de,Ze])}catch(_t){Ii(_t)}},at=(Q,de)=>4&de?Ue:8&de?xe:16&de?Ue.body:Q,Ve=Q=>0!=(2&Q),nt="s-id",St="sty-id",Pt="http://www.w3.org/1999/xlink",it=new WeakMap,Vt=(Q,de,Ze)=>{let _t=Ni.get(Q);be&&Ze?(_t=_t||new CSSStyleSheet,"string"==typeof _t?_t=de:_t.replaceSync(de)):_t=de,Ni.set(Q,_t)},lt=(Q,de,Ze,_t)=>{let Gt=rt(de,Ze);const Ae=Ni.get(Gt);if(Q=11===Q.nodeType?Q:Ue,Ae)if("string"==typeof Ae){let Xt,bt=it.get(Q=Q.head||Q);bt||it.set(Q,bt=new Set),bt.has(Gt)||(Q.host&&(Xt=Q.querySelector(`[${St}="${Gt}"]`))?Xt.innerHTML=Ae:(Xt=Ue.createElement("style"),Xt.innerHTML=Ae,Q.insertBefore(Xt,Q.querySelector("link"))),bt&&bt.add(Gt))}else Q.adoptedStyleSheets.includes(Ae)||(Q.adoptedStyleSheets=[...Q.adoptedStyleSheets,Ae]);return Gt},rt=(Q,de)=>"sc-"+(de&&32&Q.$flags$?Q.$tagName$+"-"+de:Q.$tagName$),Yt=Q=>Q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Qt=Q=>Ir.push(Q),Bt=Q=>oi(Q).$modeName$,hn={},Hn=Q=>"object"==(Q=typeof Q)||"function"===Q,Ln=(Q,de,...Ze)=>{let _t=null,Gt=null,Ae=null,bt=!1,Xt=!1;const Sn=[],On=Bi=>{for(let Gi=0;Gi<Bi.length;Gi++)_t=Bi[Gi],Array.isArray(_t)?On(_t):null!=_t&&"boolean"!=typeof _t&&((bt="function"!=typeof Q&&!Hn(_t))&&(_t=String(_t)),bt&&Xt?Sn[Sn.length-1].$text$+=_t:Sn.push(bt?si(null,_t):_t),Xt=bt)};if(On(Ze),de){de.key&&(Gt=de.key),de.name&&(Ae=de.name);{const Bi=de.className||de.class;Bi&&(de.class="object"!=typeof Bi?Bi:Object.keys(Bi).filter(Gi=>Bi[Gi]).join(" "))}}if("function"==typeof Q)return Q(null===de?{}:de,Sn,Mi);const li=si(Q,null);return li.$attrs$=de,Sn.length>0&&(li.$children$=Sn),li.$key$=Gt,li.$name$=Ae,li},si=(Q,de)=>({$flags$:0,$tag$:Q,$text$:de,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ai={},Mi={forEach:(Q,de)=>Q.map(Kt).forEach(de),map:(Q,de)=>Q.map(Kt).map(de).map(Ye)},Kt=Q=>({vattrs:Q.$attrs$,vchildren:Q.$children$,vkey:Q.$key$,vname:Q.$name$,vtag:Q.$tag$,vtext:Q.$text$}),Ye=Q=>{if("function"==typeof Q.vtag){const Ze=Object.assign({},Q.vattrs);return Q.vkey&&(Ze.key=Q.vkey),Q.vname&&(Ze.name=Q.vname),Ln(Q.vtag,Ze,...Q.vchildren||[])}const de=si(Q.vtag,Q.vtext);return de.$attrs$=Q.vattrs,de.$children$=Q.vchildren,de.$key$=Q.vkey,de.$name$=Q.vname,de},ke=(Q,de,Ze,_t,Gt,Ae)=>{if(Ze!==_t){let bt=Bn(Q,de),Xt=de.toLowerCase();if("class"===de){const Sn=Q.classList,On=Mt(Ze),li=Mt(_t);Sn.remove(...On.filter(Bi=>Bi&&!li.includes(Bi))),Sn.add(...li.filter(Bi=>Bi&&!On.includes(Bi)))}else if("style"===de){for(const Sn in Ze)(!_t||null==_t[Sn])&&(Sn.includes("-")?Q.style.removeProperty(Sn):Q.style[Sn]="");for(const Sn in _t)(!Ze||_t[Sn]!==Ze[Sn])&&(Sn.includes("-")?Q.style.setProperty(Sn,_t[Sn]):Q.style[Sn]=_t[Sn])}else if("key"!==de)if("ref"===de)_t&&_t(Q);else if(bt||"o"!==de[0]||"n"!==de[1]){const Sn=Hn(_t);if((bt||Sn&&null!==_t)&&!Gt)try{if(Q.tagName.includes("-"))Q[de]=_t;else{const li=null==_t?"":_t;"list"===de?bt=!1:(null==Ze||Q[de]!=li)&&(Q[de]=li)}}catch(li){}let On=!1;Xt!==(Xt=Xt.replace(/^xlink\:?/,""))&&(de=Xt,On=!0),null==_t||!1===_t?(!1!==_t||""===Q.getAttribute(de))&&(On?Q.removeAttributeNS(Pt,de):Q.removeAttribute(de)):(!bt||4&Ae||Gt)&&!Sn&&(_t=!0===_t?"":_t,On?Q.setAttributeNS(Pt,de,_t):Q.setAttribute(de,_t))}else de="-"===de[2]?de.slice(3):Bn(xe,Xt)?Xt.slice(2):Xt[2]+de.slice(3),Ze&&je.rel(Q,de,Ze,!1),_t&&je.ael(Q,de,_t,!1)}},Be=/\s/,Mt=Q=>Q?Q.split(Be):[],vn=(Q,de,Ze,_t)=>{const Gt=11===de.$elm$.nodeType&&de.$elm$.host?de.$elm$.host:de.$elm$,Ae=Q&&Q.$attrs$||hn,bt=de.$attrs$||hn;for(_t in Ae)_t in bt||ke(Gt,_t,Ae[_t],void 0,Ze,de.$flags$);for(_t in bt)ke(Gt,_t,Ae[_t],bt[_t],Ze,de.$flags$)},qn=(Q,de,Ze,_t)=>{const Gt=de.$children$[Ze];let bt,Xt,Sn,Ae=0;if(ct||(Fe=!0,"slot"===Gt.$tag$&&(ie&&_t.classList.add(ie+"-s"),Gt.$flags$|=Gt.$children$?2:1)),null!==Gt.$text$)bt=Gt.$elm$=Ue.createTextNode(Gt.$text$);else if(1&Gt.$flags$)bt=Gt.$elm$=Ue.createTextNode("");else{if(vt||(vt="svg"===Gt.$tag$),bt=Gt.$elm$=Ue.createElementNS(vt?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Gt.$flags$?"slot-fb":Gt.$tag$),vt&&"foreignObject"===Gt.$tag$&&(vt=!1),vn(null,Gt,vt),(Q=>null!=Q)(ie)&&bt["s-si"]!==ie&&bt.classList.add(bt["s-si"]=ie),Gt.$children$)for(Ae=0;Ae<Gt.$children$.length;++Ae)Xt=qn(Q,Gt,Ae,bt),Xt&&bt.appendChild(Xt);"svg"===Gt.$tag$?vt=!1:"foreignObject"===bt.tagName&&(vt=!0)}return bt["s-hn"]=ze,3&Gt.$flags$&&(bt["s-sr"]=!0,bt["s-cr"]=oe,bt["s-sn"]=Gt.$name$||"",Sn=Q&&Q.$children$&&Q.$children$[Ze],Sn&&Sn.$tag$===Gt.$tag$&&Q.$elm$&&ii(Q.$elm$,!1)),bt},ii=(Q,de)=>{je.$flags$|=1;const Ze=Q.childNodes;for(let _t=Ze.length-1;_t>=0;_t--){const Gt=Ze[_t];Gt["s-hn"]!==ze&&Gt["s-ol"]&&(Pi(Gt).insertBefore(Gt,mi(Gt)),Gt["s-ol"].remove(),Gt["s-ol"]=void 0,Fe=!0),de&&ii(Gt,de)}je.$flags$&=-2},gi=(Q,de,Ze,_t,Gt,Ae)=>{let Xt,bt=Q["s-cr"]&&Q["s-cr"].parentNode||Q;for(bt.shadowRoot&&bt.tagName===ze&&(bt=bt.shadowRoot);Gt<=Ae;++Gt)_t[Gt]&&(Xt=qn(null,Ze,Gt,Q),Xt&&(_t[Gt].$elm$=Xt,bt.insertBefore(Xt,mi(de))))},$i=(Q,de,Ze,_t,Gt)=>{for(;de<=Ze;++de)(_t=Q[de])&&(Gt=_t.$elm$,pn(_t),$e=!0,Gt["s-ol"]?Gt["s-ol"].remove():ii(Gt,!0),Gt.remove())},zn=(Q,de)=>Q.$tag$===de.$tag$&&("slot"===Q.$tag$?Q.$name$===de.$name$:Q.$key$===de.$key$),mi=Q=>Q&&Q["s-ol"]||Q,Pi=Q=>(Q["s-ol"]?Q["s-ol"]:Q).parentNode,Si=(Q,de)=>{const Ze=de.$elm$=Q.$elm$,_t=Q.$children$,Gt=de.$children$,Ae=de.$tag$,bt=de.$text$;let Xt;null===bt?(vt="svg"===Ae||"foreignObject"!==Ae&&vt,"slot"===Ae||vn(Q,de,vt),null!==_t&&null!==Gt?((Q,de,Ze,_t)=>{let qs,Sr,Gt=0,Ae=0,bt=0,Xt=0,Sn=de.length-1,On=de[0],li=de[Sn],Bi=_t.length-1,Gi=_t[0],Dr=_t[Bi];for(;Gt<=Sn&&Ae<=Bi;)if(null==On)On=de[++Gt];else if(null==li)li=de[--Sn];else if(null==Gi)Gi=_t[++Ae];else if(null==Dr)Dr=_t[--Bi];else if(zn(On,Gi))Si(On,Gi),On=de[++Gt],Gi=_t[++Ae];else if(zn(li,Dr))Si(li,Dr),li=de[--Sn],Dr=_t[--Bi];else if(zn(On,Dr))("slot"===On.$tag$||"slot"===Dr.$tag$)&&ii(On.$elm$.parentNode,!1),Si(On,Dr),Q.insertBefore(On.$elm$,li.$elm$.nextSibling),On=de[++Gt],Dr=_t[--Bi];else if(zn(li,Gi))("slot"===On.$tag$||"slot"===Dr.$tag$)&&ii(li.$elm$.parentNode,!1),Si(li,Gi),Q.insertBefore(li.$elm$,On.$elm$),li=de[--Sn],Gi=_t[++Ae];else{for(bt=-1,Xt=Gt;Xt<=Sn;++Xt)if(de[Xt]&&null!==de[Xt].$key$&&de[Xt].$key$===Gi.$key$){bt=Xt;break}bt>=0?(Sr=de[bt],Sr.$tag$!==Gi.$tag$?qs=qn(de&&de[Ae],Ze,bt,Q):(Si(Sr,Gi),de[bt]=void 0,qs=Sr.$elm$),Gi=_t[++Ae]):(qs=qn(de&&de[Ae],Ze,Ae,Q),Gi=_t[++Ae]),qs&&Pi(On.$elm$).insertBefore(qs,mi(On.$elm$))}Gt>Sn?gi(Q,null==_t[Bi+1]?null:_t[Bi+1].$elm$,Ze,_t,Ae,Bi):Ae>Bi&&$i(de,Gt,Sn)})(Ze,_t,de,Gt):null!==Gt?(null!==Q.$text$&&(Ze.textContent=""),gi(Ze,null,de,Gt,0,Gt.length-1)):null!==_t&&$i(_t,0,_t.length-1),vt&&"svg"===Ae&&(vt=!1)):(Xt=Ze["s-cr"])?Xt.parentNode.textContent=bt:Q.$text$!==bt&&(Ze.data=bt)},Ci=Q=>{const de=Q.childNodes;let Ze,_t,Gt,Ae,bt,Xt;for(_t=0,Gt=de.length;_t<Gt;_t++)if(Ze=de[_t],1===Ze.nodeType){if(Ze["s-sr"])for(bt=Ze["s-sn"],Ze.hidden=!1,Ae=0;Ae<Gt;Ae++)if(Xt=de[Ae].nodeType,de[Ae]["s-hn"]!==Ze["s-hn"]||""!==bt){if(1===Xt&&bt===de[Ae].getAttribute("slot")){Ze.hidden=!0;break}}else if(1===Xt||3===Xt&&""!==de[Ae].textContent.trim()){Ze.hidden=!0;break}Ci(Ze)}},dn=[],xt=Q=>{let de,Ze,_t,Gt,Ae,bt,Xt=0;const Sn=Q.childNodes,On=Sn.length;for(;Xt<On;Xt++){if(de=Sn[Xt],de["s-sr"]&&(Ze=de["s-cr"])&&Ze.parentNode)for(_t=Ze.parentNode.childNodes,Gt=de["s-sn"],bt=_t.length-1;bt>=0;bt--)Ze=_t[bt],!Ze["s-cn"]&&!Ze["s-nr"]&&Ze["s-hn"]!==de["s-hn"]&&(Wt(Ze,Gt)?(Ae=dn.find(li=>li.$nodeToRelocate$===Ze),$e=!0,Ze["s-sn"]=Ze["s-sn"]||Gt,Ae?Ae.$slotRefNode$=de:dn.push({$slotRefNode$:de,$nodeToRelocate$:Ze}),Ze["s-sr"]&&dn.map(li=>{Wt(li.$nodeToRelocate$,Ze["s-sn"])&&(Ae=dn.find(Bi=>Bi.$nodeToRelocate$===Ze),Ae&&!li.$slotRefNode$&&(li.$slotRefNode$=Ae.$slotRefNode$))})):dn.some(li=>li.$nodeToRelocate$===Ze)||dn.push({$nodeToRelocate$:Ze}));1===de.nodeType&&xt(de)}},Wt=(Q,de)=>1===Q.nodeType?null===Q.getAttribute("slot")&&""===de||Q.getAttribute("slot")===de:Q["s-sn"]===de||""===de,pn=Q=>{Q.$attrs$&&Q.$attrs$.ref&&Q.$attrs$.ref(null),Q.$children$&&Q.$children$.map(pn)},Dn=Q=>oi(Q).$hostElement$,mn=(Q,de,Ze)=>{const _t=Dn(Q);return{emit:Gt=>Ee(_t,de,{bubbles:!!(4&Ze),composed:!!(2&Ze),cancelable:!!(1&Ze),detail:Gt})}},Ee=(Q,de,Ze)=>{const _t=je.ce(de,Ze);return Q.dispatchEvent(_t),_t},we=(Q,de)=>{de&&!Q.$onRenderResolve$&&de["s-p"]&&de["s-p"].push(new Promise(Ze=>Q.$onRenderResolve$=Ze))},ot=(Q,de)=>{if(Q.$flags$|=16,!(4&Q.$flags$))return we(Q,Q.$ancestorComponent$),Xi(()=>on(Q,de));Q.$flags$|=512},on=(Q,de)=>{const _t=Q.$lazyInstance$;let Gt;return de&&(Q.$flags$|=256,Q.$queuedListeners$&&(Q.$queuedListeners$.map(([Ae,bt])=>ye(_t,Ae,bt)),Q.$queuedListeners$=null),Gt=ye(_t,"componentWillLoad")),Gt=he(Gt,()=>ye(_t,"componentWillRender")),he(Gt,()=>Un(Q,_t,de))},Un=function(){var Q=(0,t.Z)(function*(de,Ze,_t){const Gt=de.$hostElement$,bt=Gt["s-rc"];_t&&(Q=>{const de=Q.$cmpMeta$,Ze=Q.$hostElement$,_t=de.$flags$,Ae=lt(Ze.shadowRoot?Ze.shadowRoot:Ze.getRootNode(),de,Q.$modeName$);10&_t&&(Ze["s-sc"]=Ae,Ze.classList.add(Ae+"-h"),2&_t&&Ze.classList.add(Ae+"-s"))})(de);wi(de,Ze),bt&&(bt.map(Sn=>Sn()),Gt["s-rc"]=void 0);{const Sn=Gt["s-p"],On=()=>xi(de);0===Sn.length?On():(Promise.all(Sn).then(On),de.$flags$|=4,Sn.length=0)}});return function(Ze,_t,Gt){return Q.apply(this,arguments)}}(),wi=(Q,de,Ze)=>{try{de=de.render&&de.render(),Q.$flags$&=-17,Q.$flags$|=2,((Q,de)=>{const Ze=Q.$hostElement$,_t=Q.$cmpMeta$,Gt=Q.$vnode$||si(null,null),Ae=(Q=>Q&&Q.$tag$===ai)(de)?de:Ln(null,null,de);if(ze=Ze.tagName,_t.$attrsToReflect$&&(Ae.$attrs$=Ae.$attrs$||{},_t.$attrsToReflect$.map(([bt,Xt])=>Ae.$attrs$[Xt]=Ze[bt])),Ae.$tag$=null,Ae.$flags$|=4,Q.$vnode$=Ae,Ae.$elm$=Gt.$elm$=Ze.shadowRoot||Ze,ie=Ze["s-sc"],oe=Ze["s-cr"],ct=0!=(1&_t.$flags$),$e=!1,Si(Gt,Ae),je.$flags$|=1,Fe){xt(Ae.$elm$);let bt,Xt,Sn,On,li,Bi,Gi=0;for(;Gi<dn.length;Gi++)bt=dn[Gi],Xt=bt.$nodeToRelocate$,Xt["s-ol"]||(Sn=Ue.createTextNode(""),Sn["s-nr"]=Xt,Xt.parentNode.insertBefore(Xt["s-ol"]=Sn,Xt));for(Gi=0;Gi<dn.length;Gi++)if(bt=dn[Gi],Xt=bt.$nodeToRelocate$,bt.$slotRefNode$){for(On=bt.$slotRefNode$.parentNode,li=bt.$slotRefNode$.nextSibling,Sn=Xt["s-ol"];Sn=Sn.previousSibling;)if(Bi=Sn["s-nr"],Bi&&Bi["s-sn"]===Xt["s-sn"]&&On===Bi.parentNode&&(Bi=Bi.nextSibling,!Bi||!Bi["s-nr"])){li=Bi;break}(!li&&On!==Xt.parentNode||Xt.nextSibling!==li)&&Xt!==li&&(!Xt["s-hn"]&&Xt["s-ol"]&&(Xt["s-hn"]=Xt["s-ol"].parentNode.nodeName),On.insertBefore(Xt,li))}else 1===Xt.nodeType&&(Xt.hidden=!0)}$e&&Ci(Ae.$elm$),je.$flags$&=-2,dn.length=0})(Q,de)}catch(_t){Ii(_t,Q.$hostElement$)}return null},xi=Q=>{const Ze=Q.$hostElement$,Gt=Q.$lazyInstance$,Ae=Q.$ancestorComponent$;ye(Gt,"componentDidRender"),64&Q.$flags$?ye(Gt,"componentDidUpdate"):(Q.$flags$|=64,_e(Ze),ye(Gt,"componentDidLoad"),Q.$onReadyResolve$(Ze),Ae||wt()),Q.$onInstanceResolve$(Ze),Q.$onRenderResolve$&&(Q.$onRenderResolve$(),Q.$onRenderResolve$=void 0),512&Q.$flags$&&Wi(()=>ot(Q,!1)),Q.$flags$&=-517},rr=Q=>{{const de=oi(Q),Ze=de.$hostElement$.isConnected;return Ze&&2==(18&de.$flags$)&&ot(de,!1),Ze}},wt=Q=>{_e(Ue.documentElement),Wi(()=>Ee(xe,"appload",{detail:{namespace:"ionic"}}))},ye=(Q,de,Ze)=>{if(Q&&Q[de])try{return Q[de](Ze)}catch(_t){Ii(_t)}},he=(Q,de)=>Q&&Q.then?Q.then(de):de(),_e=Q=>Q.classList.add("hydrated"),It=(Q,de,Ze,_t,Gt,Ae,bt)=>{let Xt,Sn,On,li;if(1===Ae.nodeType){for(Xt=Ae.getAttribute("c-id"),Xt&&(Sn=Xt.split("."),(Sn[0]===bt||"0"===Sn[0])&&(On={$flags$:0,$hostId$:Sn[0],$nodeId$:Sn[1],$depth$:Sn[2],$index$:Sn[3],$tag$:Ae.tagName.toLowerCase(),$elm$:Ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},de.push(On),Ae.removeAttribute("c-id"),Q.$children$||(Q.$children$=[]),Q.$children$[On.$index$]=On,Q=On,_t&&"0"===On.$depth$&&(_t[On.$index$]=On.$elm$))),li=Ae.childNodes.length-1;li>=0;li--)It(Q,de,Ze,_t,Gt,Ae.childNodes[li],bt);if(Ae.shadowRoot)for(li=Ae.shadowRoot.childNodes.length-1;li>=0;li--)It(Q,de,Ze,_t,Gt,Ae.shadowRoot.childNodes[li],bt)}else if(8===Ae.nodeType)Sn=Ae.nodeValue.split("."),(Sn[1]===bt||"0"===Sn[1])&&(Xt=Sn[0],On={$flags$:0,$hostId$:Sn[1],$nodeId$:Sn[2],$depth$:Sn[3],$index$:Sn[4],$elm$:Ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Xt?(On.$elm$=Ae.nextSibling,On.$elm$&&3===On.$elm$.nodeType&&(On.$text$=On.$elm$.textContent,de.push(On),Ae.remove(),Q.$children$||(Q.$children$=[]),Q.$children$[On.$index$]=On,_t&&"0"===On.$depth$&&(_t[On.$index$]=On.$elm$))):On.$hostId$===bt&&("s"===Xt?(On.$tag$="slot",Ae["s-sn"]=Sn[5]?On.$name$=Sn[5]:"",Ae["s-sr"]=!0,_t&&(On.$elm$=Ue.createElement(On.$tag$),On.$name$&&On.$elm$.setAttribute("name",On.$name$),Ae.parentNode.insertBefore(On.$elm$,Ae),Ae.remove(),"0"===On.$depth$&&(_t[On.$index$]=On.$elm$)),Ze.push(On),Q.$children$||(Q.$children$=[]),Q.$children$[On.$index$]=On):"r"===Xt&&(_t?Ae.remove():(Gt["s-cr"]=Ae,Ae["s-cn"]=!0))));else if(Q&&"style"===Q.$tag$){const Bi=si(null,Ae.textContent);Bi.$elm$=Ae,Bi.$index$="0",Q.$children$=[Bi]}},rn=(Q,de)=>{if(1===Q.nodeType){let Ze=0;for(;Ze<Q.childNodes.length;Ze++)rn(Q.childNodes[Ze],de);if(Q.shadowRoot)for(Ze=0;Ze<Q.shadowRoot.childNodes.length;Ze++)rn(Q.shadowRoot.childNodes[Ze],de)}else if(8===Q.nodeType){const Ze=Q.nodeValue.split(".");"o"===Ze[0]&&(de.set(Ze[1]+"."+Ze[2],Q),Q.nodeValue="",Q["s-en"]=Ze[3])}},jt=(Q,de,Ze)=>{if(de.$members$){Q.watchers&&(de.$watchers$=Q.watchers);const _t=Object.entries(de.$members$),Gt=Q.prototype;if(_t.map(([Ae,[bt]])=>{31&bt||2&Ze&&32&bt?Object.defineProperty(Gt,Ae,{get(){return((Q,de)=>oi(this).$instanceValues$.get(de))(0,Ae)},set(Xt){((Q,de,Ze,_t)=>{const Gt=oi(Q),Ae=Gt.$hostElement$,bt=Gt.$instanceValues$.get(de),Xt=Gt.$flags$,Sn=Gt.$lazyInstance$;Ze=((Q,de)=>null==Q||Hn(Q)?Q:4&de?"false"!==Q&&(""===Q||!!Q):2&de?parseFloat(Q):1&de?String(Q):Q)(Ze,_t.$members$[de][0]);const On=Number.isNaN(bt)&&Number.isNaN(Ze);if((!(8&Xt)||void 0===bt)&&Ze!==bt&&!On&&(Gt.$instanceValues$.set(de,Ze),Sn)){if(_t.$watchers$&&128&Xt){const Bi=_t.$watchers$[de];Bi&&Bi.map(Gi=>{try{Sn[Gi](Ze,bt,de)}catch(Dr){Ii(Dr,Ae)}})}2==(18&Xt)&&ot(Gt,!1)}})(this,Ae,Xt,de)},configurable:!0,enumerable:!0}):1&Ze&&64&bt&&Object.defineProperty(Gt,Ae,{value(...Xt){const Sn=oi(this);return Sn.$onInstancePromise$.then(()=>Sn.$lazyInstance$[Ae](...Xt))}})}),1&Ze){const Ae=new Map;Gt.attributeChangedCallback=function(bt,Xt,Sn){je.jmp(()=>{const On=Ae.get(bt);if(this.hasOwnProperty(On))Sn=this[On],delete this[On];else if(Gt.hasOwnProperty(On)&&"number"==typeof this[On]&&this[On]==Sn)return;this[On]=(null!==Sn||"boolean"!=typeof this[On])&&Sn})},Q.observedAttributes=_t.filter(([bt,Xt])=>15&Xt[0]).map(([bt,Xt])=>{const Sn=Xt[1]||bt;return Ae.set(Sn,bt),512&Xt[0]&&de.$attrsToReflect$.push([bt,Sn]),Sn})}}return Q},mt=function(){var Q=(0,t.Z)(function*(de,Ze,_t,Gt,Ae){if(!(32&Ze.$flags$)){{if(Ze.$flags$|=32,(Ae=vi(_t)).then){const On=()=>{};Ae=yield Ae,On()}Ae.isProxied||(_t.$watchers$=Ae.watchers,jt(Ae,_t,2),Ae.isProxied=!0);const Sn=()=>{};Ze.$flags$|=8;try{new Ae(Ze)}catch(On){Ii(On)}Ze.$flags$&=-9,Ze.$flags$|=128,Sn(),et(Ze.$lazyInstance$)}if(Ae.style){let Sn=Ae.style;"string"!=typeof Sn&&(Sn=Sn[Ze.$modeName$=(Q=>Ir.map(de=>de(Q)).find(de=>!!de))(de)]);const On=rt(_t,Ze.$modeName$);if(!Ni.has(On)){const li=()=>{};Vt(On,Sn,!!(1&_t.$flags$)),li()}}}const bt=Ze.$ancestorComponent$,Xt=()=>ot(Ze,!0);bt&&bt["s-rc"]?bt["s-rc"].push(Xt):Xt()});return function(Ze,_t,Gt,Ae,bt){return Q.apply(this,arguments)}}(),et=Q=>{ye(Q,"connectedCallback")},qt=Q=>{const de=Q["s-cr"]=Ue.createComment("");de["s-cn"]=!0,Q.insertBefore(de,Q.firstChild)},zt=(Q,de={})=>{const _t=[],Gt=de.exclude||[],Ae=xe.customElements,bt=Ue.head,Xt=bt.querySelector("meta[charset]"),Sn=Ue.createElement("style"),On=[],li=Ue.querySelectorAll(`[${St}]`);let Bi,Gi=!0,Dr=0;for(Object.assign(je,de),je.$resourcesUrl$=new URL(de.resourcesUrl||"./",Ue.baseURI).href,je.$flags$|=2;Dr<li.length;Dr++)Vt(li[Dr].getAttribute(St),Yt(li[Dr].innerHTML),!0);Q.map(qs=>{qs[1].map(Sr=>{const jr={$flags$:Sr[0],$tagName$:Sr[1],$members$:Sr[2],$listeners$:Sr[3]};jr.$members$=Sr[2],jr.$listeners$=Sr[3],jr.$attrsToReflect$=[],jr.$watchers$={};const Rs=jr.$tagName$,Zs=class extends HTMLElement{constructor(Eo){super(Eo),yn(Eo=this,jr),1&jr.$flags$&&Eo.attachShadow({mode:"open",delegatesFocus:!!(16&jr.$flags$)})}connectedCallback(){Bi&&(clearTimeout(Bi),Bi=null),Gi?On.push(this):je.jmp(()=>(Q=>{if(!(1&je.$flags$)){const de=oi(Q),Ze=de.$cmpMeta$,_t=()=>{};if(1&de.$flags$)Ge(Q,de,Ze.$listeners$),et(de.$lazyInstance$);else{let Gt;if(de.$flags$|=1,Gt=Q.getAttribute(nt),Gt){if(1&Ze.$flags$){const Ae=lt(Q.shadowRoot,Ze,Q.getAttribute("s-mode"));Q.classList.remove(Ae+"-h",Ae+"-s")}((Q,de,Ze,_t)=>{const Ae=Q.shadowRoot,bt=[],Sn=Ae?[]:null,On=_t.$vnode$=si(de,null);je.$orgLocNodes$||rn(Ue.body,je.$orgLocNodes$=new Map),Q[nt]=Ze,Q.removeAttribute(nt),It(On,bt,[],Sn,Q,Q,Ze),bt.map(li=>{const Bi=li.$hostId$+"."+li.$nodeId$,Gi=je.$orgLocNodes$.get(Bi),Dr=li.$elm$;Gi&&""===Gi["s-en"]&&Gi.parentNode.insertBefore(Dr,Gi.nextSibling),Ae||(Dr["s-hn"]=de,Gi&&(Dr["s-ol"]=Gi,Dr["s-ol"]["s-nr"]=Dr)),je.$orgLocNodes$.delete(Bi)}),Ae&&Sn.map(li=>{li&&Ae.appendChild(li)})})(Q,Ze.$tagName$,Gt,de)}Gt||12&Ze.$flags$&&qt(Q);{let Ae=Q;for(;Ae=Ae.parentNode||Ae.host;)if(1===Ae.nodeType&&Ae.hasAttribute("s-id")&&Ae["s-p"]||Ae["s-p"]){we(de,de.$ancestorComponent$=Ae);break}}Ze.$members$&&Object.entries(Ze.$members$).map(([Ae,[bt]])=>{if(31&bt&&Q.hasOwnProperty(Ae)){const Xt=Q[Ae];delete Q[Ae],Q[Ae]=Xt}}),Wi(()=>mt(Q,de,Ze))}_t()}})(this))}disconnectedCallback(){je.jmp(()=>(Q=>{if(!(1&je.$flags$)){const de=oi(this),Ze=de.$lazyInstance$;de.$rmListeners$&&(de.$rmListeners$.map(_t=>_t()),de.$rmListeners$=void 0),ye(Ze,"disconnectedCallback")}})())}componentOnReady(){return oi(this).$onReadyPromise$}};jr.$lazyBundleId$=qs[0],!Gt.includes(Rs)&&!Ae.get(Rs)&&(_t.push(Rs),Ae.define(Rs,jt(Zs,jr,1)))})}),Sn.innerHTML=_t+"{visibility:hidden}.hydrated{visibility:inherit}",Sn.setAttribute("data-styles",""),bt.insertBefore(Sn,Xt?Xt.nextSibling:bt.firstChild),Gi=!1,On.length?On.map(qs=>qs.connectedCallback()):je.jmp(()=>Bi=setTimeout(wt,30))},Wn=Q=>{const de=new URL(Q,je.$resourcesUrl$);return de.origin!==xe.location.origin?de.href:de.pathname},Jn=new WeakMap,oi=Q=>Jn.get(Q),Ot=(Q,de)=>Jn.set(de.$lazyInstance$=Q,de),yn=(Q,de)=>{const Ze={$flags$:0,$hostElement$:Q,$cmpMeta$:de,$instanceValues$:new Map};return Ze.$onInstancePromise$=new Promise(_t=>Ze.$onInstanceResolve$=_t),Ze.$onReadyPromise$=new Promise(_t=>Ze.$onReadyResolve$=_t),Q["s-p"]=[],Q["s-rc"]=[],Ge(Q,Ze,de.$listeners$),Jn.set(Q,Ze)},Bn=(Q,de)=>de in Q,Ii=(Q,de)=>(0,console.error)(Q,de),vr=new Map,vi=(Q,de,Ze)=>{const _t=Q.$tagName$.replace(/-/g,"_"),Gt=Q.$lazyBundleId$,Ae=vr.get(Gt);return Ae?Ae[_t]:U(863)(`./${Gt}.entry.js`).then(bt=>(vr.set(Gt,bt),bt[_t]),Ii)},Ni=new Map,Ir=[],Jr=[],Rr=[],ns=(Q,de)=>Ze=>{Q.push(Ze),Pe||(Pe=!0,de&&4&je.$flags$?Wi(sr):je.raf(sr))},yi=Q=>{for(let de=0;de<Q.length;de++)try{Q[de](performance.now())}catch(Ze){Ii(Ze)}Q.length=0},sr=()=>{yi(Jr),yi(Rr),(Pe=Jr.length>0)&&je.raf(sr)},Wi=Q=>kt().then(Q),or=ns(Jr,!1),Xi=ns(Rr,!0),sn={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(ei,Jt,U)=>{"use strict";U.d(Jt,{a:()=>xe,b:()=>it,c:()=>ie,g:()=>Pe,i:()=>Vt});var t=U(1308);class Z{constructor(){this.m=new Map}reset(Je){this.m=new Map(Object.entries(Je))}get(Je,rt){const Yt=this.m.get(Je);return void 0!==Yt?Yt:rt}getBoolean(Je,rt=!1){const Yt=this.m.get(Je);return void 0===Yt?rt:"string"==typeof Yt?"true"===Yt:!!Yt}getNumber(Je,rt){const Yt=parseFloat(this.m.get(Je));return isNaN(Yt)?void 0!==rt?rt:NaN:Yt}set(Je,rt){this.m.set(Je,rt)}}const ie=new Z,vt="ionic-persist-config",Pe=lt=>Ue(lt),xe=(lt,Je)=>("string"==typeof lt&&(Je=lt,lt=void 0),Pe(lt).includes(Je)),Ue=(lt=window)=>{if(typeof lt>"u")return[];lt.Ionic=lt.Ionic||{};let Je=lt.Ionic.platforms;return null==Je&&(Je=lt.Ionic.platforms=je(lt),Je.forEach(rt=>lt.document.documentElement.classList.add(`plt-${rt}`))),Je},je=lt=>{const Je=ie.get("platform");return Object.keys(Lt).filter(rt=>{const Yt=null==Je?void 0:Je[rt];return"function"==typeof Yt?Yt(lt):Lt[rt](lt)})},gt=lt=>!!(At(lt,/iPad/i)||At(lt,/Macintosh/i)&&dt(lt)),Ge=lt=>At(lt,/android|sink/i),dt=lt=>Pt(lt,"(any-pointer:coarse)"),ut=lt=>Ie(lt)||nt(lt),Ie=lt=>!!(lt.cordova||lt.phonegap||lt.PhoneGap),nt=lt=>{const Je=lt.Capacitor;return!(null==Je||!Je.isNative)},At=(lt,Je)=>Je.test(lt.navigator.userAgent),Pt=(lt,Je)=>{var rt;return null===(rt=lt.matchMedia)||void 0===rt?void 0:rt.call(lt,Je).matches},Lt={ipad:gt,iphone:lt=>At(lt,/iPhone/i),ios:lt=>At(lt,/iPhone|iPod/i)||gt(lt),android:Ge,phablet:lt=>{const Je=lt.innerWidth,rt=lt.innerHeight,Yt=Math.min(Je,rt),$t=Math.max(Je,rt);return Yt>390&&Yt<520&&$t>620&&$t<800},tablet:lt=>{const Je=lt.innerWidth,rt=lt.innerHeight,Yt=Math.min(Je,rt),$t=Math.max(Je,rt);return gt(lt)||(lt=>Ge(lt)&&!At(lt,/mobile/i))(lt)||Yt>460&&Yt<820&&$t>780&&$t<1400},cordova:Ie,capacitor:nt,electron:lt=>At(lt,/electron/i),pwa:lt=>{var Je;return!!(null!==(Je=lt.matchMedia)&&void 0!==Je&&Je.call(lt,"(display-mode: standalone)").matches||lt.navigator.standalone)},mobile:dt,mobileweb:lt=>dt(lt)&&!ut(lt),desktop:lt=>!dt(lt),hybrid:ut};let Et;const it=lt=>lt&&(0,t.g)(lt)||Et,Vt=(lt={})=>{if(typeof window>"u")return;const Je=window.document,rt=window,Yt=rt.Ionic=rt.Ionic||{},$t={};lt._ael&&($t.ael=lt._ael),lt._rel&&($t.rel=lt._rel),lt._ce&&($t.ce=lt._ce),(0,t.s)($t);const Qt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(lt=>{try{const Je=lt.sessionStorage.getItem(vt);return null!==Je?JSON.parse(Je):{}}catch(Je){return{}}})(rt)),{persistConfig:!1}),Yt.config),(lt=>{const Je={};return lt.location.search.slice(1).split("&").map(rt=>rt.split("=")).map(([rt,Yt])=>[decodeURIComponent(rt),decodeURIComponent(Yt)]).filter(([rt])=>((lt,Je)=>lt.substr(0,Je.length)===Je)(rt,"ionic:")).map(([rt,Yt])=>[rt.slice("ionic:".length),Yt]).forEach(([rt,Yt])=>{Je[rt]=Yt}),Je})(rt)),lt);ie.reset(Qt),ie.getBoolean("persistConfig")&&((lt,Je)=>{try{lt.sessionStorage.setItem(vt,JSON.stringify(Je))}catch(rt){return}})(rt,Qt),Ue(rt),Yt.config=ie,Yt.mode=Et=ie.get("mode",Je.documentElement.getAttribute("mode")||(xe(rt,"ios")?"ios":"md")),ie.set("mode",Et),Je.documentElement.setAttribute("mode",Et),Je.documentElement.classList.add(Et),ie.getBoolean("_testing")&&ie.set("animated",!1);const Bt=qe=>{var cn;return null===(cn=qe.tagName)||void 0===cn?void 0:cn.startsWith("ION-")},hn=qe=>["ios","md"].includes(qe);(0,t.a)(qe=>{for(;qe;){const cn=qe.mode||qe.getAttribute("mode");if(cn){if(hn(cn))return cn;Bt(qe)&&console.warn('Invalid ionic mode: "'+cn+'", expected: "ios" or "md"')}qe=qe.parentElement}return Et})}},6439:(ei,Jt,U)=>{"use strict";U.r(Jt),U.d(Jt,{iosTransitionAnimation:()=>je,shadow:()=>$e});var t=U(181),Z=U(1843);U(3457),U(1308);const ct=pt=>document.querySelector(`${pt}.ion-cloned-element`),$e=pt=>pt.shadowRoot||pt,Fe=pt=>{const gt="ION-TABS"===pt.tagName?pt:pt.querySelector("ion-tabs"),kt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=gt){const be=gt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=be?be.querySelector(kt):null}return pt.querySelector(kt)},vt=(pt,gt)=>{const kt="ION-TABS"===pt.tagName?pt:pt.querySelector("ion-tabs");let be=[];if(null!=kt){const Ge=kt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ge&&(be=Ge.querySelectorAll("ion-buttons"))}else be=pt.querySelectorAll("ion-buttons");for(const Ge of be){const yt=Ge.closest("ion-header"),at=yt&&!yt.classList.contains("header-collapse-condense-inactive"),Ve=Ge.querySelector("ion-back-button"),dt=Ge.classList.contains("buttons-collapse");if(null!==Ve&&("start"===Ge.slot||""===Ge.slot)&&(dt&&at&&gt||!dt))return Ve}return null},xe=(pt,gt,kt,be,Ge,yt)=>{const at=gt?`calc(100% - ${yt.right+4}px)`:yt.left-4+"px",Ve=gt?"7px":"-7px",dt=gt?"-4px":"4px",Ut=gt?"-4px":"4px",ut=gt?"right":"left",Ie=gt?"left":"right",Nt=kt?[{offset:0,opacity:1,transform:`translate3d(${dt}, ${yt.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${Ge.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${Ge.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${dt}, ${yt.top-46}px, 0) scale(1)`}],Lt=kt?[{offset:0,opacity:1,transform:`translate3d(${Ut}, ${yt.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ut}, ${yt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ut}, ${yt.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ut}, ${yt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ut}, ${yt.top-46}px, 0) scale(1)`}],Et=(0,t.c)(),it=(0,t.c)(),Vt=ct("ion-back-button"),lt=$e(Vt).querySelector(".button-text"),Je=$e(Vt).querySelector("ion-icon");Vt.text=be.text,Vt.mode=be.mode,Vt.icon=be.icon,Vt.color=be.color,Vt.disabled=be.disabled,Vt.style.setProperty("display","block"),Vt.style.setProperty("position","fixed"),it.addElement(Je),Et.addElement(lt),Et.beforeStyles({"transform-origin":`${ut} center`}).beforeAddWrite(()=>{be.style.setProperty("display","none"),Vt.style.setProperty(ut,at)}).afterAddWrite(()=>{be.style.setProperty("display",""),Vt.style.setProperty("display","none"),Vt.style.removeProperty(ut)}).keyframes(Nt),it.beforeStyles({"transform-origin":`${Ie} center`}).keyframes(Lt),pt.addAnimation([Et,it])},Ue=(pt,gt,kt,be,Ge,yt)=>{const at=gt?`calc(100% - ${Ge.right}px)`:`${Ge.left}px`,Ve=gt?"-18px":"18px",dt=gt?"right":"left",Ie=kt?[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${yt.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ge.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ge.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${yt.top-4}px, 0) scale(0.5)`}],nt=ct("ion-title"),St=(0,t.c)();nt.innerText=be.innerText,nt.size=be.size,nt.color=be.color,St.addElement(nt),St.beforeStyles({"transform-origin":`${dt} center`,height:"46px",display:"",position:"relative",[dt]:at}).beforeAddWrite(()=>{be.style.setProperty("display","none")}).afterAddWrite(()=>{be.style.setProperty("display",""),nt.style.setProperty("display","none")}).keyframes(Ie),pt.addAnimation(St)},je=(pt,gt)=>{var kt;try{const be="cubic-bezier(0.32,0.72,0,1)",Ge="opacity",yt="transform",at="0%",dt="rtl"===pt.ownerDocument.dir,Ut=dt?"-99.5%":"99.5%",ut=dt?"33%":"-33%",Ie=gt.enteringEl,nt=gt.leavingEl,St="back"===gt.direction,Nt=Ie.querySelector(":scope > ion-content"),At=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Pt=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),Lt=(0,t.c)(),Et=(0,t.c)();if(Lt.addElement(Ie).duration((null!==(kt=gt.duration)&&void 0!==kt?kt:0)||540).easing(gt.easing||be).fill("both").beforeRemoveClass("ion-page-invisible"),nt&&null!=pt){const Je=(0,t.c)();Je.addElement(pt),Lt.addAnimation(Je)}if(Nt||0!==Pt.length||0!==At.length?(Et.addElement(Nt),Et.addElement(At)):Et.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Lt.addAnimation(Et),St?Et.beforeClearStyles([Ge]).fromTo("transform",`translateX(${ut})`,`translateX(${at})`).fromTo(Ge,.8,1):Et.beforeClearStyles([Ge]).fromTo("transform",`translateX(${Ut})`,`translateX(${at})`),Nt){const Je=$e(Nt).querySelector(".transition-effect");if(Je){const rt=Je.querySelector(".transition-cover"),Yt=Je.querySelector(".transition-shadow"),$t=(0,t.c)(),Qt=(0,t.c)(),Bt=(0,t.c)();$t.addElement(Je).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Qt.addElement(rt).beforeClearStyles([Ge]).fromTo(Ge,0,.1),Bt.addElement(Yt).beforeClearStyles([Ge]).fromTo(Ge,.03,.7),$t.addAnimation([Qt,Bt]),Et.addAnimation([$t])}}const it=Ie.querySelector("ion-header.header-collapse-condense"),{forward:Vt,backward:lt}=((pt,gt,kt,be,Ge)=>{const yt=vt(be,kt),at=Fe(Ge),Ve=Fe(be),dt=vt(Ge,kt),Ut=null!==yt&&null!==at&&!kt,ut=null!==Ve&&null!==dt&&kt;if(Ut){const Ie=at.getBoundingClientRect(),nt=yt.getBoundingClientRect();Ue(pt,gt,kt,at,Ie,nt),xe(pt,gt,kt,yt,Ie,nt)}else if(ut){const Ie=Ve.getBoundingClientRect(),nt=dt.getBoundingClientRect();Ue(pt,gt,kt,Ve,Ie,nt),xe(pt,gt,kt,dt,Ie,nt)}return{forward:Ut,backward:ut}})(Lt,dt,St,Ie,nt);if(Pt.forEach(Je=>{const rt=(0,t.c)();rt.addElement(Je),Lt.addAnimation(rt);const Yt=(0,t.c)();Yt.addElement(Je.querySelector("ion-title"));const $t=(0,t.c)(),Qt=Array.from(Je.querySelectorAll("ion-buttons,[menuToggle]")),Bt=Je.closest("ion-header"),hn=null==Bt?void 0:Bt.classList.contains("header-collapse-condense-inactive");let qe;qe=Qt.filter(St?si=>{const ai=si.classList.contains("buttons-collapse");return ai&&!hn||!ai}:si=>!si.classList.contains("buttons-collapse")),$t.addElement(qe);const cn=(0,t.c)();cn.addElement(Je.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Tn=(0,t.c)();Tn.addElement($e(Je).querySelector(".toolbar-background"));const Hn=(0,t.c)(),Ln=Je.querySelector("ion-back-button");if(Ln&&Hn.addElement(Ln),rt.addAnimation([Yt,$t,cn,Tn,Hn]),$t.fromTo(Ge,.01,1),cn.fromTo(Ge,.01,1),St)hn||Yt.fromTo("transform",`translateX(${ut})`,`translateX(${at})`).fromTo(Ge,.01,1),cn.fromTo("transform",`translateX(${ut})`,`translateX(${at})`),Hn.fromTo(Ge,.01,1);else if(it||Yt.fromTo("transform",`translateX(${Ut})`,`translateX(${at})`).fromTo(Ge,.01,1),cn.fromTo("transform",`translateX(${Ut})`,`translateX(${at})`),Tn.beforeClearStyles([Ge,"transform"]),(null==Bt?void 0:Bt.translucent)?Tn.fromTo("transform",dt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Tn.fromTo(Ge,.01,"var(--opacity)"),Vt||Hn.fromTo(Ge,.01,1),Ln&&!Vt){const ai=(0,t.c)();ai.addElement($e(Ln).querySelector(".button-text")).fromTo("transform",dt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),rt.addAnimation(ai)}}),nt){const Je=(0,t.c)(),rt=nt.querySelector(":scope > ion-content"),Yt=nt.querySelectorAll(":scope > ion-header > ion-toolbar"),$t=nt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(rt||0!==Yt.length||0!==$t.length?(Je.addElement(rt),Je.addElement($t)):Je.addElement(nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Lt.addAnimation(Je),St){Je.beforeClearStyles([Ge]).fromTo("transform",`translateX(${at})`,dt?"translateX(-100%)":"translateX(100%)");const Qt=(0,Z.g)(nt);Lt.afterAddWrite(()=>{"normal"===Lt.getDirection()&&Qt.style.setProperty("display","none")})}else Je.fromTo("transform",`translateX(${at})`,`translateX(${ut})`).fromTo(Ge,1,.8);if(rt){const Qt=$e(rt).querySelector(".transition-effect");if(Qt){const Bt=Qt.querySelector(".transition-cover"),hn=Qt.querySelector(".transition-shadow"),qe=(0,t.c)(),cn=(0,t.c)(),Tn=(0,t.c)();qe.addElement(Qt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),cn.addElement(Bt).beforeClearStyles([Ge]).fromTo(Ge,.1,0),Tn.addElement(hn).beforeClearStyles([Ge]).fromTo(Ge,.7,.03),qe.addAnimation([cn,Tn]),Je.addAnimation([qe])}}Yt.forEach(Qt=>{const Bt=(0,t.c)();Bt.addElement(Qt);const hn=(0,t.c)();hn.addElement(Qt.querySelector("ion-title"));const qe=(0,t.c)(),cn=Qt.querySelectorAll("ion-buttons,[menuToggle]"),Tn=Qt.closest("ion-header"),Hn=null==Tn?void 0:Tn.classList.contains("header-collapse-condense-inactive"),Ln=Array.from(cn).filter(Ye=>{const ke=Ye.classList.contains("buttons-collapse");return ke&&!Hn||!ke});qe.addElement(Ln);const si=(0,t.c)(),ai=Qt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ai.length>0&&si.addElement(ai);const bi=(0,t.c)();bi.addElement($e(Qt).querySelector(".toolbar-background"));const Mi=(0,t.c)(),Kt=Qt.querySelector("ion-back-button");if(Kt&&Mi.addElement(Kt),Bt.addAnimation([hn,qe,si,Mi,bi]),Lt.addAnimation(Bt),Mi.fromTo(Ge,.99,0),qe.fromTo(Ge,.99,0),si.fromTo(Ge,.99,0),St){if(Hn||hn.fromTo("transform",`translateX(${at})`,dt?"translateX(-100%)":"translateX(100%)").fromTo(Ge,.99,0),si.fromTo("transform",`translateX(${at})`,dt?"translateX(-100%)":"translateX(100%)"),bi.beforeClearStyles([Ge,"transform"]),(null==Tn?void 0:Tn.translucent)?bi.fromTo("transform","translateX(0px)",dt?"translateX(-100%)":"translateX(100%)"):bi.fromTo(Ge,"var(--opacity)",0),Kt&&!lt){const ke=(0,t.c)();ke.addElement($e(Kt).querySelector(".button-text")).fromTo("transform",`translateX(${at})`,`translateX(${(dt?-124:124)+"px"})`),Bt.addAnimation(ke)}}else Hn||hn.fromTo("transform",`translateX(${at})`,`translateX(${ut})`).fromTo(Ge,.99,0).afterClearStyles([yt,Ge]),si.fromTo("transform",`translateX(${at})`,`translateX(${ut})`).afterClearStyles([yt,Ge]),Mi.afterClearStyles([Ge]),hn.afterClearStyles([Ge]),qe.afterClearStyles([Ge])})}return Lt}catch(be){throw be}}},7838:(ei,Jt,U)=>{"use strict";U.r(Jt),U.d(Jt,{mdTransitionAnimation:()=>ze});var t=U(181),Z=U(1843);U(3457),U(1308);const ze=(ct,$e)=>{var Fe,vt,Pe;const je="back"===$e.direction,gt=$e.leavingEl,kt=(0,Z.g)($e.enteringEl),be=kt.querySelector("ion-toolbar"),Ge=(0,t.c)();if(Ge.addElement(kt).fill("both").beforeRemoveClass("ion-page-invisible"),je?Ge.duration((null!==(Fe=$e.duration)&&void 0!==Fe?Fe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ge.duration((null!==(vt=$e.duration)&&void 0!==vt?vt:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),be){const yt=(0,t.c)();yt.addElement(be),Ge.addAnimation(yt)}if(gt&&je){Ge.duration((null!==(Pe=$e.duration)&&void 0!==Pe?Pe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const yt=(0,t.c)();yt.addElement((0,Z.g)(gt)).onFinish(at=>{1===at&&yt.elements.length>0&&yt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ge.addAnimation(yt)}return Ge}},3539:(ei,Jt,U)=>{"use strict";U.d(Jt,{B:()=>rt,G:()=>Yt,a:()=>Fe,b:()=>vt,c:()=>je,d:()=>St,e:()=>gt,f:()=>At,g:()=>Et,h:()=>ct,i:()=>Vt,j:()=>Ge,k:()=>Ie,l:()=>Pe,m:()=>xe,s:()=>Je});var t=U(5861),Z=U(5179),ie=U(7593),oe=U(5730);let ze=0;const ct=new WeakMap,$e=$t=>({create:Qt=>kt($t,Qt),dismiss:(Qt,Bt,hn)=>Ut(document,Qt,Bt,$t,hn),getTop:()=>(0,t.Z)(function*(){return Ie(document,$t)})()}),Fe=$e("ion-alert"),vt=$e("ion-action-sheet"),Pe=$e("ion-loading"),xe=$e("ion-modal"),je=$e("ion-popover"),gt=$t=>{typeof document<"u"&&dt(document);const Qt=ze++;$t.overlayIndex=Qt,$t.hasAttribute("id")||($t.id=`ion-overlay-${Qt}`)},kt=($t,Qt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined($t).then(()=>{const Bt=document.createElement($t);return Bt.classList.add("overlay-hidden"),Object.assign(Bt,Object.assign(Object.assign({},Qt),{hasController:!0})),Pt(document).appendChild(Bt),new Promise(hn=>(0,oe.c)(Bt,hn))}):Promise.resolve(),be='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ge=($t,Qt)=>{let Bt=$t.querySelector(be);const hn=null==Bt?void 0:Bt.shadowRoot;hn&&(Bt=hn.querySelector(be)||Bt),Bt?(0,oe.f)(Bt):Qt.focus()},at=($t,Qt)=>{const Bt=Array.from($t.querySelectorAll(be));let hn=Bt.length>0?Bt[Bt.length-1]:null;const qe=null==hn?void 0:hn.shadowRoot;qe&&(hn=qe.querySelector(be)||hn),hn?hn.focus():Qt.focus()},dt=$t=>{0===ze&&(ze=1,$t.addEventListener("focus",Qt=>{(($t,Qt)=>{const Bt=Ie(Qt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),hn=$t.target;Bt&&hn&&!Bt.classList.contains("ion-disable-focus-trap")&&(Bt.shadowRoot?(()=>{if(Bt.contains(hn))Bt.lastFocus=hn;else{const Tn=Bt.lastFocus;Ge(Bt,Bt),Tn===Qt.activeElement&&at(Bt,Bt),Bt.lastFocus=Qt.activeElement}})():(()=>{if(Bt===hn)Bt.lastFocus=void 0;else{const Tn=(0,oe.g)(Bt);if(!Tn.contains(hn))return;const Hn=Tn.querySelector(".ion-overlay-wrapper");if(!Hn)return;if(Hn.contains(hn))Bt.lastFocus=hn;else{const Ln=Bt.lastFocus;Ge(Hn,Bt),Ln===Qt.activeElement&&at(Hn,Bt),Bt.lastFocus=Qt.activeElement}}})())})(Qt,$t)},!0),$t.addEventListener("ionBackButton",Qt=>{const Bt=Ie($t);null!=Bt&&Bt.backdropDismiss&&Qt.detail.register(ie.OVERLAY_BACK_BUTTON_PRIORITY,()=>Bt.dismiss(void 0,rt))}),$t.addEventListener("keyup",Qt=>{if("Escape"===Qt.key){const Bt=Ie($t);null!=Bt&&Bt.backdropDismiss&&Bt.dismiss(void 0,rt)}}))},Ut=($t,Qt,Bt,hn,qe)=>{const cn=Ie($t,hn,qe);return cn?cn.dismiss(Qt,Bt):Promise.reject("overlay does not exist")},Ie=($t,Qt,Bt)=>{const hn=(($t,Qt)=>(void 0===Qt&&(Qt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from($t.querySelectorAll(Qt)).filter(Bt=>Bt.overlayIndex>0)))($t,Qt).filter(qe=>!($t=>$t.classList.contains("overlay-hidden"))(qe));return void 0===Bt?hn[hn.length-1]:hn.find(qe=>qe.id===Bt)},nt=($t=!1)=>{const Bt=Pt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Bt&&($t?Bt.setAttribute("aria-hidden","true"):Bt.removeAttribute("aria-hidden"))},St=function(){var $t=(0,t.Z)(function*(Qt,Bt,hn,qe,cn){var Tn,Hn;if(Qt.presented)return;nt(!0),Qt.presented=!0,Qt.willPresent.emit(),null===(Tn=Qt.willPresentShorthand)||void 0===Tn||Tn.emit();const Ln=(0,Z.b)(Qt),si=Qt.enterAnimation?Qt.enterAnimation:Z.c.get(Bt,"ios"===Ln?hn:qe);(yield Lt(Qt,si,Qt.el,cn))&&(Qt.didPresent.emit(),null===(Hn=Qt.didPresentShorthand)||void 0===Hn||Hn.emit()),"ION-TOAST"!==Qt.el.tagName&&Nt(Qt.el),Qt.keyboardClose&&(null===document.activeElement||!Qt.el.contains(document.activeElement))&&Qt.el.focus()});return function(Bt,hn,qe,cn,Tn){return $t.apply(this,arguments)}}(),Nt=function(){var $t=(0,t.Z)(function*(Qt){let Bt=document.activeElement;if(!Bt)return;const hn=null==Bt?void 0:Bt.shadowRoot;hn&&(Bt=hn.querySelector(be)||Bt),yield Qt.onDidDismiss(),Bt.focus()});return function(Bt){return $t.apply(this,arguments)}}(),At=function(){var $t=(0,t.Z)(function*(Qt,Bt,hn,qe,cn,Tn,Hn){var Ln,si;if(!Qt.presented)return!1;nt(!1),Qt.presented=!1;try{Qt.el.style.setProperty("pointer-events","none"),Qt.willDismiss.emit({data:Bt,role:hn}),null===(Ln=Qt.willDismissShorthand)||void 0===Ln||Ln.emit({data:Bt,role:hn});const ai=(0,Z.b)(Qt),bi=Qt.leaveAnimation?Qt.leaveAnimation:Z.c.get(qe,"ios"===ai?cn:Tn);hn!==Yt&&(yield Lt(Qt,bi,Qt.el,Hn)),Qt.didDismiss.emit({data:Bt,role:hn}),null===(si=Qt.didDismissShorthand)||void 0===si||si.emit({data:Bt,role:hn}),ct.delete(Qt),Qt.el.classList.add("overlay-hidden"),Qt.el.style.removeProperty("pointer-events"),void 0!==Qt.el.lastFocus&&(Qt.el.lastFocus=void 0)}catch(ai){console.error(ai)}return Qt.el.remove(),!0});return function(Bt,hn,qe,cn,Tn,Hn,Ln){return $t.apply(this,arguments)}}(),Pt=$t=>$t.querySelector("ion-app")||$t.body,Lt=function(){var $t=(0,t.Z)(function*(Qt,Bt,hn,qe){hn.classList.remove("overlay-hidden");const Tn=Bt(Qt.el,qe);(!Qt.animated||!Z.c.getBoolean("animated",!0))&&Tn.duration(0),Qt.keyboardClose&&Tn.beforeAddWrite(()=>{const Ln=hn.ownerDocument.activeElement;null!=Ln&&Ln.matches("input,ion-input, ion-textarea")&&Ln.blur()});const Hn=ct.get(Qt)||[];return ct.set(Qt,[...Hn,Tn]),yield Tn.play(),!0});return function(Bt,hn,qe,cn){return $t.apply(this,arguments)}}(),Et=($t,Qt)=>{let Bt;const hn=new Promise(qe=>Bt=qe);return it($t,Qt,qe=>{Bt(qe.detail)}),hn},it=($t,Qt,Bt)=>{const hn=qe=>{(0,oe.b)($t,Qt,hn),Bt(qe)};(0,oe.a)($t,Qt,hn)},Vt=$t=>"cancel"===$t||$t===rt,lt=$t=>$t(),Je=($t,Qt)=>{if("function"==typeof $t)return Z.c.get("_zoneGate",lt)(()=>{try{return $t(Qt)}catch(hn){throw hn}})},rt="backdrop",Yt="gesture"},5836:(ei,Jt,U)=>{"use strict";var t=U(1481),Z=U(4650),ie=U(9062),oe=U(603);class ze{constructor(p,v){this.platform=p,this.domCtrl=v,this.rootPage="HomePage"}ngOnInit(){this.platform.is("android")?window.matchMedia("(prefers-color-scheme: dark)").matches?(console.log("Dark mode is supported and enabled"),this.domCtrl.write(()=>{document.body.classList.remove("light"),document.body.classList.add("dark")})):window.matchMedia("(prefers-color-scheme: light)").matches?(console.log("Light mode is supported and enabled"),this.domCtrl.write(()=>{document.body.classList.remove("dark"),document.body.classList.add("light")})):console.log("Dark mode is supported but not enabled"):console.log("Dark mode is not supported")}}ze.\u0275fac=function(p){return new(p||ze)(Z.Y36(oe.t4),Z.Y36(oe.Cb))},ze.\u0275cmp=Z.Xpm({type:ze,selectors:[["app-root"]],decls:2,vars:0,template:function(p,v){1&p&&(Z.TgZ(0,"ion-app"),Z._UZ(1,"ion-router-outlet"),Z.qZA())},dependencies:[oe.dr,oe.jP],styles:["html[_ngcontent-%COMP%]{padding:0%;margin:0}.toolbar-background[_ngcontent-%COMP%], div.toolbar-container[_ngcontent-%COMP%]{background-color:#226ef2!important}"]});const ct=[{path:"",redirectTo:"tabs",pathMatch:"full"},{path:"tabs",loadChildren:()=>U.e(5879).then(U.bind(U,5879)).then(o=>o.TabsPageModule)},{path:"login",loadChildren:()=>U.e(6925).then(U.bind(U,6925)).then(o=>o.LoginPageModule)},{path:"feed-update-modal",loadChildren:()=>U.e(4321).then(U.bind(U,4321)).then(o=>o.FeedUpdateModalPageModule)}];class $e{}$e.\u0275fac=function(p){return new(p||$e)},$e.\u0275mod=Z.oAB({type:$e}),$e.\u0275inj=Z.cJS({imports:[ie.Bz.forRoot(ct,{preloadingStrategy:ie.wm}),ie.Bz]});const Fe_firebase={projectId:"findspecialist-a5e75",appId:"1:751782500389:web:4ef967cdf9f326115d87cc",storageBucket:"findspecialist-a5e75.appspot.com",apiKey:"AIzaSyBtnoLXR44UER5lUjdmzAPe7TQ5uvkp_IA",authDomain:"findspecialist-a5e75.firebaseapp.com",messagingSenderId:"751782500389",measurementId:"G-MVZF02R3KD"};var vt=U(7323),Pe=U(3562),xe=U(4027),Ue=U(3692),je=U(259),pt=U(2313),gt=U(5861),kt=U(9681),be=U(2090),Ge=U(4859);const yt="firebasestorage.googleapis.com",at="storageBucket";class ut extends be.ZR{constructor(p,v,I=0){super(nt(p),`Firebase Storage: ${v} (${nt(p)})`),this.status_=I,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(p){this.status_=p}_codeEquals(p){return nt(p)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(p){this.customData.serverResponse=p,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ie=(()=>{return(o=Ie||(Ie={})).UNKNOWN="unknown",o.OBJECT_NOT_FOUND="object-not-found",o.BUCKET_NOT_FOUND="bucket-not-found",o.PROJECT_NOT_FOUND="project-not-found",o.QUOTA_EXCEEDED="quota-exceeded",o.UNAUTHENTICATED="unauthenticated",o.UNAUTHORIZED="unauthorized",o.UNAUTHORIZED_APP="unauthorized-app",o.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",o.INVALID_CHECKSUM="invalid-checksum",o.CANCELED="canceled",o.INVALID_EVENT_NAME="invalid-event-name",o.INVALID_URL="invalid-url",o.INVALID_DEFAULT_BUCKET="invalid-default-bucket",o.NO_DEFAULT_BUCKET="no-default-bucket",o.CANNOT_SLICE_BLOB="cannot-slice-blob",o.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",o.NO_DOWNLOAD_URL="no-download-url",o.INVALID_ARGUMENT="invalid-argument",o.INVALID_ARGUMENT_COUNT="invalid-argument-count",o.APP_DELETED="app-deleted",o.INVALID_ROOT_OPERATION="invalid-root-operation",o.INVALID_FORMAT="invalid-format",o.INTERNAL_ERROR="internal-error",o.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ie;var o})();function nt(o){return"storage/"+o}function hn(o){return new ut(Ie.INVALID_ARGUMENT,o)}function qe(){return new ut(Ie.APP_DELETED,"The Firebase app was deleted.")}class Ln{constructor(p,v){this.bucket=p,this.path_=v}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const p=encodeURIComponent;return"/b/"+p(this.bucket)+"/o/"+p(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(p,v){let I;try{I=Ln.makeFromUrl(p,v)}catch(N){return new Ln(p,"")}if(""===I.path)return I;throw function Je(o){return new ut(Ie.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+o+"'.")}(p)}static makeFromUrl(p,v){let I=null;const N="([A-Za-z0-9.\\-_]+)",Te=new RegExp("^gs://"+N+"(/(.*))?$","i");function Ce(Zn){Zn.path_=decodeURIComponent(Zn.path)}const ve=v.replace(/[.]/g,"\\."),un=[{regex:Te,indices:{bucket:1,path:3},postModify:function z(Zn){"/"===Zn.path.charAt(Zn.path.length-1)&&(Zn.path_=Zn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ve}/v[A-Za-z0-9_]+/b/${N}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ce},{regex:new RegExp(`^https?://${v===yt?"(?:storage.googleapis.com|storage.cloud.google.com)":v}/${N}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ce}];for(let Zn=0;Zn<un.length;Zn++){const ri=un[Zn],hi=ri.regex.exec(p);if(hi){let Li=hi[ri.indices.path];Li||(Li=""),I=new Ln(hi[ri.indices.bucket],Li),ri.postModify(I);break}}if(null==I)throw function lt(o){return new ut(Ie.INVALID_URL,"Invalid URL '"+o+"'.")}(p);return I}}class si{constructor(p){this.promise_=Promise.reject(p)}getPromise(){return this.promise_}cancel(p=!1){}}function vn(o,p,v,I){if(I<p)throw hn(`Invalid value for '${o}'. Expected ${p} or greater.`);if(I>v)throw hn(`Invalid value for '${o}'. Expected ${v} or less.`)}var gi=(()=>{return(o=gi||(gi={}))[o.NO_ERROR=0]="NO_ERROR",o[o.NETWORK_ERROR=1]="NETWORK_ERROR",o[o.ABORT=2]="ABORT",gi;var o})();class Xn{constructor(p,v,I,N,z,le,Te,ae,Ce,me,ve,Le=!0){this.url_=p,this.method_=v,this.headers_=I,this.body_=N,this.successCodes_=z,this.additionalRetryCodes_=le,this.callback_=Te,this.errorCallback_=ae,this.timeout_=Ce,this.progressCallback_=me,this.connectionFactory_=ve,this.retry=Le,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ct,Rt)=>{this.resolve_=Ct,this.reject_=Rt,this.start_()})}start_(){const v=(I,N)=>{const z=this.resolve_,le=this.reject_,Te=N.connection;if(N.wasSuccessCode)try{const ae=this.callback_(Te,Te.getResponse());!function Mi(o){return void 0!==o}(ae)?z():z(ae)}catch(ae){le(ae)}else if(null!==Te){const ae=function St(){return new ut(Ie.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();ae.serverResponse=Te.getErrorText(),le(this.errorCallback_?this.errorCallback_(Te,ae):ae)}else le(N.canceled?this.appDelete_?qe():function Vt(){return new ut(Ie.CANCELED,"User canceled the upload/download.")}():function it(){return new ut(Ie.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?v(0,new zn(!1,null,!0)):this.backoffId_=function ai(o,p,v){let I=1,N=null,z=null,le=!1,Te=0;function ae(){return 2===Te}let Ce=!1;function me(...ht){Ce||(Ce=!0,p.apply(null,ht))}function ve(ht){N=setTimeout(()=>{N=null,o(Ct,ae())},ht)}function Le(){z&&clearTimeout(z)}function Ct(ht,...an){if(Ce)return void Le();if(ht)return Le(),void me.call(null,ht,...an);if(ae()||le)return Le(),void me.call(null,ht,...an);let un;I<64&&(I*=2),1===Te?(Te=2,un=0):un=1e3*(I+Math.random()),ve(un)}let Rt=!1;function tt(ht){Rt||(Rt=!0,Le(),!Ce&&(null!==N?(ht||(Te=2),clearTimeout(N),ve(0)):ht||(Te=1)))}return ve(0),z=setTimeout(()=>{le=!0,tt(!0)},v),tt}((I,N)=>{if(N)return void I(!1,new zn(!1,null,!0));const z=this.connectionFactory_();this.pendingConnection_=z;const le=Te=>{null!==this.progressCallback_&&this.progressCallback_(Te.loaded,Te.lengthComputable?Te.total:-1)};null!==this.progressCallback_&&z.addUploadProgressListener(le),z.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&z.removeUploadProgressListener(le),this.pendingConnection_=null;const Te=z.getErrorCode()===gi.NO_ERROR,ae=z.getStatus();if(!Te||function $i(o,p){const v=o>=500&&o<600,N=-1!==[408,429].indexOf(o),z=-1!==p.indexOf(o);return v||N||z}(ae,this.additionalRetryCodes_)&&this.retry){const me=z.getErrorCode()===gi.ABORT;return void I(!1,new zn(!1,null,me))}const Ce=-1!==this.successCodes_.indexOf(ae);I(!0,new zn(Ce,z))})},v,this.timeout_)}getPromise(){return this.promise_}cancel(p){this.canceled_=!0,this.appDelete_=p||!1,null!==this.backoffId_&&function bi(o){o(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zn{constructor(p,v,I){this.wasSuccessCode=p,this.connection=v,this.canceled=!!I}}class Zs{constructor(p,v){this._service=p,this._location=v instanceof Ln?v:Ln.makeFromUrl(v,p.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(p,v){return new Zs(p,v)}get root(){const p=new Ln(this._location.bucket,"");return this._newRef(this._service,p)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function ge(o){const p=o.lastIndexOf("/",o.length-2);return-1===p?o:o.slice(p+1)}(this._location.path)}get storage(){return this._service}get parent(){const p=function he(o){if(0===o.length)return null;const p=o.lastIndexOf("/");return-1===p?"":o.slice(0,p)}(this._location.path);if(null===p)return null;const v=new Ln(this._location.bucket,p);return new Zs(this._service,v)}_throwIfRoot(p){if(""===this._location.path)throw function cn(o){return new ut(Ie.INVALID_ROOT_OPERATION,"The operation '"+o+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(p)}}function Dl(o,p){const v=null==p?void 0:p[at];return null==v?null:Ln.makeFromBucketSpec(v,o)}class so{constructor(p,v,I,N,z){this.app=p,this._authProvider=v,this._appCheckProvider=I,this._url=N,this._firebaseVersion=z,this._bucket=null,this._host=yt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=N?Ln.makeFromBucketSpec(N,this._host):Dl(this._host,this.app.options)}get host(){return this._host}set host(p){this._host=p,this._bucket=null!=this._url?Ln.makeFromBucketSpec(this._url,p):Dl(p,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(p){vn("time",0,Number.POSITIVE_INFINITY,p),this._maxUploadRetryTime=p}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(p){vn("time",0,Number.POSITIVE_INFINITY,p),this._maxOperationRetryTime=p}_getAuthToken(){var p=this;return(0,gt.Z)(function*(){if(p._overrideAuthToken)return p._overrideAuthToken;const v=p._authProvider.getImmediate({optional:!0});if(v){const I=yield v.getToken();if(null!==I)return I.accessToken}return null})()}_getAppCheckToken(){var p=this;return(0,gt.Z)(function*(){const v=p._appCheckProvider.getImmediate({optional:!0});return v?(yield v.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(p=>p.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(p){return new Zs(this,p)}_makeRequest(p,v,I,N,z=!0){if(this._deleted)return new si(qe());{const le=function dn(o,p,v,I,N,z,le=!0){const Te=function ii(o){const p=encodeURIComponent;let v="?";for(const I in o)o.hasOwnProperty(I)&&(v=v+(p(I)+"=")+p(o[I])+"&");return v=v.slice(0,-1),v}(o.urlParams),ae=o.url+Te,Ce=Object.assign({},o.headers);return function Si(o,p){p&&(o["X-Firebase-GMPID"]=p)}(Ce,p),function mi(o,p){null!==p&&p.length>0&&(o.Authorization="Firebase "+p)}(Ce,v),function Pi(o,p){o["X-Firebase-Storage-Version"]="webjs/"+(null!=p?p:"AppManager")}(Ce,z),function Ci(o,p){null!==p&&(o["X-Firebase-AppCheck"]=p)}(Ce,I),new Xn(ae,o.method,Ce,o.body,o.successCodes,o.additionalRetryCodes,o.handler,o.errorHandler,o.timeout,o.progressCallback,N,le)}(p,this._appId,I,N,v,this._firebaseVersion,z);return this._requests.add(le),le.getPromise().then(()=>this._requests.delete(le),()=>this._requests.delete(le)),le}}makeRequestWithTokens(p,v){var I=this;return(0,gt.Z)(function*(){const[N,z]=yield Promise.all([I._getAuthToken(),I._getAppCheckToken()]);return I._makeRequest(p,v,N,z).getPromise()})()}}const ua="@firebase/storage",Ha="storage";function gr(o=(0,kt.getApp)(),p){o=(0,be.m9)(o);const I=(0,kt._getProvider)(o,Ha).getImmediate({identifier:p}),N=(0,be.P0)("storage");return N&&function wo(o,p,v,I={}){!function ko(o,p,v,I={}){o.host=`${p}:${v}`,o._protocol="http";const{mockUserToken:N}=I;N&&(o._overrideAuthToken="string"==typeof N?N:(0,be.Sg)(N,o.app.options.projectId))}(o,p,v,I)}(I,...N),I}function rs(o,{instanceIdentifier:p}){const v=o.getProvider("app").getImmediate(),I=o.getProvider("auth-internal"),N=o.getProvider("app-check-internal");return new so(v,I,N,p,kt.SDK_VERSION)}!function cl(){(0,kt._registerComponent)(new Ge.wA(Ha,rs,"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(ua,"0.11.2",""),(0,kt.registerVersion)(ua,"0.11.2","esm2017")}();class Ta{constructor(p){return p}}const Us="storage",Qr=new Z.OlP("angularfire2.storage-instances");function Ps(o){return(p,v)=>{const I=p.runOutsideAngular(()=>o(v));return new Ta(I)}}const ds={provide:class Qo{constructor(){return(0,xe.vb)(Us)}},deps:[[new Z.FiY,Qr]]},lo={provide:Ta,useFactory:function To(o,p){const v=(0,xe.JM)(Us,o,p);return v&&new Ta(v)},deps:[[new Z.FiY,Qr],Ue.Ot]};let tc=(()=>{class o{constructor(){(0,je.KN)("angularfire",xe.q4.full,"gcs")}}return o.\u0275fac=function(v){return new(v||o)},o.\u0275mod=Z.oAB({type:o}),o.\u0275inj=Z.cJS({providers:[lo,ds]}),o})();const He=(0,xe.u3)(gr,!0);var K=U(4004),Y=U(5552),Oe=U(1085);class _n{constructor(p,v){this.db=p,this.firestore=v,this.specialistListRef=this.db.list("specialist-list"),this.specialistListReff=this.firestore.collection("specialist-list"),this.specialists=[],this.specialistList=[]}getSpecialistListRef(){return console.log(this.specialistListRef),this.specialistListRef}addSpecialist(p){const v="123".concat(p.surname);return p.key=v,this.specialistListReff.doc(v).set(p).then(I=>{console.log(v)})}getSpecialists(){return this.firestore.collection("specialist-list").snapshotChanges().pipe((0,K.U)(p=>p.map(v=>({id:v.payload.doc.id,...v.payload.doc.data()}))))}}_n.\u0275fac=function(p){return new(p||_n)(Z.LFG(Y.KQ),Z.LFG(Oe.ST))},_n.\u0275prov=Z.Yz7({token:_n,factory:_n.\u0275fac,providedIn:"root"});var zi=U(9646),br=U(9300),hs=U(3900),Io=U(9751),ea=U(8421),Ia=U(7579),ga=U(4482),Uo=U(5403);var cs=U(5577),Al=U(1884),ja=U(8675),Vo=U(1520),ic=U(655),ma=U(3008);class Ws{constructor(p){return p}}const Bl="analytics",Da=xe.nk.async,rc=(0,xe.u3)(ma.IH,!0),fs=(0,xe.u3)(ma.Kz,!0),Vl=(0,xe.u3)(ma.Iv,!0);let za=(()=>{class o{constructor(v,I,N){let z;this.disposables=[],(0,je.KN)("angularfire",xe.q4.full,"user-tracking"),this.initialized=I.runOutsideAngular(()=>new Promise(le=>{z=le})),Da().then(()=>{const le=N.get(Ws);le?this.disposables=[(0,vt.fD)(v).subscribe(Te=>{Vl(le,null==Te?void 0:Te.uid),z()})]:z()})}ngOnDestroy(){this.disposables.forEach(v=>v.unsubscribe())}}return o.\u0275fac=function(v){return new(v||o)(Z.LFG(vt.gx),Z.LFG(Z.R0b),Z.LFG(Z.zs3))},o.\u0275prov=Z.Yz7({token:o,factory:o.\u0275fac}),o})();const di="firebase_screen_id",dl="outlet",tr="screen_class",Ml="screen_name";let ce=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const X={},Me=o=>{const p=[o[tr],o[dl]].join("#");if(X.hasOwnProperty(p))return X[p];{const v=ce++;return X[p]=v,v}};let Nn=(()=>{class o{constructor(v,I,N,z,le,Te){(0,je.KN)("angularfire",xe.q4.full,"screen-tracking"),Da().then(()=>{const ae=Te.get(Ws);!v||!ae||z.runOutsideAngular(()=>{this.disposable=((o,p,v)=>o.events.pipe((0,br.h)(N=>N instanceof ie.jw)).pipe((0,hs.w)(N=>{var z;const Te=(null===(z=o.parseUrl(o.url.replace(/(?:\().+(?:\))/g,Ct=>Ct.replace("://",":///"))).root.children[N.snapshot.outlet])||void 0===z?void 0:z.toString())||"",ae=o.routerState.root.children.map(Ct=>Ct).find(Ct=>Ct.outlet===N.snapshot.outlet);if(!ae)return(0,zi.of)(null);let Ce=ae;for(;Ce.firstChild;)Ce=Ce.firstChild;const me=Ce.pathFromRoot.map(Ct=>{var Rt;return null===(Rt=Ct.routeConfig)||void 0===Rt?void 0:Rt.path}).filter(Ct=>Ct).join("/")||"/",ve={[Ml]:me,page_path:`/${Te}`,firebase_event_origin:"auto",firebase_screen:me,[dl]:N.snapshot.outlet};p&&(ve.page_title=p.getTitle());let Le=ae.component;if(Le){if(Le===ie.fw){let Ct=N.snapshot;for(;Ct.firstChild;)Ct=Ct.firstChild;Le=Ct.component}}else Le=N.snapshot.component;if("string"==typeof Le)return(0,zi.of)(Object.assign(Object.assign({},ve),{[tr]:Le}));if(Le){const Ct=v.resolveComponentFactory(Le);return(0,zi.of)(Object.assign(Object.assign({},ve),{[tr]:Ct.selector}))}return(0,zi.of)(null)}),(0,br.h)(N=>!!N),(0,K.U)(N=>Object.assign({firebase_screen_class:N[tr],[di]:Me(N)},N)),function zs(o,p,v,I){return(0,ga.e)((N,z)=>{let le;p&&"function"!=typeof p?({duration:v,element:le,connector:I}=p):le=p;const Te=new Map,ae=Rt=>{Te.forEach(Rt),Rt(z)},Ce=Rt=>ae(tt=>tt.error(Rt));let me=0,ve=!1;const Le=new Uo.Q(z,Rt=>{try{const tt=o(Rt);let ht=Te.get(tt);if(!ht){Te.set(tt,ht=I?I():new Ia.x);const an=function Ct(Rt,tt){const ht=new Io.y(an=>{me++;const nn=tt.subscribe(an);return()=>{nn.unsubscribe(),0==--me&&ve&&Le.unsubscribe()}});return ht.key=Rt,ht}(tt,ht);if(z.next(an),v){const nn=(0,Uo.x)(ht,()=>{ht.complete(),null==nn||nn.unsubscribe()},void 0,void 0,()=>Te.delete(tt));Le.add((0,ea.Xf)(v(an)).subscribe(nn))}}ht.next(le?le(Rt):Rt)}catch(tt){Ce(tt)}},()=>ae(Rt=>Rt.complete()),Ce,()=>Te.clear(),()=>(ve=!0,0===me));N.subscribe(Le)})}(N=>N[dl]),(0,cs.z)(N=>N.pipe((0,Al.x)((z,le)=>JSON.stringify(z)===JSON.stringify(le)),(0,ja.O)(void 0),(0,Vo.G)(),(0,K.U)(([z,le])=>z?Object.assign({firebase_previous_class:z[tr],firebase_previous_screen:z[Ml],firebase_previous_id:z[di]},le):le)))))(v,I,N).pipe((0,hs.w)(Ce=>(0,ic.mG)(this,void 0,void 0,function*(){return le&&(yield le.initialized),fs(ae,"screen_view",Ce)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return o.\u0275fac=function(v){return new(v||o)(Z.LFG(ie.F0,8),Z.LFG(t.Dx,8),Z.LFG(Z._Vd),Z.LFG(Z.R0b),Z.LFG(za,8),Z.LFG(Z.zs3))},o.\u0275prov=Z.Yz7({token:o,factory:o.\u0275fac}),o})();const Fn=new Z.OlP("angularfire2.analytics-instances");function kr(o){return(p,v)=>{if(!xe.nk.sync())return null;const I=p.runOutsideAngular(()=>o(v));return new Ws(I)}}const Fr={provide:class Ga{constructor(){return(0,xe.vb)(Bl)}},deps:[[new Z.FiY,Fn]]},cr={provide:Ws,useFactory:function Hi(o,p){if(!xe.nk.sync())return null;const v=(0,xe.JM)(Bl,o,p);return v&&new Ws(v)},deps:[[new Z.FiY,Fn],Ue.Ot]};let ar=(()=>{class o{constructor(v,I){(0,je.KN)("angularfire",xe.q4.full,"analytics")}}return o.\u0275fac=function(v){return new(v||o)(Z.LFG(Nn,8),Z.LFG(za,8))},o.\u0275mod=Z.oAB({type:o}),o.\u0275inj=Z.cJS({providers:[cr,Fr,{provide:Z.ip1,useValue:xe.nk.async,multi:!0}]}),o})();var Ui=U(1627);class Hr{constructor(p){return p}}const va="database",Is=new Z.OlP("angularfire2.database-instances");function oc(o){return(p,v)=>{const I=p.runOutsideAngular(()=>o(v));return new Hr(I)}}const os={provide:class Lr{constructor(){return(0,xe.vb)(va)}},deps:[[new Z.FiY,Is]]},ki={provide:Hr,useFactory:function Ar(o,p){const v=(0,xe.JM)(va,o,p);return v&&new Hr(v)},deps:[[new Z.FiY,Is],Ue.Ot]};let Aa=(()=>{class o{constructor(){(0,je.KN)("angularfire",xe.q4.full,"rtdb")}}return o.\u0275fac=function(v){return new(v||o)},o.\u0275mod=Z.oAB({type:o}),o.\u0275inj=Z.cJS({providers:[ki,os]}),o})();const Ya=(0,xe.u3)(Ui.N8,!0),Do="functions";class k{constructor(p,v,I){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=p.getImmediate({optional:!0}),this.messaging=v.getImmediate({optional:!0}),this.auth||p.get().then(N=>this.auth=N,()=>{}),this.messaging||v.get().then(N=>this.messaging=N,()=>{}),this.appCheck||I.get().then(N=>this.appCheck=N,()=>{})}getAuthToken(){var p=this;return(0,gt.Z)(function*(){if(p.auth)try{const v=yield p.auth.getToken();return null==v?void 0:v.accessToken}catch(v){return}})()}getMessagingToken(){var p=this;return(0,gt.Z)(function*(){if(p.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield p.messaging.getToken()}catch(v){return}})()}getAppCheckToken(){var p=this;return(0,gt.Z)(function*(){if(p.appCheck){const v=yield p.appCheck.getToken();return v.error?null:v.token}return null})()}getContext(){var p=this;return(0,gt.Z)(function*(){return{authToken:yield p.getAuthToken(),messagingToken:yield p.getMessagingToken(),appCheckToken:yield p.getAppCheckToken()}})()}}const S="us-central1";class ne{constructor(p,v,I,N,z=S,le){this.app=p,this.fetchImpl=le,this.emulatorOrigin=null,this.contextProvider=new k(v,I,N),this.cancelAllRequests=new Promise(Te=>{this.deleteService=()=>Promise.resolve(Te())});try{const Te=new URL(z);this.customDomain=Te.origin,this.region=S}catch(Te){this.customDomain=null,this.region=z}}_delete(){return this.deleteService()}_url(p){const v=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${v}/${this.region}/${p}`:null!==this.customDomain?`${this.customDomain}/${p}`:`https://${this.region}-${v}.cloudfunctions.net/${p}`}}const Vs="@firebase/functions";function zl(o=(0,kt.getApp)(),p=S){const I=(0,kt._getProvider)((0,be.m9)(o),Do).getImmediate({identifier:p}),N=(0,be.P0)("functions");return N&&function Hs(o,p,v){!function Se(o,p,v){o.emulatorOrigin=`http://${p}:${v}`}((0,be.m9)(o),p,v)}(I,...N),I}!function So(o,p){(0,kt._registerComponent)(new Ge.wA(Do,(I,{instanceIdentifier:N})=>{const z=I.getProvider("app").getImmediate(),le=I.getProvider("auth-internal"),Te=I.getProvider("messaging-internal"),ae=I.getProvider("app-check-internal");return new ne(z,le,Te,ae,N,o)},"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(Vs,"0.9.4",p),(0,kt.registerVersion)(Vs,"0.9.4","esm2017")}(fetch.bind(self));class pc{constructor(p){return p}}const Nl="functions",gc=new Z.OlP("angularfire2.functions-instances");function Lc(o){return(p,v)=>{const I=p.runOutsideAngular(()=>o(v));return new pc(I)}}const rd={provide:class ku{constructor(){return(0,xe.vb)(Nl)}},deps:[[new Z.FiY,gc]]},Vd={provide:pc,useFactory:function Wl(o,p){const v=(0,xe.JM)(Nl,o,p);return v&&new pc(v)},deps:[[new Z.FiY,gc],Ue.Ot]};let mu=(()=>{class o{constructor(){(0,je.KN)("angularfire",xe.q4.full,"fn")}}return o.\u0275fac=function(v){return new(v||o)},o.\u0275mod=Z.oAB({type:o}),o.\u0275inj=Z.cJS({providers:[Vd,rd]}),o})();const xs=(0,xe.u3)(zl,!0);var Ds=U(751);class Qc{constructor(p){return p}}const ml="messaging",sd=new Z.OlP("angularfire2.messaging-instances");function Fu(o){return(p,v)=>{if(!xe.n1.sync())return null;const I=p.runOutsideAngular(()=>o(v));return new Qc(I)}}const Lu={provide:class ra{constructor(){return(0,xe.vb)(ml)}},deps:[[new Z.FiY,sd]]},Sc={provide:Qc,useFactory:function as(o,p){if(!xe.n1.sync())return null;const v=(0,xe.JM)(ml,o,p);return v&&new Qc(v)},deps:[[new Z.FiY,sd],Ue.Ot]};let $u=(()=>{class o{constructor(){(0,je.KN)("angularfire",xe.q4.full,"fcm")}}return o.\u0275fac=function(v){return new(v||o)},o.\u0275mod=Z.oAB({type:o}),o.\u0275inj=Z.cJS({providers:[Sc,Lu,{provide:Z.ip1,useValue:xe.n1.async,multi:!0}]}),o})();const jd=(0,xe.u3)(Ds.KL,!0);var Ac=U(6895),Bu=U(1877);U(2833);const tu="@firebase/performance",nu="0.6.4",mc=nu,vu="FB-PERF-TRACE-MEASURE",iu="@firebase/performance/config",Uu="@firebase/performance/configexpire",Vc="Performance",es=new be.LL("performance",Vc,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),$o=new Bu.Yd(Vc);let Yl,Pl,vl,C;$o.logLevel=Bu.in.INFO;class ls{constructor(p){if(this.window=p,!p)throw es.create("no window");this.performance=p.performance,this.PerformanceObserver=p.PerformanceObserver,this.windowLocation=p.location,this.navigator=p.navigator,this.document=p.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=p.localStorage),p.perfMetrics&&p.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=p.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(p){!this.performance||!this.performance.mark||this.performance.mark(p)}measure(p,v,I){!this.performance||!this.performance.measure||this.performance.measure(p,v,I)}getEntriesByType(p){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(p):[]}getEntriesByName(p){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(p):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,be.zI)()?!!(0,be.hl)()||($o.info("IndexedDB is not supported by current browswer"),!1):($o.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(p,v){this.PerformanceObserver&&new this.PerformanceObserver(N=>{for(const z of N.getEntries())v(z)}).observe({entryTypes:[p]})}static getInstance(){return void 0===Yl&&(Yl=new ls(Pl)),Yl}}function Mo(){return vl}function F(o,p){const v=o.length-p.length;if(v<0||v>1)throw es.create("invalid String merger input");const I=[];for(let N=0;N<o.length;N++)I.push(o.charAt(N)),p.length>N&&I.push(p.charAt(N));return I.join("")}class D{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=F("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=F("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===C&&(C=new D),C}}var H=(()=>{return(o=H||(H={}))[o.UNKNOWN=0]="UNKNOWN",o[o.VISIBLE=1]="VISIBLE",o[o.HIDDEN=2]="HIDDEN",H;var o})();const De=["firebase_","google_","ga_"],Qe=new RegExp("^[a-zA-Z]\\w*$");function Yi(){const o=ls.getInstance().navigator;return null!=o&&o.serviceWorker?o.serviceWorker.controller?2:3:1}function hr(){switch(ls.getInstance().document.visibilityState){case"visible":return H.VISIBLE;case"hidden":return H.HIDDEN;default:return H.UNKNOWN}}function Wr(){const p=ls.getInstance().navigator.connection;switch(p&&p.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function bl(o){var p;const v=null===(p=o.options)||void 0===p?void 0:p.appId;if(!v)throw es.create("no app id");return v}const Wo="0.0.1",ya={loggingEnabled:!0},yc="FIREBASE_INSTALLATIONS_AUTH";const ho="Could not fetch config, will use default configs";function Kl(o){if(!o)return o;const p=D.getInstance(),v=o.entries||{};return p.loggingEnabled=void 0!==v.fpr_enabled?"true"===String(v.fpr_enabled):ya.loggingEnabled,v.fpr_log_source?p.logSource=Number(v.fpr_log_source):ya.logSource&&(p.logSource=ya.logSource),v.fpr_log_endpoint_url?p.logEndPointUrl=v.fpr_log_endpoint_url:ya.logEndPointUrl&&(p.logEndPointUrl=ya.logEndPointUrl),v.fpr_log_transport_key?p.transportKey=v.fpr_log_transport_key:ya.transportKey&&(p.transportKey=ya.transportKey),void 0!==v.fpr_vc_network_request_sampling_rate?p.networkRequestsSamplingRate=Number(v.fpr_vc_network_request_sampling_rate):void 0!==ya.networkRequestsSamplingRate&&(p.networkRequestsSamplingRate=ya.networkRequestsSamplingRate),void 0!==v.fpr_vc_trace_sampling_rate?p.tracesSamplingRate=Number(v.fpr_vc_trace_sampling_rate):void 0!==ya.tracesSamplingRate&&(p.tracesSamplingRate=ya.tracesSamplingRate),p.logTraceAfterSampling=sl(p.tracesSamplingRate),p.logNetworkAfterSampling=sl(p.networkRequestsSamplingRate),o}function sl(o){return Math.random()<=o}let xo,ad=1;function wd(o){return ad=2,xo=xo||function ru(o){return function xc(){const o=ls.getInstance().document;return new Promise(p=>{if(o&&"complete"!==o.readyState){const v=()=>{"complete"===o.readyState&&(o.removeEventListener("readystatechange",v),p())};o.addEventListener("readystatechange",v)}else p()})}().then(()=>function vc(o){const p=o.getId();return p.then(v=>{vl=v}),p}(o.installations)).then(p=>function El(o,p){const v=function Ja(){const o=ls.getInstance().localStorage;if(!o)return;const p=o.getItem(Uu);if(!p||!function Vu(o){return Number(o)>Date.now()}(p))return;const v=o.getItem(iu);if(v)try{return JSON.parse(v)}catch(I){return}}();return v?(Kl(v),Promise.resolve()):function is(o,p){return function Hc(o){const p=o.getToken();return p.then(v=>{}),p}(o.installations).then(v=>{const I=function kl(o){var p;const v=null===(p=o.options)||void 0===p?void 0:p.projectId;if(!v)throw es.create("no project id");return v}(o.app),N=function La(o){var p;const v=null===(p=o.options)||void 0===p?void 0:p.apiKey;if(!v)throw es.create("no api key");return v}(o.app),le=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${I}/namespaces/fireperf:fetch?key=${N}`,{method:"POST",headers:{Authorization:`${yc} ${v}`},body:JSON.stringify({app_instance_id:p,app_instance_id_token:v,app_id:bl(o.app),app_version:mc,sdk_version:Wo})});return fetch(le).then(Te=>{if(Te.ok)return Te.json();throw es.create("RC response not ok")})}).catch(()=>{$o.info(ho)})}(o,p).then(Kl).then(I=>function bc(o){const p=ls.getInstance().localStorage;!o||!p||(p.setItem(iu,JSON.stringify(o)),p.setItem(Uu,String(Date.now()+60*D.getInstance().configTimeToLive*60*1e3)))}(I),()=>{})}(o,p)).then(()=>su(),()=>su())}(o),xo}function su(){ad=3}const $a=1e4,ou=3,Yr=1e3;let yu,zd=ou,Cl=[],Gu=!1;function oa(o){setTimeout(()=>{if(0!==zd){if(!Cl.length)return oa($a);!function Td(){const o=Cl.splice(0,Yr),p=o.map(I=>({source_extension_json_proto3:I.message,event_time_ms:String(I.eventTime)}));(function ld(o,p){return function Wd(o){const p=D.getInstance().getFlTransportFullUrl();return fetch(p,{method:"POST",body:JSON.stringify(o)})}(o).then(v=>(v.ok||$o.info("Call to Firebase backend failed."),v.json())).then(v=>{const I=Number(v.nextRequestWaitMillis);let N=$a;isNaN(I)||(N=Math.max(I,N));const z=v.logResponseDetails;Array.isArray(z)&&z.length>0&&"RETRY_REQUEST_LATER"===z[0].responseAction&&(Cl=[...p,...Cl],$o.info("Retry transport request later.")),zd=ou,oa(N)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:D.getInstance().logSource,log_event:p},o).catch(()=>{Cl=[...o,...Cl],zd--,$o.info(`Tries left: ${zd}.`),oa($a)})}()}},o)}function ud(o,p){yu||(yu=function au(o){return(...p)=>{!function cd(o){if(!o.eventTime||!o.message)throw es.create("invalid cc log");Cl=[...Cl,o]}({message:o(...p),eventTime:Date.now()})}}(Eu)),yu(o,p)}function Wu(o){const p=D.getInstance();!p.instrumentationEnabled&&o.isAuto||!p.dataCollectionEnabled&&!o.isAuto||ls.getInstance().requiredApisAvailable()&&(o.isAuto&&hr()!==H.VISIBLE||(function Hu(){return 3===ad}()?dd(o):wd(o.performanceController).then(()=>dd(o),()=>dd(o))))}function dd(o){if(!Mo())return;const p=D.getInstance();!p.loggingEnabled||!p.logTraceAfterSampling||setTimeout(()=>ud(o,1),0)}function Eu(o,p){return 0===p?function uh(o){const p={url:o.url,http_method:o.httpMethod||0,http_response_code:200,response_payload_bytes:o.responsePayloadBytes,client_start_time_us:o.startTimeUs,time_to_response_initiated_us:o.timeToResponseInitiatedUs,time_to_response_completed_us:o.timeToResponseCompletedUs},v={application_info:Oo(o.performanceController.app),network_request_metric:p};return JSON.stringify(v)}(o):function dh(o){const p={name:o.name,is_auto:o.isAuto,client_start_time_us:o.startTimeUs,duration_us:o.durationUs};0!==Object.keys(o.counters).length&&(p.counters=o.counters);const v=o.getAttributes();0!==Object.keys(v).length&&(p.custom_attributes=v);const I={application_info:Oo(o.performanceController.app),trace_metric:p};return JSON.stringify(I)}(o)}function Oo(o){return{google_app_id:bl(o),app_instance_id:Mo(),web_app_info:{sdk_version:mc,page_url:ls.getInstance().getUrl(),service_worker_status:Yi(),visibility_state:hr(),effective_connection_type:Wr()},application_process_state:0}}const Cu=["_fp","_fcp","_fid"];class ol{constructor(p,v,I=!1,N){this.performanceController=p,this.name=v,this.isAuto=I,this.state=1,this.customAttributes={},this.counters={},this.api=ls.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=N||`${vu}-${this.randomId}-${this.name}`,N&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw es.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw es.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Wu(this)}record(p,v,I){if(p<=0)throw es.create("nonpositive trace startTime",{traceName:this.name});if(v<=0)throw es.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*v),this.startTimeUs=Math.floor(1e3*p),I&&I.attributes&&(this.customAttributes=Object.assign({},I.attributes)),I&&I.metrics)for(const N of Object.keys(I.metrics))isNaN(Number(I.metrics[N]))||(this.counters[N]=Math.floor(Number(I.metrics[N])));Wu(this)}incrementMetric(p,v=1){this.putMetric(p,void 0===this.counters[p]?v:this.counters[p]+v)}putMetric(p,v){if(!function wl(o,p){return!(0===o.length||o.length>100)&&(p&&p.startsWith("_wt_")&&Cu.indexOf(o)>-1||!o.startsWith("_"))}(p,this.name))throw es.create("invalid custom metric name",{customMetricName:p});this.counters[p]=function Yu(o){const p=Math.floor(o);return p<o&&$o.info(`Metric value should be an Integer, setting the value as : ${p}.`),p}(null!=v?v:0)}getMetric(p){return this.counters[p]||0}putAttribute(p,v){const I=function Ls(o){return!(0===o.length||o.length>40||De.some(v=>o.startsWith(v))||!o.match(Qe))}(p),N=function yl(o){return 0!==o.length&&o.length<=100}(v);if(I&&N)this.customAttributes[p]=v;else{if(!I)throw es.create("invalid attribute name",{attributeName:p});if(!N)throw es.create("invalid attribute value",{attributeValue:v})}}getAttribute(p){return this.customAttributes[p]}removeAttribute(p){void 0!==this.customAttributes[p]&&delete this.customAttributes[p]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(p){this.startTimeUs=p}setDuration(p){this.durationUs=p}calculateTraceMetrics(){const p=this.api.getEntriesByName(this.traceMeasure),v=p&&p[0];v&&(this.durationUs=Math.floor(1e3*v.duration),this.startTimeUs=Math.floor(1e3*(v.startTime+this.api.getTimeOrigin())))}static createOobTrace(p,v,I,N){const z=ls.getInstance().getUrl();if(!z)return;const le=new ol(p,"_wt_"+z,!0),Te=Math.floor(1e3*ls.getInstance().getTimeOrigin());if(le.setStartTime(Te),v&&v[0]&&(le.setDuration(Math.floor(1e3*v[0].duration)),le.putMetric("domInteractive",Math.floor(1e3*v[0].domInteractive)),le.putMetric("domContentLoadedEventEnd",Math.floor(1e3*v[0].domContentLoadedEventEnd)),le.putMetric("loadEventEnd",Math.floor(1e3*v[0].loadEventEnd))),I){const me=I.find(Le=>"first-paint"===Le.name);me&&me.startTime&&le.putMetric("_fp",Math.floor(1e3*me.startTime));const ve=I.find(Le=>"first-contentful-paint"===Le.name);ve&&ve.startTime&&le.putMetric("_fcp",Math.floor(1e3*ve.startTime)),N&&le.putMetric("_fid",Math.floor(1e3*N))}Wu(le)}static createUserTimingTrace(p,v){Wu(new ol(p,v,!1,v))}}function wu(o,p){const v=p;if(!v||void 0===v.responseStart)return;const I=ls.getInstance().getTimeOrigin(),N=Math.floor(1e3*(v.startTime+I)),z=v.responseStart?Math.floor(1e3*(v.responseStart-v.startTime)):void 0,le=Math.floor(1e3*(v.responseEnd-v.startTime));!function bu(o){const p=D.getInstance();if(!p.instrumentationEnabled)return;const v=o.url,I=p.logEndPointUrl.split("?")[0],N=p.flTransportEndpointUrl.split("?")[0];v===I||v===N||!p.loggingEnabled||!p.logNetworkAfterSampling||setTimeout(()=>ud(o,0),0)}({performanceController:o,url:v.name&&v.name.split("?")[0],responsePayloadBytes:v.transferSize,startTimeUs:N,timeToResponseInitiatedUs:z,timeToResponseCompletedUs:le})}const Yd=5e3;function Jh(o){Mo()&&(setTimeout(()=>function hd(o){const p=ls.getInstance(),v=p.getEntriesByType("navigation"),I=p.getEntriesByType("paint");if(p.onFirstInputDelay){let N=setTimeout(()=>{ol.createOobTrace(o,v,I),N=void 0},Yd);p.onFirstInputDelay(z=>{N&&(clearTimeout(N),ol.createOobTrace(o,v,I,z))})}else ol.createOobTrace(o,v,I)}(o),0),setTimeout(()=>function Kd(o){const p=ls.getInstance(),v=p.getEntriesByType("resource");for(const I of v)wu(o,I);p.setupObserver("resource",I=>wu(o,I))}(o),0),setTimeout(()=>function hh(o){const p=ls.getInstance(),v=p.getEntriesByType("measure");for(const I of v)Tu(o,I);p.setupObserver("measure",I=>Tu(o,I))}(o),0))}function Tu(o,p){const v=p.name;v.substring(0,vu.length)!==vu&&ol.createUserTimingTrace(o,v)}class Iu{constructor(p,v){this.app=p,this.installations=v,this.initialized=!1}_init(p){this.initialized||(void 0!==(null==p?void 0:p.dataCollectionEnabled)&&(this.dataCollectionEnabled=p.dataCollectionEnabled),void 0!==(null==p?void 0:p.instrumentationEnabled)&&(this.instrumentationEnabled=p.instrumentationEnabled),ls.getInstance().requiredApisAvailable()?(0,be.eu)().then(v=>{v&&(function zu(){Gu||(oa(5500),Gu=!0)}(),wd(this).then(()=>Jh(this),()=>Jh(this)),this.initialized=!0)}).catch(v=>{$o.info(`Environment doesn't support IndexedDB: ${v}`)}):$o.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(p){D.getInstance().instrumentationEnabled=p}get instrumentationEnabled(){return D.getInstance().instrumentationEnabled}set dataCollectionEnabled(p){D.getInstance().dataCollectionEnabled=p}get dataCollectionEnabled(){return D.getInstance().dataCollectionEnabled}}function qd(o=(0,kt.getApp)()){return o=(0,be.m9)(o),(0,kt._getProvider)(o,"performance").getImmediate()}const ph=(o,{options:p})=>{const v=o.getProvider("app").getImmediate(),I=o.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==v.name)throw es.create("FB not default");if(typeof window>"u")throw es.create("no window");!function _l(o){Pl=o}(window);const N=new Iu(v,I);return N._init(p),N};!function ef(){(0,kt._registerComponent)(new Ge.wA("performance",ph,"PUBLIC")),(0,kt.registerVersion)(tu,nu),(0,kt.registerVersion)(tu,nu,"esm2017")}();class gh{constructor(p){return p}}const Zd="performance",Qa=new Z.OlP("angularfire2.performance-instances");function tf(o){return(p,v,I)=>{if(!(0,Ac.NF)(v))return null;const N=p.runOutsideAngular(()=>o(I));return new gh(N)}}const _h={provide:class mh{constructor(){return(0,xe.vb)(Zd)}},deps:[[new Z.FiY,Qa]]},al={provide:gh,useFactory:function Ku(o,p,v){if(!(0,Ac.NF)(v))return null;const I=(0,xe.JM)(Zd,o,p);return I&&new gh(I)},deps:[[new Z.FiY,Qa],Ue.Ot,Z.Lbi]};let qf=(()=>{class o{constructor(){(0,je.KN)("angularfire",xe.q4.full,"perf")}}return o.\u0275fac=function(v){return new(v||o)},o.\u0275mod=Z.oAB({type:o}),o.\u0275inj=Z.cJS({providers:[al,_h]}),o})();const h=(0,xe.u3)(qd,!0);var L=U(4880);class ee{constructor(p){return p}}const ue="remote-config",tn=new Z.OlP("angularfire2.remote-config-instances");function Kn(o){return(p,v)=>{if(!xe._J.sync())return null;const I=p.runOutsideAngular(()=>o(v));return new ee(I)}}const ti={provide:class Xe{constructor(){return(0,xe.vb)(ue)}},deps:[[new Z.FiY,tn]]},ir={provide:ee,useFactory:function Gn(o,p){if(!xe._J.sync())return null;const v=(0,xe.JM)(ue,o,p);return v&&new ee(v)},deps:[[new Z.FiY,tn],Ue.Ot]};let Cr=(()=>{class o{constructor(){(0,je.KN)("angularfire",xe.q4.full,"rc")}}return o.\u0275fac=function(v){return new(v||o)},o.\u0275mod=Z.oAB({type:o}),o.\u0275inj=Z.cJS({providers:[ir,ti,{provide:Z.ip1,useValue:xe._J.async,multi:!0}]}),o})();const lf=(0,xe.u3)(L.sN,!0);var Md=U(2011),xd=U(433);function bh(o){return null!==o&&"object"==typeof o&&"constructor"in o&&o.constructor===Object}function Eh(o={},p={}){Object.keys(p).forEach(v=>{typeof o[v]>"u"?o[v]=p[v]:bh(p[v])&&bh(o[v])&&Object.keys(p[v]).length>0&&Eh(o[v],p[v])})}const g={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function T(){const o=typeof document<"u"?document:{};return Eh(o,g),o}const c={document:g,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:o=>typeof setTimeout>"u"?(o(),null):setTimeout(o,0),cancelAnimationFrame(o){typeof setTimeout>"u"||clearTimeout(o)}};function y(){const o=typeof window<"u"?window:{};return Eh(o,c),o}class te extends Array{constructor(p){"number"==typeof p?super(p):(super(...p||[]),function P(o){const p=o.__proto__;Object.defineProperty(o,"__proto__",{get:()=>p,set(v){p.__proto__=v}})}(this))}}function st(o=[]){const p=[];return o.forEach(v=>{Array.isArray(v)?p.push(...st(v)):p.push(v)}),p}function en(o,p){return Array.prototype.filter.call(o,p)}function Qn(o,p){const v=y(),I=T();let N=[];if(!p&&o instanceof te)return o;if(!o)return new te(N);if("string"==typeof o){const z=o.trim();if(z.indexOf("<")>=0&&z.indexOf(">")>=0){let le="div";0===z.indexOf("<li")&&(le="ul"),0===z.indexOf("<tr")&&(le="tbody"),(0===z.indexOf("<td")||0===z.indexOf("<th"))&&(le="tr"),0===z.indexOf("<tbody")&&(le="table"),0===z.indexOf("<option")&&(le="select");const Te=I.createElement(le);Te.innerHTML=z;for(let ae=0;ae<Te.childNodes.length;ae+=1)N.push(Te.childNodes[ae])}else N=function Pn(o,p){if("string"!=typeof o)return[o];const v=[],I=p.querySelectorAll(o);for(let N=0;N<I.length;N+=1)v.push(I[N]);return v}(o.trim(),p||I)}else if(o.nodeType||o===v||o===I)N.push(o);else if(Array.isArray(o)){if(o instanceof te)return o;N=o}return new te(function ln(o){const p=[];for(let v=0;v<o.length;v+=1)-1===p.indexOf(o[v])&&p.push(o[v]);return p}(N))}Qn.fn=te.prototype;const dm="resize scroll".split(" ");function aa(o){return function p(...v){if(typeof v[0]>"u"){for(let I=0;I<this.length;I+=1)dm.indexOf(o)<0&&(o in this[I]?this[I][o]():Qn(this[I]).trigger(o));return this}return this.on(o,...v)}}aa("click"),aa("blur"),aa("focus"),aa("focusin"),aa("focusout"),aa("keyup"),aa("keydown"),aa("keypress"),aa("submit"),aa("change"),aa("mousedown"),aa("mousemove"),aa("mouseup"),aa("mouseenter"),aa("mouseleave"),aa("mouseout"),aa("mouseover"),aa("touchstart"),aa("touchend"),aa("touchmove"),aa("resize"),aa("scroll");const tp={addClass:function Ai(...o){const p=st(o.map(v=>v.split(" ")));return this.forEach(v=>{v.classList.add(...p)}),this},removeClass:function Ki(...o){const p=st(o.map(v=>v.split(" ")));return this.forEach(v=>{v.classList.remove(...p)}),this},hasClass:function pr(...o){const p=st(o.map(v=>v.split(" ")));return en(this,v=>p.filter(I=>v.classList.contains(I)).length>0).length>0},toggleClass:function Kr(...o){const p=st(o.map(v=>v.split(" ")));this.forEach(v=>{p.forEach(I=>{v.classList.toggle(I)})})},attr:function Or(o,p){if(1===arguments.length&&"string"==typeof o)return this[0]?this[0].getAttribute(o):void 0;for(let v=0;v<this.length;v+=1)if(2===arguments.length)this[v].setAttribute(o,p);else for(const I in o)this[v][I]=o[I],this[v].setAttribute(I,o[I]);return this},removeAttr:function qr(o){for(let p=0;p<this.length;p+=1)this[p].removeAttribute(o);return this},transform:function vs(o){for(let p=0;p<this.length;p+=1)this[p].style.transform=o;return this},transition:function Yo(o){for(let p=0;p<this.length;p+=1)this[p].style.transitionDuration="string"!=typeof o?`${o}ms`:o;return this},on:function Ko(...o){let[p,v,I,N]=o;function z(Ce){const me=Ce.target;if(!me)return;const ve=Ce.target.dom7EventData||[];if(ve.indexOf(Ce)<0&&ve.unshift(Ce),Qn(me).is(v))I.apply(me,ve);else{const Le=Qn(me).parents();for(let Ct=0;Ct<Le.length;Ct+=1)Qn(Le[Ct]).is(v)&&I.apply(Le[Ct],ve)}}function le(Ce){const me=Ce&&Ce.target&&Ce.target.dom7EventData||[];me.indexOf(Ce)<0&&me.unshift(Ce),I.apply(this,me)}"function"==typeof o[1]&&([p,I,N]=o,v=void 0),N||(N=!1);const Te=p.split(" ");let ae;for(let Ce=0;Ce<this.length;Ce+=1){const me=this[Ce];if(v)for(ae=0;ae<Te.length;ae+=1){const ve=Te[ae];me.dom7LiveListeners||(me.dom7LiveListeners={}),me.dom7LiveListeners[ve]||(me.dom7LiveListeners[ve]=[]),me.dom7LiveListeners[ve].push({listener:I,proxyListener:z}),me.addEventListener(ve,z,N)}else for(ae=0;ae<Te.length;ae+=1){const ve=Te[ae];me.dom7Listeners||(me.dom7Listeners={}),me.dom7Listeners[ve]||(me.dom7Listeners[ve]=[]),me.dom7Listeners[ve].push({listener:I,proxyListener:le}),me.addEventListener(ve,le,N)}}return this},off:function Ro(...o){let[p,v,I,N]=o;"function"==typeof o[1]&&([p,I,N]=o,v=void 0),N||(N=!1);const z=p.split(" ");for(let le=0;le<z.length;le+=1){const Te=z[le];for(let ae=0;ae<this.length;ae+=1){const Ce=this[ae];let me;if(!v&&Ce.dom7Listeners?me=Ce.dom7Listeners[Te]:v&&Ce.dom7LiveListeners&&(me=Ce.dom7LiveListeners[Te]),me&&me.length)for(let ve=me.length-1;ve>=0;ve-=1){const Le=me[ve];I&&Le.listener===I||I&&Le.listener&&Le.listener.dom7proxy&&Le.listener.dom7proxy===I?(Ce.removeEventListener(Te,Le.proxyListener,N),me.splice(ve,1)):I||(Ce.removeEventListener(Te,Le.proxyListener,N),me.splice(ve,1))}}}return this},trigger:function el(...o){const p=y(),v=o[0].split(" "),I=o[1];for(let N=0;N<v.length;N+=1){const z=v[N];for(let le=0;le<this.length;le+=1){const Te=this[le];if(p.CustomEvent){const ae=new p.CustomEvent(z,{detail:I,bubbles:!0,cancelable:!0});Te.dom7EventData=o.filter((Ce,me)=>me>0),Te.dispatchEvent(ae),Te.dom7EventData=[],delete Te.dom7EventData}}}return this},transitionEnd:function fd(o){const p=this;return o&&p.on("transitionend",function v(I){I.target===this&&(o.call(this,I),p.off("transitionend",v))}),this},outerWidth:function Su(o){if(this.length>0){if(o){const p=this.styles();return this[0].offsetWidth+parseFloat(p.getPropertyValue("margin-right"))+parseFloat(p.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function Od(o){if(this.length>0){if(o){const p=this.styles();return this[0].offsetHeight+parseFloat(p.getPropertyValue("margin-top"))+parseFloat(p.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function Au(){const o=y();return this[0]?o.getComputedStyle(this[0],null):{}},offset:function Ch(){if(this.length>0){const o=y(),p=T(),v=this[0],I=v.getBoundingClientRect(),N=p.body;return{top:I.top+(v===o?o.scrollY:v.scrollTop)-(v.clientTop||N.clientTop||0),left:I.left+(v===o?o.scrollX:v.scrollLeft)-(v.clientLeft||N.clientLeft||0)}}return null},css:function Fl(o,p){const v=y();let I;if(1===arguments.length){if("string"!=typeof o){for(I=0;I<this.length;I+=1)for(const N in o)this[I].style[N]=o[N];return this}if(this[0])return v.getComputedStyle(this[0],null).getPropertyValue(o)}if(2===arguments.length&&"string"==typeof o){for(I=0;I<this.length;I+=1)this[I].style[o]=p;return this}return this},each:function Rd(o){return o?(this.forEach((p,v)=>{o.apply(p,[p,v])}),this):this},html:function Il(o){if(typeof o>"u")return this[0]?this[0].innerHTML:null;for(let p=0;p<this.length;p+=1)this[p].innerHTML=o;return this},text:function wh(o){if(typeof o>"u")return this[0]?this[0].textContent.trim():null;for(let p=0;p<this.length;p+=1)this[p].textContent=o;return this},is:function qu(o){const p=y(),v=T(),I=this[0];let N,z;if(!I||typeof o>"u")return!1;if("string"==typeof o){if(I.matches)return I.matches(o);if(I.webkitMatchesSelector)return I.webkitMatchesSelector(o);if(I.msMatchesSelector)return I.msMatchesSelector(o);for(N=Qn(o),z=0;z<N.length;z+=1)if(N[z]===I)return!0;return!1}if(o===v)return I===v;if(o===p)return I===p;if(o.nodeType||o instanceof te){for(N=o.nodeType?[o]:o,z=0;z<N.length;z+=1)if(N[z]===I)return!0;return!1}return!1},index:function df(){let p,o=this[0];if(o){for(p=0;null!==(o=o.previousSibling);)1===o.nodeType&&(p+=1);return p}},eq:function Nd(o){if(typeof o>"u")return this;const p=this.length;if(o>p-1)return Qn([]);if(o<0){const v=p+o;return Qn(v<0?[]:[this[v]])}return Qn([this[o]])},append:function hf(...o){let p;const v=T();for(let I=0;I<o.length;I+=1){p=o[I];for(let N=0;N<this.length;N+=1)if("string"==typeof p){const z=v.createElement("div");for(z.innerHTML=p;z.firstChild;)this[N].appendChild(z.firstChild)}else if(p instanceof te)for(let z=0;z<p.length;z+=1)this[N].appendChild(p[z]);else this[N].appendChild(p)}return this},prepend:function ff(o){const p=T();let v,I;for(v=0;v<this.length;v+=1)if("string"==typeof o){const N=p.createElement("div");for(N.innerHTML=o,I=N.childNodes.length-1;I>=0;I-=1)this[v].insertBefore(N.childNodes[I],this[v].childNodes[0])}else if(o instanceof te)for(I=0;I<o.length;I+=1)this[v].insertBefore(o[I],this[v].childNodes[0]);else this[v].insertBefore(o,this[v].childNodes[0]);return this},next:function mf(o){return this.length>0?o?this[0].nextElementSibling&&Qn(this[0].nextElementSibling).is(o)?Qn([this[0].nextElementSibling]):Qn([]):Qn(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):Qn([])},nextAll:function Xl(o){const p=[];let v=this[0];if(!v)return Qn([]);for(;v.nextElementSibling;){const I=v.nextElementSibling;o?Qn(I).is(o)&&p.push(I):p.push(I),v=I}return Qn(p)},prev:function eh(o){if(this.length>0){const p=this[0];return o?p.previousElementSibling&&Qn(p.previousElementSibling).is(o)?Qn([p.previousElementSibling]):Qn([]):Qn(p.previousElementSibling?[p.previousElementSibling]:[])}return Qn([])},prevAll:function Jf(o){const p=[];let v=this[0];if(!v)return Qn([]);for(;v.previousElementSibling;){const I=v.previousElementSibling;o?Qn(I).is(o)&&p.push(I):p.push(I),v=I}return Qn(p)},parent:function _f(o){const p=[];for(let v=0;v<this.length;v+=1)null!==this[v].parentNode&&(o?Qn(this[v].parentNode).is(o)&&p.push(this[v].parentNode):p.push(this[v].parentNode));return Qn(p)},parents:function vf(o){const p=[];for(let v=0;v<this.length;v+=1){let I=this[v].parentNode;for(;I;)o?Qn(I).is(o)&&p.push(I):p.push(I),I=I.parentNode}return Qn(p)},closest:function Xu(o){let p=this;return typeof o>"u"?Qn([]):(p.is(o)||(p=p.parents(o).eq(0)),p)},find:function Pd(o){const p=[];for(let v=0;v<this.length;v+=1){const I=this[v].querySelectorAll(o);for(let N=0;N<I.length;N+=1)p.push(I[N])}return Qn(p)},children:function Ju(o){const p=[];for(let v=0;v<this.length;v+=1){const I=this[v].children;for(let N=0;N<I.length;N+=1)(!o||Qn(I[N]).is(o))&&p.push(I[N])}return Qn(p)},filter:function Tl(o){return Qn(en(this,o))},remove:function Qu(){for(let o=0;o<this.length;o+=1)this[o].parentNode&&this[o].parentNode.removeChild(this[o]);return this}};Object.keys(tp).forEach(o=>{Object.defineProperty(Qn.fn,o,{value:tp[o],writable:!0})});const No=Qn;function bf(o,p=0){return setTimeout(o,p)}function uu(){return Date.now()}function Ih(o){return"object"==typeof o&&null!==o&&o.constructor&&"Object"===Object.prototype.toString.call(o).slice(8,-1)}function Pp(o){return typeof window<"u"&&typeof window.HTMLElement<"u"?o instanceof HTMLElement:o&&(1===o.nodeType||11===o.nodeType)}function zc(...o){const p=Object(o[0]),v=["__proto__","constructor","prototype"];for(let I=1;I<o.length;I+=1){const N=o[I];if(null!=N&&!Pp(N)){const z=Object.keys(Object(N)).filter(le=>v.indexOf(le)<0);for(let le=0,Te=z.length;le<Te;le+=1){const ae=z[le],Ce=Object.getOwnPropertyDescriptor(N,ae);void 0!==Ce&&Ce.enumerable&&(Ih(p[ae])&&Ih(N[ae])?N[ae].__swiper__?p[ae]=N[ae]:zc(p[ae],N[ae]):!Ih(p[ae])&&Ih(N[ae])?(p[ae]={},N[ae].__swiper__?p[ae]=N[ae]:zc(p[ae],N[ae])):p[ae]=N[ae])}}}return p}function np(o,p,v){o.style.setProperty(p,v)}function kp({swiper:o,targetPosition:p,side:v}){const I=y(),N=-o.translate;let le,z=null;const Te=o.params.speed;o.wrapperEl.style.scrollSnapType="none",I.cancelAnimationFrame(o.cssModeFrameID);const ae=p>N?"next":"prev",Ce=(ve,Le)=>"next"===ae&&ve>=Le||"prev"===ae&&ve<=Le,me=()=>{le=(new Date).getTime(),null===z&&(z=le);const ve=Math.max(Math.min((le-z)/Te,1),0),Le=.5-Math.cos(ve*Math.PI)/2;let Ct=N+Le*(p-N);if(Ce(Ct,p)&&(Ct=p),o.wrapperEl.scrollTo({[v]:Ct}),Ce(Ct,p))return o.wrapperEl.style.overflow="hidden",o.wrapperEl.style.scrollSnapType="",setTimeout(()=>{o.wrapperEl.style.overflow="",o.wrapperEl.scrollTo({[v]:Ct})}),void I.cancelAnimationFrame(o.cssModeFrameID);o.cssModeFrameID=I.requestAnimationFrame(me)};me()}let Dh,Cf,wf;function ip(){return Dh||(Dh=function Sh(){const o=y(),p=T();return{smoothScroll:p.documentElement&&"scrollBehavior"in p.documentElement.style,touch:!!("ontouchstart"in o||o.DocumentTouch&&p instanceof o.DocumentTouch),passiveListener:function(){let I=!1;try{const N=Object.defineProperty({},"passive",{get(){I=!0}});o.addEventListener("testPassiveListener",null,N)}catch(N){}return I}(),gestures:"ongesturestart"in o}}()),Dh}function Mh({swiper:o,runCallbacks:p,direction:v,step:I}){const{activeIndex:N,previousIndex:z}=o;let le=v;if(le||(le=N>z?"next":N<z?"prev":"reset"),o.emit(`transition${I}`),p&&N!==z){if("reset"===le)return void o.emit(`slideResetTransition${I}`);o.emit(`slideChangeTransition${I}`),o.emit("next"===le?`slideNextTransition${I}`:`slidePrevTransition${I}`)}}function Sg(o){const p=this,v=T(),I=y(),N=p.touchEventsData,{params:z,touches:le,enabled:Te}=p;if(!Te||p.animating&&z.preventInteractionOnTransition)return;!p.animating&&z.cssMode&&z.loop&&p.loopFix();let ae=o;ae.originalEvent&&(ae=ae.originalEvent);let Ce=No(ae.target);if("wrapper"===z.touchEventsTarget&&!Ce.closest(p.wrapperEl).length||(N.isTouchEvent="touchstart"===ae.type,!N.isTouchEvent&&"which"in ae&&3===ae.which)||!N.isTouchEvent&&"button"in ae&&ae.button>0||N.isTouched&&N.isMoved)return;const me=!!z.noSwipingClass&&""!==z.noSwipingClass,ve=o.composedPath?o.composedPath():o.path;me&&ae.target&&ae.target.shadowRoot&&ve&&(Ce=No(ve[0]));const Le=z.noSwipingSelector?z.noSwipingSelector:`.${z.noSwipingClass}`;if(z.noSwiping&&(ae.target&&ae.target.shadowRoot?function bm(o,p=this){return function v(I){if(!I||I===T()||I===y())return null;I.assignedSlot&&(I=I.assignedSlot);const N=I.closest(o);return N||I.getRootNode?N||v(I.getRootNode().host):null}(p)}(Le,Ce[0]):Ce.closest(Le)[0]))return void(p.allowClick=!0);if(z.swipeHandler&&!Ce.closest(z.swipeHandler)[0])return;le.currentX="touchstart"===ae.type?ae.targetTouches[0].pageX:ae.pageX,le.currentY="touchstart"===ae.type?ae.targetTouches[0].pageY:ae.pageY;const Rt=le.currentX,tt=le.currentY,ht=z.edgeSwipeDetection||z.iOSEdgeSwipeDetection,an=z.edgeSwipeThreshold||z.iOSEdgeSwipeThreshold;if(ht&&(Rt<=an||Rt>=I.innerWidth-an)){if("prevent"!==ht)return;o.preventDefault()}if(Object.assign(N,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),le.startX=Rt,le.startY=tt,N.touchStartTime=uu(),p.allowClick=!0,p.updateSize(),p.swipeDirection=void 0,z.threshold>0&&(N.allowThresholdMove=!1),"touchstart"!==ae.type){let nn=!0;Ce.is(N.focusableElements)&&(nn=!1,"SELECT"===Ce[0].nodeName&&(N.isTouched=!1)),v.activeElement&&No(v.activeElement).is(N.focusableElements)&&v.activeElement!==Ce[0]&&v.activeElement.blur(),(z.touchStartForcePreventDefault||nn&&p.allowTouchMove&&z.touchStartPreventDefault)&&!Ce[0].isContentEditable&&ae.preventDefault()}p.params.freeMode&&p.params.freeMode.enabled&&p.freeMode&&p.animating&&!z.cssMode&&p.freeMode.onTouchStart(),p.emit("touchStart",ae)}function Oc(o){const p=T(),v=this,I=v.touchEventsData,{params:N,touches:z,rtlTranslate:le,enabled:Te}=v;if(!Te)return;let ae=o;if(ae.originalEvent&&(ae=ae.originalEvent),!I.isTouched)return void(I.startMoving&&I.isScrolling&&v.emit("touchMoveOpposite",ae));if(I.isTouchEvent&&"touchmove"!==ae.type)return;const Ce="touchmove"===ae.type&&ae.targetTouches&&(ae.targetTouches[0]||ae.changedTouches[0]),me="touchmove"===ae.type?Ce.pageX:ae.pageX,ve="touchmove"===ae.type?Ce.pageY:ae.pageY;if(ae.preventedByNestedSwiper)return z.startX=me,void(z.startY=ve);if(!v.allowTouchMove)return No(ae.target).is(I.focusableElements)||(v.allowClick=!1),void(I.isTouched&&(Object.assign(z,{startX:me,startY:ve,currentX:me,currentY:ve}),I.touchStartTime=uu()));if(I.isTouchEvent&&N.touchReleaseOnEdges&&!N.loop)if(v.isVertical()){if(ve<z.startY&&v.translate<=v.maxTranslate()||ve>z.startY&&v.translate>=v.minTranslate())return I.isTouched=!1,void(I.isMoved=!1)}else if(me<z.startX&&v.translate<=v.maxTranslate()||me>z.startX&&v.translate>=v.minTranslate())return;if(I.isTouchEvent&&p.activeElement&&ae.target===p.activeElement&&No(ae.target).is(I.focusableElements))return I.isMoved=!0,void(v.allowClick=!1);if(I.allowTouchCallbacks&&v.emit("touchMove",ae),ae.targetTouches&&ae.targetTouches.length>1)return;z.currentX=me,z.currentY=ve;const Le=z.currentX-z.startX,Ct=z.currentY-z.startY;if(v.params.threshold&&Math.sqrt(Le**2+Ct**2)<v.params.threshold)return;if(typeof I.isScrolling>"u"){let an;v.isHorizontal()&&z.currentY===z.startY||v.isVertical()&&z.currentX===z.startX?I.isScrolling=!1:Le*Le+Ct*Ct>=25&&(an=180*Math.atan2(Math.abs(Ct),Math.abs(Le))/Math.PI,I.isScrolling=v.isHorizontal()?an>N.touchAngle:90-an>N.touchAngle)}if(I.isScrolling&&v.emit("touchMoveOpposite",ae),typeof I.startMoving>"u"&&(z.currentX!==z.startX||z.currentY!==z.startY)&&(I.startMoving=!0),I.isScrolling)return void(I.isTouched=!1);if(!I.startMoving)return;v.allowClick=!1,!N.cssMode&&ae.cancelable&&ae.preventDefault(),N.touchMoveStopPropagation&&!N.nested&&ae.stopPropagation(),I.isMoved||(N.loop&&!N.cssMode&&v.loopFix(),I.startTranslate=v.getTranslate(),v.setTransition(0),v.animating&&v.$wrapperEl.trigger("webkitTransitionEnd transitionend"),I.allowMomentumBounce=!1,N.grabCursor&&(!0===v.allowSlideNext||!0===v.allowSlidePrev)&&v.setGrabCursor(!0),v.emit("sliderFirstMove",ae)),v.emit("sliderMove",ae),I.isMoved=!0;let Rt=v.isHorizontal()?Le:Ct;z.diff=Rt,Rt*=N.touchRatio,le&&(Rt=-Rt),v.swipeDirection=Rt>0?"prev":"next",I.currentTranslate=Rt+I.startTranslate;let tt=!0,ht=N.resistanceRatio;if(N.touchReleaseOnEdges&&(ht=0),Rt>0&&I.currentTranslate>v.minTranslate()?(tt=!1,N.resistance&&(I.currentTranslate=v.minTranslate()-1+(-v.minTranslate()+I.startTranslate+Rt)**ht)):Rt<0&&I.currentTranslate<v.maxTranslate()&&(tt=!1,N.resistance&&(I.currentTranslate=v.maxTranslate()+1-(v.maxTranslate()-I.startTranslate-Rt)**ht)),tt&&(ae.preventedByNestedSwiper=!0),!v.allowSlideNext&&"next"===v.swipeDirection&&I.currentTranslate<I.startTranslate&&(I.currentTranslate=I.startTranslate),!v.allowSlidePrev&&"prev"===v.swipeDirection&&I.currentTranslate>I.startTranslate&&(I.currentTranslate=I.startTranslate),!v.allowSlidePrev&&!v.allowSlideNext&&(I.currentTranslate=I.startTranslate),N.threshold>0){if(!(Math.abs(Rt)>N.threshold||I.allowThresholdMove))return void(I.currentTranslate=I.startTranslate);if(!I.allowThresholdMove)return I.allowThresholdMove=!0,z.startX=z.currentX,z.startY=z.currentY,I.currentTranslate=I.startTranslate,void(z.diff=v.isHorizontal()?z.currentX-z.startX:z.currentY-z.startY)}!N.followFinger||N.cssMode||((N.freeMode&&N.freeMode.enabled&&v.freeMode||N.watchSlidesProgress)&&(v.updateActiveIndex(),v.updateSlidesClasses()),v.params.freeMode&&N.freeMode.enabled&&v.freeMode&&v.freeMode.onTouchMove(),v.updateProgress(I.currentTranslate),v.setTranslate(I.currentTranslate))}function Ag(o){const p=this,v=p.touchEventsData,{params:I,touches:N,rtlTranslate:z,slidesGrid:le,enabled:Te}=p;if(!Te)return;let ae=o;if(ae.originalEvent&&(ae=ae.originalEvent),v.allowTouchCallbacks&&p.emit("touchEnd",ae),v.allowTouchCallbacks=!1,!v.isTouched)return v.isMoved&&I.grabCursor&&p.setGrabCursor(!1),v.isMoved=!1,void(v.startMoving=!1);I.grabCursor&&v.isMoved&&v.isTouched&&(!0===p.allowSlideNext||!0===p.allowSlidePrev)&&p.setGrabCursor(!1);const Ce=uu(),me=Ce-v.touchStartTime;if(p.allowClick){const nn=ae.path||ae.composedPath&&ae.composedPath();p.updateClickedSlide(nn&&nn[0]||ae.target),p.emit("tap click",ae),me<300&&Ce-v.lastClickTime<300&&p.emit("doubleTap doubleClick",ae)}if(v.lastClickTime=uu(),bf(()=>{p.destroyed||(p.allowClick=!0)}),!v.isTouched||!v.isMoved||!p.swipeDirection||0===N.diff||v.currentTranslate===v.startTranslate)return v.isTouched=!1,v.isMoved=!1,void(v.startMoving=!1);let ve;if(v.isTouched=!1,v.isMoved=!1,v.startMoving=!1,ve=I.followFinger?z?p.translate:-p.translate:-v.currentTranslate,I.cssMode)return;if(p.params.freeMode&&I.freeMode.enabled)return void p.freeMode.onTouchEnd({currentPos:ve});let Le=0,Ct=p.slidesSizesGrid[0];for(let nn=0;nn<le.length;nn+=nn<I.slidesPerGroupSkip?1:I.slidesPerGroup){const un=nn<I.slidesPerGroupSkip-1?1:I.slidesPerGroup;typeof le[nn+un]<"u"?ve>=le[nn]&&ve<le[nn+un]&&(Le=nn,Ct=le[nn+un]-le[nn]):ve>=le[nn]&&(Le=nn,Ct=le[le.length-1]-le[le.length-2])}let Rt=null,tt=null;I.rewind&&(p.isBeginning?tt=p.params.virtual&&p.params.virtual.enabled&&p.virtual?p.virtual.slides.length-1:p.slides.length-1:p.isEnd&&(Rt=0));const ht=(ve-le[Le])/Ct,an=Le<I.slidesPerGroupSkip-1?1:I.slidesPerGroup;if(me>I.longSwipesMs){if(!I.longSwipes)return void p.slideTo(p.activeIndex);"next"===p.swipeDirection&&p.slideTo(ht>=I.longSwipesRatio?I.rewind&&p.isEnd?Rt:Le+an:Le),"prev"===p.swipeDirection&&(ht>1-I.longSwipesRatio?p.slideTo(Le+an):null!==tt&&ht<0&&Math.abs(ht)>I.longSwipesRatio?p.slideTo(tt):p.slideTo(Le))}else{if(!I.shortSwipes)return void p.slideTo(p.activeIndex);!p.navigation||ae.target!==p.navigation.nextEl&&ae.target!==p.navigation.prevEl?("next"===p.swipeDirection&&p.slideTo(null!==Rt?Rt:Le+an),"prev"===p.swipeDirection&&p.slideTo(null!==tt?tt:Le)):p.slideTo(ae.target===p.navigation.nextEl?Le+an:Le)}}function hp(){const o=this,{params:p,el:v}=o;if(v&&0===v.offsetWidth)return;p.breakpoints&&o.setBreakpoint();const{allowSlideNext:I,allowSlidePrev:N,snapGrid:z}=o;o.allowSlideNext=!0,o.allowSlidePrev=!0,o.updateSize(),o.updateSlides(),o.updateSlidesClasses(),o.slideTo(("auto"===p.slidesPerView||p.slidesPerView>1)&&o.isEnd&&!o.isBeginning&&!o.params.centeredSlides?o.slides.length-1:o.activeIndex,0,!1,!0),o.autoplay&&o.autoplay.running&&o.autoplay.paused&&o.autoplay.run(),o.allowSlidePrev=N,o.allowSlideNext=I,o.params.watchOverflow&&z!==o.snapGrid&&o.checkOverflow()}function i_(o){const p=this;p.enabled&&(p.allowClick||(p.params.preventClicks&&o.preventDefault(),p.params.preventClicksPropagation&&p.animating&&(o.stopPropagation(),o.stopImmediatePropagation())))}function Of(){const o=this,{wrapperEl:p,rtlTranslate:v,enabled:I}=o;if(!I)return;let N;o.previousTranslate=o.translate,o.translate=o.isHorizontal()?-p.scrollLeft:-p.scrollTop,0===o.translate&&(o.translate=0),o.updateActiveIndex(),o.updateSlidesClasses();const z=o.maxTranslate()-o.minTranslate();N=0===z?0:(o.translate-o.minTranslate())/z,N!==o.progress&&o.updateProgress(v?-o.translate:o.translate),o.emit("setTranslate",o.translate,!1)}let Vp=!1;function Hp(){}const Mg=(o,p)=>{const v=T(),{params:I,touchEvents:N,el:z,wrapperEl:le,device:Te,support:ae}=o,Ce=!!I.nested,me="on"===p?"addEventListener":"removeEventListener",ve=p;if(ae.touch){const Le=!("touchstart"!==N.start||!ae.passiveListener||!I.passiveListeners)&&{passive:!0,capture:!1};z[me](N.start,o.onTouchStart,Le),z[me](N.move,o.onTouchMove,ae.passiveListener?{passive:!1,capture:Ce}:Ce),z[me](N.end,o.onTouchEnd,Le),N.cancel&&z[me](N.cancel,o.onTouchEnd,Le)}else z[me](N.start,o.onTouchStart,!1),v[me](N.move,o.onTouchMove,Ce),v[me](N.end,o.onTouchEnd,!1);(I.preventClicks||I.preventClicksPropagation)&&z[me]("click",o.onClick,!0),I.cssMode&&le[me]("scroll",o.onScroll),o[ve](I.updateOnWindowResize?Te.ios||Te.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",hp,!0)},fp=(o,p)=>o.grid&&p.grid&&p.grid.rows>1,gp={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Kp(o,p){return function(I={}){const N=Object.keys(I)[0],z=I[N];"object"==typeof z&&null!==z?(["navigation","pagination","scrollbar"].indexOf(N)>=0&&!0===o[N]&&(o[N]={auto:!0}),N in o&&"enabled"in z?(!0===o[N]&&(o[N]={enabled:!0}),"object"==typeof o[N]&&!("enabled"in o[N])&&(o[N].enabled=!0),o[N]||(o[N]={enabled:!1}),zc(p,I)):zc(p,I)):zc(p,I)}}const Nf={eventsEmitter:{on(o,p,v){const I=this;if(!I.eventsListeners||I.destroyed||"function"!=typeof p)return I;const N=v?"unshift":"push";return o.split(" ").forEach(z=>{I.eventsListeners[z]||(I.eventsListeners[z]=[]),I.eventsListeners[z][N](p)}),I},once(o,p,v){const I=this;if(!I.eventsListeners||I.destroyed||"function"!=typeof p)return I;function N(...z){I.off(o,N),N.__emitterProxy&&delete N.__emitterProxy,p.apply(I,z)}return N.__emitterProxy=p,I.on(o,N,v)},onAny(o,p){const v=this;if(!v.eventsListeners||v.destroyed||"function"!=typeof o)return v;const I=p?"unshift":"push";return v.eventsAnyListeners.indexOf(o)<0&&v.eventsAnyListeners[I](o),v},offAny(o){const p=this;if(!p.eventsListeners||p.destroyed||!p.eventsAnyListeners)return p;const v=p.eventsAnyListeners.indexOf(o);return v>=0&&p.eventsAnyListeners.splice(v,1),p},off(o,p){const v=this;return!v.eventsListeners||v.destroyed||!v.eventsListeners||o.split(" ").forEach(I=>{typeof p>"u"?v.eventsListeners[I]=[]:v.eventsListeners[I]&&v.eventsListeners[I].forEach((N,z)=>{(N===p||N.__emitterProxy&&N.__emitterProxy===p)&&v.eventsListeners[I].splice(z,1)})}),v},emit(...o){const p=this;if(!p.eventsListeners||p.destroyed||!p.eventsListeners)return p;let v,I,N;return"string"==typeof o[0]||Array.isArray(o[0])?(v=o[0],I=o.slice(1,o.length),N=p):(v=o[0].events,I=o[0].data,N=o[0].context||p),I.unshift(N),(Array.isArray(v)?v:v.split(" ")).forEach(le=>{p.eventsAnyListeners&&p.eventsAnyListeners.length&&p.eventsAnyListeners.forEach(Te=>{Te.apply(N,[le,...I])}),p.eventsListeners&&p.eventsListeners[le]&&p.eventsListeners[le].forEach(Te=>{Te.apply(N,I)})}),p}},update:{updateSize:function bg(){const o=this;let p,v;const I=o.$el;p=typeof o.params.width<"u"&&null!==o.params.width?o.params.width:I[0].clientWidth,v=typeof o.params.height<"u"&&null!==o.params.height?o.params.height:I[0].clientHeight,!(0===p&&o.isHorizontal()||0===v&&o.isVertical())&&(p=p-parseInt(I.css("padding-left")||0,10)-parseInt(I.css("padding-right")||0,10),v=v-parseInt(I.css("padding-top")||0,10)-parseInt(I.css("padding-bottom")||0,10),Number.isNaN(p)&&(p=0),Number.isNaN(v)&&(v=0),Object.assign(o,{width:p,height:v,size:o.isHorizontal()?p:v}))},updateSlides:function sp(){const o=this;function p(Di){return o.isHorizontal()?Di:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Di]}function v(Di,$n){return parseFloat(Di.getPropertyValue(p($n))||0)}const I=o.params,{$wrapperEl:N,size:z,rtlTranslate:le,wrongRTL:Te}=o,ae=o.virtual&&I.virtual.enabled,Ce=ae?o.virtual.slides.length:o.slides.length,me=N.children(`.${o.params.slideClass}`),ve=ae?o.virtual.slides.length:me.length;let Le=[];const Ct=[],Rt=[];let tt=I.slidesOffsetBefore;"function"==typeof tt&&(tt=I.slidesOffsetBefore.call(o));let ht=I.slidesOffsetAfter;"function"==typeof ht&&(ht=I.slidesOffsetAfter.call(o));const an=o.snapGrid.length,nn=o.slidesGrid.length;let un=I.spaceBetween,Zn=-tt,ri=0,hi=0;if(typeof z>"u")return;"string"==typeof un&&un.indexOf("%")>=0&&(un=parseFloat(un.replace("%",""))/100*z),o.virtualSize=-un,me.css(le?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),I.centeredSlides&&I.cssMode&&(np(o.wrapperEl,"--swiper-centered-offset-before",""),np(o.wrapperEl,"--swiper-centered-offset-after",""));const fi=I.grid&&I.grid.rows>1&&o.grid;let Li;fi&&o.grid.initSlides(ve);const er="auto"===I.slidesPerView&&I.breakpoints&&Object.keys(I.breakpoints).filter(Di=>typeof I.breakpoints[Di].slidesPerView<"u").length>0;for(let Di=0;Di<ve;Di+=1){Li=0;const $n=me.eq(Di);if(fi&&o.grid.updateSlide(Di,$n,ve,p),"none"!==$n.css("display")){if("auto"===I.slidesPerView){er&&(me[Di].style[p("width")]="");const bn=getComputedStyle($n[0]),Yn=$n[0].style.transform,fr=$n[0].style.webkitTransform;if(Yn&&($n[0].style.transform="none"),fr&&($n[0].style.webkitTransform="none"),I.roundLengths)Li=o.isHorizontal()?$n.outerWidth(!0):$n.outerHeight(!0);else{const xr=v(bn,"width"),Vn=v(bn,"padding-left"),Zi=v(bn,"padding-right"),ji=v(bn,"margin-left"),ys=v(bn,"margin-right"),Os=bn.getPropertyValue("box-sizing");if(Os&&"border-box"===Os)Li=xr+ji+ys;else{const{clientWidth:$r,offsetWidth:md}=$n[0];Li=xr+Vn+Zi+ji+ys+(md-$r)}}Yn&&($n[0].style.transform=Yn),fr&&($n[0].style.webkitTransform=fr),I.roundLengths&&(Li=Math.floor(Li))}else Li=(z-(I.slidesPerView-1)*un)/I.slidesPerView,I.roundLengths&&(Li=Math.floor(Li)),me[Di]&&(me[Di].style[p("width")]=`${Li}px`);me[Di]&&(me[Di].swiperSlideSize=Li),Rt.push(Li),I.centeredSlides?(Zn=Zn+Li/2+ri/2+un,0===ri&&0!==Di&&(Zn=Zn-z/2-un),0===Di&&(Zn=Zn-z/2-un),Math.abs(Zn)<.001&&(Zn=0),I.roundLengths&&(Zn=Math.floor(Zn)),hi%I.slidesPerGroup==0&&Le.push(Zn),Ct.push(Zn)):(I.roundLengths&&(Zn=Math.floor(Zn)),(hi-Math.min(o.params.slidesPerGroupSkip,hi))%o.params.slidesPerGroup==0&&Le.push(Zn),Ct.push(Zn),Zn=Zn+Li+un),o.virtualSize+=Li+un,ri=Li,hi+=1}}if(o.virtualSize=Math.max(o.virtualSize,z)+ht,le&&Te&&("slide"===I.effect||"coverflow"===I.effect)&&N.css({width:`${o.virtualSize+I.spaceBetween}px`}),I.setWrapperSize&&N.css({[p("width")]:`${o.virtualSize+I.spaceBetween}px`}),fi&&o.grid.updateWrapperSize(Li,Le,p),!I.centeredSlides){const Di=[];for(let $n=0;$n<Le.length;$n+=1){let bn=Le[$n];I.roundLengths&&(bn=Math.floor(bn)),Le[$n]<=o.virtualSize-z&&Di.push(bn)}Le=Di,Math.floor(o.virtualSize-z)-Math.floor(Le[Le.length-1])>1&&Le.push(o.virtualSize-z)}if(0===Le.length&&(Le=[0]),0!==I.spaceBetween){const Di=o.isHorizontal()&&le?"marginLeft":p("marginRight");me.filter(($n,bn)=>!I.cssMode||bn!==me.length-1).css({[Di]:`${un}px`})}if(I.centeredSlides&&I.centeredSlidesBounds){let Di=0;Rt.forEach(bn=>{Di+=bn+(I.spaceBetween?I.spaceBetween:0)}),Di-=I.spaceBetween;const $n=Di-z;Le=Le.map(bn=>bn<0?-tt:bn>$n?$n+ht:bn)}if(I.centerInsufficientSlides){let Di=0;if(Rt.forEach($n=>{Di+=$n+(I.spaceBetween?I.spaceBetween:0)}),Di-=I.spaceBetween,Di<z){const $n=(z-Di)/2;Le.forEach((bn,Yn)=>{Le[Yn]=bn-$n}),Ct.forEach((bn,Yn)=>{Ct[Yn]=bn+$n})}}if(Object.assign(o,{slides:me,snapGrid:Le,slidesGrid:Ct,slidesSizesGrid:Rt}),I.centeredSlides&&I.cssMode&&!I.centeredSlidesBounds){np(o.wrapperEl,"--swiper-centered-offset-before",-Le[0]+"px"),np(o.wrapperEl,"--swiper-centered-offset-after",o.size/2-Rt[Rt.length-1]/2+"px");const Di=-o.snapGrid[0],$n=-o.slidesGrid[0];o.snapGrid=o.snapGrid.map(bn=>bn+Di),o.slidesGrid=o.slidesGrid.map(bn=>bn+$n)}if(ve!==Ce&&o.emit("slidesLengthChange"),Le.length!==an&&(o.params.watchOverflow&&o.checkOverflow(),o.emit("snapGridLengthChange")),Ct.length!==nn&&o.emit("slidesGridLengthChange"),I.watchSlidesProgress&&o.updateSlidesOffset(),!(ae||I.cssMode||"slide"!==I.effect&&"fade"!==I.effect)){const Di=`${I.containerModifierClass}backface-hidden`,$n=o.$el.hasClass(Di);ve<=I.maxBackfaceHiddenSlides?$n||o.$el.addClass(Di):$n&&o.$el.removeClass(Di)}},updateAutoHeight:function Tf(o){const p=this,v=[],I=p.virtual&&p.params.virtual.enabled;let z,N=0;"number"==typeof o?p.setTransition(o):!0===o&&p.setTransition(p.params.speed);const le=Te=>I?p.slides.filter(ae=>parseInt(ae.getAttribute("data-swiper-slide-index"),10)===Te)[0]:p.slides.eq(Te)[0];if("auto"!==p.params.slidesPerView&&p.params.slidesPerView>1)if(p.params.centeredSlides)(p.visibleSlides||No([])).each(Te=>{v.push(Te)});else for(z=0;z<Math.ceil(p.params.slidesPerView);z+=1){const Te=p.activeIndex+z;if(Te>p.slides.length&&!I)break;v.push(le(Te))}else v.push(le(p.activeIndex));for(z=0;z<v.length;z+=1)if(typeof v[z]<"u"){const Te=v[z].offsetHeight;N=Te>N?Te:N}(N||0===N)&&p.$wrapperEl.css("height",`${N}px`)},updateSlidesOffset:function op(){const o=this,p=o.slides;for(let v=0;v<p.length;v+=1)p[v].swiperSlideOffset=o.isHorizontal()?p[v].offsetLeft:p[v].offsetTop},updateSlidesProgress:function Eg(o=this&&this.translate||0){const p=this,v=p.params,{slides:I,rtlTranslate:N,snapGrid:z}=p;if(0===I.length)return;typeof I[0].swiperSlideOffset>"u"&&p.updateSlidesOffset();let le=-o;N&&(le=o),I.removeClass(v.slideVisibleClass),p.visibleSlidesIndexes=[],p.visibleSlides=[];for(let Te=0;Te<I.length;Te+=1){const ae=I[Te];let Ce=ae.swiperSlideOffset;v.cssMode&&v.centeredSlides&&(Ce-=I[0].swiperSlideOffset);const me=(le+(v.centeredSlides?p.minTranslate():0)-Ce)/(ae.swiperSlideSize+v.spaceBetween),ve=(le-z[0]+(v.centeredSlides?p.minTranslate():0)-Ce)/(ae.swiperSlideSize+v.spaceBetween),Le=-(le-Ce),Ct=Le+p.slidesSizesGrid[Te];(Le>=0&&Le<p.size-1||Ct>1&&Ct<=p.size||Le<=0&&Ct>=p.size)&&(p.visibleSlides.push(ae),p.visibleSlidesIndexes.push(Te),I.eq(Te).addClass(v.slideVisibleClass)),ae.progress=N?-me:me,ae.originalProgress=N?-ve:ve}p.visibleSlides=No(p.visibleSlides)},updateProgress:function Cg(o){const p=this;typeof o>"u"&&(o=p&&p.translate&&p.translate*(p.rtlTranslate?-1:1)||0);const v=p.params,I=p.maxTranslate()-p.minTranslate();let{progress:N,isBeginning:z,isEnd:le}=p;const Te=z,ae=le;0===I?(N=0,z=!0,le=!0):(N=(o-p.minTranslate())/I,z=N<=0,le=N>=1),Object.assign(p,{progress:N,isBeginning:z,isEnd:le}),(v.watchSlidesProgress||v.centeredSlides&&v.autoHeight)&&p.updateSlidesProgress(o),z&&!Te&&p.emit("reachBeginning toEdge"),le&&!ae&&p.emit("reachEnd toEdge"),(Te&&!z||ae&&!le)&&p.emit("fromEdge"),p.emit("progress",N)},updateSlidesClasses:function wg(){const o=this,{slides:p,params:v,$wrapperEl:I,activeIndex:N,realIndex:z}=o,le=o.virtual&&v.virtual.enabled;let Te;p.removeClass(`${v.slideActiveClass} ${v.slideNextClass} ${v.slidePrevClass} ${v.slideDuplicateActiveClass} ${v.slideDuplicateNextClass} ${v.slideDuplicatePrevClass}`),Te=le?o.$wrapperEl.find(`.${v.slideClass}[data-swiper-slide-index="${N}"]`):p.eq(N),Te.addClass(v.slideActiveClass),v.loop&&(Te.hasClass(v.slideDuplicateClass)?I.children(`.${v.slideClass}:not(.${v.slideDuplicateClass})[data-swiper-slide-index="${z}"]`).addClass(v.slideDuplicateActiveClass):I.children(`.${v.slideClass}.${v.slideDuplicateClass}[data-swiper-slide-index="${z}"]`).addClass(v.slideDuplicateActiveClass));let ae=Te.nextAll(`.${v.slideClass}`).eq(0).addClass(v.slideNextClass);v.loop&&0===ae.length&&(ae=p.eq(0),ae.addClass(v.slideNextClass));let Ce=Te.prevAll(`.${v.slideClass}`).eq(0).addClass(v.slidePrevClass);v.loop&&0===Ce.length&&(Ce=p.eq(-1),Ce.addClass(v.slidePrevClass)),v.loop&&(ae.hasClass(v.slideDuplicateClass)?I.children(`.${v.slideClass}:not(.${v.slideDuplicateClass})[data-swiper-slide-index="${ae.attr("data-swiper-slide-index")}"]`).addClass(v.slideDuplicateNextClass):I.children(`.${v.slideClass}.${v.slideDuplicateClass}[data-swiper-slide-index="${ae.attr("data-swiper-slide-index")}"]`).addClass(v.slideDuplicateNextClass),Ce.hasClass(v.slideDuplicateClass)?I.children(`.${v.slideClass}:not(.${v.slideDuplicateClass})[data-swiper-slide-index="${Ce.attr("data-swiper-slide-index")}"]`).addClass(v.slideDuplicatePrevClass):I.children(`.${v.slideClass}.${v.slideDuplicateClass}[data-swiper-slide-index="${Ce.attr("data-swiper-slide-index")}"]`).addClass(v.slideDuplicatePrevClass)),o.emitSlidesClasses()},updateActiveIndex:function Lp(o){const p=this,v=p.rtlTranslate?p.translate:-p.translate,{slidesGrid:I,snapGrid:N,params:z,activeIndex:le,realIndex:Te,snapIndex:ae}=p;let me,Ce=o;if(typeof Ce>"u"){for(let Le=0;Le<I.length;Le+=1)typeof I[Le+1]<"u"?v>=I[Le]&&v<I[Le+1]-(I[Le+1]-I[Le])/2?Ce=Le:v>=I[Le]&&v<I[Le+1]&&(Ce=Le+1):v>=I[Le]&&(Ce=Le);z.normalizeSlideIndex&&(Ce<0||typeof Ce>"u")&&(Ce=0)}if(N.indexOf(v)>=0)me=N.indexOf(v);else{const Le=Math.min(z.slidesPerGroupSkip,Ce);me=Le+Math.floor((Ce-Le)/z.slidesPerGroup)}if(me>=N.length&&(me=N.length-1),Ce===le)return void(me!==ae&&(p.snapIndex=me,p.emit("snapIndexChange")));const ve=parseInt(p.slides.eq(Ce).attr("data-swiper-slide-index")||Ce,10);Object.assign(p,{snapIndex:me,realIndex:ve,previousIndex:le,activeIndex:Ce}),p.emit("activeIndexChange"),p.emit("snapIndexChange"),Te!==ve&&p.emit("realIndexChange"),(p.initialized||p.params.runCallbacksOnInit)&&p.emit("slideChange")},updateClickedSlide:function t_(o){const p=this,v=p.params,I=No(o).closest(`.${v.slideClass}`)[0];let z,N=!1;if(I)for(let le=0;le<p.slides.length;le+=1)if(p.slides[le]===I){N=!0,z=le;break}if(!I||!N)return p.clickedSlide=void 0,void(p.clickedIndex=void 0);p.clickedSlide=I,p.clickedIndex=p.virtual&&p.params.virtual.enabled?parseInt(No(I).attr("data-swiper-slide-index"),10):z,v.slideToClickedSlide&&void 0!==p.clickedIndex&&p.clickedIndex!==p.activeIndex&&p.slideToClickedSlide()}},translate:{getTranslate:function ym(o=(this.isHorizontal()?"x":"y")){const{params:v,rtlTranslate:I,translate:N,$wrapperEl:z}=this;if(v.virtualTranslate)return I?-N:N;if(v.cssMode)return N;let le=function Ef(o,p="x"){const v=y();let I,N,z;const le=function mm(o){const p=y();let v;return p.getComputedStyle&&(v=p.getComputedStyle(o,null)),!v&&o.currentStyle&&(v=o.currentStyle),v||(v=o.style),v}(o);return v.WebKitCSSMatrix?(N=le.transform||le.webkitTransform,N.split(",").length>6&&(N=N.split(", ").map(Te=>Te.replace(",",".")).join(", ")),z=new v.WebKitCSSMatrix("none"===N?"":N)):(z=le.MozTransform||le.OTransform||le.MsTransform||le.msTransform||le.transform||le.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),I=z.toString().split(",")),"x"===p&&(N=v.WebKitCSSMatrix?z.m41:16===I.length?parseFloat(I[12]):parseFloat(I[4])),"y"===p&&(N=v.WebKitCSSMatrix?z.m42:16===I.length?parseFloat(I[13]):parseFloat(I[5])),N||0}(z[0],o);return I&&(le=-le),le||0},setTranslate:function n_(o,p){const v=this,{rtlTranslate:I,params:N,$wrapperEl:z,wrapperEl:le,progress:Te}=v;let ve,ae=0,Ce=0;v.isHorizontal()?ae=I?-o:o:Ce=o,N.roundLengths&&(ae=Math.floor(ae),Ce=Math.floor(Ce)),N.cssMode?le[v.isHorizontal()?"scrollLeft":"scrollTop"]=v.isHorizontal()?-ae:-Ce:N.virtualTranslate||z.transform(`translate3d(${ae}px, ${Ce}px, 0px)`),v.previousTranslate=v.translate,v.translate=v.isHorizontal()?ae:Ce;const Le=v.maxTranslate()-v.minTranslate();ve=0===Le?0:(o-v.minTranslate())/Le,ve!==Te&&v.updateProgress(o),v.emit("setTranslate",v.translate,p)},minTranslate:function ed(){return-this.snapGrid[0]},maxTranslate:function ap(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function Ah(o=0,p=this.params.speed,v=!0,I=!0,N){const z=this,{params:le,wrapperEl:Te}=z;if(z.animating&&le.preventInteractionOnTransition)return!1;const ae=z.minTranslate(),Ce=z.maxTranslate();let me;if(me=I&&o>ae?ae:I&&o<Ce?Ce:o,z.updateProgress(me),le.cssMode){const ve=z.isHorizontal();if(0===p)Te[ve?"scrollLeft":"scrollTop"]=-me;else{if(!z.support.smoothScroll)return kp({swiper:z,targetPosition:-me,side:ve?"left":"top"}),!0;Te.scrollTo({[ve?"left":"top"]:-me,behavior:"smooth"})}return!0}return 0===p?(z.setTransition(0),z.setTranslate(me),v&&(z.emit("beforeTransitionStart",p,N),z.emit("transitionEnd"))):(z.setTransition(p),z.setTranslate(me),v&&(z.emit("beforeTransitionStart",p,N),z.emit("transitionStart")),z.animating||(z.animating=!0,z.onTranslateToWrapperTransitionEnd||(z.onTranslateToWrapperTransitionEnd=function(Le){!z||z.destroyed||Le.target===this&&(z.$wrapperEl[0].removeEventListener("transitionend",z.onTranslateToWrapperTransitionEnd),z.$wrapperEl[0].removeEventListener("webkitTransitionEnd",z.onTranslateToWrapperTransitionEnd),z.onTranslateToWrapperTransitionEnd=null,delete z.onTranslateToWrapperTransitionEnd,v&&z.emit("transitionEnd"))}),z.$wrapperEl[0].addEventListener("transitionend",z.onTranslateToWrapperTransitionEnd),z.$wrapperEl[0].addEventListener("webkitTransitionEnd",z.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function cp(o,p){const v=this;v.params.cssMode||v.$wrapperEl.transition(o),v.emit("setTransition",o,p)},transitionStart:function xh(o=!0,p){const v=this,{params:I}=v;I.cssMode||(I.autoHeight&&v.updateAutoHeight(),Mh({swiper:v,runCallbacks:o,direction:p,step:"Start"}))},transitionEnd:function th(o=!0,p){const v=this,{params:I}=v;v.animating=!1,!I.cssMode&&(v.setTransition(0),Mh({swiper:v,runCallbacks:o,direction:p,step:"End"}))}},slide:{slideTo:function nh(o=0,p=this.params.speed,v=!0,I,N){if("number"!=typeof o&&"string"!=typeof o)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof o}] given.`);if("string"==typeof o){const un=parseInt(o,10);if(!isFinite(un))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${o}] given.`);o=un}const z=this;let le=o;le<0&&(le=0);const{params:Te,snapGrid:ae,slidesGrid:Ce,previousIndex:me,activeIndex:ve,rtlTranslate:Le,wrapperEl:Ct,enabled:Rt}=z;if(z.animating&&Te.preventInteractionOnTransition||!Rt&&!I&&!N)return!1;const tt=Math.min(z.params.slidesPerGroupSkip,le);let ht=tt+Math.floor((le-tt)/z.params.slidesPerGroup);ht>=ae.length&&(ht=ae.length-1);const an=-ae[ht];if(Te.normalizeSlideIndex)for(let un=0;un<Ce.length;un+=1){const Zn=-Math.floor(100*an),ri=Math.floor(100*Ce[un]),hi=Math.floor(100*Ce[un+1]);typeof Ce[un+1]<"u"?Zn>=ri&&Zn<hi-(hi-ri)/2?le=un:Zn>=ri&&Zn<hi&&(le=un+1):Zn>=ri&&(le=un)}if(z.initialized&&le!==ve&&(!z.allowSlideNext&&an<z.translate&&an<z.minTranslate()||!z.allowSlidePrev&&an>z.translate&&an>z.maxTranslate()&&(ve||0)!==le))return!1;let nn;if(le!==(me||0)&&v&&z.emit("beforeSlideChangeStart"),z.updateProgress(an),nn=le>ve?"next":le<ve?"prev":"reset",Le&&-an===z.translate||!Le&&an===z.translate)return z.updateActiveIndex(le),Te.autoHeight&&z.updateAutoHeight(),z.updateSlidesClasses(),"slide"!==Te.effect&&z.setTranslate(an),"reset"!==nn&&(z.transitionStart(v,nn),z.transitionEnd(v,nn)),!1;if(Te.cssMode){const un=z.isHorizontal(),Zn=Le?an:-an;if(0===p){const ri=z.virtual&&z.params.virtual.enabled;ri&&(z.wrapperEl.style.scrollSnapType="none",z._immediateVirtual=!0),Ct[un?"scrollLeft":"scrollTop"]=Zn,ri&&requestAnimationFrame(()=>{z.wrapperEl.style.scrollSnapType="",z._swiperImmediateVirtual=!1})}else{if(!z.support.smoothScroll)return kp({swiper:z,targetPosition:Zn,side:un?"left":"top"}),!0;Ct.scrollTo({[un?"left":"top"]:Zn,behavior:"smooth"})}return!0}return z.setTransition(p),z.setTranslate(an),z.updateActiveIndex(le),z.updateSlidesClasses(),z.emit("beforeTransitionStart",p,I),z.transitionStart(v,nn),0===p?z.transitionEnd(v,nn):z.animating||(z.animating=!0,z.onSlideToWrapperTransitionEnd||(z.onSlideToWrapperTransitionEnd=function(Zn){!z||z.destroyed||Zn.target===this&&(z.$wrapperEl[0].removeEventListener("transitionend",z.onSlideToWrapperTransitionEnd),z.$wrapperEl[0].removeEventListener("webkitTransitionEnd",z.onSlideToWrapperTransitionEnd),z.onSlideToWrapperTransitionEnd=null,delete z.onSlideToWrapperTransitionEnd,z.transitionEnd(v,nn))}),z.$wrapperEl[0].addEventListener("transitionend",z.onSlideToWrapperTransitionEnd),z.$wrapperEl[0].addEventListener("webkitTransitionEnd",z.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function Mu(o=0,p=this.params.speed,v=!0,I){if("string"==typeof o){const le=parseInt(o,10);if(!isFinite(le))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${o}] given.`);o=le}const N=this;let z=o;return N.params.loop&&(z+=N.loopedSlides),N.slideTo(z,p,v,I)},slideNext:function Sf(o=this.params.speed,p=!0,v){const I=this,{animating:N,enabled:z,params:le}=I;if(!z)return I;let Te=le.slidesPerGroup;"auto"===le.slidesPerView&&1===le.slidesPerGroup&&le.slidesPerGroupAuto&&(Te=Math.max(I.slidesPerViewDynamic("current",!0),1));const ae=I.activeIndex<le.slidesPerGroupSkip?1:Te;if(le.loop){if(N&&le.loopPreventsSlide)return!1;I.loopFix(),I._clientLeft=I.$wrapperEl[0].clientLeft}return I.slideTo(le.rewind&&I.isEnd?0:I.activeIndex+ae,o,p,v)},slidePrev:function Tg(o=this.params.speed,p=!0,v){const I=this,{params:N,animating:z,snapGrid:le,slidesGrid:Te,rtlTranslate:ae,enabled:Ce}=I;if(!Ce)return I;if(N.loop){if(z&&N.loopPreventsSlide)return!1;I.loopFix(),I._clientLeft=I.$wrapperEl[0].clientLeft}function ve(ht){return ht<0?-Math.floor(Math.abs(ht)):Math.floor(ht)}const Le=ve(ae?I.translate:-I.translate),Ct=le.map(ht=>ve(ht));let Rt=le[Ct.indexOf(Le)-1];if(typeof Rt>"u"&&N.cssMode){let ht;le.forEach((an,nn)=>{Le>=an&&(ht=nn)}),typeof ht<"u"&&(Rt=le[ht>0?ht-1:ht])}let tt=0;return typeof Rt<"u"&&(tt=Te.indexOf(Rt),tt<0&&(tt=I.activeIndex-1),"auto"===N.slidesPerView&&1===N.slidesPerGroup&&N.slidesPerGroupAuto&&(tt=tt-I.slidesPerViewDynamic("previous",!0)+1,tt=Math.max(tt,0))),I.slideTo(N.rewind&&I.isBeginning?I.params.virtual&&I.params.virtual.enabled&&I.virtual?I.virtual.slides.length-1:I.slides.length-1:tt,o,p,v)},slideReset:function Af(o=this.params.speed,p=!0,v){return this.slideTo(this.activeIndex,o,p,v)},slideToClosest:function $p(o=this.params.speed,p=!0,v,I=.5){const N=this;let z=N.activeIndex;const le=Math.min(N.params.slidesPerGroupSkip,z),Te=le+Math.floor((z-le)/N.params.slidesPerGroup),ae=N.rtlTranslate?N.translate:-N.translate;if(ae>=N.snapGrid[Te]){const Ce=N.snapGrid[Te];ae-Ce>(N.snapGrid[Te+1]-Ce)*I&&(z+=N.params.slidesPerGroup)}else{const Ce=N.snapGrid[Te-1];ae-Ce<=(N.snapGrid[Te]-Ce)*I&&(z-=N.params.slidesPerGroup)}return z=Math.max(z,0),z=Math.min(z,N.slidesGrid.length-1),N.slideTo(z,o,p,v)},slideToClickedSlide:function Mf(){const o=this,{params:p,$wrapperEl:v}=o,I="auto"===p.slidesPerView?o.slidesPerViewDynamic():p.slidesPerView;let z,N=o.clickedIndex;if(p.loop){if(o.animating)return;z=parseInt(No(o.clickedSlide).attr("data-swiper-slide-index"),10),p.centeredSlides?N<o.loopedSlides-I/2||N>o.slides.length-o.loopedSlides+I/2?(o.loopFix(),N=v.children(`.${p.slideClass}[data-swiper-slide-index="${z}"]:not(.${p.slideDuplicateClass})`).eq(0).index(),bf(()=>{o.slideTo(N)})):o.slideTo(N):N>o.slides.length-I?(o.loopFix(),N=v.children(`.${p.slideClass}[data-swiper-slide-index="${z}"]:not(.${p.slideDuplicateClass})`).eq(0).index(),bf(()=>{o.slideTo(N)})):o.slideTo(N)}else o.slideTo(N)}},loop:{loopCreate:function xf(){const o=this,p=T(),{params:v,$wrapperEl:I}=o,N=I.children().length>0?No(I.children()[0].parentNode):I;N.children(`.${v.slideClass}.${v.slideDuplicateClass}`).remove();let z=N.children(`.${v.slideClass}`);if(v.loopFillGroupWithBlank){const ae=v.slidesPerGroup-z.length%v.slidesPerGroup;if(ae!==v.slidesPerGroup){for(let Ce=0;Ce<ae;Ce+=1){const me=No(p.createElement("div")).addClass(`${v.slideClass} ${v.slideBlankClass}`);N.append(me)}z=N.children(`.${v.slideClass}`)}}"auto"===v.slidesPerView&&!v.loopedSlides&&(v.loopedSlides=z.length),o.loopedSlides=Math.ceil(parseFloat(v.loopedSlides||v.slidesPerView,10)),o.loopedSlides+=v.loopAdditionalSlides,o.loopedSlides>z.length&&o.params.loopedSlidesLimit&&(o.loopedSlides=z.length);const le=[],Te=[];z.each((ae,Ce)=>{No(ae).attr("data-swiper-slide-index",Ce)});for(let ae=0;ae<o.loopedSlides;ae+=1){const Ce=ae-Math.floor(ae/z.length)*z.length;Te.push(z.eq(Ce)[0]),le.unshift(z.eq(z.length-Ce-1)[0])}for(let ae=0;ae<Te.length;ae+=1)N.append(No(Te[ae].cloneNode(!0)).addClass(v.slideDuplicateClass));for(let ae=le.length-1;ae>=0;ae-=1)N.prepend(No(le[ae].cloneNode(!0)).addClass(v.slideDuplicateClass))},loopFix:function up(){const o=this;o.emit("beforeLoopFix");const{activeIndex:p,slides:v,loopedSlides:I,allowSlidePrev:N,allowSlideNext:z,snapGrid:le,rtlTranslate:Te}=o;let ae;o.allowSlidePrev=!0,o.allowSlideNext=!0;const me=-le[p]-o.getTranslate();p<I?(ae=v.length-3*I+p,ae+=I,o.slideTo(ae,0,!1,!0)&&0!==me&&o.setTranslate((Te?-o.translate:o.translate)-me)):p>=v.length-I&&(ae=-v.length+p+I,ae+=I,o.slideTo(ae,0,!1,!0)&&0!==me&&o.setTranslate((Te?-o.translate:o.translate)-me)),o.allowSlidePrev=N,o.allowSlideNext=z,o.emit("loopFix")},loopDestroy:function Bp(){const{$wrapperEl:p,params:v,slides:I}=this;p.children(`.${v.slideClass}.${v.slideDuplicateClass},.${v.slideClass}.${v.slideBlankClass}`).remove(),I.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function Oh(o){const p=this;if(p.support.touch||!p.params.simulateTouch||p.params.watchOverflow&&p.isLocked||p.params.cssMode)return;const v="container"===p.params.touchEventsTarget?p.el:p.wrapperEl;v.style.cursor="move",v.style.cursor=o?"grabbing":"grab"},unsetGrabCursor:function dp(){const o=this;o.support.touch||o.params.watchOverflow&&o.isLocked||o.params.cssMode||(o["container"===o.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function jp(){const o=this,p=T(),{params:v,support:I}=o;o.onTouchStart=Sg.bind(o),o.onTouchMove=Oc.bind(o),o.onTouchEnd=Ag.bind(o),v.cssMode&&(o.onScroll=Of.bind(o)),o.onClick=i_.bind(o),I.touch&&!Vp&&(p.addEventListener("touchstart",Hp),Vp=!0),Mg(o,"on")},detachEvents:function Gp(){Mg(this,"off")}},breakpoints:{setBreakpoint:function Rf(){const o=this,{activeIndex:p,initialized:v,loopedSlides:I=0,params:N,$el:z}=o,le=N.breakpoints;if(!le||le&&0===Object.keys(le).length)return;const Te=o.getBreakpoint(le,o.params.breakpointsBase,o.el);if(!Te||o.currentBreakpoint===Te)return;const Ce=(Te in le?le[Te]:void 0)||o.originalParams,me=fp(o,N),ve=fp(o,Ce),Le=N.enabled;me&&!ve?(z.removeClass(`${N.containerModifierClass}grid ${N.containerModifierClass}grid-column`),o.emitContainerClasses()):!me&&ve&&(z.addClass(`${N.containerModifierClass}grid`),(Ce.grid.fill&&"column"===Ce.grid.fill||!Ce.grid.fill&&"column"===N.grid.fill)&&z.addClass(`${N.containerModifierClass}grid-column`),o.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(ht=>{const an=N[ht]&&N[ht].enabled,nn=Ce[ht]&&Ce[ht].enabled;an&&!nn&&o[ht].disable(),!an&&nn&&o[ht].enable()});const Ct=Ce.direction&&Ce.direction!==N.direction,Rt=N.loop&&(Ce.slidesPerView!==N.slidesPerView||Ct);Ct&&v&&o.changeDirection(),zc(o.params,Ce);const tt=o.params.enabled;Object.assign(o,{allowTouchMove:o.params.allowTouchMove,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev}),Le&&!tt?o.disable():!Le&&tt&&o.enable(),o.currentBreakpoint=Te,o.emit("_beforeBreakpoint",Ce),Rt&&v&&(o.loopDestroy(),o.loopCreate(),o.updateSlides(),o.slideTo(p-I+o.loopedSlides,0,!1)),o.emit("breakpoint",Ce)},getBreakpoint:function Rh(o,p="window",v){if(!o||"container"===p&&!v)return;let I=!1;const N=y(),z="window"===p?N.innerHeight:v.clientHeight,le=Object.keys(o).map(Te=>{if("string"==typeof Te&&0===Te.indexOf("@")){const ae=parseFloat(Te.substr(1));return{value:z*ae,point:Te}}return{value:Te,point:Te}});le.sort((Te,ae)=>parseInt(Te.value,10)-parseInt(ae.value,10));for(let Te=0;Te<le.length;Te+=1){const{point:ae,value:Ce}=le[Te];"window"===p?N.matchMedia(`(min-width: ${Ce}px)`).matches&&(I=ae):Ce<=v.clientWidth&&(I=ae)}return I||"max"}},checkOverflow:{checkOverflow:function pp(){const o=this,{isLocked:p,params:v}=o,{slidesOffsetBefore:I}=v;if(I){const N=o.slides.length-1;o.isLocked=o.size>o.slidesGrid[N]+o.slidesSizesGrid[N]+2*I}else o.isLocked=1===o.snapGrid.length;!0===v.allowSlideNext&&(o.allowSlideNext=!o.isLocked),!0===v.allowSlidePrev&&(o.allowSlidePrev=!o.isLocked),p&&p!==o.isLocked&&(o.isEnd=!1),p!==o.isLocked&&o.emit(o.isLocked?"lock":"unlock")}},classes:{addClasses:function Nh(){const o=this,{classNames:p,params:v,rtl:I,$el:N,device:z,support:le}=o,Te=function Wp(o,p){const v=[];return o.forEach(I=>{"object"==typeof I?Object.keys(I).forEach(N=>{I[N]&&v.push(p+N)}):"string"==typeof I&&v.push(p+I)}),v}(["initialized",v.direction,{"pointer-events":!le.touch},{"free-mode":o.params.freeMode&&v.freeMode.enabled},{autoheight:v.autoHeight},{rtl:I},{grid:v.grid&&v.grid.rows>1},{"grid-column":v.grid&&v.grid.rows>1&&"column"===v.grid.fill},{android:z.android},{ios:z.ios},{"css-mode":v.cssMode},{centered:v.cssMode&&v.centeredSlides},{"watch-progress":v.watchSlidesProgress}],v.containerModifierClass);p.push(...Te),N.addClass([...p].join(" ")),o.emitContainerClasses()},removeClasses:function Ph(){const{$el:p,classNames:v}=this;p.removeClass(v.join(" ")),this.emitContainerClasses()}},images:{loadImage:function Ld(o,p,v,I,N,z){const le=y();let Te;function ae(){z&&z()}No(o).parent("picture")[0]||o.complete&&N||!p?ae():(Te=new le.Image,Te.onload=ae,Te.onerror=ae,I&&(Te.sizes=I),v&&(Te.srcset=v),p&&(Te.src=p))},preloadImages:function Em(){const o=this;function p(){typeof o>"u"||null===o||!o||o.destroyed||(void 0!==o.imagesLoaded&&(o.imagesLoaded+=1),o.imagesLoaded===o.imagesToLoad.length&&(o.params.updateOnImagesReady&&o.update(),o.emit("imagesReady")))}o.imagesToLoad=o.$el.find("img");for(let v=0;v<o.imagesToLoad.length;v+=1){const I=o.imagesToLoad[v];o.loadImage(I,I.currentSrc||I.getAttribute("src"),I.srcset||I.getAttribute("srcset"),I.sizes||I.getAttribute("sizes"),!0,p)}}}},qp={};class Wc{constructor(...p){let v,I;if(1===p.length&&p[0].constructor&&"Object"===Object.prototype.toString.call(p[0]).slice(8,-1)?I=p[0]:[v,I]=p,I||(I={}),I=zc({},I),v&&!I.el&&(I.el=v),I.el&&No(I.el).length>1){const Te=[];return No(I.el).each(ae=>{const Ce=zc({},I,{el:ae});Te.push(new Wc(Ce))}),Te}const N=this;N.__swiper__=!0,N.support=ip(),N.device=function Fp(o={}){return Cf||(Cf=function kd({userAgent:o}={}){const p=ip(),v=y(),I=v.navigator.platform,N=o||v.navigator.userAgent,z={ios:!1,android:!1},le=v.screen.width,Te=v.screen.height,ae=N.match(/(Android);?[\s\/]+([\d.]+)?/);let Ce=N.match(/(iPad).*OS\s([\d_]+)/);const me=N.match(/(iPod)(.*OS\s([\d_]+))?/),ve=!Ce&&N.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Le="Win32"===I;let Ct="MacIntel"===I;return!Ce&&Ct&&p.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${le}x${Te}`)>=0&&(Ce=N.match(/(Version)\/([\d.]+)/),Ce||(Ce=[0,1,"13_0_0"]),Ct=!1),ae&&!Le&&(z.os="android",z.android=!0),(Ce||ve||me)&&(z.os="ios",z.ios=!0),z}(o)),Cf}({userAgent:I.userAgent}),N.browser=function vg(){return wf||(wf=function rp(){const o=y();return{isSafari:function p(){const v=o.navigator.userAgent.toLowerCase();return v.indexOf("safari")>=0&&v.indexOf("chrome")<0&&v.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(o.navigator.userAgent)}}()),wf}(),N.eventsListeners={},N.eventsAnyListeners=[],N.modules=[...N.__modules__],I.modules&&Array.isArray(I.modules)&&N.modules.push(...I.modules);const z={};N.modules.forEach(Te=>{Te({swiper:N,extendParams:Kp(I,z),on:N.on.bind(N),once:N.once.bind(N),off:N.off.bind(N),emit:N.emit.bind(N)})});const le=zc({},gp,z);return N.params=zc({},le,qp,I),N.originalParams=zc({},N.params),N.passedParams=zc({},I),N.params&&N.params.on&&Object.keys(N.params.on).forEach(Te=>{N.on(Te,N.params.on[Te])}),N.params&&N.params.onAny&&N.onAny(N.params.onAny),N.$=No,Object.assign(N,{enabled:N.params.enabled,el:v,classNames:[],slides:No(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===N.params.direction,isVertical:()=>"vertical"===N.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:N.params.allowSlideNext,allowSlidePrev:N.params.allowSlidePrev,touchEvents:function(){const ae=["touchstart","touchmove","touchend","touchcancel"],Ce=["pointerdown","pointermove","pointerup"];return N.touchEventsTouch={start:ae[0],move:ae[1],end:ae[2],cancel:ae[3]},N.touchEventsDesktop={start:Ce[0],move:Ce[1],end:Ce[2]},N.support.touch||!N.params.simulateTouch?N.touchEventsTouch:N.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:N.params.focusableElements,lastClickTime:uu(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:N.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),N.emit("_swiper"),N.params.init&&N.init(),N}enable(){const p=this;p.enabled||(p.enabled=!0,p.params.grabCursor&&p.setGrabCursor(),p.emit("enable"))}disable(){const p=this;p.enabled&&(p.enabled=!1,p.params.grabCursor&&p.unsetGrabCursor(),p.emit("disable"))}setProgress(p,v){const I=this;p=Math.min(Math.max(p,0),1);const N=I.minTranslate(),le=(I.maxTranslate()-N)*p+N;I.translateTo(le,typeof v>"u"?0:v),I.updateActiveIndex(),I.updateSlidesClasses()}emitContainerClasses(){const p=this;if(!p.params._emitClasses||!p.el)return;const v=p.el.className.split(" ").filter(I=>0===I.indexOf("swiper")||0===I.indexOf(p.params.containerModifierClass));p.emit("_containerClasses",v.join(" "))}getSlideClasses(p){const v=this;return v.destroyed?"":p.className.split(" ").filter(I=>0===I.indexOf("swiper-slide")||0===I.indexOf(v.params.slideClass)).join(" ")}emitSlidesClasses(){const p=this;if(!p.params._emitClasses||!p.el)return;const v=[];p.slides.each(I=>{const N=p.getSlideClasses(I);v.push({slideEl:I,classNames:N}),p.emit("_slideClass",I,N)}),p.emit("_slideClasses",v)}slidesPerViewDynamic(p="current",v=!1){const{params:N,slides:z,slidesGrid:le,slidesSizesGrid:Te,size:ae,activeIndex:Ce}=this;let me=1;if(N.centeredSlides){let Le,ve=z[Ce].swiperSlideSize;for(let Ct=Ce+1;Ct<z.length;Ct+=1)z[Ct]&&!Le&&(ve+=z[Ct].swiperSlideSize,me+=1,ve>ae&&(Le=!0));for(let Ct=Ce-1;Ct>=0;Ct-=1)z[Ct]&&!Le&&(ve+=z[Ct].swiperSlideSize,me+=1,ve>ae&&(Le=!0))}else if("current"===p)for(let ve=Ce+1;ve<z.length;ve+=1)(v?le[ve]+Te[ve]-le[Ce]<ae:le[ve]-le[Ce]<ae)&&(me+=1);else for(let ve=Ce-1;ve>=0;ve-=1)le[Ce]-le[ve]<ae&&(me+=1);return me}update(){const p=this;if(!p||p.destroyed)return;const{snapGrid:v,params:I}=p;function N(){const Te=Math.min(Math.max(p.rtlTranslate?-1*p.translate:p.translate,p.maxTranslate()),p.minTranslate());p.setTranslate(Te),p.updateActiveIndex(),p.updateSlidesClasses()}let z;I.breakpoints&&p.setBreakpoint(),p.updateSize(),p.updateSlides(),p.updateProgress(),p.updateSlidesClasses(),p.params.freeMode&&p.params.freeMode.enabled?(N(),p.params.autoHeight&&p.updateAutoHeight()):(z=p.slideTo(("auto"===p.params.slidesPerView||p.params.slidesPerView>1)&&p.isEnd&&!p.params.centeredSlides?p.slides.length-1:p.activeIndex,0,!1,!0),z||N()),I.watchOverflow&&v!==p.snapGrid&&p.checkOverflow(),p.emit("update")}changeDirection(p,v=!0){const I=this,N=I.params.direction;return p||(p="horizontal"===N?"vertical":"horizontal"),p===N||"horizontal"!==p&&"vertical"!==p||(I.$el.removeClass(`${I.params.containerModifierClass}${N}`).addClass(`${I.params.containerModifierClass}${p}`),I.emitContainerClasses(),I.params.direction=p,I.slides.each(z=>{"vertical"===p?z.style.width="":z.style.height=""}),I.emit("changeDirection"),v&&I.update()),I}changeLanguageDirection(p){const v=this;v.rtl&&"rtl"===p||!v.rtl&&"ltr"===p||(v.rtl="rtl"===p,v.rtlTranslate="horizontal"===v.params.direction&&v.rtl,v.rtl?(v.$el.addClass(`${v.params.containerModifierClass}rtl`),v.el.dir="rtl"):(v.$el.removeClass(`${v.params.containerModifierClass}rtl`),v.el.dir="ltr"),v.update())}mount(p){const v=this;if(v.mounted)return!0;const I=No(p||v.params.el);if(!(p=I[0]))return!1;p.swiper=v;const N=()=>`.${(v.params.wrapperClass||"").trim().split(" ").join(".")}`;let le=(()=>{if(p&&p.shadowRoot&&p.shadowRoot.querySelector){const Te=No(p.shadowRoot.querySelector(N()));return Te.children=ae=>I.children(ae),Te}return I.children?I.children(N()):No(I).children(N())})();if(0===le.length&&v.params.createElements){const ae=T().createElement("div");le=No(ae),ae.className=v.params.wrapperClass,I.append(ae),I.children(`.${v.params.slideClass}`).each(Ce=>{le.append(Ce)})}return Object.assign(v,{$el:I,el:p,$wrapperEl:le,wrapperEl:le[0],mounted:!0,rtl:"rtl"===p.dir.toLowerCase()||"rtl"===I.css("direction"),rtlTranslate:"horizontal"===v.params.direction&&("rtl"===p.dir.toLowerCase()||"rtl"===I.css("direction")),wrongRTL:"-webkit-box"===le.css("display")}),!0}init(p){const v=this;return v.initialized||!1===v.mount(p)||(v.emit("beforeInit"),v.params.breakpoints&&v.setBreakpoint(),v.addClasses(),v.params.loop&&v.loopCreate(),v.updateSize(),v.updateSlides(),v.params.watchOverflow&&v.checkOverflow(),v.params.grabCursor&&v.enabled&&v.setGrabCursor(),v.params.preloadImages&&v.preloadImages(),v.slideTo(v.params.loop?v.params.initialSlide+v.loopedSlides:v.params.initialSlide,0,v.params.runCallbacksOnInit,!1,!0),v.attachEvents(),v.initialized=!0,v.emit("init"),v.emit("afterInit")),v}destroy(p=!0,v=!0){const I=this,{params:N,$el:z,$wrapperEl:le,slides:Te}=I;return typeof I.params>"u"||I.destroyed||(I.emit("beforeDestroy"),I.initialized=!1,I.detachEvents(),N.loop&&I.loopDestroy(),v&&(I.removeClasses(),z.removeAttr("style"),le.removeAttr("style"),Te&&Te.length&&Te.removeClass([N.slideVisibleClass,N.slideActiveClass,N.slideNextClass,N.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),I.emit("destroy"),Object.keys(I.eventsListeners).forEach(ae=>{I.off(ae)}),!1!==p&&(I.$el[0].swiper=null,function Np(o){const p=o;Object.keys(p).forEach(v=>{try{p[v]=null}catch(I){}try{delete p[v]}catch(I){}})}(I)),I.destroyed=!0),null}static extendDefaults(p){zc(qp,p)}static get extendedDefaults(){return qp}static get defaults(){return gp}static installModule(p){Wc.prototype.__modules__||(Wc.prototype.__modules__=[]);const v=Wc.prototype.__modules__;"function"==typeof p&&v.indexOf(p)<0&&v.push(p)}static use(p){return Array.isArray(p)?(p.forEach(v=>Wc.installModule(v)),Wc):(Wc.installModule(p),Wc)}}Object.keys(Nf).forEach(o=>{Object.keys(Nf[o]).forEach(p=>{Wc.prototype[p]=Nf[o][p]})}),Wc.use([function yg({swiper:o,on:p,emit:v}){const I=y();let N=null,z=null;const le=()=>{!o||o.destroyed||!o.initialized||(v("beforeResize"),v("resize"))},Ce=()=>{!o||o.destroyed||!o.initialized||v("orientationchange")};p("init",()=>{o.params.resizeObserver&&typeof I.ResizeObserver<"u"?!o||o.destroyed||!o.initialized||(N=new ResizeObserver(me=>{z=I.requestAnimationFrame(()=>{const{width:ve,height:Le}=o;let Ct=ve,Rt=Le;me.forEach(({contentBoxSize:tt,contentRect:ht,target:an})=>{an&&an!==o.el||(Ct=ht?ht.width:(tt[0]||tt).inlineSize,Rt=ht?ht.height:(tt[0]||tt).blockSize)}),(Ct!==ve||Rt!==Le)&&le()})}),N.observe(o.el)):(I.addEventListener("resize",le),I.addEventListener("orientationchange",Ce))}),p("destroy",()=>{z&&I.cancelAnimationFrame(z),N&&N.unobserve&&o.el&&(N.unobserve(o.el),N=null),I.removeEventListener("resize",le),I.removeEventListener("orientationchange",Ce)})},function _m({swiper:o,extendParams:p,on:v,emit:I}){const N=[],z=y(),le=(Ce,me={})=>{const Le=new(z.MutationObserver||z.WebkitMutationObserver)(Ct=>{if(1===Ct.length)return void I("observerUpdate",Ct[0]);const Rt=function(){I("observerUpdate",Ct[0])};z.requestAnimationFrame?z.requestAnimationFrame(Rt):z.setTimeout(Rt,0)});Le.observe(Ce,{attributes:typeof me.attributes>"u"||me.attributes,childList:typeof me.childList>"u"||me.childList,characterData:typeof me.characterData>"u"||me.characterData}),N.push(Le)};p({observer:!1,observeParents:!1,observeSlideChildren:!1}),v("init",()=>{if(o.params.observer){if(o.params.observeParents){const Ce=o.$el.parents();for(let me=0;me<Ce.length;me+=1)le(Ce[me])}le(o.$el[0],{childList:o.params.observeSlideChildren}),le(o.$wrapperEl[0],{attributes:!1})}}),v("destroy",()=>{N.forEach(Ce=>{Ce.disconnect()}),N.splice(0,N.length)})}]);["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"].map(o=>o.replace(/_/,""));let sh=(()=>{class o{}return o.\u0275fac=function(v){return new(v||o)},o.\u0275mod=Z.oAB({type:o}),o.\u0275inj=Z.cJS({imports:[[Ac.ez]]}),o})();var oh=U(4197);class Ou{}Ou.\u0275fac=function(p){return new(p||Ou)},Ou.\u0275mod=Z.oAB({type:Ou,bootstrap:[ze]}),Ou.\u0275inj=Z.cJS({providers:[{provide:ie.wN,useClass:oe.r4},_n,Nn,za],imports:[t.b2,oe.Pc.forRoot(),$e,xd.u5,Md.hO.initializeApp(Fe_firebase),Oe.yb,sh,(0,vt.AR)(()=>(0,vt.v0)()),(0,Pe.Cm)(()=>(0,Pe.ad)()),function zr(o,...p){return{ngModule:tc,providers:[{provide:Qr,useFactory:Ps(o),multi:!0,deps:[Z.R0b,Z.zs3,xe.HU,Ue.z6,[new Z.FiY,vt.dh],[new Z.FiY,pt.nm],...p]}]}}(()=>He()),function Er(o,...p){return{ngModule:ar,providers:[{provide:Fn,useFactory:kr(o),multi:!0,deps:[Z.R0b,Z.zs3,xe.HU,Ue.z6,...p]}]}}(()=>rc()),function Hl(o,...p){return{ngModule:Aa,providers:[{provide:Is,useFactory:oc(o),multi:!0,deps:[Z.R0b,Z.zs3,xe.HU,Ue.z6,[new Z.FiY,vt.dh],[new Z.FiY,pt.nm],...p]}]}}(()=>Ya()),function _u(o,...p){return{ngModule:mu,providers:[{provide:gc,useFactory:Lc(o),multi:!0,deps:[Z.R0b,Z.zs3,xe.HU,Ue.z6,[new Z.FiY,vt.dh],[new Z.FiY,pt.nm],...p]}]}}(()=>xs()),function sa(o,...p){return{ngModule:$u,providers:[{provide:sd,useFactory:Fu(o),multi:!0,deps:[Z.R0b,Z.zs3,xe.HU,Ue.z6,...p]}]}}(()=>jd()),function nf(o,...p){return{ngModule:qf,providers:[{provide:Qa,useFactory:tf(o),multi:!0,deps:[Z.R0b,Z.Lbi,Z.zs3,xe.HU,Ue.z6,...p]}]}}(()=>h()),function As(o,...p){return{ngModule:Cr,providers:[{provide:tn,useFactory:Kn(o),multi:!0,deps:[Z.R0b,Z.zs3,xe.HU,Ue.z6,...p]}]}}(()=>lf()),(0,Ue.hX)(()=>(0,Ue.ZF)(Fe_firebase)),oh.IJ]}),(0,Z.G48)(),t.q6().bootstrapModule(Ou).catch(o=>console.log(o))},1135:(ei,Jt,U)=>{"use strict";U.d(Jt,{X:()=>Z});var t=U(7579);class Z extends t.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const ze=super._subscribe(oe);return!ze.closed&&oe.next(this._value),ze}getValue(){const{hasError:oe,thrownError:ze,_value:ct}=this;if(oe)throw ze;return this._throwIfClosed(),ct}next(oe){super.next(this._value=oe)}}},9751:(ei,Jt,U)=>{"use strict";U.d(Jt,{y:()=>Fe});var t=U(930),Z=U(727),ie=U(8822),oe=U(9635),ze=U(2416),ct=U(576),$e=U(2806);let Fe=(()=>{class Ue{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const gt=new Ue;return gt.source=this,gt.operator=pt,gt}subscribe(pt,gt,kt){const be=function xe(Ue){return Ue&&Ue instanceof t.Lv||function Pe(Ue){return Ue&&(0,ct.m)(Ue.next)&&(0,ct.m)(Ue.error)&&(0,ct.m)(Ue.complete)}(Ue)&&(0,Z.Nn)(Ue)}(pt)?pt:new t.Hp(pt,gt,kt);return(0,$e.x)(()=>{const{operator:Ge,source:yt}=this;be.add(Ge?Ge.call(be,yt):yt?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(pt){try{return this._subscribe(pt)}catch(gt){pt.error(gt)}}forEach(pt,gt){return new(gt=vt(gt))((kt,be)=>{const Ge=new t.Hp({next:yt=>{try{pt(yt)}catch(at){be(at),Ge.unsubscribe()}},error:be,complete:kt});this.subscribe(Ge)})}_subscribe(pt){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(pt)}[ie.L](){return this}pipe(...pt){return(0,oe.U)(pt)(this)}toPromise(pt){return new(pt=vt(pt))((gt,kt)=>{let be;this.subscribe(Ge=>be=Ge,Ge=>kt(Ge),()=>gt(be))})}}return Ue.create=je=>new Ue(je),Ue})();function vt(Ue){var je;return null!==(je=null!=Ue?Ue:ze.v.Promise)&&void 0!==je?je:Promise}},7579:(ei,Jt,U)=>{"use strict";U.d(Jt,{x:()=>$e});var t=U(9751),Z=U(727);const oe=(0,U(3888).d)(vt=>function(){vt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=U(8737),ct=U(2806);let $e=(()=>{class vt extends t.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(xe){const Ue=new Fe(this,this);return Ue.operator=xe,Ue}_throwIfClosed(){if(this.closed)throw new oe}next(xe){(0,ct.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ue of this.currentObservers)Ue.next(xe)}})}error(xe){(0,ct.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=xe;const{observers:Ue}=this;for(;Ue.length;)Ue.shift().error(xe)}})}complete(){(0,ct.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:xe}=this;for(;xe.length;)xe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var xe;return(null===(xe=this.observers)||void 0===xe?void 0:xe.length)>0}_trySubscribe(xe){return this._throwIfClosed(),super._trySubscribe(xe)}_subscribe(xe){return this._throwIfClosed(),this._checkFinalizedStatuses(xe),this._innerSubscribe(xe)}_innerSubscribe(xe){const{hasError:Ue,isStopped:je,observers:pt}=this;return Ue||je?Z.Lc:(this.currentObservers=null,pt.push(xe),new Z.w0(()=>{this.currentObservers=null,(0,ze.P)(pt,xe)}))}_checkFinalizedStatuses(xe){const{hasError:Ue,thrownError:je,isStopped:pt}=this;Ue?xe.error(je):pt&&xe.complete()}asObservable(){const xe=new t.y;return xe.source=this,xe}}return vt.create=(Pe,xe)=>new Fe(Pe,xe),vt})();class Fe extends $e{constructor(Pe,xe){super(),this.destination=Pe,this.source=xe}next(Pe){var xe,Ue;null===(Ue=null===(xe=this.destination)||void 0===xe?void 0:xe.next)||void 0===Ue||Ue.call(xe,Pe)}error(Pe){var xe,Ue;null===(Ue=null===(xe=this.destination)||void 0===xe?void 0:xe.error)||void 0===Ue||Ue.call(xe,Pe)}complete(){var Pe,xe;null===(xe=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.complete)||void 0===xe||xe.call(Pe)}_subscribe(Pe){var xe,Ue;return null!==(Ue=null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Pe))&&void 0!==Ue?Ue:Z.Lc}}},930:(ei,Jt,U)=>{"use strict";U.d(Jt,{Hp:()=>kt,Lv:()=>Ue});var t=U(576),Z=U(727),ie=U(2416),oe=U(7849),ze=U(5032);const ct=vt("C",void 0,void 0);function vt(Ve,dt,Ut){return{kind:Ve,value:dt,error:Ut}}var Pe=U(3410),xe=U(2806);class Ue extends Z.w0{constructor(dt){super(),this.isStopped=!1,dt?(this.destination=dt,(0,Z.Nn)(dt)&&dt.add(this)):this.destination=at}static create(dt,Ut,ut){return new kt(dt,Ut,ut)}next(dt){this.isStopped?yt(function Fe(Ve){return vt("N",Ve,void 0)}(dt),this):this._next(dt)}error(dt){this.isStopped?yt(function $e(Ve){return vt("E",void 0,Ve)}(dt),this):(this.isStopped=!0,this._error(dt))}complete(){this.isStopped?yt(ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(dt){this.destination.next(dt)}_error(dt){try{this.destination.error(dt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function pt(Ve,dt){return je.call(Ve,dt)}class gt{constructor(dt){this.partialObserver=dt}next(dt){const{partialObserver:Ut}=this;if(Ut.next)try{Ut.next(dt)}catch(ut){be(ut)}}error(dt){const{partialObserver:Ut}=this;if(Ut.error)try{Ut.error(dt)}catch(ut){be(ut)}else be(dt)}complete(){const{partialObserver:dt}=this;if(dt.complete)try{dt.complete()}catch(Ut){be(Ut)}}}class kt extends Ue{constructor(dt,Ut,ut){let Ie;if(super(),(0,t.m)(dt)||!dt)Ie={next:null!=dt?dt:void 0,error:null!=Ut?Ut:void 0,complete:null!=ut?ut:void 0};else{let nt;this&&ie.v.useDeprecatedNextContext?(nt=Object.create(dt),nt.unsubscribe=()=>this.unsubscribe(),Ie={next:dt.next&&pt(dt.next,nt),error:dt.error&&pt(dt.error,nt),complete:dt.complete&&pt(dt.complete,nt)}):Ie=dt}this.destination=new gt(Ie)}}function be(Ve){ie.v.useDeprecatedSynchronousErrorHandling?(0,xe.O)(Ve):(0,oe.h)(Ve)}function yt(Ve,dt){const{onStoppedNotification:Ut}=ie.v;Ut&&Pe.z.setTimeout(()=>Ut(Ve,dt))}const at={closed:!0,next:ze.Z,error:function Ge(Ve){throw Ve},complete:ze.Z}},727:(ei,Jt,U)=>{"use strict";U.d(Jt,{Lc:()=>ct,w0:()=>ze,Nn:()=>$e});var t=U(576);const ie=(0,U(3888).d)(vt=>function(xe){vt(this),this.message=xe?`${xe.length} errors occurred during unsubscription:\n${xe.map((Ue,je)=>`${je+1}) ${Ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=xe});var oe=U(8737);class ze{constructor(Pe){this.initialTeardown=Pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Pe;if(!this.closed){this.closed=!0;const{_parentage:xe}=this;if(xe)if(this._parentage=null,Array.isArray(xe))for(const pt of xe)pt.remove(this);else xe.remove(this);const{initialTeardown:Ue}=this;if((0,t.m)(Ue))try{Ue()}catch(pt){Pe=pt instanceof ie?pt.errors:[pt]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const pt of je)try{Fe(pt)}catch(gt){Pe=null!=Pe?Pe:[],gt instanceof ie?Pe=[...Pe,...gt.errors]:Pe.push(gt)}}if(Pe)throw new ie(Pe)}}add(Pe){var xe;if(Pe&&Pe!==this)if(this.closed)Fe(Pe);else{if(Pe instanceof ze){if(Pe.closed||Pe._hasParent(this))return;Pe._addParent(this)}(this._finalizers=null!==(xe=this._finalizers)&&void 0!==xe?xe:[]).push(Pe)}}_hasParent(Pe){const{_parentage:xe}=this;return xe===Pe||Array.isArray(xe)&&xe.includes(Pe)}_addParent(Pe){const{_parentage:xe}=this;this._parentage=Array.isArray(xe)?(xe.push(Pe),xe):xe?[xe,Pe]:Pe}_removeParent(Pe){const{_parentage:xe}=this;xe===Pe?this._parentage=null:Array.isArray(xe)&&(0,oe.P)(xe,Pe)}remove(Pe){const{_finalizers:xe}=this;xe&&(0,oe.P)(xe,Pe),Pe instanceof ze&&Pe._removeParent(this)}}ze.EMPTY=(()=>{const vt=new ze;return vt.closed=!0,vt})();const ct=ze.EMPTY;function $e(vt){return vt instanceof ze||vt&&"closed"in vt&&(0,t.m)(vt.remove)&&(0,t.m)(vt.add)&&(0,t.m)(vt.unsubscribe)}function Fe(vt){(0,t.m)(vt)?vt():vt.unsubscribe()}},2416:(ei,Jt,U)=>{"use strict";U.d(Jt,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(ei,Jt,U)=>{"use strict";U.d(Jt,{a:()=>Pe});var t=U(9751),Z=U(4742),ie=U(8996),oe=U(4671),ze=U(3268),ct=U(3269),$e=U(1810),Fe=U(5403),vt=U(9672);function Pe(...je){const pt=(0,ct.yG)(je),gt=(0,ct.jO)(je),{args:kt,keys:be}=(0,Z.D)(je);if(0===kt.length)return(0,ie.D)([],pt);const Ge=new t.y(function xe(je,pt,gt=oe.y){return kt=>{Ue(pt,()=>{const{length:be}=je,Ge=new Array(be);let yt=be,at=be;for(let Ve=0;Ve<be;Ve++)Ue(pt,()=>{const dt=(0,ie.D)(je[Ve],pt);let Ut=!1;dt.subscribe((0,Fe.x)(kt,ut=>{Ge[Ve]=ut,Ut||(Ut=!0,at--),at||kt.next(gt(Ge.slice()))},()=>{--yt||kt.complete()}))},kt)},kt)}}(kt,pt,be?yt=>(0,$e.n)(be,yt):oe.y));return gt?Ge.pipe((0,ze.Z)(gt)):Ge}function Ue(je,pt,gt){je?(0,vt.f)(gt,je,pt):pt()}},7272:(ei,Jt,U)=>{"use strict";U.d(Jt,{z:()=>ze});var t=U(8189),ie=U(3269),oe=U(8996);function ze(...ct){return function Z(){return(0,t.J)(1)}()((0,oe.D)(ct,(0,ie.yG)(ct)))}},515:(ei,Jt,U)=>{"use strict";U.d(Jt,{E:()=>Z});const Z=new(U(9751).y)(ze=>ze.complete())},8996:(ei,Jt,U)=>{"use strict";U.d(Jt,{D:()=>dt});var t=U(8421),Z=U(5363),ie=U(9468),ct=U(9751),Fe=U(2202),vt=U(576),Pe=U(9672);function Ue(Ut,ut){if(!Ut)throw new Error("Iterable cannot be null");return new ct.y(Ie=>{(0,Pe.f)(Ie,ut,()=>{const nt=Ut[Symbol.asyncIterator]();(0,Pe.f)(Ie,ut,()=>{nt.next().then(St=>{St.done?Ie.complete():Ie.next(St.value)})},0,!0)})})}var je=U(3670),pt=U(8239),gt=U(1144),kt=U(6495),be=U(2206),Ge=U(4532),yt=U(3260);function dt(Ut,ut){return ut?function Ve(Ut,ut){if(null!=Ut){if((0,je.c)(Ut))return function oe(Ut,ut){return(0,t.Xf)(Ut).pipe((0,ie.R)(ut),(0,Z.Q)(ut))}(Ut,ut);if((0,gt.z)(Ut))return function $e(Ut,ut){return new ct.y(Ie=>{let nt=0;return ut.schedule(function(){nt===Ut.length?Ie.complete():(Ie.next(Ut[nt++]),Ie.closed||this.schedule())})})}(Ut,ut);if((0,pt.t)(Ut))return function ze(Ut,ut){return(0,t.Xf)(Ut).pipe((0,ie.R)(ut),(0,Z.Q)(ut))}(Ut,ut);if((0,be.D)(Ut))return Ue(Ut,ut);if((0,kt.T)(Ut))return function xe(Ut,ut){return new ct.y(Ie=>{let nt;return(0,Pe.f)(Ie,ut,()=>{nt=Ut[Fe.h](),(0,Pe.f)(Ie,ut,()=>{let St,Nt;try{({value:St,done:Nt}=nt.next())}catch(At){return void Ie.error(At)}Nt?Ie.complete():Ie.next(St)},0,!0)}),()=>(0,vt.m)(null==nt?void 0:nt.return)&&nt.return()})}(Ut,ut);if((0,yt.L)(Ut))return function at(Ut,ut){return Ue((0,yt.Q)(Ut),ut)}(Ut,ut)}throw(0,Ge.z)(Ut)}(Ut,ut):(0,t.Xf)(Ut)}},4968:(ei,Jt,U)=>{"use strict";U.d(Jt,{R:()=>Pe});var t=U(8421),Z=U(9751),ie=U(5577),oe=U(1144),ze=U(576),ct=U(3268);const $e=["addListener","removeListener"],Fe=["addEventListener","removeEventListener"],vt=["on","off"];function Pe(gt,kt,be,Ge){if((0,ze.m)(be)&&(Ge=be,be=void 0),Ge)return Pe(gt,kt,be).pipe((0,ct.Z)(Ge));const[yt,at]=function pt(gt){return(0,ze.m)(gt.addEventListener)&&(0,ze.m)(gt.removeEventListener)}(gt)?Fe.map(Ve=>dt=>gt[Ve](kt,dt,be)):function Ue(gt){return(0,ze.m)(gt.addListener)&&(0,ze.m)(gt.removeListener)}(gt)?$e.map(xe(gt,kt)):function je(gt){return(0,ze.m)(gt.on)&&(0,ze.m)(gt.off)}(gt)?vt.map(xe(gt,kt)):[];if(!yt&&(0,oe.z)(gt))return(0,ie.z)(Ve=>Pe(Ve,kt,be))((0,t.Xf)(gt));if(!yt)throw new TypeError("Invalid event target");return new Z.y(Ve=>{const dt=(...Ut)=>Ve.next(1<Ut.length?Ut:Ut[0]);return yt(dt),()=>at(dt)})}function xe(gt,kt){return be=>Ge=>gt[be](kt,Ge)}},8421:(ei,Jt,U)=>{"use strict";U.d(Jt,{Xf:()=>je});var t=U(655),Z=U(1144),ie=U(8239),oe=U(9751),ze=U(3670),ct=U(2206),$e=U(4532),Fe=U(6495),vt=U(3260),Pe=U(576),xe=U(7849),Ue=U(8822);function je(Ve){if(Ve instanceof oe.y)return Ve;if(null!=Ve){if((0,ze.c)(Ve))return function pt(Ve){return new oe.y(dt=>{const Ut=Ve[Ue.L]();if((0,Pe.m)(Ut.subscribe))return Ut.subscribe(dt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,Z.z)(Ve))return function gt(Ve){return new oe.y(dt=>{for(let Ut=0;Ut<Ve.length&&!dt.closed;Ut++)dt.next(Ve[Ut]);dt.complete()})}(Ve);if((0,ie.t)(Ve))return function kt(Ve){return new oe.y(dt=>{Ve.then(Ut=>{dt.closed||(dt.next(Ut),dt.complete())},Ut=>dt.error(Ut)).then(null,xe.h)})}(Ve);if((0,ct.D)(Ve))return Ge(Ve);if((0,Fe.T)(Ve))return function be(Ve){return new oe.y(dt=>{for(const Ut of Ve)if(dt.next(Ut),dt.closed)return;dt.complete()})}(Ve);if((0,vt.L)(Ve))return function yt(Ve){return Ge((0,vt.Q)(Ve))}(Ve)}throw(0,$e.z)(Ve)}function Ge(Ve){return new oe.y(dt=>{(function at(Ve,dt){var Ut,ut,Ie,nt;return(0,t.mG)(this,void 0,void 0,function*(){try{for(Ut=(0,t.KL)(Ve);!(ut=yield Ut.next()).done;)if(dt.next(ut.value),dt.closed)return}catch(St){Ie={error:St}}finally{try{ut&&!ut.done&&(nt=Ut.return)&&(yield nt.call(Ut))}finally{if(Ie)throw Ie.error}}dt.complete()})})(Ve,dt).catch(Ut=>dt.error(Ut))})}},6451:(ei,Jt,U)=>{"use strict";U.d(Jt,{T:()=>ct});var t=U(8189),Z=U(8421),ie=U(515),oe=U(3269),ze=U(8996);function ct(...$e){const Fe=(0,oe.yG)($e),vt=(0,oe._6)($e,1/0),Pe=$e;return Pe.length?1===Pe.length?(0,Z.Xf)(Pe[0]):(0,t.J)(vt)((0,ze.D)(Pe,Fe)):ie.E}},9646:(ei,Jt,U)=>{"use strict";U.d(Jt,{of:()=>ie});var t=U(3269),Z=U(8996);function ie(...oe){const ze=(0,t.yG)(oe);return(0,Z.D)(oe,ze)}},5403:(ei,Jt,U)=>{"use strict";U.d(Jt,{Q:()=>ie,x:()=>Z});var t=U(930);function Z(oe,ze,ct,$e,Fe){return new ie(oe,ze,ct,$e,Fe)}class ie extends t.Lv{constructor(ze,ct,$e,Fe,vt,Pe){super(ze),this.onFinalize=vt,this.shouldUnsubscribe=Pe,this._next=ct?function(xe){try{ct(xe)}catch(Ue){ze.error(Ue)}}:super._next,this._error=Fe?function(xe){try{Fe(xe)}catch(Ue){ze.error(Ue)}finally{this.unsubscribe()}}:super._error,this._complete=$e?function(){try{$e()}catch(xe){ze.error(xe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ze;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ct}=this;super.unsubscribe(),!ct&&(null===(ze=this.onFinalize)||void 0===ze||ze.call(this))}}}},6590:(ei,Jt,U)=>{"use strict";U.d(Jt,{d:()=>ie});var t=U(4482),Z=U(5403);function ie(oe){return(0,t.e)((ze,ct)=>{let $e=!1;ze.subscribe((0,Z.x)(ct,Fe=>{$e=!0,ct.next(Fe)},()=>{$e||ct.next(oe),ct.complete()}))})}},1884:(ei,Jt,U)=>{"use strict";U.d(Jt,{x:()=>oe});var t=U(4671),Z=U(4482),ie=U(5403);function oe(ct,$e=t.y){return ct=null!=ct?ct:ze,(0,Z.e)((Fe,vt)=>{let Pe,xe=!0;Fe.subscribe((0,ie.x)(vt,Ue=>{const je=$e(Ue);(xe||!ct(Pe,je))&&(xe=!1,Pe=je,vt.next(Ue))}))})}function ze(ct,$e){return ct===$e}},9300:(ei,Jt,U)=>{"use strict";U.d(Jt,{h:()=>ie});var t=U(4482),Z=U(5403);function ie(oe,ze){return(0,t.e)((ct,$e)=>{let Fe=0;ct.subscribe((0,Z.x)($e,vt=>oe.call(ze,vt,Fe++)&&$e.next(vt)))})}},590:(ei,Jt,U)=>{"use strict";U.d(Jt,{P:()=>$e});var t=U(6805),Z=U(9300),ie=U(5698),oe=U(6590),ze=U(8068),ct=U(4671);function $e(Fe,vt){const Pe=arguments.length>=2;return xe=>xe.pipe(Fe?(0,Z.h)((Ue,je)=>Fe(Ue,je,xe)):ct.y,(0,ie.q)(1),Pe?(0,oe.d)(vt):(0,ze.T)(()=>new t.K))}},4004:(ei,Jt,U)=>{"use strict";U.d(Jt,{U:()=>ie});var t=U(4482),Z=U(5403);function ie(oe,ze){return(0,t.e)((ct,$e)=>{let Fe=0;ct.subscribe((0,Z.x)($e,vt=>{$e.next(oe.call(ze,vt,Fe++))}))})}},9718:(ei,Jt,U)=>{"use strict";U.d(Jt,{h:()=>Z});var t=U(4004);function Z(ie){return(0,t.U)(()=>ie)}},8189:(ei,Jt,U)=>{"use strict";U.d(Jt,{J:()=>ie});var t=U(5577),Z=U(4671);function ie(oe=1/0){return(0,t.z)(Z.y,oe)}},5577:(ei,Jt,U)=>{"use strict";U.d(Jt,{z:()=>Fe});var t=U(4004),Z=U(8421),ie=U(4482),oe=U(9672),ze=U(5403),$e=U(576);function Fe(vt,Pe,xe=1/0){return(0,$e.m)(Pe)?Fe((Ue,je)=>(0,t.U)((pt,gt)=>Pe(Ue,pt,je,gt))((0,Z.Xf)(vt(Ue,je))),xe):("number"==typeof Pe&&(xe=Pe),(0,ie.e)((Ue,je)=>function ct(vt,Pe,xe,Ue,je,pt,gt,kt){const be=[];let Ge=0,yt=0,at=!1;const Ve=()=>{at&&!be.length&&!Ge&&Pe.complete()},dt=ut=>Ge<Ue?Ut(ut):be.push(ut),Ut=ut=>{pt&&Pe.next(ut),Ge++;let Ie=!1;(0,Z.Xf)(xe(ut,yt++)).subscribe((0,ze.x)(Pe,nt=>{null==je||je(nt),pt?dt(nt):Pe.next(nt)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(Ge--;be.length&&Ge<Ue;){const nt=be.shift();gt?(0,oe.f)(Pe,gt,()=>Ut(nt)):Ut(nt)}Ve()}catch(nt){Pe.error(nt)}}))};return vt.subscribe((0,ze.x)(Pe,dt,()=>{at=!0,Ve()})),()=>{null==kt||kt()}}(Ue,je,vt,xe)))}},5363:(ei,Jt,U)=>{"use strict";U.d(Jt,{Q:()=>oe});var t=U(9672),Z=U(4482),ie=U(5403);function oe(ze,ct=0){return(0,Z.e)(($e,Fe)=>{$e.subscribe((0,ie.x)(Fe,vt=>(0,t.f)(Fe,ze,()=>Fe.next(vt),ct),()=>(0,t.f)(Fe,ze,()=>Fe.complete(),ct),vt=>(0,t.f)(Fe,ze,()=>Fe.error(vt),ct)))})}},1520:(ei,Jt,U)=>{"use strict";U.d(Jt,{G:()=>ie});var t=U(4482),Z=U(5403);function ie(){return(0,t.e)((oe,ze)=>{let ct,$e=!1;oe.subscribe((0,Z.x)(ze,Fe=>{const vt=ct;ct=Fe,$e&&ze.next([vt,Fe]),$e=!0}))})}},5026:(ei,Jt,U)=>{"use strict";U.d(Jt,{R:()=>oe});var t=U(4482),Z=U(5403);function oe(ze,ct){return(0,t.e)(function ie(ze,ct,$e,Fe,vt){return(Pe,xe)=>{let Ue=$e,je=ct,pt=0;Pe.subscribe((0,Z.x)(xe,gt=>{const kt=pt++;je=Ue?ze(je,gt,kt):(Ue=!0,gt),Fe&&xe.next(je)},vt&&(()=>{Ue&&xe.next(je),xe.complete()})))}}(ze,ct,arguments.length>=2,!0))}},3099:(ei,Jt,U)=>{"use strict";U.d(Jt,{B:()=>ze});var t=U(8421),Z=U(7579),ie=U(930),oe=U(4482);function ze($e={}){const{connector:Fe=(()=>new Z.x),resetOnError:vt=!0,resetOnComplete:Pe=!0,resetOnRefCountZero:xe=!0}=$e;return Ue=>{let je,pt,gt,kt=0,be=!1,Ge=!1;const yt=()=>{null==pt||pt.unsubscribe(),pt=void 0},at=()=>{yt(),je=gt=void 0,be=Ge=!1},Ve=()=>{const dt=je;at(),null==dt||dt.unsubscribe()};return(0,oe.e)((dt,Ut)=>{kt++,!Ge&&!be&&yt();const ut=gt=null!=gt?gt:Fe();Ut.add(()=>{kt--,0===kt&&!Ge&&!be&&(pt=ct(Ve,xe))}),ut.subscribe(Ut),!je&&kt>0&&(je=new ie.Hp({next:Ie=>ut.next(Ie),error:Ie=>{Ge=!0,yt(),pt=ct(at,vt,Ie),ut.error(Ie)},complete:()=>{be=!0,yt(),pt=ct(at,Pe),ut.complete()}}),(0,t.Xf)(dt).subscribe(je))})(Ue)}}function ct($e,Fe,...vt){if(!0===Fe)return void $e();if(!1===Fe)return;const Pe=new ie.Hp({next:()=>{Pe.unsubscribe(),$e()}});return Fe(...vt).subscribe(Pe)}},8675:(ei,Jt,U)=>{"use strict";U.d(Jt,{O:()=>oe});var t=U(7272),Z=U(3269),ie=U(4482);function oe(...ze){const ct=(0,Z.yG)(ze);return(0,ie.e)(($e,Fe)=>{(ct?(0,t.z)(ze,$e,ct):(0,t.z)(ze,$e)).subscribe(Fe)})}},9468:(ei,Jt,U)=>{"use strict";U.d(Jt,{R:()=>Z});var t=U(4482);function Z(ie,oe=0){return(0,t.e)((ze,ct)=>{ct.add(ie.schedule(()=>ze.subscribe(ct),oe))})}},3900:(ei,Jt,U)=>{"use strict";U.d(Jt,{w:()=>oe});var t=U(8421),Z=U(4482),ie=U(5403);function oe(ze,ct){return(0,Z.e)(($e,Fe)=>{let vt=null,Pe=0,xe=!1;const Ue=()=>xe&&!vt&&Fe.complete();$e.subscribe((0,ie.x)(Fe,je=>{null==vt||vt.unsubscribe();let pt=0;const gt=Pe++;(0,t.Xf)(ze(je,gt)).subscribe(vt=(0,ie.x)(Fe,kt=>Fe.next(ct?ct(je,kt,gt,pt++):kt),()=>{vt=null,Ue()}))},()=>{xe=!0,Ue()}))})}},5698:(ei,Jt,U)=>{"use strict";U.d(Jt,{q:()=>oe});var t=U(515),Z=U(4482),ie=U(5403);function oe(ze){return ze<=0?()=>t.E:(0,Z.e)((ct,$e)=>{let Fe=0;ct.subscribe((0,ie.x)($e,vt=>{++Fe<=ze&&($e.next(vt),ze<=Fe&&$e.complete())}))})}},8505:(ei,Jt,U)=>{"use strict";U.d(Jt,{b:()=>ze});var t=U(576),Z=U(4482),ie=U(5403),oe=U(4671);function ze(ct,$e,Fe){const vt=(0,t.m)(ct)||$e||Fe?{next:ct,error:$e,complete:Fe}:ct;return vt?(0,Z.e)((Pe,xe)=>{var Ue;null===(Ue=vt.subscribe)||void 0===Ue||Ue.call(vt);let je=!0;Pe.subscribe((0,ie.x)(xe,pt=>{var gt;null===(gt=vt.next)||void 0===gt||gt.call(vt,pt),xe.next(pt)},()=>{var pt;je=!1,null===(pt=vt.complete)||void 0===pt||pt.call(vt),xe.complete()},pt=>{var gt;je=!1,null===(gt=vt.error)||void 0===gt||gt.call(vt,pt),xe.error(pt)},()=>{var pt,gt;je&&(null===(pt=vt.unsubscribe)||void 0===pt||pt.call(vt)),null===(gt=vt.finalize)||void 0===gt||gt.call(vt)}))}):oe.y}},8068:(ei,Jt,U)=>{"use strict";U.d(Jt,{T:()=>oe});var t=U(6805),Z=U(4482),ie=U(5403);function oe(ct=ze){return(0,Z.e)(($e,Fe)=>{let vt=!1;$e.subscribe((0,ie.x)(Fe,Pe=>{vt=!0,Fe.next(Pe)},()=>vt?Fe.complete():Fe.error(ct())))})}function ze(){return new t.K}},1365:(ei,Jt,U)=>{"use strict";U.d(Jt,{M:()=>$e});var t=U(4482),Z=U(5403),ie=U(8421),oe=U(4671),ze=U(5032),ct=U(3269);function $e(...Fe){const vt=(0,ct.jO)(Fe);return(0,t.e)((Pe,xe)=>{const Ue=Fe.length,je=new Array(Ue);let pt=Fe.map(()=>!1),gt=!1;for(let kt=0;kt<Ue;kt++)(0,ie.Xf)(Fe[kt]).subscribe((0,Z.x)(xe,be=>{je[kt]=be,!gt&&!pt[kt]&&(pt[kt]=!0,(gt=pt.every(oe.y))&&(pt=null))},ze.Z));Pe.subscribe((0,Z.x)(xe,kt=>{if(gt){const be=[kt,...je];xe.next(vt?vt(...be):be)}}))})}},4408:(ei,Jt,U)=>{"use strict";U.d(Jt,{o:()=>ze});var t=U(727);class Z extends t.w0{constructor($e,Fe){super()}schedule($e,Fe=0){return this}}const ie={setInterval(ct,$e,...Fe){const{delegate:vt}=ie;return null!=vt&&vt.setInterval?vt.setInterval(ct,$e,...Fe):setInterval(ct,$e,...Fe)},clearInterval(ct){const{delegate:$e}=ie;return((null==$e?void 0:$e.clearInterval)||clearInterval)(ct)},delegate:void 0};var oe=U(8737);class ze extends Z{constructor($e,Fe){super($e,Fe),this.scheduler=$e,this.work=Fe,this.pending=!1}schedule($e,Fe=0){var vt;if(this.closed)return this;this.state=$e;const Pe=this.id,xe=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(xe,Pe,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(vt=this.id)&&void 0!==vt?vt:this.requestAsyncId(xe,this.id,Fe),this}requestAsyncId($e,Fe,vt=0){return ie.setInterval($e.flush.bind($e,this),vt)}recycleAsyncId($e,Fe,vt=0){if(null!=vt&&this.delay===vt&&!1===this.pending)return Fe;null!=Fe&&ie.clearInterval(Fe)}execute($e,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const vt=this._execute($e,Fe);if(vt)return vt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($e,Fe){let Pe,vt=!1;try{this.work($e)}catch(xe){vt=!0,Pe=xe||new Error("Scheduled action threw falsy error")}if(vt)return this.unsubscribe(),Pe}unsubscribe(){if(!this.closed){const{id:$e,scheduler:Fe}=this,{actions:vt}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(vt,this),null!=$e&&(this.id=this.recycleAsyncId(Fe,$e,null)),this.delay=null,super.unsubscribe()}}}},7565:(ei,Jt,U)=>{"use strict";U.d(Jt,{v:()=>ie});var t=U(6063);class Z{constructor(ze,ct=Z.now){this.schedulerActionCtor=ze,this.now=ct}schedule(ze,ct=0,$e){return new this.schedulerActionCtor(this,ze).schedule($e,ct)}}Z.now=t.l.now;class ie extends Z{constructor(ze,ct=Z.now){super(ze,ct),this.actions=[],this._active=!1}flush(ze){const{actions:ct}=this;if(this._active)return void ct.push(ze);let $e;this._active=!0;do{if($e=ze.execute(ze.state,ze.delay))break}while(ze=ct.shift());if(this._active=!1,$e){for(;ze=ct.shift();)ze.unsubscribe();throw $e}}}},4986:(ei,Jt,U)=>{"use strict";U.d(Jt,{P:()=>oe,z:()=>ie});var t=U(4408);const ie=new(U(7565).v)(t.o),oe=ie},6063:(ei,Jt,U)=>{"use strict";U.d(Jt,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},3410:(ei,Jt,U)=>{"use strict";U.d(Jt,{z:()=>t});const t={setTimeout(Z,ie,...oe){const{delegate:ze}=t;return null!=ze&&ze.setTimeout?ze.setTimeout(Z,ie,...oe):setTimeout(Z,ie,...oe)},clearTimeout(Z){const{delegate:ie}=t;return((null==ie?void 0:ie.clearTimeout)||clearTimeout)(Z)},delegate:void 0}},2202:(ei,Jt,U)=>{"use strict";U.d(Jt,{h:()=>Z});const Z=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ei,Jt,U)=>{"use strict";U.d(Jt,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ei,Jt,U)=>{"use strict";U.d(Jt,{K:()=>Z});const Z=(0,U(3888).d)(ie=>function(){ie(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ei,Jt,U)=>{"use strict";U.d(Jt,{_6:()=>ct,jO:()=>oe,yG:()=>ze});var t=U(576),Z=U(3532);function ie($e){return $e[$e.length-1]}function oe($e){return(0,t.m)(ie($e))?$e.pop():void 0}function ze($e){return(0,Z.K)(ie($e))?$e.pop():void 0}function ct($e,Fe){return"number"==typeof ie($e)?$e.pop():Fe}},4742:(ei,Jt,U)=>{"use strict";U.d(Jt,{D:()=>ze});const{isArray:t}=Array,{getPrototypeOf:Z,prototype:ie,keys:oe}=Object;function ze($e){if(1===$e.length){const Fe=$e[0];if(t(Fe))return{args:Fe,keys:null};if(function ct($e){return $e&&"object"==typeof $e&&Z($e)===ie}(Fe)){const vt=oe(Fe);return{args:vt.map(Pe=>Fe[Pe]),keys:vt}}}return{args:$e,keys:null}}},8737:(ei,Jt,U)=>{"use strict";function t(Z,ie){if(Z){const oe=Z.indexOf(ie);0<=oe&&Z.splice(oe,1)}}U.d(Jt,{P:()=>t})},3888:(ei,Jt,U)=>{"use strict";function t(Z){const oe=Z(ze=>{Error.call(ze),ze.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}U.d(Jt,{d:()=>t})},1810:(ei,Jt,U)=>{"use strict";function t(Z,ie){return Z.reduce((oe,ze,ct)=>(oe[ze]=ie[ct],oe),{})}U.d(Jt,{n:()=>t})},2806:(ei,Jt,U)=>{"use strict";U.d(Jt,{O:()=>oe,x:()=>ie});var t=U(2416);let Z=null;function ie(ze){if(t.v.useDeprecatedSynchronousErrorHandling){const ct=!Z;if(ct&&(Z={errorThrown:!1,error:null}),ze(),ct){const{errorThrown:$e,error:Fe}=Z;if(Z=null,$e)throw Fe}}else ze()}function oe(ze){t.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=ze)}},9672:(ei,Jt,U)=>{"use strict";function t(Z,ie,oe,ze=0,ct=!1){const $e=ie.schedule(function(){oe(),ct?Z.add(this.schedule(null,ze)):this.unsubscribe()},ze);if(Z.add($e),!ct)return $e}U.d(Jt,{f:()=>t})},4671:(ei,Jt,U)=>{"use strict";function t(Z){return Z}U.d(Jt,{y:()=>t})},1144:(ei,Jt,U)=>{"use strict";U.d(Jt,{z:()=>t});const t=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(ei,Jt,U)=>{"use strict";U.d(Jt,{D:()=>Z});var t=U(576);function Z(ie){return Symbol.asyncIterator&&(0,t.m)(null==ie?void 0:ie[Symbol.asyncIterator])}},576:(ei,Jt,U)=>{"use strict";function t(Z){return"function"==typeof Z}U.d(Jt,{m:()=>t})},3670:(ei,Jt,U)=>{"use strict";U.d(Jt,{c:()=>ie});var t=U(8822),Z=U(576);function ie(oe){return(0,Z.m)(oe[t.L])}},6495:(ei,Jt,U)=>{"use strict";U.d(Jt,{T:()=>ie});var t=U(2202),Z=U(576);function ie(oe){return(0,Z.m)(null==oe?void 0:oe[t.h])}},8239:(ei,Jt,U)=>{"use strict";U.d(Jt,{t:()=>Z});var t=U(576);function Z(ie){return(0,t.m)(null==ie?void 0:ie.then)}},3260:(ei,Jt,U)=>{"use strict";U.d(Jt,{L:()=>oe,Q:()=>ie});var t=U(655),Z=U(576);function ie(ze){return(0,t.FC)(this,arguments,function*(){const $e=ze.getReader();try{for(;;){const{value:Fe,done:vt}=yield(0,t.qq)($e.read());if(vt)return yield(0,t.qq)(void 0);yield yield(0,t.qq)(Fe)}}finally{$e.releaseLock()}})}function oe(ze){return(0,Z.m)(null==ze?void 0:ze.getReader)}},3532:(ei,Jt,U)=>{"use strict";U.d(Jt,{K:()=>Z});var t=U(576);function Z(ie){return ie&&(0,t.m)(ie.schedule)}},4482:(ei,Jt,U)=>{"use strict";U.d(Jt,{A:()=>Z,e:()=>ie});var t=U(576);function Z(oe){return(0,t.m)(null==oe?void 0:oe.lift)}function ie(oe){return ze=>{if(Z(ze))return ze.lift(function(ct){try{return oe(ct,this)}catch($e){this.error($e)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ei,Jt,U)=>{"use strict";U.d(Jt,{Z:()=>oe});var t=U(4004);const{isArray:Z}=Array;function oe(ze){return(0,t.U)(ct=>function ie(ze,ct){return Z(ct)?ze(...ct):ze(ct)}(ze,ct))}},5032:(ei,Jt,U)=>{"use strict";function t(){}U.d(Jt,{Z:()=>t})},9635:(ei,Jt,U)=>{"use strict";U.d(Jt,{U:()=>ie,z:()=>Z});var t=U(4671);function Z(...oe){return ie(oe)}function ie(oe){return 0===oe.length?t.y:1===oe.length?oe[0]:function(ct){return oe.reduce(($e,Fe)=>Fe($e),ct)}}},7849:(ei,Jt,U)=>{"use strict";U.d(Jt,{h:()=>ie});var t=U(2416),Z=U(3410);function ie(oe){Z.z.setTimeout(()=>{const{onUnhandledError:ze}=t.v;if(!ze)throw oe;ze(oe)})}},4532:(ei,Jt,U)=>{"use strict";function t(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Jt,{z:()=>t})},863:(ei,Jt,U)=>{var t={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[3510,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function Z(ie){if(!U.o(t,ie))return Promise.resolve().then(()=>{var ct=new Error("Cannot find module '"+ie+"'");throw ct.code="MODULE_NOT_FOUND",ct});var oe=t[ie],ze=oe[0];return Promise.all(oe.slice(1).map(U.e)).then(()=>U(ze))}Z.keys=()=>Object.keys(t),Z.id=863,ei.exports=Z},655:(ei,Jt,U)=>{"use strict";function oe(Et,it){var Vt={};for(var lt in Et)Object.prototype.hasOwnProperty.call(Et,lt)&&it.indexOf(lt)<0&&(Vt[lt]=Et[lt]);if(null!=Et&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(lt=Object.getOwnPropertySymbols(Et);Je<lt.length;Je++)it.indexOf(lt[Je])<0&&Object.prototype.propertyIsEnumerable.call(Et,lt[Je])&&(Vt[lt[Je]]=Et[lt[Je]])}return Vt}function ze(Et,it,Vt,lt){var Yt,Je=arguments.length,rt=Je<3?it:null===lt?lt=Object.getOwnPropertyDescriptor(it,Vt):lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)rt=Reflect.decorate(Et,it,Vt,lt);else for(var $t=Et.length-1;$t>=0;$t--)(Yt=Et[$t])&&(rt=(Je<3?Yt(rt):Je>3?Yt(it,Vt,rt):Yt(it,Vt))||rt);return Je>3&&rt&&Object.defineProperty(it,Vt,rt),rt}function Ue(Et,it,Vt,lt){return new(Vt||(Vt=Promise))(function(rt,Yt){function $t(hn){try{Bt(lt.next(hn))}catch(qe){Yt(qe)}}function Qt(hn){try{Bt(lt.throw(hn))}catch(qe){Yt(qe)}}function Bt(hn){hn.done?rt(hn.value):function Je(rt){return rt instanceof Vt?rt:new Vt(function(Yt){Yt(rt)})}(hn.value).then($t,Qt)}Bt((lt=lt.apply(Et,it||[])).next())})}function Ve(Et){return this instanceof Ve?(this.v=Et,this):new Ve(Et)}function dt(Et,it,Vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,lt=Vt.apply(Et,it||[]),rt=[];return Je={},Yt("next"),Yt("throw"),Yt("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function Yt(cn){lt[cn]&&(Je[cn]=function(Tn){return new Promise(function(Hn,Ln){rt.push([cn,Tn,Hn,Ln])>1||$t(cn,Tn)})})}function $t(cn,Tn){try{!function Qt(cn){cn.value instanceof Ve?Promise.resolve(cn.value.v).then(Bt,hn):qe(rt[0][2],cn)}(lt[cn](Tn))}catch(Hn){qe(rt[0][3],Hn)}}function Bt(cn){$t("next",cn)}function hn(cn){$t("throw",cn)}function qe(cn,Tn){cn(Tn),rt.shift(),rt.length&&$t(rt[0][0],rt[0][1])}}function ut(Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Vt,it=Et[Symbol.asyncIterator];return it?it.call(Et):(Et=function kt(Et){var it="function"==typeof Symbol&&Symbol.iterator,Vt=it&&Et[it],lt=0;if(Vt)return Vt.call(Et);if(Et&&"number"==typeof Et.length)return{next:function(){return Et&&lt>=Et.length&&(Et=void 0),{value:Et&&Et[lt++],done:!Et}}};throw new TypeError(it?"Object is not iterable.":"Symbol.iterator is not defined.")}(Et),Vt={},lt("next"),lt("throw"),lt("return"),Vt[Symbol.asyncIterator]=function(){return this},Vt);function lt(rt){Vt[rt]=Et[rt]&&function(Yt){return new Promise(function($t,Qt){!function Je(rt,Yt,$t,Qt){Promise.resolve(Qt).then(function(Bt){rt({value:Bt,done:$t})},Yt)}($t,Qt,(Yt=Et[rt](Yt)).done,Yt.value)})}}}U.d(Jt,{FC:()=>dt,KL:()=>ut,_T:()=>oe,gn:()=>ze,mG:()=>Ue,qq:()=>Ve})},6895:(ei,Jt,U)=>{"use strict";U.d(Jt,{Do:()=>yt,EM:()=>pa,HT:()=>oe,JF:()=>rs,K0:()=>ct,Mn:()=>lt,Mx:()=>Rr,NF:()=>Sl,O5:()=>_t,Ov:()=>Xs,PC:()=>Dr,PM:()=>nl,S$:()=>kt,Tn:()=>At,UT:()=>Je,V_:()=>vt,Ye:()=>at,Zx:()=>ko,ax:()=>Q,b0:()=>Ge,bD:()=>eo,ez:()=>da,mk:()=>sr,ol:()=>Vt,p6:()=>Pi,q:()=>ie,sg:()=>Q,tP:()=>qs,w_:()=>ze,x:()=>Nt});var t=U(4650);let Z=null;function ie(){return Z}function oe(B){Z||(Z=B)}class ze{}const ct=new t.OlP("DocumentToken");let $e=(()=>{class B{historyGo(X){throw new Error("Not implemented")}}return B.\u0275fac=function(X){return new(X||B)},B.\u0275prov=t.Yz7({token:B,factory:function(){return function Fe(){return(0,t.LFG)(Pe)}()},providedIn:"platform"}),B})();const vt=new t.OlP("Location Initialized");let Pe=(()=>{class B extends $e{constructor(X){super(),this._doc=X,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(X){const Me=ie().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("popstate",X,!1),()=>Me.removeEventListener("popstate",X)}onHashChange(X){const Me=ie().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("hashchange",X,!1),()=>Me.removeEventListener("hashchange",X)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(X){this._location.pathname=X}pushState(X,Me,Dt){xe()?this._history.pushState(X,Me,Dt):this._location.hash=Dt}replaceState(X,Me,Dt){xe()?this._history.replaceState(X,Me,Dt):this._location.hash=Dt}forward(){this._history.forward()}back(){this._history.back()}historyGo(X=0){this._history.go(X)}getState(){return this._history.state}}return B.\u0275fac=function(X){return new(X||B)(t.LFG(ct))},B.\u0275prov=t.Yz7({token:B,factory:function(){return function Ue(){return new Pe((0,t.LFG)(ct))}()},providedIn:"platform"}),B})();function xe(){return!!window.history.pushState}function je(B,ce){if(0==B.length)return ce;if(0==ce.length)return B;let X=0;return B.endsWith("/")&&X++,ce.startsWith("/")&&X++,2==X?B+ce.substring(1):1==X?B+ce:B+"/"+ce}function pt(B){const ce=B.match(/#|\?|$/),X=ce&&ce.index||B.length;return B.slice(0,X-("/"===B[X-1]?1:0))+B.slice(X)}function gt(B){return B&&"?"!==B[0]?"?"+B:B}let kt=(()=>{class B{historyGo(X){throw new Error("Not implemented")}}return B.\u0275fac=function(X){return new(X||B)},B.\u0275prov=t.Yz7({token:B,factory:function(){return(0,t.f3M)(Ge)},providedIn:"root"}),B})();const be=new t.OlP("appBaseHref");let Ge=(()=>{class B extends kt{constructor(X,Me){var Dt,Nn,Fn;super(),this._platformLocation=X,this._removeListenerFns=[],this._baseHref=null!==(Dt=null!==(Nn=null!=Me?Me:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Nn?Nn:null===(Fn=(0,t.f3M)(ct).location)||void 0===Fn?void 0:Fn.origin)&&void 0!==Dt?Dt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}prepareExternalUrl(X){return je(this._baseHref,X)}path(X=!1){const Me=this._platformLocation.pathname+gt(this._platformLocation.search),Dt=this._platformLocation.hash;return Dt&&X?`${Me}${Dt}`:Me}pushState(X,Me,Dt,Nn){const Fn=this.prepareExternalUrl(Dt+gt(Nn));this._platformLocation.pushState(X,Me,Fn)}replaceState(X,Me,Dt,Nn){const Fn=this.prepareExternalUrl(Dt+gt(Nn));this._platformLocation.replaceState(X,Me,Fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){var Me,Dt;null===(Me=(Dt=this._platformLocation).historyGo)||void 0===Me||Me.call(Dt,X)}}return B.\u0275fac=function(X){return new(X||B)(t.LFG($e),t.LFG(be,8))},B.\u0275prov=t.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),yt=(()=>{class B extends kt{constructor(X,Me){super(),this._platformLocation=X,this._baseHref="",this._removeListenerFns=[],null!=Me&&(this._baseHref=Me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}path(X=!1){let Me=this._platformLocation.hash;return null==Me&&(Me="#"),Me.length>0?Me.substring(1):Me}prepareExternalUrl(X){const Me=je(this._baseHref,X);return Me.length>0?"#"+Me:Me}pushState(X,Me,Dt,Nn){let Fn=this.prepareExternalUrl(Dt+gt(Nn));0==Fn.length&&(Fn=this._platformLocation.pathname),this._platformLocation.pushState(X,Me,Fn)}replaceState(X,Me,Dt,Nn){let Fn=this.prepareExternalUrl(Dt+gt(Nn));0==Fn.length&&(Fn=this._platformLocation.pathname),this._platformLocation.replaceState(X,Me,Fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){var Me,Dt;null===(Me=(Dt=this._platformLocation).historyGo)||void 0===Me||Me.call(Dt,X)}}return B.\u0275fac=function(X){return new(X||B)(t.LFG($e),t.LFG(be,8))},B.\u0275prov=t.Yz7({token:B,factory:B.\u0275fac}),B})(),at=(()=>{class B{constructor(X){this._subject=new t.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=X;const Me=this._locationStrategy.getBaseHref();this._basePath=function ut(B){if(new RegExp("^(https?:)?//").test(B)){const[,X]=B.split(/\/\/[^\/]+/);return X}return B}(pt(Ut(Me))),this._locationStrategy.onPopState(Dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Dt.state,type:Dt.type})})}ngOnDestroy(){var X;null===(X=this._urlChangeSubscription)||void 0===X||X.unsubscribe(),this._urlChangeListeners=[]}path(X=!1){return this.normalize(this._locationStrategy.path(X))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(X,Me=""){return this.path()==this.normalize(X+gt(Me))}normalize(X){return B.stripTrailingSlash(function dt(B,ce){if(!B||!ce.startsWith(B))return ce;const X=ce.substring(B.length);return""===X||["/",";","?","#"].includes(X[0])?X:ce}(this._basePath,Ut(X)))}prepareExternalUrl(X){return X&&"/"!==X[0]&&(X="/"+X),this._locationStrategy.prepareExternalUrl(X)}go(X,Me="",Dt=null){this._locationStrategy.pushState(Dt,"",X,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+gt(Me)),Dt)}replaceState(X,Me="",Dt=null){this._locationStrategy.replaceState(Dt,"",X,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+gt(Me)),Dt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(X=0){var Me,Dt;null===(Me=(Dt=this._locationStrategy).historyGo)||void 0===Me||Me.call(Dt,X)}onUrlChange(X){return this._urlChangeListeners.push(X),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Me=>{this._notifyUrlChangeListeners(Me.url,Me.state)})),()=>{const Me=this._urlChangeListeners.indexOf(X);var Dt;this._urlChangeListeners.splice(Me,1),0===this._urlChangeListeners.length&&(null===(Dt=this._urlChangeSubscription)||void 0===Dt||Dt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(X="",Me){this._urlChangeListeners.forEach(Dt=>Dt(X,Me))}subscribe(X,Me,Dt){return this._subject.subscribe({next:X,error:Me,complete:Dt})}}return B.normalizeQueryParams=gt,B.joinWithSlash=je,B.stripTrailingSlash=pt,B.\u0275fac=function(X){return new(X||B)(t.LFG(kt))},B.\u0275prov=t.Yz7({token:B,factory:function(){return function Ve(){return new at((0,t.LFG)(kt))}()},providedIn:"root"}),B})();function Ut(B){return B.replace(/\/index.html$/,"")}var nt=(()=>((nt=nt||{})[nt.Decimal=0]="Decimal",nt[nt.Percent=1]="Percent",nt[nt.Currency=2]="Currency",nt[nt.Scientific=3]="Scientific",nt))(),Nt=(()=>((Nt=Nt||{})[Nt.Format=0]="Format",Nt[Nt.Standalone=1]="Standalone",Nt))(),At=(()=>((At=At||{})[At.Narrow=0]="Narrow",At[At.Abbreviated=1]="Abbreviated",At[At.Wide=2]="Wide",At[At.Short=3]="Short",At))(),Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.Medium=1]="Medium",Pt[Pt.Long=2]="Long",Pt[Pt.Full=3]="Full",Pt))(),Lt=(()=>((Lt=Lt||{})[Lt.Decimal=0]="Decimal",Lt[Lt.Group=1]="Group",Lt[Lt.List=2]="List",Lt[Lt.PercentSign=3]="PercentSign",Lt[Lt.PlusSign=4]="PlusSign",Lt[Lt.MinusSign=5]="MinusSign",Lt[Lt.Exponential=6]="Exponential",Lt[Lt.SuperscriptingExponent=7]="SuperscriptingExponent",Lt[Lt.PerMille=8]="PerMille",Lt[Lt.Infinity=9]="Infinity",Lt[Lt.NaN=10]="NaN",Lt[Lt.TimeSeparator=11]="TimeSeparator",Lt[Lt.CurrencyDecimal=12]="CurrencyDecimal",Lt[Lt.CurrencyGroup=13]="CurrencyGroup",Lt))();function Vt(B,ce,X){const Me=(0,t.cg1)(B),Nn=ke([Me[t.wAp.DayPeriodsFormat],Me[t.wAp.DayPeriodsStandalone]],ce);return ke(Nn,X)}function lt(B,ce,X){const Me=(0,t.cg1)(B),Nn=ke([Me[t.wAp.DaysFormat],Me[t.wAp.DaysStandalone]],ce);return ke(Nn,X)}function Je(B,ce,X){const Me=(0,t.cg1)(B),Nn=ke([Me[t.wAp.MonthsFormat],Me[t.wAp.MonthsStandalone]],ce);return ke(Nn,X)}function Qt(B,ce){return ke((0,t.cg1)(B)[t.wAp.DateFormat],ce)}function Bt(B,ce){return ke((0,t.cg1)(B)[t.wAp.TimeFormat],ce)}function hn(B,ce){return ke((0,t.cg1)(B)[t.wAp.DateTimeFormat],ce)}function qe(B,ce){const X=(0,t.cg1)(B),Me=X[t.wAp.NumberSymbols][ce];if(typeof Me>"u"){if(ce===Lt.CurrencyDecimal)return X[t.wAp.NumberSymbols][Lt.Decimal];if(ce===Lt.CurrencyGroup)return X[t.wAp.NumberSymbols][Lt.Group]}return Me}function bi(B){if(!B[t.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${B[t.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ke(B,ce){for(let X=ce;X>-1;X--)if(typeof B[X]<"u")return B[X];throw new Error("Locale data API: locale data undefined")}function Be(B){const[ce,X]=B.split(":");return{hours:+ce,minutes:+X}}const ii=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gi={},$i=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xn=(()=>((Xn=Xn||{})[Xn.Short=0]="Short",Xn[Xn.ShortGMT=1]="ShortGMT",Xn[Xn.Long=2]="Long",Xn[Xn.Extended=3]="Extended",Xn))(),zn=(()=>((zn=zn||{})[zn.FullYear=0]="FullYear",zn[zn.Month=1]="Month",zn[zn.Date=2]="Date",zn[zn.Hours=3]="Hours",zn[zn.Minutes=4]="Minutes",zn[zn.Seconds=5]="Seconds",zn[zn.FractionalSeconds=6]="FractionalSeconds",zn[zn.Day=7]="Day",zn))(),mi=(()=>((mi=mi||{})[mi.DayPeriods=0]="DayPeriods",mi[mi.Days=1]="Days",mi[mi.Months=2]="Months",mi[mi.Eras=3]="Eras",mi))();function Pi(B,ce,X,Me){let Dt=function ge(B){if(rn(B))return B;if("number"==typeof B&&!isNaN(B))return new Date(B);if("string"==typeof B){if(B=B.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(B)){const[Dt,Nn=1,Fn=1]=B.split("-").map(Hi=>+Hi);return Si(Dt,Nn-1,Fn)}const X=parseFloat(B);if(!isNaN(B-X))return new Date(X);let Me;if(Me=B.match(ii))return function It(B){const ce=new Date(0);let X=0,Me=0;const Dt=B[8]?ce.setUTCFullYear:ce.setFullYear,Nn=B[8]?ce.setUTCHours:ce.setHours;B[9]&&(X=Number(B[9]+B[10]),Me=Number(B[9]+B[11])),Dt.call(ce,Number(B[1]),Number(B[2])-1,Number(B[3]));const Fn=Number(B[4]||0)-X,Hi=Number(B[5]||0)-Me,kr=Number(B[6]||0),Fr=Math.floor(1e3*parseFloat("0."+(B[7]||0)));return Nn.call(ce,Fn,Hi,kr,Fr),ce}(Me)}const ce=new Date(B);if(!rn(ce))throw new Error(`Unable to convert "${B}" into a date`);return ce}(B);ce=Ci(X,ce)||ce;let Hi,Fn=[];for(;ce;){if(Hi=$i.exec(ce),!Hi){Fn.push(ce);break}{Fn=Fn.concat(Hi.slice(1));const cr=Fn.pop();if(!cr)break;ce=cr}}let kr=Dt.getTimezoneOffset();Me&&(kr=ye(Me,kr),Dt=function _e(B,ce,X){const Me=X?-1:1,Dt=B.getTimezoneOffset();return function he(B,ce){return(B=new Date(B.getTime())).setMinutes(B.getMinutes()+ce),B}(B,Me*(ye(ce,Dt)-Dt))}(Dt,Me,!0));let Fr="";return Fn.forEach(cr=>{const ar=function wt(B){if(rr[B])return rr[B];let ce;switch(B){case"G":case"GG":case"GGG":ce=Dn(mi.Eras,At.Abbreviated);break;case"GGGG":ce=Dn(mi.Eras,At.Wide);break;case"GGGGG":ce=Dn(mi.Eras,At.Narrow);break;case"y":ce=pn(zn.FullYear,1,0,!1,!0);break;case"yy":ce=pn(zn.FullYear,2,0,!0,!0);break;case"yyy":ce=pn(zn.FullYear,3,0,!1,!0);break;case"yyyy":ce=pn(zn.FullYear,4,0,!1,!0);break;case"Y":ce=xi(1);break;case"YY":ce=xi(2,!0);break;case"YYY":ce=xi(3);break;case"YYYY":ce=xi(4);break;case"M":case"L":ce=pn(zn.Month,1,1);break;case"MM":case"LL":ce=pn(zn.Month,2,1);break;case"MMM":ce=Dn(mi.Months,At.Abbreviated);break;case"MMMM":ce=Dn(mi.Months,At.Wide);break;case"MMMMM":ce=Dn(mi.Months,At.Narrow);break;case"LLL":ce=Dn(mi.Months,At.Abbreviated,Nt.Standalone);break;case"LLLL":ce=Dn(mi.Months,At.Wide,Nt.Standalone);break;case"LLLLL":ce=Dn(mi.Months,At.Narrow,Nt.Standalone);break;case"w":ce=wi(1);break;case"ww":ce=wi(2);break;case"W":ce=wi(1,!0);break;case"d":ce=pn(zn.Date,1);break;case"dd":ce=pn(zn.Date,2);break;case"c":case"cc":ce=pn(zn.Day,1);break;case"ccc":ce=Dn(mi.Days,At.Abbreviated,Nt.Standalone);break;case"cccc":ce=Dn(mi.Days,At.Wide,Nt.Standalone);break;case"ccccc":ce=Dn(mi.Days,At.Narrow,Nt.Standalone);break;case"cccccc":ce=Dn(mi.Days,At.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":ce=Dn(mi.Days,At.Abbreviated);break;case"EEEE":ce=Dn(mi.Days,At.Wide);break;case"EEEEE":ce=Dn(mi.Days,At.Narrow);break;case"EEEEEE":ce=Dn(mi.Days,At.Short);break;case"a":case"aa":case"aaa":ce=Dn(mi.DayPeriods,At.Abbreviated);break;case"aaaa":ce=Dn(mi.DayPeriods,At.Wide);break;case"aaaaa":ce=Dn(mi.DayPeriods,At.Narrow);break;case"b":case"bb":case"bbb":ce=Dn(mi.DayPeriods,At.Abbreviated,Nt.Standalone,!0);break;case"bbbb":ce=Dn(mi.DayPeriods,At.Wide,Nt.Standalone,!0);break;case"bbbbb":ce=Dn(mi.DayPeriods,At.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":ce=Dn(mi.DayPeriods,At.Abbreviated,Nt.Format,!0);break;case"BBBB":ce=Dn(mi.DayPeriods,At.Wide,Nt.Format,!0);break;case"BBBBB":ce=Dn(mi.DayPeriods,At.Narrow,Nt.Format,!0);break;case"h":ce=pn(zn.Hours,1,-12);break;case"hh":ce=pn(zn.Hours,2,-12);break;case"H":ce=pn(zn.Hours,1);break;case"HH":ce=pn(zn.Hours,2);break;case"m":ce=pn(zn.Minutes,1);break;case"mm":ce=pn(zn.Minutes,2);break;case"s":ce=pn(zn.Seconds,1);break;case"ss":ce=pn(zn.Seconds,2);break;case"S":ce=pn(zn.FractionalSeconds,1);break;case"SS":ce=pn(zn.FractionalSeconds,2);break;case"SSS":ce=pn(zn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ce=Ee(Xn.Short);break;case"ZZZZZ":ce=Ee(Xn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ce=Ee(Xn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ce=Ee(Xn.Long);break;default:return null}return rr[B]=ce,ce}(cr);Fr+=ar?ar(Dt,X,kr):"''"===cr?"'":cr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Fr}function Si(B,ce,X){const Me=new Date(0);return Me.setFullYear(B,ce,X),Me.setHours(0,0,0),Me}function Ci(B,ce){const X=function it(B){return(0,t.cg1)(B)[t.wAp.LocaleId]}(B);if(gi[X]=gi[X]||{},gi[X][ce])return gi[X][ce];let Me="";switch(ce){case"shortDate":Me=Qt(B,Pt.Short);break;case"mediumDate":Me=Qt(B,Pt.Medium);break;case"longDate":Me=Qt(B,Pt.Long);break;case"fullDate":Me=Qt(B,Pt.Full);break;case"shortTime":Me=Bt(B,Pt.Short);break;case"mediumTime":Me=Bt(B,Pt.Medium);break;case"longTime":Me=Bt(B,Pt.Long);break;case"fullTime":Me=Bt(B,Pt.Full);break;case"short":const Dt=Ci(B,"shortTime"),Nn=Ci(B,"shortDate");Me=dn(hn(B,Pt.Short),[Dt,Nn]);break;case"medium":const Fn=Ci(B,"mediumTime"),Hi=Ci(B,"mediumDate");Me=dn(hn(B,Pt.Medium),[Fn,Hi]);break;case"long":const kr=Ci(B,"longTime"),Fr=Ci(B,"longDate");Me=dn(hn(B,Pt.Long),[kr,Fr]);break;case"full":const cr=Ci(B,"fullTime"),ar=Ci(B,"fullDate");Me=dn(hn(B,Pt.Full),[cr,ar])}return Me&&(gi[X][ce]=Me),Me}function dn(B,ce){return ce&&(B=B.replace(/\{([^}]+)}/g,function(X,Me){return null!=ce&&Me in ce?ce[Me]:X})),B}function xt(B,ce,X="-",Me,Dt){let Nn="";(B<0||Dt&&B<=0)&&(Dt?B=1-B:(B=-B,Nn=X));let Fn=String(B);for(;Fn.length<ce;)Fn="0"+Fn;return Me&&(Fn=Fn.slice(Fn.length-ce)),Nn+Fn}function pn(B,ce,X=0,Me=!1,Dt=!1){return function(Nn,Fn){let Hi=function Rn(B,ce){switch(B){case zn.FullYear:return ce.getFullYear();case zn.Month:return ce.getMonth();case zn.Date:return ce.getDate();case zn.Hours:return ce.getHours();case zn.Minutes:return ce.getMinutes();case zn.Seconds:return ce.getSeconds();case zn.FractionalSeconds:return ce.getMilliseconds();case zn.Day:return ce.getDay();default:throw new Error(`Unknown DateType value "${B}".`)}}(B,Nn);if((X>0||Hi>-X)&&(Hi+=X),B===zn.Hours)0===Hi&&-12===X&&(Hi=12);else if(B===zn.FractionalSeconds)return function Wt(B,ce){return xt(B,3).substring(0,ce)}(Hi,ce);const kr=qe(Fn,Lt.MinusSign);return xt(Hi,ce,kr,Me,Dt)}}function Dn(B,ce,X=Nt.Format,Me=!1){return function(Dt,Nn){return function mn(B,ce,X,Me,Dt,Nn){switch(X){case mi.Months:return Je(ce,Dt,Me)[B.getMonth()];case mi.Days:return lt(ce,Dt,Me)[B.getDay()];case mi.DayPeriods:const Fn=B.getHours(),Hi=B.getMinutes();if(Nn){const Fr=function Mi(B){const ce=(0,t.cg1)(B);return bi(ce),(ce[t.wAp.ExtraData][2]||[]).map(Me=>"string"==typeof Me?Be(Me):[Be(Me[0]),Be(Me[1])])}(ce),cr=function Kt(B,ce,X){const Me=(0,t.cg1)(B);bi(Me);const Nn=ke([Me[t.wAp.ExtraData][0],Me[t.wAp.ExtraData][1]],ce)||[];return ke(Nn,X)||[]}(ce,Dt,Me),ar=Fr.findIndex(Er=>{if(Array.isArray(Er)){const[Ui,Hr]=Er,va=Fn>=Ui.hours&&Hi>=Ui.minutes,Lr=Fn<Hr.hours||Fn===Hr.hours&&Hi<Hr.minutes;if(Ui.hours<Hr.hours){if(va&&Lr)return!0}else if(va||Lr)return!0}else if(Er.hours===Fn&&Er.minutes===Hi)return!0;return!1});if(-1!==ar)return cr[ar]}return Vt(ce,Dt,Me)[Fn<12?0:1];case mi.Eras:return function rt(B,ce){return ke((0,t.cg1)(B)[t.wAp.Eras],ce)}(ce,Me)[B.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${X}`)}}(Dt,Nn,B,ce,X,Me)}}function Ee(B){return function(ce,X,Me){const Dt=-1*Me,Nn=qe(X,Lt.MinusSign),Fn=Dt>0?Math.floor(Dt/60):Math.ceil(Dt/60);switch(B){case Xn.Short:return(Dt>=0?"+":"")+xt(Fn,2,Nn)+xt(Math.abs(Dt%60),2,Nn);case Xn.ShortGMT:return"GMT"+(Dt>=0?"+":"")+xt(Fn,1,Nn);case Xn.Long:return"GMT"+(Dt>=0?"+":"")+xt(Fn,2,Nn)+":"+xt(Math.abs(Dt%60),2,Nn);case Xn.Extended:return 0===Me?"Z":(Dt>=0?"+":"")+xt(Fn,2,Nn)+":"+xt(Math.abs(Dt%60),2,Nn);default:throw new Error(`Unknown zone width "${B}"`)}}}const we=0,ot=4;function Un(B){return Si(B.getFullYear(),B.getMonth(),B.getDate()+(ot-B.getDay()))}function wi(B,ce=!1){return function(X,Me){let Dt;if(ce){const Nn=new Date(X.getFullYear(),X.getMonth(),1).getDay()-1,Fn=X.getDate();Dt=1+Math.floor((Fn+Nn)/7)}else{const Nn=Un(X),Fn=function on(B){const ce=Si(B,we,1).getDay();return Si(B,0,1+(ce<=ot?ot:ot+7)-ce)}(Nn.getFullYear()),Hi=Nn.getTime()-Fn.getTime();Dt=1+Math.round(Hi/6048e5)}return xt(Dt,B,qe(Me,Lt.MinusSign))}}function xi(B,ce=!1){return function(X,Me){return xt(Un(X).getFullYear(),B,qe(Me,Lt.MinusSign),ce)}}const rr={};function ye(B,ce){B=B.replace(/:/g,"");const X=Date.parse("Jan 01, 1970 00:00:00 "+B)/6e4;return isNaN(X)?ce:X}function rn(B){return B instanceof Date&&!isNaN(B.valueOf())}const xn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,jn=22,_i=".",jt="0",mt=";",et=",",ft="#";function vr(B){const ce=parseInt(B);if(isNaN(ce))throw new Error("Invalid integer literal when parsing "+B);return ce}function Rr(B,ce){ce=encodeURIComponent(ce);for(const X of B.split(";")){const Me=X.indexOf("="),[Dt,Nn]=-1==Me?[X,""]:[X.slice(0,Me),X.slice(Me+1)];if(Dt.trim()===ce)return decodeURIComponent(Nn)}return null}const ns=/\s+/,yi=[];let sr=(()=>{class B{constructor(X,Me,Dt,Nn){this._iterableDiffers=X,this._keyValueDiffers=Me,this._ngEl=Dt,this._renderer=Nn,this.initialClasses=yi,this.stateMap=new Map}set klass(X){this.initialClasses=null!=X?X.trim().split(ns):yi}set ngClass(X){this.rawClass="string"==typeof X?X.trim().split(ns):X}ngDoCheck(){for(const Me of this.initialClasses)this._updateState(Me,!0);const X=this.rawClass;if(Array.isArray(X)||X instanceof Set)for(const Me of X)this._updateState(Me,!0);else if(null!=X)for(const Me of Object.keys(X))this._updateState(Me,Boolean(X[Me]));this._applyStateDiff()}_updateState(X,Me){const Dt=this.stateMap.get(X);void 0!==Dt?(Dt.enabled!==Me&&(Dt.changed=!0,Dt.enabled=Me),Dt.touched=!0):this.stateMap.set(X,{enabled:Me,changed:!0,touched:!0})}_applyStateDiff(){for(const X of this.stateMap){const Me=X[0],Dt=X[1];Dt.changed?(this._toggleClass(Me,Dt.enabled),Dt.changed=!1):Dt.touched||(Dt.enabled&&this._toggleClass(Me,!1),this.stateMap.delete(Me)),Dt.touched=!1}}_toggleClass(X,Me){(X=X.trim()).length>0&&X.split(ns).forEach(Dt=>{Me?this._renderer.addClass(this._ngEl.nativeElement,Dt):this._renderer.removeClass(this._ngEl.nativeElement,Dt)})}}return B.\u0275fac=function(X){return new(X||B)(t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Qsj))},B.\u0275dir=t.lG2({type:B,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),B})();class sn{constructor(ce,X,Me,Dt){this.$implicit=ce,this.ngForOf=X,this.index=Me,this.count=Dt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Q=(()=>{class B{set ngForOf(X){this._ngForOf=X,this._ngForOfDirty=!0}set ngForTrackBy(X){this._trackByFn=X}get ngForTrackBy(){return this._trackByFn}constructor(X,Me,Dt){this._viewContainer=X,this._template=Me,this._differs=Dt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(X){X&&(this._template=X)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const X=this._ngForOf;!this._differ&&X&&(this._differ=this._differs.find(X).create(this.ngForTrackBy))}if(this._differ){const X=this._differ.diff(this._ngForOf);X&&this._applyChanges(X)}}_applyChanges(X){const Me=this._viewContainer;X.forEachOperation((Dt,Nn,Fn)=>{if(null==Dt.previousIndex)Me.createEmbeddedView(this._template,new sn(Dt.item,this._ngForOf,-1,-1),null===Fn?void 0:Fn);else if(null==Fn)Me.remove(null===Nn?void 0:Nn);else if(null!==Nn){const Hi=Me.get(Nn);Me.move(Hi,Fn),de(Hi,Dt)}});for(let Dt=0,Nn=Me.length;Dt<Nn;Dt++){const Hi=Me.get(Dt).context;Hi.index=Dt,Hi.count=Nn,Hi.ngForOf=this._ngForOf}X.forEachIdentityChange(Dt=>{de(Me.get(Dt.currentIndex),Dt)})}static ngTemplateContextGuard(X,Me){return!0}}return B.\u0275fac=function(X){return new(X||B)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4))},B.\u0275dir=t.lG2({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),B})();function de(B,ce){B.context.$implicit=ce.item}let _t=(()=>{class B{constructor(X,Me){this._viewContainer=X,this._context=new Gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Me}set ngIf(X){this._context.$implicit=this._context.ngIf=X,this._updateView()}set ngIfThen(X){Ae("ngIfThen",X),this._thenTemplateRef=X,this._thenViewRef=null,this._updateView()}set ngIfElse(X){Ae("ngIfElse",X),this._elseTemplateRef=X,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(X,Me){return!0}}return B.\u0275fac=function(X){return new(X||B)(t.Y36(t.s_b),t.Y36(t.Rgc))},B.\u0275dir=t.lG2({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),B})();class Gt{constructor(){this.$implicit=null,this.ngIf=null}}function Ae(B,ce){if(ce&&!ce.createEmbeddedView)throw new Error(`${B} must be a TemplateRef, but received '${(0,t.AaK)(ce)}'.`)}let Dr=(()=>{class B{constructor(X,Me,Dt){this._ngEl=X,this._differs=Me,this._renderer=Dt,this._ngStyle=null,this._differ=null}set ngStyle(X){this._ngStyle=X,!this._differ&&X&&(this._differ=this._differs.find(X).create())}ngDoCheck(){if(this._differ){const X=this._differ.diff(this._ngStyle);X&&this._applyChanges(X)}}_setStyle(X,Me){const[Dt,Nn]=X.split("."),Fn=-1===Dt.indexOf("-")?void 0:t.JOm.DashCase;null!=Me?this._renderer.setStyle(this._ngEl.nativeElement,Dt,Nn?`${Me}${Nn}`:Me,Fn):this._renderer.removeStyle(this._ngEl.nativeElement,Dt,Fn)}_applyChanges(X){X.forEachRemovedItem(Me=>this._setStyle(Me.key,null)),X.forEachAddedItem(Me=>this._setStyle(Me.key,Me.currentValue)),X.forEachChangedItem(Me=>this._setStyle(Me.key,Me.currentValue))}}return B.\u0275fac=function(X){return new(X||B)(t.Y36(t.SBq),t.Y36(t.aQg),t.Y36(t.Qsj))},B.\u0275dir=t.lG2({type:B,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),B})(),qs=(()=>{class B{constructor(X){this._viewContainerRef=X,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(X){if(X.ngTemplateOutlet||X.ngTemplateOutletInjector){const Me=this._viewContainerRef;if(this._viewRef&&Me.remove(Me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Dt,ngTemplateOutletContext:Nn,ngTemplateOutletInjector:Fn}=this;this._viewRef=Me.createEmbeddedView(Dt,Nn,Fn?{injector:Fn}:void 0)}else this._viewRef=null}else this._viewRef&&X.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return B.\u0275fac=function(X){return new(X||B)(t.Y36(t.s_b))},B.\u0275dir=t.lG2({type:B,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t.TTD]}),B})();function jr(B,ce){return new t.vHH(2100,!1)}class Rs{createSubscription(ce,X){return ce.subscribe({next:X,error:Me=>{throw Me}})}dispose(ce){ce.unsubscribe()}}class Zs{createSubscription(ce,X){return ce.then(X,Me=>{throw Me})}dispose(ce){}}const Eo=new Zs,po=new Rs;let Xs=(()=>{class B{constructor(X){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=X}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(X){return this._obj?X!==this._obj?(this._dispose(),this.transform(X)):this._latestValue:(X&&this._subscribe(X),this._latestValue)}_subscribe(X){this._obj=X,this._strategy=this._selectStrategy(X),this._subscription=this._strategy.createSubscription(X,Me=>this._updateLatestValue(X,Me))}_selectStrategy(X){if((0,t.QGY)(X))return Eo;if((0,t.F4k)(X))return po;throw jr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(X,Me){X===this._obj&&(this._latestValue=Me,this._ref.markForCheck())}}return B.\u0275fac=function(X){return new(X||B)(t.Y36(t.sBO,16))},B.\u0275pipe=t.Yjl({name:"async",type:B,pure:!1,standalone:!0}),B})(),ko=(()=>{class B{constructor(X){this._locale=X}transform(X,Me,Dt){if(!function ua(B){return!(null==B||""===B||B!=B)}(X))return null;Dt=Dt||this._locale;try{return function Jn(B,ce,X){return function zt(B,ce,X,Me,Dt,Nn,Fn=!1){let Hi="",kr=!1;if(isFinite(B)){let Fr=function Bn(B){let Me,Dt,Nn,Fn,Hi,ce=Math.abs(B)+"",X=0;for((Dt=ce.indexOf(_i))>-1&&(ce=ce.replace(_i,"")),(Nn=ce.search(/e/i))>0?(Dt<0&&(Dt=Nn),Dt+=+ce.slice(Nn+1),ce=ce.substring(0,Nn)):Dt<0&&(Dt=ce.length),Nn=0;ce.charAt(Nn)===jt;Nn++);if(Nn===(Hi=ce.length))Me=[0],Dt=1;else{for(Hi--;ce.charAt(Hi)===jt;)Hi--;for(Dt-=Nn,Me=[],Fn=0;Nn<=Hi;Nn++,Fn++)Me[Fn]=Number(ce.charAt(Nn))}return Dt>jn&&(Me=Me.splice(0,jn-1),X=Dt-1,Dt=1),{digits:Me,exponent:X,integerLen:Dt}}(B);Fn&&(Fr=function yn(B){if(0===B.digits[0])return B;const ce=B.digits.length-B.integerLen;return B.exponent?B.exponent+=2:(0===ce?B.digits.push(0,0):1===ce&&B.digits.push(0),B.integerLen+=2),B}(Fr));let cr=ce.minInt,ar=ce.minFrac,Er=ce.maxFrac;if(Nn){const Is=Nn.match(xn);if(null===Is)throw new Error(`${Nn} is not a valid digit info`);const Ar=Is[1],oc=Is[3],os=Is[5];null!=Ar&&(cr=vr(Ar)),null!=oc&&(ar=vr(oc)),null!=os?Er=vr(os):null!=oc&&ar>Er&&(Er=ar)}!function Ii(B,ce,X){if(ce>X)throw new Error(`The minimum number of digits after fraction (${ce}) is higher than the maximum (${X}).`);let Me=B.digits,Dt=Me.length-B.integerLen;const Nn=Math.min(Math.max(ce,Dt),X);let Fn=Nn+B.integerLen,Hi=Me[Fn];if(Fn>0){Me.splice(Math.max(B.integerLen,Fn));for(let ar=Fn;ar<Me.length;ar++)Me[ar]=0}else{Dt=Math.max(0,Dt),B.integerLen=1,Me.length=Math.max(1,Fn=Nn+1),Me[0]=0;for(let ar=1;ar<Fn;ar++)Me[ar]=0}if(Hi>=5)if(Fn-1<0){for(let ar=0;ar>Fn;ar--)Me.unshift(0),B.integerLen++;Me.unshift(1),B.integerLen++}else Me[Fn-1]++;for(;Dt<Math.max(0,Nn);Dt++)Me.push(0);let kr=0!==Nn;const Fr=ce+B.integerLen,cr=Me.reduceRight(function(ar,Er,Ui,Hr){return Hr[Ui]=(Er+=ar)<10?Er:Er-10,kr&&(0===Hr[Ui]&&Ui>=Fr?Hr.pop():kr=!1),Er>=10?1:0},0);cr&&(Me.unshift(cr),B.integerLen++)}(Fr,ar,Er);let Ui=Fr.digits,Hr=Fr.integerLen;const va=Fr.exponent;let Lr=[];for(kr=Ui.every(Is=>!Is);Hr<cr;Hr++)Ui.unshift(0);for(;Hr<0;Hr++)Ui.unshift(0);Hr>0?Lr=Ui.splice(Hr,Ui.length):(Lr=Ui,Ui=[0]);const nr=[];for(Ui.length>=ce.lgSize&&nr.unshift(Ui.splice(-ce.lgSize,Ui.length).join(""));Ui.length>ce.gSize;)nr.unshift(Ui.splice(-ce.gSize,Ui.length).join(""));Ui.length&&nr.unshift(Ui.join("")),Hi=nr.join(qe(X,Me)),Lr.length&&(Hi+=qe(X,Dt)+Lr.join("")),va&&(Hi+=qe(X,Lt.Exponential)+"+"+va)}else Hi=qe(X,Lt.Infinity);return Hi=B<0&&!kr?ce.negPre+Hi+ce.negSuf:ce.posPre+Hi+ce.posSuf,Hi}(B,function Ot(B,ce="-"){const X={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Me=B.split(mt),Dt=Me[0],Nn=Me[1],Fn=-1!==Dt.indexOf(_i)?Dt.split(_i):[Dt.substring(0,Dt.lastIndexOf(jt)+1),Dt.substring(Dt.lastIndexOf(jt)+1)],Hi=Fn[0],kr=Fn[1]||"";X.posPre=Hi.substring(0,Hi.indexOf(ft));for(let cr=0;cr<kr.length;cr++){const ar=kr.charAt(cr);ar===jt?X.minFrac=X.maxFrac=cr+1:ar===ft?X.maxFrac=cr+1:X.posSuf+=ar}const Fr=Hi.split(et);if(X.gSize=Fr[1]?Fr[1].length:0,X.lgSize=Fr[2]||Fr[1]?(Fr[2]||Fr[1]).length:0,Nn){const cr=Dt.length-X.posPre.length-X.posSuf.length,ar=Nn.indexOf(ft);X.negPre=Nn.substring(0,ar).replace(/'/g,""),X.negSuf=Nn.slice(ar+cr).replace(/'/g,"")}else X.negPre=ce+X.posPre,X.negSuf=X.posSuf;return X}(function cn(B,ce){return(0,t.cg1)(B)[t.wAp.NumberFormats][ce]}(ce,nt.Percent),qe(ce,Lt.MinusSign)),ce,Lt.Group,Lt.Decimal,X,!0).replace(new RegExp("%","g"),qe(ce,Lt.PercentSign))}(function mo(B){if("string"==typeof B&&!isNaN(Number(B)-parseFloat(B)))return Number(B);if("number"!=typeof B)throw new Error(`${B} is not a number`);return B}(X),Dt,Me)}catch(Nn){throw jr()}}}return B.\u0275fac=function(X){return new(X||B)(t.Y36(t.soG,16))},B.\u0275pipe=t.Yjl({name:"percent",type:B,pure:!0,standalone:!0}),B})();let da=(()=>{class B{}return B.\u0275fac=function(X){return new(X||B)},B.\u0275mod=t.oAB({type:B}),B.\u0275inj=t.cJS({}),B})();const eo="browser",ha="server";function Sl(B){return B===eo}function nl(B){return B===ha}let pa=(()=>{class B{}return B.\u0275prov=(0,t.Yz7)({token:B,providedIn:"root",factory:()=>new gr((0,t.LFG)(ct),window)}),B})();class gr{constructor(ce,X){this.document=ce,this.window=X,this.offset=()=>[0,0]}setOffset(ce){this.offset=Array.isArray(ce)?()=>ce:ce}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ce){this.supportsScrolling()&&this.window.scrollTo(ce[0],ce[1])}scrollToAnchor(ce){if(!this.supportsScrolling())return;const X=function Bs(B,ce){const X=B.getElementById(ce)||B.getElementsByName(ce)[0];if(X)return X;if("function"==typeof B.createTreeWalker&&B.body&&(B.body.createShadowRoot||B.body.attachShadow)){const Me=B.createTreeWalker(B.body,NodeFilter.SHOW_ELEMENT);let Dt=Me.currentNode;for(;Dt;){const Nn=Dt.shadowRoot;if(Nn){const Fn=Nn.getElementById(ce)||Nn.querySelector(`[name="${ce}"]`);if(Fn)return Fn}Dt=Me.nextNode()}}return null}(this.document,ce);X&&(this.scrollToElement(X),X.focus())}setHistoryScrollRestoration(ce){if(this.supportScrollRestoration()){const X=this.window.history;X&&X.scrollRestoration&&(X.scrollRestoration=ce)}}scrollToElement(ce){const X=ce.getBoundingClientRect(),Me=X.left+this.window.pageXOffset,Dt=X.top+this.window.pageYOffset,Nn=this.offset();this.window.scrollTo(Me-Nn[0],Dt-Nn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ce=wo(this.window.history)||wo(Object.getPrototypeOf(this.window.history));return!(!ce||!ce.writable&&!ce.set)}catch(ce){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ce){return!1}}}function wo(B){return Object.getOwnPropertyDescriptor(B,"scrollRestoration")}class rs{}},4650:(ei,Jt,U)=>{"use strict";U.d(Jt,{$8M:()=>dc,$WT:()=>Jr,$Z:()=>ap,AFp:()=>O0,ALo:()=>Zy,AaK:()=>Fe,AsE:()=>Bm,BQk:()=>Di,CHM:()=>Y,CRH:()=>l0,CZH:()=>W_,CqO:()=>xr,D6c:()=>AC,DdM:()=>Vy,EJc:()=>jE,EpF:()=>bn,F$t:()=>_d,F4k:()=>fr,FYo:()=>qu,FiY:()=>So,G48:()=>uC,Gf:()=>o0,GfV:()=>Zu,GkF:()=>$n,Gpc:()=>xe,Hsn:()=>Ru,IIB:()=>$E,Ikx:()=>Vm,IyS:()=>w_,JOm:()=>Ys,KtG:()=>Oe,LFG:()=>we,LMc:()=>xC,LSH:()=>lf,Lbi:()=>UE,Lck:()=>Bb,MAs:()=>an,MGl:()=>Ua,MMx:()=>Pv,MT6:()=>C_,NdJ:()=>Vn,OlP:()=>Mr,Oqu:()=>cg,P3R:()=>bh,PXZ:()=>rC,Q6J:()=>nn,QGY:()=>Yn,Qsj:()=>df,QtT:()=>My,R0b:()=>Ud,RDi:()=>hh,Rgc:()=>Ym,SBq:()=>Il,SDv:()=>Ay,Sil:()=>zE,Suo:()=>a0,TTD:()=>to,TgZ:()=>ri,Tol:()=>km,Udp:()=>Pm,VKq:()=>Hy,W1O:()=>h0,WLB:()=>jy,X6Q:()=>cC,XFs:()=>Mt,Xpm:()=>zt,Xts:()=>c,Y36:()=>ed,YKP:()=>Ry,YNc:()=>tt,Yjl:()=>vr,Yz7:()=>qe,Z0I:()=>Ln,ZZ4:()=>oy,_Bn:()=>Oy,_UZ:()=>fi,_Vd:()=>Fl,_c5:()=>DC,_uU:()=>$m,aQg:()=>ay,c2e:()=>VE,cJS:()=>Tn,cg1:()=>Hm,dDg:()=>eC,dqk:()=>Xn,eFA:()=>G0,eJc:()=>Gv,ekj:()=>lh,eoX:()=>V0,f3M:()=>on,g9A:()=>N0,h0i:()=>rm,hGG:()=>SC,hij:()=>Gh,i9L:()=>Fc,iGM:()=>s0,ifc:()=>rn,ip1:()=>x0,jDz:()=>Py,kEZ:()=>Gy,kL8:()=>R_,kYT:()=>yn,lG2:()=>Ii,lcZ:()=>Xy,lqb:()=>vs,lri:()=>B0,n5z:()=>qa,oAB:()=>Ot,oJD:()=>Ap,oxw:()=>md,pQV:()=>Av,q4F:()=>ff,qLn:()=>Xl,qOj:()=>Lf,qZA:()=>hi,rWj:()=>U0,r_U:()=>BE,s9C:()=>ro,sBO:()=>dC,s_b:()=>j_,soG:()=>Y_,tBr:()=>Pr,tb:()=>P0,tp0:()=>Hs,uIk:()=>bp,vHH:()=>be,vpe:()=>Zh,wAp:()=>Br,xi3:()=>Jy,xp6:()=>mg,ynx:()=>er,z2F:()=>K_,zSh:()=>fo,zs3:()=>uu});var t=U(7579),Z=U(727),ie=U(9751),oe=U(6451),ze=U(3099);function ct(i){for(let r in i)if(i[r]===ct)return r;throw Error("Could not find renamed property on target object.")}function $e(i,r){for(const a in r)r.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=r[a])}function Fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const r=i.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function vt(i,r){return null==i||""===i?null===r?"":r:null==r||""===r?i:i+" "+r}const Pe=ct({__forward_ref__:ct});function xe(i){return i.__forward_ref__=xe,i.toString=function(){return Fe(this())},i}function Ue(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty(Pe)&&i.__forward_ref__===xe}function pt(i){return i&&!!i.\u0275providers}const kt="https://g.co/ng/security#xss";class be extends Error{constructor(r,a){super(Ge(r,a)),this.code=r}}function Ge(i,r){return`NG0${Math.abs(i)}${r?": "+r.trim():""}`}function yt(i){return"string"==typeof i?i:null==i?"":String(i)}function ut(i,r){throw new be(-201,!1)}function $t(i,r,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${r} <=Actual]`))}function qe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Tn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Hn(i){return si(i,Kt)||si(i,ke)}function Ln(i){return null!==Hn(i)}function si(i,r){return i.hasOwnProperty(r)?i[r]:null}function Mi(i){return i&&(i.hasOwnProperty(Ye)||i.hasOwnProperty(Be))?i[Ye]:null}const Kt=ct({\u0275prov:ct}),Ye=ct({\u0275inj:ct}),ke=ct({ngInjectableDef:ct}),Be=ct({ngInjectorDef:ct});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let vn;function ii(i){const r=vn;return vn=i,r}function gi(i,r,a){const u=Hn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Mt.Optional?null:void 0!==r?r:void ut(Fe(i))}const Xn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Si={},Ci="__NG_DI_FLAG__",dn="ngTempTokenPath",xt="ngTokenPath",Wt=/\n/gm,pn="\u0275",Rn="__source";let Dn;function mn(i){const r=Dn;return Dn=i,r}function Ee(i,r=Mt.Default){if(void 0===Dn)throw new be(-203,!1);return null===Dn?gi(i,void 0,r):Dn.get(i,r&Mt.Optional?null:void 0,r)}function we(i,r=Mt.Default){return(function qn(){return vn}()||Ee)(Ue(i),r)}function on(i,r=Mt.Default){return we(i,Un(r))}function Un(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function wi(i){const r=[];for(let a=0;a<i.length;a++){const u=Ue(i[a]);if(Array.isArray(u)){if(0===u.length)throw new be(900,!1);let m,E=Mt.Default;for(let O=0;O<u.length;O++){const j=u[O],q=rr(j);"number"==typeof q?-1===q?m=j.token:E|=q:m=j}r.push(we(m,E))}else r.push(we(u))}return r}function xi(i,r){return i[Ci]=r,i.prototype[Ci]=r,i}function rr(i){return i[Ci]}function he(i){return{toString:i}.toString()}var _e=(()=>((_e=_e||{})[_e.OnPush=0]="OnPush",_e[_e.Default=1]="Default",_e))(),rn=(()=>{return(i=rn||(rn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",rn;var i})();const xn={},jn=[],_i=ct({\u0275cmp:ct}),jt=ct({\u0275dir:ct}),mt=ct({\u0275pipe:ct}),et=ct({\u0275mod:ct}),ft=ct({\u0275fac:ct}),qt=ct({__NG_ELEMENT_ID__:ct});let We=0;function zt(i){return he(()=>{const a=!0===i.standalone,u={},m={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||jn,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||rn.Emulated,id:"c"+We++,styles:i.styles||jn,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},E=i.dependencies,O=i.features;return m.inputs=Bn(i.inputs,u),m.outputs=Bn(i.outputs),O&&O.forEach(j=>j(m)),m.directiveDefs=E?()=>("function"==typeof E?E():E).map(Jn).filter(oi):null,m.pipeDefs=E?()=>("function"==typeof E?E():E).map(Ir).filter(oi):null,m})}function Jn(i){return vi(i)||Ni(i)}function oi(i){return null!==i}function Ot(i){return he(()=>({type:i.type,bootstrap:i.bootstrap||jn,declarations:i.declarations||jn,imports:i.imports||jn,exports:i.exports||jn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function yn(i,r){return he(()=>{const a=Rr(i,!0);a.declarations=r.declarations||jn,a.imports=r.imports||jn,a.exports=r.exports||jn})}function Bn(i,r){if(null==i)return xn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let m=i[u],E=m;Array.isArray(m)&&(E=m[1],m=m[0]),a[m]=u,r&&(r[m]=E)}return a}const Ii=zt;function vr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function vi(i){return i[_i]||null}function Ni(i){return i[jt]||null}function Ir(i){return i[mt]||null}function Jr(i){const r=vi(i)||Ni(i)||Ir(i);return null!==r&&r.standalone}function Rr(i,r){const a=i[et]||null;if(!a&&!0===r)throw new Error(`Type ${Fe(i)} does not have '\u0275mod' property.`);return a}const ns=0,yi=1,sr=2,Wi=3,or=4,Xi=5,sn=6,Q=7,de=8,Ze=9,_t=10,Gt=11,Ae=12,bt=13,Xt=14,Sn=15,On=16,li=17,Bi=18,Gi=19,Dr=20,qs=21,Sr=22,Rs=1,Zs=2,Eo=7,po=8,Xs=9,Ms=10;function Ts(i){return Array.isArray(i)&&"object"==typeof i[Rs]}function dr(i){return Array.isArray(i)&&!0===i[Rs]}function Js(i){return 0!=(4&i.flags)}function Ns(i){return i.componentOffset>-1}function js(i){return 1==(1&i.flags)}function Ur(i){return null!==i.template}function Ca(i){return 0!=(256&i[sr])}function oo(i,r){return i.hasOwnProperty(ft)?i[ft]:null}class wa{constructor(r,a,u){this.previousValue=r,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function to(){return pa}function pa(i){return i.type.prototype.ngOnChanges&&(i.setInput=wo),gr}function gr(){const i=Cc(this),r=null==i?void 0:i.current;if(r){const a=i.previous;if(a===xn)i.previous=r;else for(let u in r)a[u]=r[u];i.current=null,this.ngOnChanges(r)}}function wo(i,r,a,u){const m=this.declaredInputs[a],E=Cc(i)||function rs(i,r){return i[Bs]=r}(i,{previous:xn,current:null}),O=E.current||(E.current={}),j=E.previous,q=j[m];O[m]=new wa(q&&q.currentValue,r,j===xn),i[u]=r}to.ngInherit=!0;const Bs="__ngSimpleChanges__";function Cc(i){return i[Bs]||null}const Us=function(i,r,a){};function Qr(i){for(;Array.isArray(i);)i=i[ns];return i}function Ps(i,r){return Qr(r[i])}function ds(i,r){return Qr(r[i.index])}function tc(i,r){return i.data[r]}function zr(i,r){return i[r]}function Gs(i,r){const a=r[i];return Ts(a)?a:a[ns]}function ul(i){return 64==(64&i[sr])}function x(i,r){return null==r?null:i[r]}function re(i){i[Bi]=0}function M(i,r){i[Xi]+=r;let a=i,u=i[Wi];for(;null!==u&&(1===r&&1===a[Xi]||-1===r&&0===a[Xi]);)u[Xi]+=r,a=u,u=u[Wi]}const J={lFrame:Ul(null),bindingsEnabled:!0};function Nr(){return J.bindingsEnabled}function W(){return J.lFrame.lView}function K(){return J.lFrame.tView}function Y(i){return J.lFrame.contextLView=i,i[de]}function Oe(i){return J.lFrame.contextLView=null,i}function _n(){let i=zi();for(;null!==i&&64===i.type;)i=i.parent;return i}function zi(){return J.lFrame.currentTNode}function br(){const i=J.lFrame,r=i.currentTNode;return i.isParent?r:r.parent}function hs(i,r){const a=J.lFrame;a.currentTNode=i,a.isParent=r}function Io(){return J.lFrame.isParent}function ea(){J.lFrame.isParent=!1}function zs(){const i=J.lFrame;let r=i.bindingRootIndex;return-1===r&&(r=i.bindingRootIndex=i.tView.bindingStartIndex),r}function cs(){return J.lFrame.bindingIndex}function ja(){return J.lFrame.bindingIndex++}function Vo(i){const r=J.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+i,a}function ma(i){J.lFrame.inI18n=i}function Ws(i,r){const a=J.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ga(r)}function Ga(i){J.lFrame.currentDirectiveIndex=i}function Da(){return J.lFrame.currentQueryIndex}function rc(i){J.lFrame.currentQueryIndex=i}function Kc(i){const r=i[yi];return 2===r.type?r.declTNode:1===r.type?i[sn]:null}function fs(i,r,a){if(a&Mt.SkipSelf){let m=r,E=i;for(;!(m=m.parent,null!==m||a&Mt.Host||(m=Kc(E),null===m||(E=E[Sn],10&m.type))););if(null===m)return!1;r=m,i=E}const u=J.lFrame=sc();return u.currentTNode=r,u.lView=i,!0}function Ho(i){const r=sc(),a=i[yi];J.lFrame=r,r.currentTNode=a.firstChild,r.lView=i,r.tView=a,r.contextLView=i,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function sc(){const i=J.lFrame,r=null===i?null:i.child;return null===r?Ul(i):r}function Ul(i){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=r),r}function Vl(){const i=J.lFrame;return J.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const qc=Vl;function za(){const i=Vl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ks(){return J.lFrame.selectedIndex}function _o(i){J.lFrame.selectedIndex=i}function us(){const i=J.lFrame;return tc(i.tView,i.selectedIndex)}function Ml(i,r){for(let a=r.directiveStart,u=r.directiveEnd;a<u;a++){const E=i.data[a].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:j,ngAfterViewInit:q,ngAfterViewChecked:fe,ngOnDestroy:Ne}=E;O&&(i.contentHooks||(i.contentHooks=[])).push(-a,O),j&&((i.contentHooks||(i.contentHooks=[])).push(a,j),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,j)),q&&(i.viewHooks||(i.viewHooks=[])).push(-a,q),fe&&((i.viewHooks||(i.viewHooks=[])).push(a,fe),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,fe)),null!=Ne&&(i.destroyHooks||(i.destroyHooks=[])).push(a,Ne)}}function Fi(i,r,a){ce(i,r,3,a)}function An(i,r,a,u){(3&i[sr])===a&&ce(i,r,a,u)}function B(i,r){let a=i[sr];(3&a)===r&&(a&=2047,a+=1,i[sr]=a)}function ce(i,r,a,u){const E=null!=u?u:-1,O=r.length-1;let j=0;for(let q=void 0!==u?65535&i[Bi]:0;q<O;q++)if("number"==typeof r[q+1]){if(j=r[q],null!=u&&j>=u)break}else r[q]<0&&(i[Bi]+=65536),(j<E||-1==E)&&(X(i,a,r,q),i[Bi]=(4294901760&i[Bi])+q+2),q++}function X(i,r,a,u){const m=a[u]<0,E=a[u+1],j=i[m?-a[u]:a[u]];if(m){if(i[sr]>>11<i[Bi]>>16&&(3&i[sr])===r){i[sr]+=2048,Us(4,j,E);try{E.call(j)}finally{Us(5,j,E)}}}else{Us(4,j,E);try{E.call(j)}finally{Us(5,j,E)}}}const Me=-1;class Dt{constructor(r,a,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Ui(i,r,a){let u=0;for(;u<a.length;){const m=a[u];if("number"==typeof m){if(0!==m)break;u++;const E=a[u++],O=a[u++],j=a[u++];i.setAttribute(r,O,j,E)}else{const E=m,O=a[++u];va(E)?i.setProperty(r,E,O):i.setAttribute(r,E,O),u++}}return u}function Hr(i){return 3===i||4===i||6===i}function va(i){return 64===i.charCodeAt(0)}function Lr(i,r){if(null!==r&&0!==r.length)if(null===i||0===i.length)i=r.slice();else{let a=-1;for(let u=0;u<r.length;u++){const m=r[u];"number"==typeof m?a=m:0===a||nr(i,a,m,null,-1===a||2===a?r[++u]:null)}}return i}function nr(i,r,a,u,m){let E=0,O=i.length;if(-1===r)O=-1;else for(;E<i.length;){const j=i[E++];if("number"==typeof j){if(j===r){O=-1;break}if(j>r){O=E-1;break}}}for(;E<i.length;){const j=i[E];if("number"==typeof j)break;if(j===a){if(null===u)return void(null!==m&&(i[E+1]=m));if(u===i[E+1])return void(i[E+2]=m)}E++,null!==u&&E++,null!==m&&E++}-1!==O&&(i.splice(O,0,r),E=O+1),i.splice(E++,0,a),null!==u&&i.splice(E++,0,u),null!==m&&i.splice(E++,0,m)}function Is(i){return i!==Me}function Ar(i){return 32767&i}function os(i,r){let a=function oc(i){return i>>16}(i),u=r;for(;a>0;)u=u[Sn],a--;return u}let ki=!0;function Aa(i){const r=ki;return ki=i,r}const Ma=255,co=5;let ac=0;const Wa={};function xa(i,r){const a=Oa(i,r);if(-1!==a)return a;const u=r[yi];u.firstCreatePass&&(i.injectorIndex=r.length,Xc(u.data,i),Xc(r,null),Xc(u.blueprint,null));const m=wc(i,r),E=i.injectorIndex;if(Is(m)){const O=Ar(m),j=os(m,r),q=j[yi].data;for(let fe=0;fe<8;fe++)r[E+fe]=j[O+fe]|q[O+fe]}return r[E+8]=m,E}function Xc(i,r){i.push(0,0,0,0,0,0,0,0,r)}function Oa(i,r){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===r[i.injectorIndex+8]?-1:i.injectorIndex}function wc(i,r){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,m=r;for(;null!==m;){if(u=jl(m),null===u)return Me;if(a++,m=m[Sn],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return Me}function hu(i,r,a){!function lc(i,r,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(qt)&&(u=a[qt]),null==u&&(u=a[qt]=ac++);const m=u&Ma;r.data[i+(m>>co)]|=1<<m}(i,r,a)}function hl(i,r,a){if(a&Mt.Optional||void 0!==i)return i;ut()}function cc(i,r,a,u){if(a&Mt.Optional&&void 0===u&&(u=null),!(a&(Mt.Self|Mt.Host))){const m=i[Ze],E=ii(void 0);try{return m?m.get(r,u,a&Mt.Optional):gi(r,u,a&Mt.Optional)}finally{ii(E)}}return hl(u,0,a)}function Mn(i,r,a,u=Mt.Default,m){if(null!==i){if(1024&r[sr]){const O=function Ra(i,r,a,u,m){let E=i,O=r;for(;null!==E&&null!==O&&1024&O[sr]&&!(256&O[sr]);){const j=xl(E,O,a,u|Mt.Self,Wa);if(j!==Wa)return j;let q=E.parent;if(!q){const fe=O[qs];if(fe){const Ne=fe.get(a,Wa,u);if(Ne!==Wa)return Ne}q=jl(O),O=O[Sn]}E=q}return m}(i,r,a,u,Wa);if(O!==Wa)return O}const E=xl(i,r,a,u,Wa);if(E!==Wa)return E}return cc(r,a,u,m)}function xl(i,r,a,u,m){const E=function fl(i){if("string"==typeof i)return i.charCodeAt(0)||0;const r=i.hasOwnProperty(qt)?i[qt]:void 0;return"number"==typeof r?r>=0?r&Ma:fu:r}(a);if("function"==typeof E){if(!fs(r,i,u))return u&Mt.Host?hl(m,0,u):cc(r,a,u,m);try{const O=E(u);if(null!=O||u&Mt.Optional)return O;ut()}finally{qc()}}else if("number"==typeof E){let O=null,j=Oa(i,r),q=Me,fe=u&Mt.Host?r[On][sn]:null;for((-1===j||u&Mt.SkipSelf)&&(q=-1===j?wc(i,r):r[j+8],q!==Me&&Ka(u,!1)?(O=r[yi],j=Ar(q),r=os(q,r)):j=-1);-1!==j;){const Ne=r[yi];if(Pc(E,j,Ne.data)){const Tt=rl(j,r,a,O,u,fe);if(Tt!==Wa)return Tt}q=r[j+8],q!==Me&&Ka(u,r[yi].data[j+8]===fe)&&Pc(E,j,r)?(O=Ne,j=Ar(q),r=os(q,r)):j=-1}}return m}function rl(i,r,a,u,m,E){const O=r[yi],j=O.data[i+8],Ne=Nc(j,O,a,null==u?Ns(j)&&ki:u!=O&&0!=(3&j.type),m&Mt.Host&&E===j);return null!==Ne?Ya(r,O,Ne,j):Wa}function Nc(i,r,a,u,m){const E=i.providerIndexes,O=r.data,j=1048575&E,q=i.directiveStart,Ne=E>>20,fn=m?j+Ne:i.directiveEnd;for(let In=u?j:j+Ne;In<fn;In++){const ui=O[In];if(In<q&&a===ui||In>=q&&ui.type===a)return In}if(m){const In=O[q];if(In&&Ur(In)&&In.type===a)return q}return null}function Ya(i,r,a,u){let m=i[a];const E=r.data;if(function Nn(i){return i instanceof Dt}(m)){const O=m;O.resolving&&function Ve(i,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${i}`:"";throw new be(-200,`Circular dependency in DI detected for ${i}${a}`)}(function at(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():yt(i)}(E[a]));const j=Aa(O.canSeeViewProviders);O.resolving=!0;const q=O.injectImpl?ii(O.injectImpl):null;fs(i,u,Mt.Default);try{m=i[a]=O.factory(void 0,E,i,u),r.firstCreatePass&&a>=u.directiveStart&&function tr(i,r,a){const{ngOnChanges:u,ngOnInit:m,ngDoCheck:E}=r.type.prototype;if(u){const O=pa(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,O),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,O)}m&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,m),E&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,E),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,E))}(a,E[a],r)}finally{null!==q&&ii(q),Aa(j),O.resolving=!1,qc()}}return m}function Pc(i,r,a){return!!(a[r+(i>>co)]&1<<i)}function Ka(i,r){return!(i&Mt.Self||i&Mt.Host&&r)}class Fs{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,u){return Mn(this._tNode,this._lView,r,Un(u),a)}}function fu(){return new Fs(_n(),W())}function qa(i){return he(()=>{const r=i.prototype.constructor,a=r[ft]||uc(r),u=Object.prototype;let m=Object.getPrototypeOf(i.prototype).constructor;for(;m&&m!==u;){const E=m[ft]||uc(m);if(E&&E!==a)return E;m=Object.getPrototypeOf(m)}return E=>new E})}function uc(i){return je(i)?()=>{const r=uc(Ue(i));return r&&r()}:oo(i)}function jl(i){const r=i[yi],a=r.type;return 2===a?r.declTNode:1===a?i[sn]:null}function dc(i){return function jo(i,r){if("class"===r)return i.classes;if("style"===r)return i.styles;const a=i.attrs;if(a){const u=a.length;let m=0;for(;m<u;){const E=a[m];if(Hr(E))break;if(0===E)m+=2;else if("number"==typeof E)for(m++;m<u&&"string"==typeof a[m];)m++;else{if(E===r)return a[m+1];m+=2}}}return null}(_n(),i)}const kc="__parameters__",Na="__prop__metadata__";function Pa(i){return function(...a){if(i){const u=i(...a);for(const m in u)this[m]=u[m]}}}function pl(i,r,a){return he(()=>{const u=Pa(r);function m(...E){if(this instanceof m)return u.apply(this,E),this;const O=new m(...E);return j.annotation=O,j;function j(q,fe,Ne){const Tt=q.hasOwnProperty(kc)?q[kc]:Object.defineProperty(q,kc,{value:[]})[kc];for(;Tt.length<=Ne;)Tt.push(null);return(Tt[Ne]=Tt[Ne]||[]).push(O),q}}return a&&(m.prototype=Object.create(a.prototype)),m.prototype.ngMetadataName=i,m.annotationCls=m,m})}function hc(i,r,a,u){return he(()=>{const m=Pa(r);function E(...O){if(this instanceof E)return m.apply(this,O),this;const j=new E(...O);return function q(fe,Ne){const Tt=fe.constructor,fn=Tt.hasOwnProperty(Na)?Tt[Na]:Object.defineProperty(Tt,Na,{value:{}})[Na];fn[Ne]=fn.hasOwnProperty(Ne)&&fn[Ne]||[],fn[Ne].unshift(j),u&&u(fe,Ne,...O)}}return a&&(E.prototype=Object.create(a.prototype)),E.prototype.ngMetadataName=i,E.annotationCls=E,E})}class Mr{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qe({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class Fo{}const Fc=hc("ViewChild",(i,r)=>({selector:i,first:!0,isViewQuery:!0,descendants:!0,...r}),Fo);function Do(i,r){i.forEach(a=>Array.isArray(a)?Do(a,r):r(a))}function Rl(i,r,a){r>=i.length?i.push(a):i.splice(r,0,a)}function ia(i,r){return r>=i.length-1?i.pop():i.splice(r,1)[0]}function Xa(i,r){const a=[];for(let u=0;u<i;u++)a.push(r);return a}function ne(i,r,a){let u=Re(i,r);return u>=0?i[1|u]=a:(u=~u,function S(i,r,a,u){let m=i.length;if(m==r)i.push(a,u);else if(1===m)i.push(u,i[0]),i[0]=a;else{for(m--,i.push(i[m-1],i[m]);m>r;)i[m]=i[m-2],m--;i[r]=a,i[r+1]=u}}(i,u,r,a)),u}function Se(i,r){const a=Re(i,r);if(a>=0)return i[1|a]}function Re(i,r){return function kn(i,r,a){let u=0,m=i.length>>a;for(;m!==u;){const E=u+(m-u>>1),O=i[E<<a];if(r===O)return E<<a;O>r?m=E:u=E+1}return~(m<<a)}(i,r,1)}const Pr=xi(pl("Inject",i=>({token:i})),-1),So=xi(pl("Optional"),8),Hs=xi(pl("SkipSelf"),4);var Ys=(()=>((Ys=Ys||{})[Ys.Important=1]="Important",Ys[Ys.DashCase=2]="DashCase",Ys))();const Uc=/^>|^->|<!--|-->|--!>|<!-$/g,vu=/(<|>)/,zo="\u200b$1\u200b";const Mc=new Map;let _c=0;const Pl="__ngContext__";function ls(i,r){Ts(r)?(i[Pl]=r[Dr],function Uu(i){Mc.set(i[Dr],i)}(r)):i[Pl]=r}let gn;function ci(i,r){return gn(i,r)}function hr(i){const r=i[Wi];return dr(r)?r[Wi]:r}function yl(i){return kl(i[bt])}function bl(i){return kl(i[or])}function kl(i){for(;null!==i&&!dr(i);)i=i[or];return i}function La(i,r,a,u,m){if(null!=u){let E,O=!1;dr(u)?E=u:Ts(u)&&(O=!0,u=u[ns]);const j=Qr(u);0===i&&null!==a?null==m?ju(r,a,j):$a(r,a,j,m||null,!0):1===i&&null!==a?$a(r,a,j,m||null,!0):2===i?Wu(r,j,O):3===i&&r.destroyNode(j),null!=E&&function dh(i,r,a,u,m){const E=a[Eo];E!==Qr(a)&&La(r,i,u,E,m);for(let j=Ms;j<a.length;j++){const q=a[j];bu(q[yi],q,i,r,u,E)}}(r,i,E,a,m)}}function Wo(i,r){return i.createText(r)}function ya(i,r,a){i.setValue(r,a)}function yc(i,r){return i.createComment(function Ss(i){return i.replace(Uc,r=>r.replace(vu,zo))}(r))}function El(i,r,a){return i.createElement(r,a)}function sl(i,r){const a=i[Xs],u=a.indexOf(r),m=r[Wi];512&r[sr]&&(r[sr]&=-513,M(m,-1)),a.splice(u,1)}function ad(i,r){if(i.length<=Ms)return;const a=Ms+r,u=i[a];if(u){const m=u[li];null!==m&&m!==i&&sl(m,u),r>0&&(i[a-1][or]=u[or]);const E=ia(i,Ms+r);!function Ja(i,r){bu(i,r,r[Gt],2,null,null),r[ns]=null,r[sn]=null}(u[yi],u);const O=E[Gi];null!==O&&O.detachView(E[yi]),u[Wi]=null,u[or]=null,u[sr]&=-65}return u}function xo(i,r){if(!(128&r[sr])){const a=r[Gt];a.destroyNode&&bu(i,r,a,3,null,null),function is(i){let r=i[bt];if(!r)return wd(i[yi],i);for(;r;){let a=null;if(Ts(r))a=r[bt];else{const u=r[Ms];u&&(a=u)}if(!a){for(;r&&!r[or]&&r!==i;)Ts(r)&&wd(r[yi],r),r=r[Wi];null===r&&(r=i),Ts(r)&&wd(r[yi],r),a=r&&r[or]}r=a}}(r)}}function wd(i,r){if(!(128&r[sr])){r[sr]&=-65,r[sr]|=128,function ru(i,r){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const m=r[a[u]];if(!(m instanceof Dt)){const E=a[u+1];if(Array.isArray(E))for(let O=0;O<E.length;O+=2){const j=m[E[O]],q=E[O+1];Us(4,j,q);try{q.call(j)}finally{Us(5,j,q)}}else{Us(4,m,E);try{E.call(m)}finally{Us(5,m,E)}}}}}(i,r),function Hu(i,r){const a=i.cleanup,u=r[Q];let m=-1;if(null!==a)for(let E=0;E<a.length-1;E+=2)if("string"==typeof a[E]){const O=a[E+3];O>=0?u[m=O]():u[m=-O].unsubscribe(),E+=2}else{const O=u[m=a[E+1]];a[E].call(O)}if(null!==u){for(let E=m+1;E<u.length;E++)(0,u[E])();r[Q]=null}}(i,r),1===r[yi].type&&r[Gt].destroy();const a=r[li];if(null!==a&&dr(r[Wi])){a!==r[Wi]&&sl(a,r);const u=r[Gi];null!==u&&u.detachView(i)}!function Vc(i){Mc.delete(i[Dr])}(r)}}function xc(i,r,a){return su(i,r.parent,a)}function su(i,r,a){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return a[ns];{const{componentOffset:m}=u;if(m>-1){const{encapsulation:E}=i.data[u.directiveStart+m];if(E===rn.None||E===rn.Emulated)return null}return ds(u,a)}}function $a(i,r,a,u,m){i.insertBefore(r,a,u,m)}function ju(i,r,a){i.appendChild(r,a)}function ou(i,r,a,u,m){null!==u?$a(i,r,a,u,m):ju(i,r,a)}function Cl(i,r){return i.parentNode(r)}function zu(i,r,a){return Td(i,r,a)}function oa(i,r,a){return 40&i.type?ds(i,a):null}let ld,wl,hd,Iu,Td=oa;function Wd(i,r){Td=i,ld=r}function cd(i,r,a,u){const m=xc(i,u,r),E=r[Gt],j=zu(u.parent||r[sn],u,r);if(null!=m)if(Array.isArray(a))for(let q=0;q<a.length;q++)ou(E,m,a[q],j,!1);else ou(E,m,a,j,!1);void 0!==ld&&ld(E,u,r,a,m)}function au(i,r){if(null!==r){const a=r.type;if(3&a)return ds(r,i);if(4&a)return ud(-1,i[r.index]);if(8&a){const u=r.child;if(null!==u)return au(i,u);{const m=i[r.index];return dr(m)?ud(-1,m):Qr(m)}}if(32&a)return ci(r,i)()||Qr(i[r.index]);{const u=yu(i,r);return null!==u?Array.isArray(u)?u[0]:au(hr(i[On]),u):au(i,r.next)}}return null}function yu(i,r){return null!==r?i[On][sn].projection[r.projection]:null}function ud(i,r){const a=Ms+i+1;if(a<r.length){const u=r[a],m=u[yi].firstChild;if(null!==m)return au(u,m)}return r[Eo]}function Wu(i,r,a){const u=Cl(i,r);u&&function Yr(i,r,a,u){i.removeChild(r,a,u)}(i,u,r,a)}function dd(i,r,a,u,m,E,O){for(;null!=a;){const j=u[a.index],q=a.type;if(O&&0===r&&(j&&ls(Qr(j),u),a.flags|=2),32!=(32&a.flags))if(8&q)dd(i,r,a.child,u,m,E,!1),La(r,i,m,j,E);else if(32&q){const fe=ci(a,u);let Ne;for(;Ne=fe();)La(r,i,m,Ne,E);La(r,i,m,j,E)}else 16&q?uh(i,r,u,a,m,E):La(r,i,m,j,E);a=O?a.projectionNext:a.next}}function bu(i,r,a,u,m,E){dd(a,u,i.firstChild,r,m,E,!1)}function uh(i,r,a,u,m,E){const O=a[On],q=O[sn].projection[u.projection];if(Array.isArray(q))for(let fe=0;fe<q.length;fe++)La(r,i,m,q[fe],E);else dd(i,r,q,O[Wi],m,E,!0)}function Dd(i,r,a){""===a?i.removeAttribute(r,"class"):i.setAttribute(r,"class",a)}function Cu(i,r,a){const{mergedAttrs:u,classes:m,styles:E}=a;null!==u&&Ui(i,r,u),null!==m&&Dd(i,r,m),null!==E&&function Id(i,r,a){i.setAttribute(r,"style",a)}(i,r,E)}function ol(i){var r;return(null===(r=function Yu(){if(void 0===wl&&(wl=null,Xn.trustedTypes))try{wl=Xn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return wl}())||void 0===r?void 0:r.createHTML(i))||i}function hh(i){hd=i}function Tu(){return void 0!==hd?hd:typeof document<"u"?document:void 0}function Sd(){if(void 0===Iu&&(Iu=null,Xn.trustedTypes))try{Iu=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Iu}function qd(i){var r;return(null===(r=Sd())||void 0===r?void 0:r.createHTML(i))||i}function Qh(i){var r;return(null===(r=Sd())||void 0===r?void 0:r.createScriptURL(i))||i}class ph{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kt})`}}function Qa(i){return i instanceof ph?i.changingThisBreaksApplicationSecurity:i}function Ku(i,r){const a=function tf(i){return i instanceof ph&&i.getTypeName()||null}(i);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see ${kt})`)}return a===r}function rf(i){const r=new _(i);return function h(){try{return!!(new window.DOMParser).parseFromString(ol(""),"text/html")}catch(i){return!1}}()?new vh(r):r}class vh{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(ol(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class _{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const a=this.inertDocument.createElement("template");return a.innerHTML=ol(r),a}}const f=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function w(i){return(i=String(i)).match(f)?i:"unsafe:"+i}function L(i){const r={};for(const a of i.split(","))r[a]=!0;return r}function ee(...i){const r={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(r[u]=!0);return r}const ue=L("area,br,col,hr,img,wbr"),Xe=L("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ft=L("rp,rt"),ti=ee(ue,ee(Xe,L("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ee(Ft,L("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ee(Ft,Xe)),ir=L("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ba=ee(ir,L("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),L("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ad=L("script,style,template");class Xd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let m=this.checkClobberedElement(a,a.nextSibling);if(m){a=m;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!ti.hasOwnProperty(a))return this.sanitizedSomething=!0,!Ad.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=r.attributes;for(let m=0;m<u.length;m++){const E=u.item(m),O=E.name,j=O.toLowerCase();if(!ba.hasOwnProperty(j)){this.sanitizedSomething=!0;continue}let q=E.value;ir[j]&&(q=w(q)),this.buf.push(" ",O,'="',Xf(q),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();ti.hasOwnProperty(a)&&!ue.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(Xf(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const yh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zf=/([^\#-~ |!])/g;function Xf(i){return i.replace(/&/g,"&amp;").replace(yh,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Zf,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ba;function sf(i){return"content"in i&&function af(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var vo=(()=>((vo=vo||{})[vo.NONE=0]="NONE",vo[vo.HTML=1]="HTML",vo[vo.STYLE=2]="STYLE",vo[vo.SCRIPT=3]="SCRIPT",vo[vo.URL=4]="URL",vo[vo.RESOURCE_URL=5]="RESOURCE_URL",vo))();function Ap(i){const r=T();return r?qd(r.sanitize(vo.HTML,i)||""):Ku(i,"HTML")?qd(Qa(i)):function Sp(i,r){let a=null;try{Ba=Ba||rf(i);let u=r?String(r):"";a=Ba.getInertBodyElement(u);let m=5,E=u;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,u=E,E=a.innerHTML,a=Ba.getInertBodyElement(u)}while(u!==E);return ol((new Xd).sanitizeChildren(sf(a)||a))}finally{if(a){const u=sf(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}(Tu(),yt(i))}function lf(i){const r=T();return r?r.sanitize(vo.URL,i)||"":Ku(i,"URL")?Qa(i):w(yt(i))}function cf(i){const r=T();if(r)return Qh(r.sanitize(vo.RESOURCE_URL,i)||"");if(Ku(i,"ResourceURL"))return Qh(Qa(i));throw new be(904,!1)}function bh(i,r,a){return function xd(i,r){return"src"===r&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===r&&("base"===i||"link"===i)?cf:lf}(r,a)(i)}function T(){const i=W();return i&&i[Ae]}const c=new Mr("ENVIRONMENT_INITIALIZER"),y=new Mr("INJECTOR",-1),P=new Mr("INJECTOR_DEF_TYPES");class te{get(r,a=Si){if(a===Si){const u=new Error(`NullInjectorError: No provider for ${Fe(r)}!`);throw u.name="NullInjectorError",u}return a}}function en(...i){return{\u0275providers:ln(0,i),\u0275fromNgModule:!0}}function ln(i,...r){const a=[],u=new Set;let m;return Do(r,E=>{const O=E;Pn(O,a,[],u)&&(m||(m=[]),m.push(O))}),void 0!==m&&wn(m,a),a}function wn(i,r){for(let a=0;a<i.length;a++){const{providers:m}=i[a];Ai(m,E=>{r.push(E)})}}function Pn(i,r,a,u){if(!(i=Ue(i)))return!1;let m=null,E=Mi(i);const O=!E&&vi(i);if(E||O){if(O&&!O.standalone)return!1;m=i}else{const q=i.ngModule;if(E=Mi(q),!E)return!1;m=q}const j=u.has(m);if(O){if(j)return!1;if(u.add(m),O.dependencies){const q="function"==typeof O.dependencies?O.dependencies():O.dependencies;for(const fe of q)Pn(fe,r,a,u)}}else{if(!E)return!1;{if(null!=E.imports&&!j){let fe;u.add(m);try{Do(E.imports,Ne=>{Pn(Ne,r,a,u)&&(fe||(fe=[]),fe.push(Ne))})}finally{}void 0!==fe&&wn(fe,r)}if(!j){const fe=oo(m)||(()=>new m);r.push({provide:m,useFactory:fe,deps:jn},{provide:P,useValue:m,multi:!0},{provide:c,useValue:()=>we(m),multi:!0})}const q=E.providers;null==q||j||Ai(q,Ne=>{r.push(Ne)})}}return m!==i&&void 0!==i.providers}function Ai(i,r){for(let a of i)pt(a)&&(a=a.\u0275providers),Array.isArray(a)?Ai(a,r):r(a)}const Ki=ct({provide:String,useValue:ct});function Kr(i){return null!==i&&"object"==typeof i&&Ki in i}function qr(i){return"function"==typeof i}const fo=new Mr("Set Injector scope."),gs={},ms={};let _s;function Ks(){return void 0===_s&&(_s=new te),_s}class vs{}class Yo extends vs{get destroyed(){return this._destroyed}constructor(r,a,u,m){super(),this.parent=a,this.source=u,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Su(r,O=>this.processProvider(O)),this.records.set(y,ql(void 0,this)),m.has("environment")&&this.records.set(vs,ql(void 0,this));const E=this.records.get(fo);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(P.multi,jn,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=mn(this),u=ii(void 0);try{return r()}finally{mn(a),ii(u)}}get(r,a=Si,u=Mt.Default){this.assertNotDestroyed(),u=Un(u);const m=mn(this),E=ii(void 0);try{if(!(u&Mt.SkipSelf)){let j=this.records.get(r);if(void 0===j){const q=function Zl(i){return"function"==typeof i||"object"==typeof i&&i instanceof Mr}(r)&&Hn(r);j=q&&this.injectableDefInScope(q)?ql(Ko(r),gs):null,this.records.set(r,j)}if(null!=j)return this.hydrate(r,j)}return(u&Mt.Self?Ks():this.parent).get(r,a=u&Mt.Optional&&a===Si?null:a)}catch(O){if("NullInjectorError"===O.name){if((O[dn]=O[dn]||[]).unshift(Fe(r)),m)throw O;return function wt(i,r,a,u){const m=i[dn];throw r[Rn]&&m.unshift(r[Rn]),i.message=function ye(i,r,a,u=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==pn?i.slice(2):i;let m=Fe(r);if(Array.isArray(r))m=r.map(Fe).join(" -> ");else if("object"==typeof r){let E=[];for(let O in r)if(r.hasOwnProperty(O)){let j=r[O];E.push(O+":"+("string"==typeof j?JSON.stringify(j):Fe(j)))}m=`{${E.join(", ")}}`}return`${a}${u?"("+u+")":""}[${m}]: ${i.replace(Wt,"\n  ")}`}("\n"+i.message,m,a,u),i[xt]=m,i[dn]=null,i}(O,r,"R3InjectorError",this.source)}throw O}finally{ii(E),mn(m)}}resolveInjectorInitializers(){const r=mn(this),a=ii(void 0);try{const u=this.get(c.multi,jn,Mt.Self);for(const m of u)m()}finally{mn(r),ii(a)}}toString(){const r=[],a=this.records;for(const u of a.keys())r.push(Fe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(r){let a=qr(r=Ue(r))?r:Ue(r&&r.provide);const u=function lu(i){return Kr(i)?ql(void 0,i.useValue):ql(el(i),gs)}(r);if(qr(r)||!0!==r.multi)this.records.get(a);else{let m=this.records.get(a);m||(m=ql(void 0,gs,!0),m.factory=()=>wi(m.multi),this.records.set(a,m)),a=r,m.multi.push(r)}this.records.set(a,u)}hydrate(r,a){return a.value===gs&&(a.value=ms,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Ec(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=Ue(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Ko(i){const r=Hn(i),a=null!==r?r.factory:oo(i);if(null!==a)return a;if(i instanceof Mr)throw new be(204,!1);if(i instanceof Function)return function Ro(i){const r=i.length;if(r>0)throw Xa(r,"?"),new be(204,!1);const a=function ai(i){const r=i&&(i[Kt]||i[ke]);return r?(function bi(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),r):null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new be(204,!1)}function el(i,r,a){let u;if(qr(i)){const m=Ue(i);return oo(m)||Ko(m)}if(Kr(i))u=()=>Ue(i.useValue);else if(function Or(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...wi(i.deps||[]));else if(function pr(i){return!(!i||!i.useExisting)}(i))u=()=>we(Ue(i.useExisting));else{const m=Ue(i&&(i.useClass||i.provide));if(!function fd(i){return!!i.deps}(i))return oo(m)||Ko(m);u=()=>new m(...wi(i.deps))}return u}function ql(i,r,a=!1){return{factory:i,value:r,multi:a?[]:void 0}}function Su(i,r){for(const a of i)Array.isArray(a)?Su(a,r):a&&pt(a)?Su(a.\u0275providers,r):r(a)}class cu{}class Od{}class Au{resolveComponentFactory(r){throw function Ch(i){const r=Error(`No component factory found for ${Fe(i)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=i,r}(r)}}let Fl=(()=>{class i{}return i.NULL=new Au,i})();function Rd(){return Tl(_n(),W())}function Tl(i,r){return new Il(ds(i,r))}let Il=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Rd,i})();function wh(i){return i instanceof Il?i.nativeElement:i}class qu{}let df=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Nd(){const i=W(),a=Gs(_n().index,i);return(Ts(a)?a:i)[Gt]}(),i})(),hf=(()=>{class i{}return i.\u0275prov=qe({token:i,providedIn:"root",factory:()=>null}),i})();class Zu{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ff=new Zu("15.2.1"),pf={},gf="ngOriginalError";function mf(i){return i[gf]}class Xl{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&mf(r);for(;a&&mf(a);)a=mf(a);return a||null}}function Qu(i){return i instanceof Function?i():i}function cm(i,r,a){let u=i.length;for(;;){const m=i.indexOf(r,a);if(-1===m)return m;if(0===m||i.charCodeAt(m-1)<=32){const E=r.length;if(m+E===u||i.charCodeAt(m+E)<=32)return m}a=m+1}}const um="ng-template";function dm(i,r,a){let u=0;for(;u<i.length;){let m=i[u++];if(a&&"class"===m){if(m=i[u],-1!==cm(m.toLowerCase(),r,0))return!0}else if(1===m){for(;u<i.length&&"string"==typeof(m=i[u++]);)if(m.toLowerCase()===r)return!0;return!1}}return!1}function aa(i){return 4===i.type&&i.value!==um}function hm(i,r,a){return r===(4!==i.type||a?i.value:um)}function Zm(i,r,a){let u=4;const m=i.attrs||[],E=function pg(i){for(let r=0;r<i.length;r++)if(Hr(i[r]))return r;return i.length}(m);let O=!1;for(let j=0;j<r.length;j++){const q=r[j];if("number"!=typeof q){if(!O)if(4&u){if(u=2|1&u,""!==q&&!hm(i,q,a)||""===q&&1===r.length){if(Gc(u))return!1;O=!0}}else{const fe=8&u?q:r[++j];if(8&u&&null!==i.attrs){if(!dm(i.attrs,fe,a)){if(Gc(u))return!1;O=!0}continue}const Tt=Xm(8&u?"class":q,m,aa(i),a);if(-1===Tt){if(Gc(u))return!1;O=!0;continue}if(""!==fe){let fn;fn=Tt>E?"":m[Tt+1].toLowerCase();const In=8&u?fn:null;if(In&&-1!==cm(In,fe,0)||2&u&&fe!==fn){if(Gc(u))return!1;O=!0}}}}else{if(!O&&!Gc(u)&&!Gc(q))return!1;if(O&&Gc(q))continue;O=!1,u=q|1&u}}return Gc(u)||O}function Gc(i){return 0==(1&i)}function Xm(i,r,a,u){if(null===r)return-1;let m=0;if(u||!a){let E=!1;for(;m<r.length;){const O=r[m];if(O===i)return m;if(3===O||6===O)E=!0;else{if(1===O||2===O){let j=r[++m];for(;"string"==typeof j;)j=r[++m];continue}if(4===O)break;if(0===O){m+=4;continue}}m+=E?1:2}return-1}return function ep(i,r){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===r)return a;a++}return-1}(r,i)}function hg(i,r,a=!1){for(let u=0;u<r.length;u++)if(Zm(i,r[u],a))return!0;return!1}function xp(i,r){e:for(let a=0;a<r.length;a++){const u=r[a];if(i.length===u.length){for(let m=0;m<i.length;m++)if(i[m]!==u[m])continue e;return!0}}return!1}function Op(i,r){return i?":not("+r.trim()+")":r}function gg(i){let r=i[0],a=1,u=2,m="",E=!1;for(;a<i.length;){let O=i[a];if("string"==typeof O)if(2&u){const j=i[++a];m+="["+O+(j.length>0?'="'+j+'"':"")+"]"}else 8&u?m+="."+O:4&u&&(m+=" "+O);else""!==m&&!Gc(O)&&(r+=Op(E,m),m=""),u=O,E=E||!Gc(u);a++}return""!==m&&(r+=Op(E,m)),r}const Xr={};function mg(i){Rp(K(),W(),ks()+i,!1)}function Rp(i,r,a,u){if(!u)if(3==(3&r[sr])){const E=i.preOrderCheckHooks;null!==E&&Fi(r,E,a)}else{const E=i.preOrderHooks;null!==E&&An(r,E,0,a)}_o(a)}function Np(i,r=null,a=null,u){const m=bf(i,r,a,u);return m.resolveInjectorInitializers(),m}function bf(i,r=null,a=null,u,m=new Set){const E=[a||jn,en(i)];return u=u||("object"==typeof i?void 0:Fe(i)),new Yo(E,r||Ks(),u||null,m)}let uu=(()=>{class i{static create(a,u){if(Array.isArray(a))return Np({name:""},u,a,"");{var m;const E=null!==(m=a.name)&&void 0!==m?m:"";return Np({name:E},a.parent,a.providers,E)}}}return i.THROW_IF_NOT_FOUND=Si,i.NULL=new te,i.\u0275prov=qe({token:i,providedIn:"any",factory:()=>we(y)}),i.__NG_ELEMENT_ID__=-1,i})();function ed(i,r=Mt.Default){const a=W();return null===a?we(i,r):Mn(_n(),a,Ue(i),r)}function ap(){throw new Error("invalid")}function lp(i,r){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const E=a[u+1];if(-1!==E){const O=i.data[E];rc(a[u]),O.contentQueries(2,r[E],E)}}}function xh(i,r,a,u,m,E,O,j,q,fe,Ne){const Tt=r.blueprint.slice();return Tt[ns]=m,Tt[sr]=76|u,(null!==Ne||i&&1024&i[sr])&&(Tt[sr]|=1024),re(Tt),Tt[Wi]=Tt[Sn]=i,Tt[de]=a,Tt[_t]=O||i&&i[_t],Tt[Gt]=j||i&&i[Gt],Tt[Ae]=q||i&&i[Ae]||null,Tt[Ze]=fe||i&&i[Ze]||null,Tt[sn]=E,Tt[Dr]=function iu(){return _c++}(),Tt[qs]=Ne,Tt[On]=2==r.type?i[On]:Tt,Tt}function th(i,r,a,u,m){let E=i.data[r];if(null===E)E=Df(i,r,a,u,m),function ic(){return J.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=a,E.value=u,E.attrs=m;const O=br();E.injectorIndex=null===O?-1:O.injectorIndex}return hs(E,!0),E}function Df(i,r,a,u,m){const E=zi(),O=Io(),q=i.data[r]=function Oh(i,r,a,u,m,E){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?E:E&&E.parent,a,r,u,m);return null===i.firstChild&&(i.firstChild=q),null!==E&&(O?null==E.child&&null!==q.parent&&(E.child=q):null===E.next&&(E.next=q,q.prev=E)),q}function nh(i,r,a,u){if(0===a)return-1;const m=r.length;for(let E=0;E<a;E++)r.push(u),i.blueprint.push(u),i.data.push(null);return m}function Mu(i,r,a){Ho(r);try{const u=i.viewQuery;null!==u&&Zp(1,u,a);const m=i.template;null!==m&&Tg(i,r,m,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&lp(i,r),i.staticViewQueries&&Zp(2,i.viewQuery,a);const E=i.components;null!==E&&function Mh(i,r){for(let a=0;a<r.length;a++)qp(i,r[a])}(r,E)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{r[sr]&=-5,za()}}function Sf(i,r,a,u){const m=r[sr];if(128!=(128&m)){Ho(r);try{re(r),function Al(i){return J.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Tg(i,r,a,2,u);const O=3==(3&m);if(O){const fe=i.preOrderCheckHooks;null!==fe&&Fi(r,fe,null)}else{const fe=i.preOrderHooks;null!==fe&&An(r,fe,0,null),B(r,0)}if(function gp(i){for(let r=yl(i);null!==r;r=bl(r)){if(!r[Zs])continue;const a=r[Xs];for(let u=0;u<a.length;u++){const m=a[u];512&m[sr]||M(m[Wi],1),m[sr]|=512}}}(r),function Yp(i){for(let r=yl(i);null!==r;r=bl(r))for(let a=Ms;a<r.length;a++){const u=r[a],m=u[yi];ul(u)&&Sf(m,u,m.template,u[de])}}(r),null!==i.contentQueries&&lp(i,r),O){const fe=i.contentCheckHooks;null!==fe&&Fi(r,fe)}else{const fe=i.contentHooks;null!==fe&&An(r,fe,1),B(r,1)}!function Ah(i,r){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const m=a[u];if(m<0)_o(~m);else{const E=m,O=a[++u],j=a[++u];Ws(O,E),j(2,r[E])}}}finally{_o(-1)}}(i,r);const j=i.components;null!==j&&function cp(i,r){for(let a=0;a<r.length;a++)Kp(i,r[a])}(r,j);const q=i.viewQuery;if(null!==q&&Zp(2,q,u),O){const fe=i.viewCheckHooks;null!==fe&&Fi(r,fe)}else{const fe=i.viewHooks;null!==fe&&An(r,fe,2),B(r,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),r[sr]&=-41,512&r[sr]&&(r[sr]&=-513,M(r[Wi],-1))}finally{za()}}}function Tg(i,r,a,u,m){const E=ks(),O=2&u;try{_o(-1),O&&r.length>Sr&&Rp(i,r,Sr,!1),Us(O?2:0,m),a(u,m)}finally{_o(E),Us(O?3:1,m)}}function Af(i,r,a){if(Js(r)){const m=r.directiveEnd;for(let E=r.directiveStart;E<m;E++){const O=i.data[E];O.contentQueries&&O.contentQueries(1,a[E],E)}}}function $p(i,r,a){Nr()&&(function jp(i,r,a,u){const m=a.directiveStart,E=a.directiveEnd;Ns(a)&&function Ph(i,r,a){const u=ds(r,i),m=Ig(a),E=i[_t],O=Pf(i,xh(i,m,null,a.onPush?32:16,u,r,E,E.createRenderer(u,a),null,null,null));i[r.index]=O}(r,a,i.data[m+a.componentOffset]),i.firstCreatePass||xa(a,r),ls(u,r);const O=a.initialInputs;for(let j=m;j<E;j++){const q=i.data[j],fe=Ya(r,i,j,a);ls(fe,r),null!==O&&Em(0,j-m,fe,q,0,O),Ur(q)&&(Gs(a.index,r)[de]=Ya(r,i,j,a))}}(i,r,a,ds(a,r)),64==(64&a.flags)&&Gp(i,r,a))}function Mf(i,r,a=ds){const u=r.localNames;if(null!==u){let m=r.index+1;for(let E=0;E<u.length;E+=2){const O=u[E+1],j=-1===O?a(r,i):i[O];i[m++]=j}}}function Ig(i){const r=i.tView;return null===r||r.incompleteFirstPass?i.tView=xf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):r}function xf(i,r,a,u,m,E,O,j,q,fe){const Ne=Sr+u,Tt=Ne+m,fn=function up(i,r){const a=[];for(let u=0;u<r;u++)a.push(u<i?null:Xr);return a}(Ne,Tt),In="function"==typeof fe?fe():fe;return fn[yi]={type:i,blueprint:fn,template:a,queries:null,viewQuery:j,declTNode:r,data:fn.slice().fill(null,Ne),bindingStartIndex:Ne,expandoStartIndex:Tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:q,consts:In,incompleteFirstPass:!1}}function Up(i,r,a,u){const m=Og(r);null===a?m.push(u):(m.push(a),i.firstCreatePass&&Rg(i).push(u,m.length-1))}function dp(i,r,a,u){for(let m in i)if(i.hasOwnProperty(m)){a=null===a?{}:a;const E=i[m];null===u?Dg(a,r,m,E):u.hasOwnProperty(m)&&Dg(a,r,u[m],E)}return a}function Dg(i,r,a,u){i.hasOwnProperty(a)?i[a].push(r,u):i[a]=[r,u]}function Oc(i,r,a,u,m,E,O,j){const q=ds(r,a);let Ne,fe=r.inputs;!j&&null!=fe&&(Ne=fe[u])?(Ng(i,a,Ne,u,m),Ns(r)&&Ag(a,r.index)):3&r.type&&(u=function Sg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),m=null!=O?O(m,r.value||"",u):m,E.setProperty(q,u,m))}function Ag(i,r){const a=Gs(r,i);16&a[sr]||(a[sr]|=32)}function Of(i,r,a,u){if(Nr()){const m=null===u?null:{"":-1},E=function fp(i,r){const a=i.directiveRegistry;let u=null,m=null;if(a)for(let O=0;O<a.length;O++){const j=a[O];if(hg(r,j.selectors,!1))if(u||(u=[]),Ur(j))if(null!==j.findHostDirectiveDefs){const q=[];m=m||new Map,j.findHostDirectiveDefs(j,q,m),u.unshift(...q,j),Rf(i,r,q.length)}else u.unshift(j),Rf(i,r,0);else{var E;m=m||new Map,null===(E=j.findHostDirectiveDefs)||void 0===E||E.call(j,j,u,m),u.push(j)}}return null===u?null:[u,m]}(i,a);let O,j;null===E?O=j=null:[O,j]=E,null!==O&&Vp(i,r,a,O,m,j),m&&function Rh(i,r,a){if(r){const u=i.localNames=[];for(let m=0;m<r.length;m+=2){const E=a[r[m+1]];if(null==E)throw new be(-301,!1);u.push(r[m],E)}}}(a,u,m)}a.mergedAttrs=Lr(a.mergedAttrs,a.attrs)}function Vp(i,r,a,u,m,E){for(let fe=0;fe<u.length;fe++)hu(xa(a,r),i,u[fe].type);!function Wp(i,r,a){i.flags|=1,i.directiveStart=r,i.directiveEnd=r+a,i.providerIndexes=r}(a,i.data.length,u.length);for(let fe=0;fe<u.length;fe++){const Ne=u[fe];Ne.providersResolver&&Ne.providersResolver(Ne)}let O=!1,j=!1,q=nh(i,r,u.length,null);for(let fe=0;fe<u.length;fe++){const Ne=u[fe];a.mergedAttrs=Lr(a.mergedAttrs,Ne.hostAttrs),Nh(i,a,r,q,Ne),Fd(q,Ne,m),null!==Ne.contentQueries&&(a.flags|=4),(null!==Ne.hostBindings||null!==Ne.hostAttrs||0!==Ne.hostVars)&&(a.flags|=64);const Tt=Ne.type.prototype;!O&&(Tt.ngOnChanges||Tt.ngOnInit||Tt.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),O=!0),!j&&(Tt.ngOnChanges||Tt.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),j=!0),q++}!function bm(i,r,a){const m=r.directiveEnd,E=i.data,O=r.attrs,j=[];let q=null,fe=null;for(let Ne=r.directiveStart;Ne<m;Ne++){const Tt=E[Ne],fn=a?a.get(Tt):null,ui=fn?fn.outputs:null;q=dp(Tt.inputs,Ne,q,fn?fn.inputs:null),fe=dp(Tt.outputs,Ne,fe,ui);const Ri=null===q||null===O||aa(r)?null:Cm(q,Ne,O);j.push(Ri)}null!==q&&(q.hasOwnProperty("class")&&(r.flags|=8),q.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=j,r.inputs=q,r.outputs=fe}(i,a,E)}function Gp(i,r,a){const u=a.directiveStart,m=a.directiveEnd,E=a.index,O=function Bl(){return J.lFrame.currentDirectiveIndex}();try{_o(E);for(let j=u;j<m;j++){const q=i.data[j],fe=r[j];Ga(j),(null!==q.hostBindings||0!==q.hostVars||null!==q.hostAttrs)&&zp(q,fe)}}finally{_o(-1),Ga(O)}}function zp(i,r){null!==i.hostBindings&&i.hostBindings(1,r)}function Rf(i,r,a){r.componentOffset=a,(i.components||(i.components=[])).push(r.index)}function Fd(i,r,a){if(a){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)a[r.exportAs[u]]=i;Ur(r)&&(a[""]=i)}}function Nh(i,r,a,u,m){i.data[u]=m;const E=m.factory||(m.factory=oo(m.type)),O=new Dt(E,Ur(m),ed);i.blueprint[u]=O,a[u]=O,function Hp(i,r,a,u,m){const E=m.hostBindings;if(E){let O=i.hostBindingOpCodes;null===O&&(O=i.hostBindingOpCodes=[]);const j=~r.index;(function Mg(i){let r=i.length;for(;r>0;){const a=i[--r];if("number"==typeof a&&a<0)return a}return 0})(O)!=j&&O.push(j),O.push(a,u,E)}}(i,r,u,nh(i,a,m.hostVars,Xr),m)}function Ld(i,r,a,u,m,E,O){if(null==E)i.removeAttribute(r,m,a);else{const j=null==O?yt(E):O(E,u||"",m);i.setAttribute(r,m,j,a)}}function Em(i,r,a,u,m,E){const O=E[r];if(null!==O){const j=u.setInput;for(let q=0;q<O.length;){const fe=O[q++],Ne=O[q++],Tt=O[q++];null!==j?u.setInput(a,Tt,fe,Ne):a[Ne]=Tt}}}function Cm(i,r,a){let u=null,m=0;for(;m<a.length;){const E=a[m];if(0!==E)if(5!==E){if("number"==typeof E)break;if(i.hasOwnProperty(E)){null===u&&(u=[]);const O=i[E];for(let j=0;j<O.length;j+=2)if(O[j]===r){u.push(E,O[j+1],a[m+1]);break}}m+=2}else m+=2;else m+=4}return u}function pp(i,r,a,u){return[i,!0,!1,r,null,0,u,a,null,null]}function Kp(i,r){const a=Gs(r,i);if(ul(a)){const u=a[yi];48&a[sr]?Sf(u,a,u.template,a[de]):a[Xi]>0&&Nf(a)}}function Nf(i){for(let u=yl(i);null!==u;u=bl(u))for(let m=Ms;m<u.length;m++){const E=u[m];if(ul(E))if(512&E[sr]){const O=E[yi];Sf(O,E,O.template,E[de])}else E[Xi]>0&&Nf(E)}const a=i[yi].components;if(null!==a)for(let u=0;u<a.length;u++){const m=Gs(a[u],i);ul(m)&&m[Xi]>0&&Nf(m)}}function qp(i,r){const a=Gs(r,i),u=a[yi];(function Wc(i,r){for(let a=r.length;a<i.blueprint.length;a++)r.push(i.blueprint[a])})(u,a),Mu(u,a,a[de])}function Pf(i,r){return i[bt]?i[Xt][or]=r:i[bt]=r,i[Xt]=r,r}function xg(i){for(;i;){i[sr]|=32;const r=hr(i);if(Ca(i)&&!r)return i;i=r}return null}function mp(i,r,a,u=!0){const m=r[_t];m.begin&&m.begin();try{Sf(i,r,i.template,a)}catch(O){throw u&&Tm(r,O),O}finally{m.end&&m.end()}}function Zp(i,r,a){rc(0),r(i,a)}function Og(i){return i[Q]||(i[Q]=[])}function Rg(i){return i.cleanup||(i.cleanup=[])}function Tm(i,r){const a=i[Ze],u=a?a.get(Xl,null):null;u&&u.handleError(r)}function Ng(i,r,a,u,m){for(let E=0;E<a.length;){const O=a[E++],j=a[E++],q=r[O],fe=i.data[O];null!==fe.setInput?fe.setInput(q,m,u,j):q[j]=m}}function $d(i,r,a){const u=Ps(r,i);ya(i[Gt],u,a)}function kf(i,r,a){let u=a?i.styles:null,m=a?i.classes:null,E=0;if(null!==r)for(let O=0;O<r.length;O++){const j=r[O];"number"==typeof j?E=j:1==E?m=vt(m,j):2==E&&(u=vt(u,j+": "+r[++O]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=m:i.classesWithoutHost=m}function Ff(i,r,a,u,m=!1){for(;null!==a;){const E=r[a.index];if(null!==E&&u.push(Qr(E)),dr(E))for(let j=Ms;j<E.length;j++){const q=E[j],fe=q[yi].firstChild;null!==fe&&Ff(q[yi],q,fe,u)}const O=a.type;if(8&O)Ff(i,r,a.child,u);else if(32&O){const j=ci(a,r);let q;for(;q=j();)u.push(q)}else if(16&O){const j=yu(r,a);if(Array.isArray(j))u.push(...j);else{const q=hr(r[On]);Ff(q[yi],q,j,u,!0)}}a=m?a.projectionNext:a.next}return u}class kh{get rootNodes(){const r=this._lView,a=r[yi];return Ff(a,r,a.firstChild,[])}constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[de]}set context(r){this._lView[de]=r}get destroyed(){return 128==(128&this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Wi];if(dr(r)){const a=r[po],u=a?a.indexOf(this):-1;u>-1&&(ad(r,u),ia(a,u))}this._attachedToViewContainer=!1}xo(this._lView[yi],this._lView)}onDestroy(r){Up(this._lView[yi],this._lView,null,r)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[sr]&=-65}reattach(){this._lView[sr]|=64}detectChanges(){mp(this._lView[yi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ho(i,r){bu(i,r,r[Gt],2,null,null)}(this._lView[yi],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=r}}class s_ extends kh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;mp(r[yi],r,r[de],!1)}checkNoChanges(){}get context(){return null}}class Xp extends Fl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=vi(r);return new Fh(a,this.ngModule)}}function Im(i){const r=[];for(let a in i)i.hasOwnProperty(a)&&r.push({propName:i[a],templateName:a});return r}class Dm{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,u){u=Un(u);const m=this.injector.get(r,pf,u);return m!==pf||a===pf?m:this.parentInjector.get(r,a,u)}}class Fh extends Od{get inputs(){return Im(this.componentDef.inputs)}get outputs(){return Im(this.componentDef.outputs)}constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function fm(i){return i.map(gg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}create(r,a,u,m){var E;let O=(m=m||this.ngModule)instanceof vs?m:null===(E=m)||void 0===E?void 0:E.injector;O&&null!==this.componentDef.getStandaloneInjector&&(O=this.componentDef.getStandaloneInjector(O)||O);const j=O?new Dm(r,O):r,q=j.get(qu,null);if(null===q)throw new be(407,!1);const fe=j.get(hf,null),Ne=q.createRenderer(null,this.componentDef),Tt=this.componentDef.selectors[0][0]||"div",fn=u?function Bp(i,r,a){return i.selectRootElement(r,a===rn.ShadowDom)}(Ne,u,this.componentDef.encapsulation):El(Ne,Tt,function Pg(i){const r=i.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Tt)),In=this.componentDef.onPush?288:272,ui=xf(0,null,null,1,0,null,null,null,null,null),Ri=xh(null,ui,null,In,null,null,q,Ne,fe,j,null);let ur,Tr;Ho(Ri);try{const Vr=this.componentDef;let Ti,ts=null;Vr.findHostDirectiveDefs?(Ti=[],ts=new Map,Vr.findHostDirectiveDefs(Vr,Ti,ts),Ti.push(Vr)):Ti=[Vr];const ca=function kg(i,r){const a=i[yi],u=Sr;return i[u]=r,th(a,u,2,"#host",null)}(Ri,fn),ll=function o_(i,r,a,u,m,E,O,j){const q=m[yi];!function Fg(i,r,a,u){for(const m of i)r.mergedAttrs=Lr(r.mergedAttrs,m.hostAttrs);null!==r.mergedAttrs&&(kf(r,r.mergedAttrs,!0),null!==a&&Cu(u,a,r))}(u,i,r,O);const fe=E.createRenderer(r,a),Ne=xh(m,Ig(a),null,a.onPush?32:16,m[i.index],i,E,fe,j||null,null,null);return q.firstCreatePass&&Rf(q,i,u.length-1),Pf(m,Ne),m[i.index]=Ne}(ca,fn,Vr,Ti,Ri,q,Ne);Tr=tc(ui,Sr),fn&&function Lg(i,r,a,u){if(u)Ui(i,a,["ng-version",ff.full]);else{const{attrs:m,classes:E}=function Jm(i){const r=[],a=[];let u=1,m=2;for(;u<i.length;){let E=i[u];if("string"==typeof E)2===m?""!==E&&r.push(E,i[++u]):8===m&&a.push(E);else{if(!Gc(m))break;m=E}u++}return{attrs:r,classes:a}}(r.selectors[0]);m&&Ui(i,a,m),E&&E.length>0&&Dd(i,a,E.join(" "))}}(Ne,Vr,fn,u),void 0!==a&&function l_(i,r,a){const u=i.projection=[];for(let m=0;m<r.length;m++){const E=a[m];u.push(null!=E?Array.from(E):null)}}(Tr,this.ngContentSelectors,a),ur=function a_(i,r,a,u,m,E){const O=_n(),j=m[yi],q=ds(O,m);Vp(j,m,O,a,null,u);for(let Ne=0;Ne<a.length;Ne++)ls(Ya(m,j,O.directiveStart+Ne,O),m);Gp(j,m,O),q&&ls(q,m);const fe=Ya(m,j,O.directiveStart+O.componentOffset,O);if(i[de]=m[de]=fe,null!==E)for(const Ne of E)Ne(fe,r);return Af(j,O,i),fe}(ll,Vr,Ti,ts,Ri,[$g]),Mu(ui,Ri,null)}finally{za()}return new Sm(this.componentType,ur,Tl(Tr,Ri),Ri,Tr)}}class Sm extends cu{constructor(r,a,u,m,E){super(),this.location=u,this._rootLView=m,this._tNode=E,this.instance=a,this.hostView=this.changeDetectorRef=new s_(m),this.componentType=r}setInput(r,a){const u=this._tNode.inputs;let m;if(null!==u&&(m=u[r])){const E=this._rootLView;Ng(E[yi],E,m,r,a),Ag(E,this._tNode.index)}}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function $g(){const i=_n();Ml(W()[yi],i)}function Lf(i){let r=function Jp(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;r;){let m;if(Ur(i))m=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new be(903,!1);m=r.\u0275dir}if(m){if(a){u.push(m);const O=i;O.inputs=_p(i.inputs),O.declaredInputs=_p(i.declaredInputs),O.outputs=_p(i.outputs);const j=m.hostBindings;j&&Ug(i,j);const q=m.viewQuery,fe=m.contentQueries;if(q&&Bg(i,q),fe&&Am(i,fe),$e(i.inputs,m.inputs),$e(i.declaredInputs,m.declaredInputs),$e(i.outputs,m.outputs),Ur(m)&&m.data.animation){const Ne=i.data;Ne.animation=(Ne.animation||[]).concat(m.data.animation)}}const E=m.features;if(E)for(let O=0;O<E.length;O++){const j=E[O];j&&j.ngInherit&&j(i),j===Lf&&(a=!1)}}r=Object.getPrototypeOf(r)}!function $f(i){let r=0,a=null;for(let u=i.length-1;u>=0;u--){const m=i[u];m.hostVars=r+=m.hostVars,m.hostAttrs=Lr(m.hostAttrs,a=Lr(a,m.hostAttrs))}}(u)}function _p(i){return i===xn?{}:i===jn?[]:i}function Bg(i,r){const a=i.viewQuery;i.viewQuery=a?(u,m)=>{r(u,m),a(u,m)}:r}function Am(i,r){const a=i.contentQueries;i.contentQueries=a?(u,m,E)=>{r(u,m,E),a(u,m,E)}:r}function Ug(i,r){const a=i.hostBindings;i.hostBindings=a?(u,m)=>{r(u,m),a(u,m)}:r}function Bf(i){return!!ih(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function ih(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function td(i,r,a){return i[r]=a}function Ll(i,r,a){return!Object.is(i[r],a)&&(i[r]=a,!0)}function Bd(i,r,a,u){const m=Ll(i,r,a);return Ll(i,r+1,u)||m}function tg(i,r,a,u,m){const E=Bd(i,r,a,u);return Ll(i,r+2,m)||E}function bp(i,r,a,u){const m=W();return Ll(m,ja(),r)&&(K(),function xu(i,r,a,u,m,E){const O=ds(i,r);Ld(r[Gt],O,E,i.value,a,u,m)}(us(),m,i,r,a,u)),bp}function Uf(i,r,a,u){return Ll(i,ja(),a)?r+yt(a)+u:Xr}function sh(i,r,a,u,m,E){const j=Bd(i,cs(),a,m);return Vo(2),j?r+yt(a)+u+yt(m)+E:Xr}function tt(i,r,a,u,m,E,O,j){const q=W(),fe=K(),Ne=i+Sr,Tt=fe.firstCreatePass?function Rt(i,r,a,u,m,E,O,j,q){const fe=r.consts,Ne=th(r,i,4,O||null,x(fe,j));Of(r,a,Ne,x(fe,q)),Ml(r,Ne);const Tt=Ne.tViews=xf(2,Ne,u,m,E,r.directiveRegistry,r.pipeRegistry,null,r.schemas,fe);return null!==r.queries&&(r.queries.template(r,Ne),Tt.queries=r.queries.embeddedTView(Ne)),Ne}(Ne,fe,q,r,a,u,m,E,O):fe.data[Ne];hs(Tt,!1);const fn=q[Gt].createComment("");cd(fe,q,fn,Tt),ls(fn,q),Pf(q,q[Ne]=pp(fn,q,fn,Tt)),js(Tt)&&$p(fe,q,Tt),null!=O&&Mf(q,Tt,j)}function an(i){return zr(function Ia(){return J.lFrame.contextLView}(),Sr+i)}function nn(i,r,a){const u=W();return Ll(u,ja(),r)&&Oc(K(),us(),u,i,r,u[Gt],a,!1),nn}function un(i,r,a,u,m){const O=m?"class":"style";Ng(i,a,r.inputs[O],O,u)}function ri(i,r,a,u){const m=W(),E=K(),O=Sr+i,j=m[Gt],q=E.firstCreatePass?function Zn(i,r,a,u,m,E){const O=r.consts,q=th(r,i,2,u,x(O,m));return Of(r,a,q,x(O,E)),null!==q.attrs&&kf(q,q.attrs,!1),null!==q.mergedAttrs&&kf(q,q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,q),q}(O,E,m,r,a,u):E.data[O],fe=m[O]=El(j,r,function Qi(){return J.lFrame.currentNamespace}()),Ne=js(q);return hs(q,!0),Cu(j,fe,q),32!=(32&q.flags)&&cd(E,m,fe,q),0===function Oi(){return J.lFrame.elementDepthCount}()&&ls(fe,m),function Ji(){J.lFrame.elementDepthCount++}(),Ne&&($p(E,m,q),Af(E,q,m)),null!==u&&Mf(m,q),ri}function hi(){let i=_n();Io()?ea():(i=i.parent,hs(i,!1));const r=i;!function _r(){J.lFrame.elementDepthCount--}();const a=K();return a.firstCreatePass&&(Ml(a,i),Js(i)&&a.queries.elementEnd(i)),null!=r.classesWithoutHost&&function Fr(i){return 0!=(8&i.flags)}(r)&&un(a,r,W(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function cr(i){return 0!=(16&i.flags)}(r)&&un(a,r,W(),r.stylesWithoutHost,!1),hi}function fi(i,r,a,u){return ri(i,r,a,u),hi(),fi}function er(i,r,a){const u=W(),m=K(),E=i+Sr,O=m.firstCreatePass?function Li(i,r,a,u,m){const E=r.consts,O=x(E,u),j=th(r,i,8,"ng-container",O);return null!==O&&kf(j,O,!0),Of(r,a,j,x(E,m)),null!==r.queries&&r.queries.elementStart(r,j),j}(E,m,u,r,a):m.data[E];hs(O,!0);const j=u[E]=u[Gt].createComment("");return cd(m,u,j,O),ls(j,u),js(O)&&($p(m,u,O),Af(m,O,u)),null!=a&&Mf(u,O),er}function Di(){let i=_n();const r=K();return Io()?ea():(i=i.parent,hs(i,!1)),r.firstCreatePass&&(Ml(r,i),Js(i)&&r.queries.elementEnd(i)),Di}function $n(i,r,a){return er(i,r,a),Di(),$n}function bn(){return W()}function Yn(i){return!!i&&"function"==typeof i.then}function fr(i){return!!i&&"function"==typeof i.subscribe}const xr=fr;function Vn(i,r,a,u){const m=W(),E=K(),O=_n();return function ys(i,r,a,u,m,E,O){const j=js(u),fe=i.firstCreatePass&&Rg(i),Ne=r[de],Tt=Og(r);let fn=!0;if(3&u.type||O){const Ri=ds(u,r),ur=O?O(Ri):Ri,Tr=Tt.length,Vr=O?ts=>O(Qr(ts[u.index])):u.index;let Ti=null;if(!O&&j&&(Ti=function ji(i,r,a,u){const m=i.cleanup;if(null!=m)for(let E=0;E<m.length-1;E+=2){const O=m[E];if(O===a&&m[E+1]===u){const j=r[Q],q=m[E+2];return j.length>q?j[q]:null}"string"==typeof O&&(E+=2)}return null}(i,r,m,u.index)),null!==Ti)(Ti.__ngLastListenerFn__||Ti).__ngNextListenerFn__=E,Ti.__ngLastListenerFn__=E,fn=!1;else{E=$r(u,r,Ne,E,!1);const ts=a.listen(ur,m,E);Tt.push(E,ts),fe&&fe.push(m,Vr,Tr,Tr+1)}}else E=$r(u,r,Ne,E,!1);const In=u.outputs;let ui;if(fn&&null!==In&&(ui=In[m])){const Ri=ui.length;if(Ri)for(let ur=0;ur<Ri;ur+=2){const ca=r[ui[ur]][ui[ur+1]].subscribe(E),ll=Tt.length;Tt.push(E,ca),fe&&fe.push(m,u.index,ll,-(ll+1))}}}(E,m,m[Gt],O,i,r,u),Vn}function Os(i,r,a,u){try{return Us(6,r,a),!1!==a(u)}catch(m){return Tm(i,m),!1}finally{Us(7,r,a)}}function $r(i,r,a,u,m){return function E(O){if(O===Function)return u;xg(i.componentOffset>-1?Gs(i.index,r):r);let q=Os(r,a,u,O),fe=E.__ngNextListenerFn__;for(;fe;)q=Os(r,a,fe,O)&&q,fe=fe.__ngNextListenerFn__;return m&&!1===q&&(O.preventDefault(),O.returnValue=!1),q}}function md(i=1){return function go(i){return(J.lFrame.contextLView=function Sa(i,r){for(;i>0;)r=r[Sn],i--;return r}(i,J.lFrame.contextLView))[de]}(i)}function Vf(i,r){let a=null;const u=function fg(i){const r=i.attrs;if(null!=r){const a=r.indexOf(5);if(!(1&a))return r[a+1]}return null}(i);for(let m=0;m<r.length;m++){const E=r[m];if("*"!==E){if(null===u?hg(i,E,!0):xp(u,E))return m}else a=m}return a}function _d(i){const r=W()[On][sn];if(!r.projection){const u=r.projection=Xa(i?i.length:1,null),m=u.slice();let E=r.child;for(;null!==E;){const O=i?Vf(E,i):0;null!==O&&(m[O]?m[O].projectionNext=E:u[O]=E,m[O]=E),E=E.next}}}function Ru(i,r=0,a){const u=W(),m=K(),E=th(m,Sr+i,16,null,a||null);null===E.projection&&(E.projection=r),ea(),32!=(32&E.flags)&&function Eu(i,r,a){uh(r[Gt],0,r,a,xc(i,a,r),zu(a.parent||r[sn],a,r))}(m,u,E)}function ro(i,r,a){return Ua(i,"",r,"",a),ro}function Ua(i,r,a,u,m){const E=W(),O=Uf(E,r,a,u);return O!==Xr&&Oc(K(),us(),E,i,O,E[Gt],m,!1),Ua}function Uh(i,r){return i<<17|r<<2}function Vh(i){return i>>17&32767}function xm(i){return 2|i}function Bo(i){return(131068&i)>>2}function zg(i,r){return-131069&i|r<<2}function Om(i){return 1|i}function u_(i,r,a,u,m){const E=i[a+1],O=null===r;let j=u?Vh(E):Bo(E),q=!1;for(;0!==j&&(!1===q||O);){const Ne=i[j+1];uy(i[j],r)&&(q=!0,i[j+1]=u?Om(Ne):xm(Ne)),j=u?Vh(Ne):Bo(Ne)}q&&(i[a+1]=u?xm(E):Om(E))}function uy(i,r){return null===i||null==r||(Array.isArray(i)?i[1]:i)===r||!(!Array.isArray(i)||"string"!=typeof r)&&Re(i,r)>=0}const $l={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d_(i){return i.substring($l.key,$l.keyEnd)}function f_(i,r){const a=$l.textEnd;return a===r?-1:(r=$l.keyEnd=function Wg(i,r,a){for(;r<a&&i.charCodeAt(r)>32;)r++;return r}(i,$l.key=r,a),nd(i,r,a))}function nd(i,r,a){for(;r<a&&i.charCodeAt(r)<=32;)r++;return r}function Pm(i,r,a){return vd(i,r,a,!1),Pm}function lh(i,r){return vd(i,r,null,!0),lh}function km(i){yd(ne,id,i,!0)}function id(i,r){for(let a=function rg(i){return function lv(i){$l.key=0,$l.keyEnd=0,$l.value=0,$l.valueEnd=0,$l.textEnd=i.length}(i),f_(i,nd(i,0,$l.textEnd))}(r);a>=0;a=f_(r,a))ne(i,d_(r),!0)}function vd(i,r,a,u){const m=W(),E=K(),O=Vo(2);E.firstUpdatePass&&Yg(E,i,O,u),r!==Xr&&Ll(m,O,r)&&ag(E,E.data[ks()],m,m[Gt],i,m[O+1]=function uv(i,r){return null==i||("string"==typeof r?i+=r:"object"==typeof i&&(i=Fe(Qa(i)))),i}(r,a),u,O)}function yd(i,r,a,u){const m=K(),E=Vo(2);m.firstUpdatePass&&Yg(m,null,E,u);const O=W();if(a!==Xr&&Ll(O,E,a)){const j=m.data[ks()];if(lg(j,u)&&!m_(m,E)){let q=u?j.classesWithoutHost:j.stylesWithoutHost;null!==q&&(a=vt(q,a||"")),un(m,j,O,a,u)}else!function qg(i,r,a,u,m,E,O,j){m===Xr&&(m=jn);let q=0,fe=0,Ne=0<m.length?m[0]:null,Tt=0<E.length?E[0]:null;for(;null!==Ne||null!==Tt;){const fn=q<m.length?m[q+1]:void 0,In=fe<E.length?E[fe+1]:void 0;let Ri,ui=null;Ne===Tt?(q+=2,fe+=2,fn!==In&&(ui=Tt,Ri=In)):null===Tt||null!==Ne&&Ne<Tt?(q+=2,ui=Ne):(fe+=2,ui=Tt,Ri=In),null!==ui&&ag(i,r,a,u,ui,Ri,O,j),Ne=q<m.length?m[q]:null,Tt=fe<E.length?E[fe]:null}}(m,j,O,O[Gt],O[E+1],O[E+1]=function og(i,r,a){if(null==a||""===a)return jn;const u=[],m=Qa(a);if(Array.isArray(m))for(let E=0;E<m.length;E++)i(u,m[E],!0);else if("object"==typeof m)for(const E in m)m.hasOwnProperty(E)&&i(u,E,m[E]);else"string"==typeof m&&r(u,m);return u}(i,r,a),u,E)}}function m_(i,r){return r>=i.expandoStartIndex}function Yg(i,r,a,u){const m=i.data;if(null===m[a+1]){const E=m[ks()],O=m_(i,a);lg(E,u)&&null===r&&!O&&(r=!1),r=function Fm(i,r,a,u){const m=function _a(i){const r=J.lFrame.currentDirectiveIndex;return-1===r?null:i[r]}(i);let E=u?r.residualClasses:r.residualStyles;if(null===m)0===(u?r.classBindings:r.styleBindings)&&(a=Gf(a=Kg(null,i,r,a,u),r.attrs,u),E=null);else{const O=r.directiveStylingLast;if(-1===O||i[O]!==m)if(a=Kg(m,i,r,a,u),null===E){let q=function __(i,r,a){const u=a?r.classBindings:r.styleBindings;if(0!==Bo(u))return i[Vh(u)]}(i,r,u);void 0!==q&&Array.isArray(q)&&(q=Kg(null,i,r,q[1],u),q=Gf(q,r.attrs,u),function jf(i,r,a,u){i[Vh(a?r.classBindings:r.styleBindings)]=u}(i,r,u,q))}else E=function v_(i,r,a){let u;const m=r.directiveEnd;for(let E=1+r.directiveStylingLast;E<m;E++)u=Gf(u,i[E].hostAttrs,a);return Gf(u,r.attrs,a)}(i,r,u)}return void 0!==E&&(u?r.residualClasses=E:r.residualStyles=E),a}(m,E,r,u),function ov(i,r,a,u,m,E){let O=E?r.classBindings:r.styleBindings,j=Vh(O),q=Bo(O);i[u]=a;let Ne,fe=!1;if(Array.isArray(a)?(Ne=a[1],(null===Ne||Re(a,Ne)>0)&&(fe=!0)):Ne=a,m)if(0!==q){const fn=Vh(i[j+1]);i[u+1]=Uh(fn,j),0!==fn&&(i[fn+1]=zg(i[fn+1],u)),i[j+1]=function ly(i,r){return 131071&i|r<<17}(i[j+1],u)}else i[u+1]=Uh(j,0),0!==j&&(i[j+1]=zg(i[j+1],u)),j=u;else i[u+1]=Uh(q,0),0===j?j=u:i[q+1]=zg(i[q+1],u),q=u;fe&&(i[u+1]=xm(i[u+1])),u_(i,Ne,u,!0),u_(i,Ne,u,!1),function av(i,r,a,u,m){const E=m?i.residualClasses:i.residualStyles;null!=E&&"string"==typeof r&&Re(E,r)>=0&&(a[u+1]=Om(a[u+1]))}(r,Ne,i,u,E),O=Uh(j,q),E?r.classBindings=O:r.styleBindings=O}(m,E,r,a,O,u)}}function Kg(i,r,a,u,m){let E=null;const O=a.directiveEnd;let j=a.directiveStylingLast;for(-1===j?j=a.directiveStart:j++;j<O&&(E=r[j],u=Gf(u,E.hostAttrs,m),E!==i);)j++;return null!==i&&(a.directiveStylingLast=j),u}function Gf(i,r,a){const u=a?1:2;let m=-1;if(null!==r)for(let E=0;E<r.length;E++){const O=r[E];"number"==typeof O?m=O:m===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ne(i,O,!!a||r[++E]))}return void 0===i?null:i}function ag(i,r,a,u,m,E,O,j){if(!(3&r.type))return;const q=i.data,fe=q[j+1],Ne=function rv(i){return 1==(1&i)}(fe)?Lm(q,r,a,m,Bo(fe),O):void 0;jh(Ne)||(jh(E)||function la(i){return 2==(2&i)}(fe)&&(E=Lm(q,null,a,m,j,O)),function Oo(i,r,a,u,m){if(r)m?i.addClass(a,u):i.removeClass(a,u);else{let E=-1===u.indexOf("-")?void 0:Ys.DashCase;null==m?i.removeStyle(a,u,E):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),E|=Ys.Important),i.setStyle(a,u,m,E))}}(u,O,Ps(ks(),a),m,E))}function Lm(i,r,a,u,m,E){const O=null===r;let j;for(;m>0;){const q=i[m],fe=Array.isArray(q),Ne=fe?q[1]:q,Tt=null===Ne;let fn=a[m+1];fn===Xr&&(fn=Tt?jn:void 0);let In=Tt?Se(fn,u):Ne===u?fn:void 0;if(fe&&!jh(In)&&(In=Se(q,u)),jh(In)&&(j=In,O))return j;const ui=i[m+1];m=O?Vh(ui):Bo(ui)}if(null!==r){let q=E?r.residualClasses:r.residualStyles;null!=q&&(j=Se(q,u))}return j}function jh(i){return void 0!==i}function lg(i,r){return 0!=(i.flags&(r?8:16))}function $m(i,r=""){const a=W(),u=K(),m=i+Sr,E=u.firstCreatePass?th(u,m,1,r,null):u.data[m],O=a[m]=Wo(a[Gt],r);cd(u,a,O,E),hs(E,!1)}function cg(i){return Gh("",i,""),cg}function Gh(i,r,a){const u=W(),m=Uf(u,i,r,a);return m!==Xr&&$d(u,ks(),m),Gh}function Bm(i,r,a,u,m){const E=W(),O=sh(E,i,r,a,u,m);return O!==Xr&&$d(E,ks(),O),Bm}function C_(i,r,a,u,m){yd(ne,id,sh(W(),i,r,a,u,m),!0)}function w_(i,r,a,u,m,E,O){yd(ne,id,function oh(i,r,a,u,m,E,O,j){const fe=tg(i,cs(),a,m,O);return Vo(3),fe?r+yt(a)+u+yt(m)+E+yt(O)+j:Xr}(W(),i,r,a,u,m,E,O),!0)}function Vm(i,r,a){const u=W();return Ll(u,ja(),r)&&Oc(K(),us(),u,i,r,u[Gt],a,!0),Vm}const Wf=void 0;var Cv=["en",[["a","p"],["AM","PM"],Wf],[["AM","PM"],Wf,Wf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wf,"{1} 'at' {0}",Wf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Kh(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Tp={};function Hm(i){const r=function wv(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=N_(r);if(a)return a;const u=r.split("-")[0];if(a=N_(u),a)return a;if("en"===u)return Cv;throw new be(701,!1)}function R_(i){return Hm(i)[Br.PluralCase]}function N_(i){return i in Tp||(Tp[i]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[i]),Tp[i]}var Br=(()=>((Br=Br||{})[Br.LocaleId=0]="LocaleId",Br[Br.DayPeriodsFormat=1]="DayPeriodsFormat",Br[Br.DayPeriodsStandalone=2]="DayPeriodsStandalone",Br[Br.DaysFormat=3]="DaysFormat",Br[Br.DaysStandalone=4]="DaysStandalone",Br[Br.MonthsFormat=5]="MonthsFormat",Br[Br.MonthsStandalone=6]="MonthsStandalone",Br[Br.Eras=7]="Eras",Br[Br.FirstDayOfWeek=8]="FirstDayOfWeek",Br[Br.WeekendRange=9]="WeekendRange",Br[Br.DateFormat=10]="DateFormat",Br[Br.TimeFormat=11]="TimeFormat",Br[Br.DateTimeFormat=12]="DateTimeFormat",Br[Br.NumberSymbols=13]="NumberSymbols",Br[Br.NumberFormats=14]="NumberFormats",Br[Br.CurrencyCode=15]="CurrencyCode",Br[Br.CurrencySymbol=16]="CurrencySymbol",Br[Br.CurrencyName=17]="CurrencyName",Br[Br.Currencies=18]="Currencies",Br[Br.Directionality=19]="Directionality",Br[Br.PluralCase=20]="PluralCase",Br[Br.ExtraData=21]="ExtraData",Br))();const Tv=["zero","one","two","few","many"],qh="en-US",tm={marker:"element"},nm={marker:"ICU"};var Va=(()=>((Va=Va||{})[Va.SHIFT=2]="SHIFT",Va[Va.APPEND_EAGERLY=1]="APPEND_EAGERLY",Va[Va.COMMENT=2]="COMMENT",Va))();let P_=qh;function k_(i){(function Yt(i,r){null==i&&$t(r,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(P_=i.toLowerCase().replace(/_/g,"-"))}function F_(i,r,a){const u=r.insertBeforeIndex,m=Array.isArray(u)?u[0]:u;return null===m?oa(i,0,a):Qr(a[m])}function L_(i,r,a,u,m){const E=r.insertBeforeIndex;if(Array.isArray(E)){let O=u,j=null;if(3&r.type||(j=O,O=m),null!==O&&-1===r.componentOffset)for(let q=1;q<E.length;q++)$a(i,O,a[E[q]],j,!1)}}function $_(i,r){if(i.push(r),i.length>1)for(let a=i.length-2;a>=0;a--){const u=i[a];B_(u)||gy(u,r)&&null===my(u)&&U_(u,r.index)}}function B_(i){return!(64&i.type)}function gy(i,r){return B_(r)||i.index>r.index}function my(i){const r=i.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function U_(i,r){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=r:(Wd(F_,L_),i.insertBeforeIndex=r)}function s(i,r){const a=i.data[r];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function l(i,r,a){const u=Df(i,a,64,null,null);return $_(r,u),u}function d(i,r){const a=r[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function b(i){return i>>>17}function A(i){return(131070&i)>>>1}let pe=0,Ke=0;function pi(i,r,a,u){const m=a[Gt];let O,E=null;for(let j=0;j<r.length;j++){const q=r[j];if("string"==typeof q){const fe=r[++j];null===a[fe]&&(a[fe]=Wo(m,q))}else if("number"==typeof q)switch(1&q){case 0:const fe=b(q);let Ne,Tt;if(null===E&&(E=fe,O=Cl(m,u)),fe===E?(Ne=u,Tt=O):(Ne=null,Tt=Qr(a[fe])),null!==Tt){const Ri=A(q);$a(m,Tt,a[Ri],Ne,!1);const Tr=s(i,Ri);if(null!==Tr&&"object"==typeof Tr){const Vr=d(Tr,a);null!==Vr&&pi(i,Tr.create[Vr],a,a[Tr.anchorIdx])}}break;case 1:const In=r[++j],ui=r[++j];Ld(m,Ps(q>>>1,a),null,null,In,ui,null)}else switch(q){case nm:const fe=r[++j],Ne=r[++j];null===a[Ne]&&ls(a[Ne]=yc(m,fe),a);break;case tm:const Tt=r[++j],fn=r[++j];null===a[fn]&&ls(a[fn]=El(m,Tt,null),a)}}}function lr(i,r,a,u,m){for(let E=0;E<a.length;E++){const O=a[E],j=a[++E];if(O&m){let q="";for(let fe=E+1;fe<=E+j;fe++){const Ne=a[fe];if("string"==typeof Ne)q+=Ne;else if("number"==typeof Ne)if(Ne<0)q+=yt(r[u-Ne]);else{const Tt=Ne>>>2;switch(3&Ne){case 1:const fn=a[++fe],In=a[++fe],ui=i.data[Tt];"string"==typeof ui?Ld(r[Gt],r[Tt],null,ui,fn,q,In):Oc(i,ui,r,fn,q,r[Gt],In,!1);break;case 0:const Ri=r[Tt];null!==Ri&&ya(r[Gt],Ri,q);break;case 2:qo(i,s(i,Tt),r,q);break;case 3:wr(i,s(i,Tt),u,r)}}}}else{const q=a[E+1];if(q>0&&3==(3&q)){const Ne=s(i,q>>>2);r[Ne.currentCaseLViewIndex]<0&&wr(i,Ne,u,r)}}E+=j}}function wr(i,r,a,u){let m=u[r.currentCaseLViewIndex];if(null!==m){let E=pe;m<0&&(m=u[r.currentCaseLViewIndex]=~m,E=-1),lr(i,u,r.update[m],a,E)}}function qo(i,r,a,u){const m=function yo(i,r){let a=i.cases.indexOf(r);if(-1===a)switch(i.type){case 1:{const u=function Ip(i,r){const a=R_(r)(parseInt(i,10)),u=Tv[a];return void 0!==u?u:"other"}(r,function Iv(){return P_}());a=i.cases.indexOf(u),-1===a&&"other"!==u&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(r,u);if(d(r,a)!==m&&(Ea(i,r,a),a[r.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const O=a[r.anchorIdx];O&&pi(i,r.create[m],a,O)}}function Ea(i,r,a){let u=d(r,a);if(null!==u){const m=r.remove[u];for(let E=0;E<m.length;E++){const O=m[E];if(O>0){const j=Ps(O,a);null!==j&&Wu(a[Gt],j)}else Ea(i,s(i,~O),a)}}}function Ql(){const i=[];let a,u,r=-1;function E(j,q){r=0;const fe=d(j,q);u=null!==fe?j.remove[fe]:jn}function O(){if(r<u.length){const j=u[r++];return j>0?a[j]:(i.push(r,u),E(a[yi].data[~j],a),O())}return 0===i.length?null:(u=i.pop(),r=i.pop(),O())}return function m(j,q){for(a=q;i.length;)i.pop();return E(j.value,q),O}}const V_=/\ufffd(\d+):?\d*\ufffd/gi,lb=/\ufffd(\d+)\ufffd/,vy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,jm="\ufffd",cb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ub=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,db=/\uE500/g;function yy(i,r,a,u,m,E,O){const j=nh(i,u,1,null);let q=j<<Va.SHIFT,fe=br();r===fe&&(fe=null),null===fe&&(q|=Va.APPEND_EAGERLY),O&&(q|=Va.COMMENT,function Yi(i){void 0===gn&&(gn=i())}(Ql)),m.push(q,null===E?"":E);const Ne=Df(i,j,O?32:1,null===E?"":E,null);$_(a,Ne);const Tt=Ne.index;return hs(Ne,!1),null!==fe&&r!==fe&&function n(i,r){let a=i.insertBeforeIndex;null===a?(Wd(F_,L_),a=i.insertBeforeIndex=[null,r]):(function At(i,r,a){i!=r&&$t(a,i,r,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(r))}(fe,Tt),Ne}function pb(i,r,a,u,m,E,O){const j=O.match(V_),q=yy(i,r,a,E,u,j?null:O,!1);j&&Gm(m,O,q.index,null,0,null)}function Gm(i,r,a,u,m,E){const O=i.length,j=O+1;i.push(null,null);const q=O+2,fe=r.split(V_);let Ne=0;for(let Tt=0;Tt<fe.length;Tt++){const fn=fe[Tt];if(1&Tt){const In=m+parseInt(fn,10);i.push(-1-In),Ne|=by(In)}else""!==fn&&i.push(fn)}return i.push(a<<2|(u?1:0)),u&&i.push(u,E),i[O]=Ne,i[j]=i.length-q,Ne}function by(i){return 1<<Math.min(i,31)}function Ey(i){let r,E,a="",u=0,m=!1;for(;null!==(r=cb.exec(i));)m?r[0]===`${jm}/*${E}${jm}`&&(u=r.index,m=!1):(a+=i.substring(u,r.index+r[0].length),E=r[1],m=!0);return a+=i.slice(u),a}function Cy(i,r,a,u,m,E){let O=0;const j={type:m.type,currentCaseLViewIndex:nh(i,r,1,null),anchorIdx:E,cases:[],create:[],remove:[],update:[]};(function Cb(i,r,a){i.push(by(r.mainBinding),2,-1-r.mainBinding,a<<2|2)})(a,m,E),function e(i,r,a){const u=i.data[r];null===u?i.data[r]=a:u.value=a}(i,E,j);const q=m.values;for(let fe=0;fe<q.length;fe++){const Ne=q[fe],Tt=[];for(let fn=0;fn<Ne.length;fn++){const In=Ne[fn];if("string"!=typeof In){const ui=Tt.push(In)-1;Ne[fn]=`\x3c!--\ufffd${ui}\ufffd--\x3e`}}O=bb(i,j,r,a,u,m.cases[fe],Ne.join(""),Tt)|O}O&&function wb(i,r,a){i.push(r,1,a<<2|3)}(a,O,E)}function yb(i){const r=[],a=[];let u=1,m=0;const E=Dv(i=i.replace(vy,function(O,j,q){return u="select"===q?0:1,m=parseInt(j.slice(1),10),""}));for(let O=0;O<E.length;){let j=E[O++].trim();1===u&&(j=j.replace(/\s*(?:=)?(\w+)\s*/,"$1")),j.length&&r.push(j);const q=Dv(E[O++]);r.length>a.length&&a.push(q)}return{type:u,mainBinding:m,cases:r,values:a}}function Dv(i){if(!i)return[];let r=0;const a=[],u=[],m=/[{}]/g;let E;for(m.lastIndex=0;E=m.exec(i);){const j=E.index;if("}"==E[0]){if(a.pop(),0==a.length){const q=i.substring(r,j);vy.test(q)?u.push(yb(q)):u.push(q),r=j+1}}else{if(0==a.length){const q=i.substring(r,j);u.push(q),r=j+1}a.push("{")}}const O=i.substring(r);return u.push(O),u}function bb(i,r,a,u,m,E,O,j){const q=[],fe=[],Ne=[];r.cases.push(E),r.create.push(q),r.remove.push(fe),r.update.push(Ne);const fn=rf(Tu()).getInertBodyElement(O),In=sf(fn)||fn;return In?wy(i,r,a,u,q,fe,Ne,In,m,j,0):0}function wy(i,r,a,u,m,E,O,j,q,fe,Ne){let Tt=0,fn=j.firstChild;for(;fn;){const In=nh(i,a,1,null);switch(fn.nodeType){case Node.ELEMENT_NODE:const ui=fn,Ri=ui.tagName.toLowerCase();if(ti.hasOwnProperty(Ri)){Sv(m,tm,Ri,q,In),i.data[In]=Ri;const Ti=ui.attributes;for(let ts=0;ts<Ti.length;ts++){const ca=Ti.item(ts),ll=ca.name.toLowerCase();ca.value.match(V_)?ba.hasOwnProperty(ll)&&Gm(O,ca.value,In,ca.name,0,ir[ll]?w:null):Tb(m,In,ca)}Tt=wy(i,r,a,u,m,E,O,fn,In,fe,Ne+1)|Tt,Ty(E,In,Ne)}break;case Node.TEXT_NODE:const ur=fn.textContent||"",Tr=ur.match(V_);Sv(m,null,Tr?"":ur,q,In),Ty(E,In,Ne),Tr&&(Tt=Gm(O,ur,In,null,0,null)|Tt);break;case Node.COMMENT_NODE:const Vr=lb.exec(fn.textContent||"");if(Vr){const ts=fe[parseInt(Vr[1],10)];Sv(m,nm,"",q,In),Cy(i,a,u,q,ts,In),Eb(E,In,Ne)}}fn=fn.nextSibling}return Tt}function Ty(i,r,a){0===a&&i.push(r)}function Eb(i,r,a){0===a&&(i.push(~r),i.push(r))}function Sv(i,r,a,u,m){null!==r&&i.push(r),i.push(a,m,function se(i,r,a){return i|r<<17|a<<1}(0,u,m))}function Tb(i,r,a){i.push(r<<1|1,a.name,a.value)}function Dy(i,r,a=-1){const u=K(),m=W(),E=Sr+i,O=x(u.consts,r),j=br();u.firstCreatePass&&function fb(i,r,a,u,m,E){const O=br(),j=[],q=[],fe=[[]];m=function vb(i,r){if(function _b(i){return-1===i}(r))return Ey(i);{const a=i.indexOf(`:${r}${jm}`)+2+r.toString().length,u=i.search(new RegExp(`${jm}\\/\\*\\d+:${r}${jm}`));return Ey(i.substring(a,u))}}(m,E);const Ne=function hb(i){return i.replace(db," ")}(m).split(ub);for(let Tt=0;Tt<Ne.length;Tt++){let fn=Ne[Tt];if(1&Tt){const In=47===fn.charCodeAt(0),Ri=(fn.charCodeAt(In?1:0),Sr+Number.parseInt(fn.substring(In?2:1)));if(In)fe.shift(),hs(br(),!1);else{const ur=l(i,fe[0],Ri);fe.unshift([]),hs(ur,!0)}}else{const In=Dv(fn);for(let ui=0;ui<In.length;ui++){let Ri=In[ui];if(1&ui){const ur=Ri;if("object"!=typeof ur)throw new Error(`Unable to parse ICU expression in "${m}" message.`);Cy(i,a,q,r,ur,yy(i,O,fe[0],a,j,"",!0).index)}else""!==Ri&&pb(i,O,fe[0],j,q,a,Ri)}}}i.data[u]={create:j,update:q}}(u,null===j?0:j.index,m,E,O,a);const q=u.data[E],Ne=su(u,j===m[sn]?null:j,m);(function ni(i,r,a,u){const m=i[Gt];for(let E=0;E<r.length;E++){const O=r[E++],j=r[E],fe=(O&Va.APPEND_EAGERLY)===Va.APPEND_EAGERLY,Ne=O>>>Va.SHIFT;let Tt=i[Ne];null===Tt&&(Tt=i[Ne]=(O&Va.COMMENT)===Va.COMMENT?m.createComment(j):Wo(m,j)),fe&&null!==a&&$a(m,a,Tt,u,!1)}})(m,q.create,Ne,j&&8&j.type?m[j.index]:null),ma(!0)}function Ay(i,r,a){Dy(i,r,a),function Sy(){ma(!1)}()}function Av(i){return function Zt(i){i&&(pe|=1<<Math.min(Ke,31)),Ke++}(Ll(W(),ja(),i)),Av}function My(i){!function Cn(i,r,a){if(Ke>0){const u=i.data[a];lr(i,r,Array.isArray(u)?u:u.update,cs()-Ke-1,pe)}pe=0,Ke=0}(K(),W(),i+Sr)}function Mv(i,r,a,u,m){if(i=Ue(i),Array.isArray(i))for(let E=0;E<i.length;E++)Mv(i[E],r,a,u,m);else{const E=K(),O=W();let j=qr(i)?i:Ue(i.provide),q=el(i);const fe=_n(),Ne=1048575&fe.providerIndexes,Tt=fe.directiveStart,fn=fe.providerIndexes>>20;if(qr(i)||!i.multi){const In=new Dt(q,m,ed),ui=Ov(j,r,m?Ne:Ne+fn,Tt);-1===ui?(hu(xa(fe,O),E,j),xv(E,i,r.length),r.push(j),fe.directiveStart++,fe.directiveEnd++,m&&(fe.providerIndexes+=1048576),a.push(In),O.push(In)):(a[ui]=In,O[ui]=In)}else{const In=Ov(j,r,Ne+fn,Tt),ui=Ov(j,r,Ne,Ne+fn),ur=ui>=0&&a[ui];if(m&&!ur||!m&&!(In>=0&&a[In])){hu(xa(fe,O),E,j);const Tr=function $b(i,r,a,u,m){const E=new Dt(i,a,ed);return E.multi=[],E.index=r,E.componentProviders=0,xy(E,m,u&&!a),E}(m?Lb:Fb,a.length,m,u,q);!m&&ur&&(a[ui].providerFactory=Tr),xv(E,i,r.length,0),r.push(j),fe.directiveStart++,fe.directiveEnd++,m&&(fe.providerIndexes+=1048576),a.push(Tr),O.push(Tr)}else xv(E,i,In>-1?In:ui,xy(a[m?ui:In],q,!m&&u));!m&&u&&ur&&a[ui].componentProviders++}}}function xv(i,r,a,u){const m=qr(r),E=function ps(i){return!!i.useClass}(r);if(m||E){const q=(E?Ue(r.useClass):r).prototype.ngOnDestroy;if(q){const fe=i.destroyHooks||(i.destroyHooks=[]);if(!m&&r.multi){const Ne=fe.indexOf(a);-1===Ne?fe.push(a,[u,q]):fe[Ne+1].push(u,q)}else fe.push(a,q)}}}function xy(i,r,a){return a&&i.componentProviders++,i.multi.push(r)-1}function Ov(i,r,a,u){for(let m=a;m<u;m++)if(r[m]===i)return m;return-1}function Fb(i,r,a,u){return Rv(this.multi,[])}function Lb(i,r,a,u){const m=this.multi;let E;if(this.providerFactory){const O=this.providerFactory.componentProviders,j=Ya(a,a[yi],this.providerFactory.index,u);E=j.slice(0,O),Rv(m,E);for(let q=O;q<j.length;q++)E.push(j[q])}else E=[],Rv(m,E);return E}function Rv(i,r){for(let a=0;a<i.length;a++)r.push((0,i[a])());return r}function Oy(i,r=[]){return a=>{a.providersResolver=(u,m)=>function kb(i,r,a){const u=K();if(u.firstCreatePass){const m=Ur(i);Mv(a,u.data,u.blueprint,m,!0),Mv(r,u.data,u.blueprint,m,!1)}}(u,m?m(i):i,r)}}class rm{}class Ry{}function Bb(i,r){return new Ny(i,null!=r?r:null)}class Ny extends rm{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xp(this);const u=Rr(r);this._bootstrapComponents=Qu(u.bootstrap),this._r3Injector=bf(r,a,[{provide:rm,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],Fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Nv extends Ry{constructor(r){super(),this.moduleType=r}create(r){return new Ny(this.moduleType,r)}}class Ub extends rm{constructor(r,a,u){super(),this.componentFactoryResolver=new Xp(this),this.instance=null;const m=new Yo([...r,{provide:rm,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],a||Ks(),u,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Pv(i,r,a=null){return new Ub(i,r,a).injector}let Vb=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=ln(0,a.type),m=u.length>0?Pv([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,m)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=qe({token:i,providedIn:"environment",factory:()=>new i(we(vs))}),i})();function Py(i){i.getStandaloneInjector=r=>r.get(Vb).getOrCreateStandaloneInjector(i)}function Vy(i,r,a){const u=zs()+i,m=W();return m[u]===Xr?td(m,u,a?r.call(a):r()):function gd(i,r){return i[r]}(m,u)}function Hy(i,r,a,u){return zy(W(),zs(),i,r,a,u)}function jy(i,r,a,u,m){return Wy(W(),zs(),i,r,a,u,m)}function Gy(i,r,a,u,m,E){return function Yy(i,r,a,u,m,E,O,j){const q=r+a;return tg(i,q,m,E,O)?td(i,q+3,j?u.call(j,m,E,O):u(m,E,O)):zm(i,q+3)}(W(),zs(),i,r,a,u,m,E)}function zm(i,r){const a=i[r];return a===Xr?void 0:a}function zy(i,r,a,u,m,E){const O=r+a;return Ll(i,O,m)?td(i,O+1,E?u.call(E,m):u(m)):zm(i,O+1)}function Wy(i,r,a,u,m,E,O){const j=r+a;return Bd(i,j,m,E)?td(i,j+2,O?u.call(O,m,E):u(m,E)):zm(i,j+2)}function Zy(i,r){const a=K();let u;const m=i+Sr;a.firstCreatePass?(u=function nE(i,r){if(r)for(let a=r.length-1;a>=0;a--){const u=r[a];if(i===u.name)return u}}(r,a.pipeRegistry),a.data[m]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(m,u.onDestroy)):u=a.data[m];const E=u.factory||(u.factory=oo(u.type)),O=ii(ed);try{const j=Aa(!1),q=E();return Aa(j),function ht(i,r,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),r[a]=u}(a,W(),m,q),q}finally{ii(O)}}function Xy(i,r,a){const u=i+Sr,m=W(),E=zr(m,u);return Wm(m,u)?zy(m,zs(),r,E.transform,a,E):E.transform(a)}function Jy(i,r,a,u){const m=i+Sr,E=W(),O=zr(E,m);return Wm(E,m)?Wy(E,zs(),r,O.transform,a,u,O):O.transform(a,u)}function Wm(i,r){return i[yi].data[r].pure}function Fv(i){return r=>{setTimeout(i,void 0,r)}}const Zh=class oE extends t.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,u){let m=r,E=a||(()=>null),O=u;if(r&&"object"==typeof r){var j,q,fe;const Tt=r;m=null===(j=Tt.next)||void 0===j?void 0:j.bind(Tt),E=null===(q=Tt.error)||void 0===q?void 0:q.bind(Tt),O=null===(fe=Tt.complete)||void 0===fe?void 0:fe.bind(Tt)}this.__isAsync&&(E=Fv(E),m&&(m=Fv(m)),O&&(O=Fv(O)));const Ne=super.subscribe({next:m,error:E,complete:O});return r instanceof Z.w0&&r.add(Ne),Ne}};function aE(){return this._results[Symbol.iterator]()}class Lv{get changes(){return this._changes||(this._changes=new Zh)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Lv.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=aE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const u=this;u.dirty=!1;const m=function Es(i){return i.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ka(i,r,a){if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++){let m=i[u],E=r[u];if(a&&(m=a(m),E=a(E)),E!==m)return!1}return!0}(u._results,m,a))&&(u._results=m,u.length=m.length,u.last=m[this.length-1],u.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ym=(()=>{class i{}return i.__NG_ELEMENT_ID__=uE,i})();const lE=Ym,cE=class extends lE{constructor(r,a,u){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(r,a){const u=this._declarationTContainer.tViews,m=xh(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,a||null);m[li]=this._declarationLView[this._declarationTContainer.index];const O=this._declarationLView[Gi];return null!==O&&(m[Gi]=O.createEmbeddedView(u)),Mu(u,m,r),new kh(m)}};function uE(){return H_(_n(),W())}function H_(i,r){return 4&i.type?new cE(r,i,Tl(i,r)):null}let j_=(()=>{class i{}return i.__NG_ELEMENT_ID__=dE,i})();function dE(){return t0(_n(),W())}const hE=j_,Qy=class extends hE{constructor(r,a,u){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=u}get element(){return Tl(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const r=wc(this._hostTNode,this._hostLView);if(Is(r)){const a=os(r,this._hostLView),u=Ar(r);return new Fs(a[yi].data[u+8],a)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=e0(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-Ms}createEmbeddedView(r,a,u){let m,E;"number"==typeof u?m=u:null!=u&&(m=u.index,E=u.injector);const O=r.createEmbeddedView(a||{},E);return this.insert(O,m),O}createComponent(r,a,u,m,E){const O=r&&!function na(i){return"function"==typeof i}(r);let j;if(O)j=a;else{const Tt=a||{};j=Tt.index,u=Tt.injector,m=Tt.projectableNodes,E=Tt.environmentInjector||Tt.ngModuleRef}const q=O?r:new Fh(vi(r)),fe=u||this.parentInjector;if(!E&&null==q.ngModule){const fn=(O?fe:this.parentInjector).get(vs,null);fn&&(E=fn)}const Ne=q.create(fe,m,void 0,E);return this.insert(Ne.hostView,j),Ne}insert(r,a){const u=r._lView,m=u[yi];if(function nc(i){return dr(i[Wi])}(u)){const Ne=this.indexOf(r);if(-1!==Ne)this.detach(Ne);else{const Tt=u[Wi],fn=new Qy(Tt,Tt[sn],Tt[Wi]);fn.detach(fn.indexOf(r))}}const E=this._adjustIndex(a),O=this._lContainer;!function Kl(i,r,a,u){const m=Ms+u,E=a.length;u>0&&(a[m-1][or]=r),u<E-Ms?(r[or]=a[m],Rl(a,Ms+u,r)):(a.push(r),r[or]=null),r[Wi]=a;const O=r[li];null!==O&&a!==O&&function Vu(i,r){const a=i[Xs];r[On]!==r[Wi][Wi][On]&&(i[Zs]=!0),null===a?i[Xs]=[r]:a.push(r)}(O,r);const j=r[Gi];null!==j&&j.insertView(i),r[sr]|=64}(m,u,O,E);const j=ud(E,O),q=u[Gt],fe=Cl(q,O[Eo]);return null!==fe&&function bc(i,r,a,u,m,E){u[ns]=m,u[sn]=r,bu(i,u,a,1,m,E)}(m,O[sn],q,u,fe,j),r.attachToViewContainerRef(),Rl($v(O),E,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=e0(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),u=ad(this._lContainer,a);u&&(ia($v(this._lContainer),a),xo(u[yi],u))}detach(r){const a=this._adjustIndex(r,-1),u=ad(this._lContainer,a);return u&&null!=ia($v(this._lContainer),a)?new kh(u):null}_adjustIndex(r,a=0){return null==r?this.length+a:r}};function e0(i){return i[po]}function $v(i){return i[po]||(i[po]=[])}function t0(i,r){let a;const u=r[i.index];if(dr(u))a=u;else{let m;if(8&i.type)m=Qr(u);else{const E=r[Gt];m=E.createComment("");const O=ds(i,r);$a(E,Cl(E,O),m,function Gu(i,r){return i.nextSibling(r)}(E,O),!1)}r[i.index]=a=pp(u,r,m,i),Pf(r,a)}return new Qy(a,i,r)}class Bv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Bv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const u=null!==r.contentQueries?r.contentQueries[0]:a.length,m=[];for(let E=0;E<u;E++){const O=a.getByIndex(E);m.push(this.queries[O.indexInDeclarationView].clone())}return new Uv(m)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==d0(r,a).matches&&this.queries[a].setDirty()}}class n0{constructor(r,a,u=null){this.predicate=r,this.flags=a,this.read=u}}class Vv{constructor(r=[]){this.queries=r}elementStart(r,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let u=0;u<this.length;u++){const m=null!==a?a.length:0,E=this.getByIndex(u).embeddedTView(r,m);E&&(E.indexInDeclarationView=u,null!==a?a.push(E):a=[E])}return null!==a?new Vv(a):null}template(r,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Hv{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new Hv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let m=0;m<u.length;m++){const E=u[m];this.matchTNodeWithReadOption(r,a,fE(a,E)),this.matchTNodeWithReadOption(r,a,Nc(a,r,E,!1,!1))}else u===Ym?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,Nc(a,r,u,!1,!1))}matchTNodeWithReadOption(r,a,u){if(null!==u){const m=this.metadata.read;if(null!==m)if(m===Il||m===j_||m===Ym&&4&a.type)this.addMatch(a.index,-2);else{const E=Nc(a,r,m,!1,!1);null!==E&&this.addMatch(a.index,E)}else this.addMatch(a.index,u)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function fE(i,r){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===r)return a[u+1];return null}function gE(i,r,a,u){return-1===a?function pE(i,r){return 11&i.type?Tl(i,r):4&i.type?H_(i,r):null}(r,i):-2===a?function mE(i,r,a){return a===Il?Tl(r,i):a===Ym?H_(r,i):a===j_?t0(r,i):void 0}(i,r,u):Ya(i,i[yi],a,r)}function r0(i,r,a,u){const m=r[Gi].queries[u];if(null===m.matches){const E=i.data,O=a.matches,j=[];for(let q=0;q<O.length;q+=2){const fe=O[q];j.push(fe<0?null:gE(r,E[fe],O[q+1],a.metadata.read))}m.matches=j}return m.matches}function jv(i,r,a,u){const m=i.queries.getByIndex(a),E=m.matches;if(null!==E){const O=r0(i,r,m,a);for(let j=0;j<E.length;j+=2){const q=E[j];if(q>0)u.push(O[j/2]);else{const fe=E[j+1],Ne=r[-q];for(let Tt=Ms;Tt<Ne.length;Tt++){const fn=Ne[Tt];fn[li]===fn[Wi]&&jv(fn[yi],fn,fe,u)}if(null!==Ne[Xs]){const Tt=Ne[Xs];for(let fn=0;fn<Tt.length;fn++){const In=Tt[fn];jv(In[yi],In,fe,u)}}}}}return u}function s0(i){const r=W(),a=K(),u=Da();rc(u+1);const m=d0(a,u);if(i.dirty&&function il(i){return 4==(4&i[sr])}(r)===(2==(2&m.metadata.flags))){if(null===m.matches)i.reset([]);else{const E=m.crossesNgTemplate?jv(a,r,u,[]):r0(a,r,m,u);i.reset(E,wh),i.notifyOnChanges()}return!0}return!1}function o0(i,r,a){const u=K();u.firstCreatePass&&(u0(u,new n0(i,r,a),-1),2==(2&r)&&(u.staticViewQueries=!0)),c0(u,W(),r)}function a0(i,r,a,u){const m=K();if(m.firstCreatePass){const E=_n();u0(m,new n0(r,a,u),E.index),function vE(i,r){const a=i.contentQueries||(i.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,r)}(m,i),2==(2&a)&&(m.staticContentQueries=!0)}c0(m,W(),a)}function l0(){return function _E(i,r){return i[Gi].queries[r].queryList}(W(),Da())}function c0(i,r,a){const u=new Lv(4==(4&a));Up(i,r,u,u.destroy),null===r[Gi]&&(r[Gi]=new Uv),r[Gi].queries.push(new Bv(u))}function u0(i,r,a){null===i.queries&&(i.queries=new Vv),i.queries.track(new Hv(r,a))}function d0(i,r){return i.queries.getByIndex(r)}function h0(i,r){return H_(i,r)}function Gv(i){return!!Rr(i)}const $E=hc("Input",i=>({bindingPropertyName:i})),BE=hc("Output",i=>({bindingPropertyName:i}));function z_(...i){}const x0=new Mr("Application Initializer");let W_=(()=>{class i{constructor(a){this.appInits=a,this.resolve=z_,this.reject=z_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,m)=>{this.resolve=u,this.reject=m})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const E=this.appInits[m]();if(Yn(E))a.push(E);else if(xr(E)){const O=new Promise((j,q)=>{E.subscribe({complete:j,error:q})});a.push(O)}}Promise.all(a).then(()=>{u()}).catch(m=>{this.reject(m)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(we(x0,8))},i.\u0275prov=qe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const O0=new Mr("AppId",{providedIn:"root",factory:function R0(){return`${qv()}${qv()}${qv()}`}});function qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const N0=new Mr("Platform Initializer"),UE=new Mr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),P0=new Mr("appBootstrapListener");let VE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Y_=new Mr("LocaleId",{providedIn:"root",factory:()=>on(Y_,Mt.Optional|Mt.SkipSelf)||function HE(){return typeof $localize<"u"&&$localize.locale||qh}()}),jE=new Mr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class GE{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let zE=(()=>{class i{compileModuleSync(a){return new Nv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),E=Qu(Rr(a).declarations).reduce((O,j)=>{const q=vi(j);return q&&O.push(new Fh(q)),O},[]);return new GE(u,E)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const KE=(()=>Promise.resolve(0))();function Zv(i){typeof Zone>"u"?KE.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ud{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zh(!1),this.onMicrotaskEmpty=new Zh(!1),this.onStable=new Zh(!1),this.onError=new Zh(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!u&&a,m.shouldCoalesceRunChangeDetection=u,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function qE(){let i=Xn.requestAnimationFrame,r=Xn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&r){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function JE(i){const r=()=>{!function XE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Xn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Jv(i),i.isCheckStableRunning=!0,Xv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Jv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,m,E,O,j)=>{try{return L0(i),a.invokeTask(m,E,O,j)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||i.shouldCoalesceRunChangeDetection)&&r(),$0(i)}},onInvoke:(a,u,m,E,O,j,q)=>{try{return L0(i),a.invoke(m,E,O,j,q)}finally{i.shouldCoalesceRunChangeDetection&&r(),$0(i)}},onHasTask:(a,u,m,E)=>{a.hasTask(m,E),u===m&&("microTask"==E.change?(i._hasPendingMicrotasks=E.microTask,Jv(i),Xv(i)):"macroTask"==E.change&&(i.hasPendingMacrotasks=E.macroTask))},onHandleError:(a,u,m,E)=>(a.handleError(m,E),i.runOutsideAngular(()=>i.onError.emit(E)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ud.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Ud.isInAngularZone())throw new be(909,!1)}run(r,a,u){return this._inner.run(r,a,u)}runTask(r,a,u,m){const E=this._inner,O=E.scheduleEventTask("NgZoneEvent: "+m,r,ZE,z_,z_);try{return E.runTask(O,a,u)}finally{E.cancelTask(O)}}runGuarded(r,a,u){return this._inner.runGuarded(r,a,u)}runOutsideAngular(r){return this._outer.run(r)}}const ZE={};function Xv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Jv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function L0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function $0(i){i._nesting--,Xv(i)}class QE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zh,this.onMicrotaskEmpty=new Zh,this.onStable=new Zh,this.onError=new Zh}run(r,a,u){return r.apply(a,u)}runGuarded(r,a,u){return r.apply(a,u)}runOutsideAngular(r){return r()}runTask(r,a,u,m){return r.apply(a,u)}}const B0=new Mr(""),U0=new Mr("");let Qv,eC=(()=>{class i{constructor(a,u,m){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qv||(function tC(i){Qv=i}(m),m.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ud.assertNotInAngularZone(),Zv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,m){let E=-1;u&&u>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==E),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:E,updateCb:m})}whenStable(a,u,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,m){return[]}}return i.\u0275fac=function(a){return new(a||i)(we(Ud),we(V0),we(U0))},i.\u0275prov=qe({token:i,factory:i.\u0275fac}),i})(),V0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){var m,E;return null!==(m=null===(E=Qv)||void 0===E?void 0:E.findTestabilityInTree(this,a,u))&&void 0!==m?m:null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Dp=null;const H0=new Mr("AllowMultipleToken"),ey=new Mr("PlatformDestroyListeners"),Kf=!1;class rC{constructor(r,a){this.name=r,this.token=a}}function G0(i,r,a=[]){const u=`Platform: ${r}`,m=new Mr(u);return(E=[])=>{let O=ty();if(!O||O.injector.get(H0,!1)){const j=[...a,...E,{provide:m,useValue:!0}];i?i(j):function sC(i){if(Dp&&!Dp.get(H0,!1))throw new be(400,!1);Dp=i;const r=i.get(W0);(function j0(i){const r=i.get(N0,null);r&&r.forEach(a=>a())})(i)}(function z0(i=[],r){return uu.create({name:r,providers:[{provide:fo,useValue:"platform"},{provide:ey,useValue:new Set([()=>Dp=null])},...i]})}(j,u))}return function aC(i){const r=ty();if(!r)throw new be(401,!1);return r}()}}function ty(){var i,r;return null!==(i=null===(r=Dp)||void 0===r?void 0:r.get(W0))&&void 0!==i?i:null}let W0=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const m=function K0(i,r){let a;return a="noop"===i?new QE:("zone.js"===i?void 0:i)||new Ud(r),a}(null==u?void 0:u.ngZone,function Y0(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),E=[{provide:Ud,useValue:m}];return m.run(()=>{const O=uu.create({providers:E,parent:this.injector,name:a.moduleType.name}),j=a.create(O),q=j.injector.get(Xl,null);if(!q)throw new be(402,!1);return m.runOutsideAngular(()=>{const fe=m.onError.subscribe({next:Ne=>{q.handleError(Ne)}});j.onDestroy(()=>{q_(this._modules,j),fe.unsubscribe()})}),function q0(i,r,a){try{const u=a();return Yn(u)?u.catch(m=>{throw r.runOutsideAngular(()=>i.handleError(m)),m}):u}catch(u){throw r.runOutsideAngular(()=>i.handleError(u)),u}}(q,m,()=>{const fe=j.injector.get(W_);return fe.runInitializers(),fe.donePromise.then(()=>(k_(j.injector.get(Y_,qh)||qh),this._moduleDoBootstrap(j),j))})})}bootstrapModule(a,u=[]){const m=Z0({},u);return function nC(i,r,a){const u=new Nv(a);return Promise.resolve(u)}(0,0,a).then(E=>this.bootstrapModuleFactory(E,m))}_moduleDoBootstrap(a){const u=a.injector.get(K_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(m=>u.bootstrap(m));else{if(!a.instance.ngDoBootstrap)throw new be(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(ey,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(we(uu))},i.\u0275prov=qe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Z0(i,r){return Array.isArray(r)?r.reduce(Z0,i):{...i,...r}}let K_=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,u,m){this._zone=a,this._injector=u,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new ie.y(j=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{j.next(this._stable),j.complete()})}),O=new ie.y(j=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Ud.assertNotInAngularZone(),Zv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,j.next(!0))})})});const fe=this._zone.onUnstable.subscribe(()=>{Ud.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{j.next(!1)}))});return()=>{q.unsubscribe(),fe.unsubscribe()}});this.isStable=(0,oe.T)(E,O.pipe((0,ze.B)()))}bootstrap(a,u){const m=a instanceof Od;if(!this._injector.get(W_).done){!m&&Jr(a);throw new be(405,Kf)}let O;O=m?a:this._injector.get(Fl).resolveComponentFactory(a),this.componentTypes.push(O.componentType);const j=function iC(i){return i.isBoundToModule}(O)?void 0:this._injector.get(rm),fe=O.create(uu.NULL,[],u||O.selector,j),Ne=fe.location.nativeElement,Tt=fe.injector.get(B0,null);return null==Tt||Tt.registerApplication(Ne),fe.onDestroy(()=>{this.detachView(fe.hostView),q_(this.components,fe),null==Tt||Tt.unregisterApplication(Ne)}),this._loadComponent(fe),fe}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;q_(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(P0,[]);u.push(...this._bootstrapListeners),u.forEach(m=>m(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>q_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(we(Ud),we(vs),we(Xl))},i.\u0275prov=qe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function q_(i,r){const a=i.indexOf(r);a>-1&&i.splice(a,1)}function cC(){return!1}function uC(){}let dC=(()=>{class i{}return i.__NG_ELEMENT_ID__=hC,i})();function hC(i){return function fC(i,r,a){if(Ns(i)&&!a){const u=Gs(i.index,r);return new kh(u,u)}return 47&i.type?new kh(r[On],r):null}(_n(),W(),16==(16&i))}class tb{constructor(){}supports(r){return Bf(r)}create(r){return new yC(r)}}const vC=(i,r)=>r;class yC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vC}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,u=this._removalsHead,m=0,E=null;for(;a||u;){const O=!u||a&&a.currentIndex<ib(u,m,E)?a:u,j=ib(O,m,E),q=O.currentIndex;if(O===u)m--,u=u._nextRemoved;else if(a=a._next,null==O.previousIndex)m++;else{E||(E=[]);const fe=j-m,Ne=q-m;if(fe!=Ne){for(let fn=0;fn<fe;fn++){const In=fn<E.length?E[fn]:E[fn]=0,ui=In+fn;Ne<=ui&&ui<fe&&(E[fn]=In+1)}E[O.previousIndex]=Ne-fe}}j!==q&&r(O,j,q)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Bf(r))throw new be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let m,E,O,a=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let j=0;j<this.length;j++)E=r[j],O=this._trackByFn(j,E),null!==a&&Object.is(a.trackById,O)?(u&&(a=this._verifyReinsertion(a,E,O,j)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,O,j),u=!0),a=a._next}else m=0,function yp(i,r){if(Array.isArray(i))for(let a=0;a<i.length;a++)r(i[a]);else{const a=i[Symbol.iterator]();let u;for(;!(u=a.next()).done;)r(u.value)}}(r,j=>{O=this._trackByFn(m,j),null!==a&&Object.is(a.trackById,O)?(u&&(a=this._verifyReinsertion(a,j,O,m)),Object.is(a.item,j)||this._addIdentityChange(a,j)):(a=this._mismatch(a,j,O,m),u=!0),a=a._next,m++}),this.length=m;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,u,m){let E;return null===r?E=this._itTail:(E=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,E,m)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,m))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,E,m)):r=this._addAfter(new bC(a,u),E,m),r}_verifyReinsertion(r,a,u,m){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==E?r=this._reinsertAfter(E,r._prev,m):r.currentIndex!=m&&(r.currentIndex=m,this._addToMoves(r,m)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const m=r._prevRemoved,E=r._nextRemoved;return null===m?this._removalsHead=E:m._nextRemoved=E,null===E?this._removalsTail=m:E._prevRemoved=m,this._insertAfter(r,a,u),this._addToMoves(r,u),r}_moveAfter(r,a,u){return this._unlink(r),this._insertAfter(r,a,u),this._addToMoves(r,u),r}_addAfter(r,a,u){return this._insertAfter(r,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,u){const m=null===a?this._itHead:a._next;return r._next=m,r._prev=a,null===m?this._itTail=r:m._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new nb),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,u=r._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bC{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const a=r._prevDup,u=r._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class nb{constructor(){this.map=new Map}put(r){const a=r.trackById;let u=this.map.get(a);u||(u=new EC,this.map.set(a,u)),u.add(r)}get(r,a){const m=this.map.get(r);return m?m.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ib(i,r,a){const u=i.previousIndex;if(null===u)return u;let m=0;return a&&u<a.length&&(m=a[u]),u+r+m}class rb{constructor(){}supports(r){return r instanceof Map||ih(r)}create(){return new CC}}class CC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||ih(r)))throw new be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,m)=>{if(a&&a.key===m)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const E=this._getOrCreateRecordForKey(m,u);a=this._insertBeforeOrAppend(a,E)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const u=r._prev;return a._next=r,a._prev=u,r._prev=a,u&&(u._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const m=this._records.get(r);this._maybeAddToChanges(m,a);const E=m._prev,O=m._next;return E&&(E._next=O),O&&(O._prev=E),m._next=null,m._prev=null,m}const u=new wC(r);return this._records.set(r,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(u=>a(r[u],u))}}class wC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sb(){return new oy([new tb])}let oy=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const m=u.factories.slice();a=a.concat(m)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||sb()),deps:[[i,new Hs,new So]]}}find(a){const u=this.factories.find(m=>m.supports(a));if(null!=u)return u;throw new be(901,!1)}}return i.\u0275prov=qe({token:i,providedIn:"root",factory:sb}),i})();function ob(){return new ay([new rb])}let ay=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const m=u.factories.slice();a=a.concat(m)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||ob()),deps:[[i,new Hs,new So]]}}find(a){const u=this.factories.find(m=>m.supports(a));if(u)return u;throw new be(901,!1)}}return i.\u0275prov=qe({token:i,providedIn:"root",factory:ob}),i})();const DC=G0(null,"core",[]);let SC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(we(K_))},i.\u0275mod=Ot({type:i}),i.\u0275inj=Tn({}),i})();function AC(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function xC(i,r){const a=vi(i),u=r.elementInjector||Ks();return new Fh(a).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}},433:(ei,Jt,U)=>{"use strict";U.d(Jt,{u5:()=>bs,Cf:()=>Ie,JU:()=>gt,a5:()=>vn,JJ:()=>$i,On:()=>Xs,Q7:()=>ao});var t=U(4650),Z=U(6895),ie=U(8996),oe=U(9751),ze=U(4742),ct=U(8421),$e=U(3269),Fe=U(5403),vt=U(3268),Pe=U(1810),Ue=U(4004);let je=(()=>{class W{constructor(Y,Oe){this._renderer=Y,this._elementRef=Oe,this.onChange=_n=>{},this.onTouched=()=>{}}setProperty(Y,Oe){this._renderer.setProperty(this._elementRef.nativeElement,Y,Oe)}registerOnTouched(Y){this.onTouched=Y}registerOnChange(Y){this.onChange=Y}setDisabledState(Y){this.setProperty("disabled",Y)}}return W.\u0275fac=function(Y){return new(Y||W)(t.Y36(t.Qsj),t.Y36(t.SBq))},W.\u0275dir=t.lG2({type:W}),W})(),pt=(()=>{class W extends je{}return W.\u0275fac=function(){let K;return function(Oe){return(K||(K=t.n5z(W)))(Oe||W)}}(),W.\u0275dir=t.lG2({type:W,features:[t.qOj]}),W})();const gt=new t.OlP("NgValueAccessor"),Ge={provide:gt,useExisting:(0,t.Gpc)(()=>Ve),multi:!0},at=new t.OlP("CompositionEventMode");let Ve=(()=>{class W extends je{constructor(Y,Oe,_n){super(Y,Oe),this._compositionMode=_n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yt(){const W=(0,Z.q)()?(0,Z.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(Y){this.setProperty("value",null==Y?"":Y)}_handleInput(Y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Y)}_compositionStart(){this._composing=!0}_compositionEnd(Y){this._composing=!1,this._compositionMode&&this.onChange(Y)}}return W.\u0275fac=function(Y){return new(Y||W)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(at,8))},W.\u0275dir=t.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Y,Oe){1&Y&&t.NdJ("input",function(zi){return Oe._handleInput(zi.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(zi){return Oe._compositionEnd(zi.target.value)})},features:[t._Bn([Ge]),t.qOj]}),W})();const dt=!1;const Ie=new t.OlP("NgValidators"),nt=new t.OlP("NgAsyncValidators");function Lt(W){return function Ut(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}(W.value)?{required:!0}:null}function rt(W){return null}function Yt(W){return null!=W}function $t(W){const K=(0,t.QGY)(W)?(0,ie.D)(W):W;if(dt&&!(0,t.CqO)(K)){let Y="Expected async validator to return Promise or Observable.";throw"object"==typeof W&&(Y+=" Are you using a synchronous validator where an async validator is expected?"),new t.vHH(-1101,Y)}return K}function Qt(W){let K={};return W.forEach(Y=>{K=null!=Y?{...K,...Y}:K}),0===Object.keys(K).length?null:K}function Bt(W,K){return K.map(Y=>Y(W))}function qe(W){return W.map(K=>function hn(W){return!W.validate}(K)?K:Y=>K.validate(Y))}function Tn(W){return null!=W?function cn(W){if(!W)return null;const K=W.filter(Yt);return 0==K.length?null:function(Y){return Qt(Bt(Y,K))}}(qe(W)):null}function Ln(W){return null!=W?function Hn(W){if(!W)return null;const K=W.filter(Yt);return 0==K.length?null:function(Y){return function xe(...W){const K=(0,$e.jO)(W),{args:Y,keys:Oe}=(0,ze.D)(W),_n=new oe.y(zi=>{const{length:br}=Y;if(!br)return void zi.complete();const hs=new Array(br);let Io=br,ea=br;for(let Ia=0;Ia<br;Ia++){let ga=!1;(0,ct.Xf)(Y[Ia]).subscribe((0,Fe.x)(zi,Uo=>{ga||(ga=!0,ea--),hs[Ia]=Uo},()=>Io--,void 0,()=>{(!Io||!ga)&&(ea||zi.next(Oe?(0,Pe.n)(Oe,hs):hs),zi.complete())}))}});return K?_n.pipe((0,vt.Z)(K)):_n}(Bt(Y,K).map($t)).pipe((0,Ue.U)(Qt))}}(qe(W)):null}function si(W,K){return null===W?[K]:Array.isArray(W)?[...W,K]:[W,K]}function Mi(W){return W?Array.isArray(W)?W:[W]:[]}function Kt(W,K){return Array.isArray(W)?W.includes(K):W===K}function Ye(W,K){const Y=Mi(K);return Mi(W).forEach(_n=>{Kt(Y,_n)||Y.push(_n)}),Y}function ke(W,K){return Mi(K).filter(Y=>!Kt(W,Y))}class Be{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=Tn(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=Ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K){this.control&&this.control.reset(K)}hasError(K,Y){return!!this.control&&this.control.hasError(K,Y)}getError(K,Y){return this.control?this.control.getError(K,Y):null}}class Mt extends Be{get formDirective(){return null}get path(){return null}}class vn extends Be{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qn{constructor(K){this._cd=K}get isTouched(){var K,Y;return!(null===(K=this._cd)||void 0===K||null===(Y=K.control)||void 0===Y||!Y.touched)}get isUntouched(){var K,Y;return!(null===(K=this._cd)||void 0===K||null===(Y=K.control)||void 0===Y||!Y.untouched)}get isPristine(){var K,Y;return!(null===(K=this._cd)||void 0===K||null===(Y=K.control)||void 0===Y||!Y.pristine)}get isDirty(){var K,Y;return!(null===(K=this._cd)||void 0===K||null===(Y=K.control)||void 0===Y||!Y.dirty)}get isValid(){var K,Y;return!(null===(K=this._cd)||void 0===K||null===(Y=K.control)||void 0===Y||!Y.valid)}get isInvalid(){var K,Y;return!(null===(K=this._cd)||void 0===K||null===(Y=K.control)||void 0===Y||!Y.invalid)}get isPending(){var K,Y;return!(null===(K=this._cd)||void 0===K||null===(Y=K.control)||void 0===Y||!Y.pending)}get isSubmitted(){var K;return!(null===(K=this._cd)||void 0===K||!K.submitted)}}let $i=(()=>{class W extends qn{constructor(Y){super(Y)}}return W.\u0275fac=function(Y){return new(Y||W)(t.Y36(vn,2))},W.\u0275dir=t.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Y,Oe){2&Y&&t.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[t.qOj]}),W})();const xi="VALID",rr="INVALID",wt="PENDING",ye="DISABLED";function rn(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class _i{constructor(K,Y){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(K),this._assignAsyncValidators(Y)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get valid(){return this.status===xi}get invalid(){return this.status===rr}get pending(){return this.status==wt}get disabled(){return this.status===ye}get enabled(){return this.status!==ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Ye(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Ye(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(ke(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(ke(K,this._rawAsyncValidators))}hasValidator(K){return Kt(this._rawValidators,K)}hasAsyncValidator(K){return Kt(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){this.touched=!0,this._parent&&!K.onlySelf&&this._parent.markAsTouched(K)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(K=>K.markAllAsTouched())}markAsUntouched(K={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Y=>{Y.markAsUntouched({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}markAsDirty(K={}){this.pristine=!1,this._parent&&!K.onlySelf&&this._parent.markAsDirty(K)}markAsPristine(K={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Y=>{Y.markAsPristine({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}markAsPending(K={}){this.status=wt,!1!==K.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!K.onlySelf&&this._parent.markAsPending(K)}disable(K={}){const Y=this._parentMarkedDirty(K.onlySelf);this.status=ye,this.errors=null,this._forEachChild(Oe=>{Oe.disable({...K,onlySelf:!0})}),this._updateValue(),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:Y}),this._onDisabledChange.forEach(Oe=>Oe(!0))}enable(K={}){const Y=this._parentMarkedDirty(K.onlySelf);this.status=xi,this._forEachChild(Oe=>{Oe.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:Y}),this._onDisabledChange.forEach(Oe=>Oe(!1))}_updateAncestors(K){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xi||this.status===wt)&&this._runAsyncValidator(K.emitEvent)),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity(K)}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(Y=>Y._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ye:xi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K){if(this.asyncValidator){this.status=wt,this._hasOwnPendingAsyncValidator=!0;const Y=$t(this.asyncValidator(this));this._asyncValidationSubscription=Y.subscribe(Oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Oe,{emitEvent:K})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(K,Y={}){this.errors=K,this._updateControlsErrors(!1!==Y.emitEvent)}get(K){let Y=K;return null==Y||(Array.isArray(Y)||(Y=Y.split(".")),0===Y.length)?null:Y.reduce((Oe,_n)=>Oe&&Oe._find(_n),this)}getError(K,Y){const Oe=Y?this.get(Y):this;return Oe&&Oe.errors?Oe.errors[K]:null}hasError(K,Y){return!!this.getError(K,Y)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(K)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?ye:this.errors?rr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wt)?wt:this._anyControlsHaveStatus(rr)?rr:xi}_anyControlsHaveStatus(K){return this._anyControls(Y=>Y.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K={}){this.pristine=!this._anyControlsDirty(),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}_updateTouched(K={}){this.touched=this._anyControlsTouched(),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){rn(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function _e(W){return Array.isArray(W)?Tn(W):W||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function It(W){return Array.isArray(W)?Ln(W):W||null}(this._rawAsyncValidators)}}const We=new t.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>zt}),zt="always";function Jn(W,K,Y=zt){var Oe,_n;(function Bn(W,K){const Y=function ai(W){return W._rawValidators}(W);null!==K.validator?W.setValidators(si(Y,K.validator)):"function"==typeof Y&&W.setValidators([Y]);const Oe=function bi(W){return W._rawAsyncValidators}(W);null!==K.asyncValidator?W.setAsyncValidators(si(Oe,K.asyncValidator)):"function"==typeof Oe&&W.setAsyncValidators([Oe]);const _n=()=>W.updateValueAndValidity();Ot(K._rawValidators,_n),Ot(K._rawAsyncValidators,_n)})(W,K),K.valueAccessor.writeValue(W.value),(W.disabled||"always"===Y)&&(null===(Oe=(_n=K.valueAccessor).setDisabledState)||void 0===Oe||Oe.call(_n,W.disabled)),function vr(W,K){K.valueAccessor.registerOnChange(Y=>{W._pendingValue=Y,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Ni(W,K)})}(W,K),function Ir(W,K){const Y=(Oe,_n)=>{K.valueAccessor.writeValue(Oe),_n&&K.viewToModelUpdate(Oe)};W.registerOnChange(Y),K._registerOnDestroy(()=>{W._unregisterOnChange(Y)})}(W,K),function vi(W,K){K.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Ni(W,K),"submit"!==W.updateOn&&W.markAsTouched()})}(W,K),function yn(W,K){if(K.valueAccessor.setDisabledState){const Y=Oe=>{K.valueAccessor.setDisabledState(Oe)};W.registerOnDisabledChange(Y),K._registerOnDestroy(()=>{W._unregisterOnDisabledChange(Y)})}}(W,K)}function Ot(W,K){W.forEach(Y=>{Y.registerOnValidatorChange&&Y.registerOnValidatorChange(K)})}function Ni(W,K){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function Xt(W,K){const Y=W.indexOf(K);Y>-1&&W.splice(Y,1)}function Sn(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const On=class extends _i{constructor(K=null,Y,Oe){super(function he(W){return(rn(W)?W.validators:W)||null}(Y),function ge(W,K){return(rn(K)?K.asyncValidators:W)||null}(Oe,Y)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(K),this._setUpdateStrategy(Y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rn(Y)&&(Y.nonNullable||Y.initialValueIsDefault)&&(this.defaultValue=Sn(K)?K.value:K)}setValue(K,Y={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==Y.emitModelToViewChange&&this._onChange.forEach(Oe=>Oe(this.value,!1!==Y.emitViewToModelChange)),this.updateValueAndValidity(Y)}patchValue(K,Y={}){this.setValue(K,Y)}reset(K=this.defaultValue,Y={}){this._applyFormState(K),this.markAsPristine(Y),this.markAsUntouched(Y),this.setValue(this.value,Y),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){Xt(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){Xt(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){Sn(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},Eo={provide:vn,useExisting:(0,t.Gpc)(()=>Xs)},po=(()=>Promise.resolve())();let Xs=(()=>{class W extends vn{constructor(Y,Oe,_n,zi,br,hs){super(),this._changeDetectorRef=br,this.callSetDisabledState=hs,this.control=new On,this._registered=!1,this.update=new t.vpe,this._parent=Y,this._setValidators(Oe),this._setAsyncValidators(_n),this.valueAccessor=function de(W,K){if(!K)return null;let Y,Oe,_n;return Array.isArray(K),K.forEach(zi=>{zi.constructor===Ve?Y=zi:function sn(W){return Object.getPrototypeOf(W.constructor)===pt}(zi)?Oe=zi:_n=zi}),_n||Oe||Y||null}(0,zi)}ngOnChanges(Y){if(this._checkForErrors(),!this._registered||"name"in Y){if(this._registered&&(this._checkName(),this.formDirective)){const Oe=Y.name.previousValue;this.formDirective.removeControl({name:Oe,path:this._getPath(Oe)})}this._setUpControl()}"isDisabled"in Y&&this._updateDisabled(Y),function Xi(W,K){if(!W.hasOwnProperty("model"))return!1;const Y=W.model;return!!Y.isFirstChange()||!Object.is(K,Y.currentValue)}(Y,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Y){this.viewModel=Y,this.update.emit(Y)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Y){po.then(()=>{var Oe;this.control.setValue(Y,{emitViewToModelChange:!1}),null===(Oe=this._changeDetectorRef)||void 0===Oe||Oe.markForCheck()})}_updateDisabled(Y){const Oe=Y.isDisabled.currentValue,_n=0!==Oe&&(0,t.D6c)(Oe);po.then(()=>{var zi;_n&&!this.control.disabled?this.control.disable():!_n&&this.control.disabled&&this.control.enable(),null===(zi=this._changeDetectorRef)||void 0===zi||zi.markForCheck()})}_getPath(Y){return this._parent?function Wn(W,K){return[...K.path,W]}(Y,this._parent):[Y]}}return W.\u0275fac=function(Y){return new(Y||W)(t.Y36(Mt,9),t.Y36(Ie,10),t.Y36(nt,10),t.Y36(gt,10),t.Y36(t.sBO,8),t.Y36(We,8))},W.\u0275dir=t.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([Eo]),t.qOj,t.TTD]}),W})(),Ns=(()=>{class W{}return W.\u0275fac=function(Y){return new(Y||W)},W.\u0275mod=t.oAB({type:W}),W.\u0275inj=t.cJS({}),W})(),Bs=(()=>{class W{constructor(){this._validator=rt}ngOnChanges(Y){if(this.inputName in Y){const Oe=this.normalizeInput(Y[this.inputName].currentValue);this._enabled=this.enabled(Oe),this._validator=this._enabled?this.createValidator(Oe):rt,this._onChange&&this._onChange()}}validate(Y){return this._validator(Y)}registerOnValidatorChange(Y){this._onChange=Y}enabled(Y){return null!=Y}}return W.\u0275fac=function(Y){return new(Y||W)},W.\u0275dir=t.lG2({type:W,features:[t.TTD]}),W})();const Us={provide:Ie,useExisting:(0,t.Gpc)(()=>ao),multi:!0};let ao=(()=>{class W extends Bs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.D6c,this.createValidator=Y=>Lt}enabled(Y){return Y}}return W.\u0275fac=function(){let K;return function(Oe){return(K||(K=t.n5z(W)))(Oe||W)}}(),W.\u0275dir=t.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Y,Oe){2&Y&&t.uIk("required",Oe._enabled?"":null)},inputs:{required:"required"},features:[t._Bn([Us]),t.qOj]}),W})(),re=(()=>{class W{}return W.\u0275fac=function(Y){return new(Y||W)},W.\u0275mod=t.oAB({type:W}),W.\u0275inj=t.cJS({imports:[Ns]}),W})(),bs=(()=>{class W{static withConfig(Y){var Oe;return{ngModule:W,providers:[{provide:We,useValue:null!==(Oe=Y.callSetDisabledState)&&void 0!==Oe?Oe:zt}]}}}return W.\u0275fac=function(Y){return new(Y||W)},W.\u0275mod=t.oAB({type:W}),W.\u0275inj=t.cJS({imports:[re]}),W})()},1321:()=>{"use strict";const ei=":";class Yt extends Error{constructor(Ye){super(`No translation found for ${cn(Ye)}.`),this.parsedMessage=Ye,this.type="MissingTranslationError"}}const ai=function(Kt,...Ye){if(ai.translate){const Be=ai.translate(Kt,Ye);Kt=Be[0],Ye=Be[1]}let ke=Mi(Kt[0],Kt.raw[0]);for(let Be=1;Be<Kt.length;Be++)ke+=Ye[Be-1]+Mi(Kt[Be],Kt.raw[Be]);return ke},bi=":";function Mi(Kt,Ye){return Ye.charAt(0)===bi?Kt.substring(function rt(Kt,Ye){for(let ke=1,Be=1;ke<Kt.length;ke++,Be++)if("\\"===Ye[Be])Be++;else if(Kt[ke]===ei)return ke;throw new Error(`Unterminated $localize metadata block in "${Ye}".`)}(Kt,Ye)+1):Kt}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=ai},1481:(ei,Jt,U)=>{"use strict";U.d(Jt,{Dx:()=>Xn,b2:()=>vn,q6:()=>Ye});var t=U(6895),Z=U(4650);class ie extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends ie{static makeCurrent(){(0,t.HT)(new oe)}onAndCancel(mt,et,ft){return mt.addEventListener(et,ft,!1),()=>{mt.removeEventListener(et,ft,!1)}}dispatchEvent(mt,et){mt.dispatchEvent(et)}remove(mt){mt.parentNode&&mt.parentNode.removeChild(mt)}createElement(mt,et){return(et=et||this.getDefaultDocument()).createElement(mt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(mt){return mt.nodeType===Node.ELEMENT_NODE}isShadowRoot(mt){return mt instanceof DocumentFragment}getGlobalEventTarget(mt,et){return"window"===et?window:"document"===et?mt:"body"===et?mt.body:null}getBaseHref(mt){const et=function ct(){return ze=ze||document.querySelector("base"),ze?ze.getAttribute("href"):null}();return null==et?null:function Fe(jt){$e=$e||document.createElement("a"),$e.setAttribute("href",jt);const mt=$e.pathname;return"/"===mt.charAt(0)?mt:`/${mt}`}(et)}resetBaseElement(){ze=null}getUserAgent(){return window.navigator.userAgent}getCookie(mt){return(0,t.Mx)(document.cookie,mt)}}let $e,ze=null;const vt=new Z.OlP("TRANSITION_ID"),xe=[{provide:Z.ip1,useFactory:function Pe(jt,mt,et){return()=>{et.get(Z.CZH).donePromise.then(()=>{const ft=(0,t.q)(),qt=mt.querySelectorAll(`style[ng-transition="${jt}"]`);for(let We=0;We<qt.length;We++)ft.remove(qt[We])})}},deps:[vt,t.K0,Z.zs3],multi:!0}];let je=(()=>{class jt{build(){return new XMLHttpRequest}}return jt.\u0275fac=function(et){return new(et||jt)},jt.\u0275prov=Z.Yz7({token:jt,factory:jt.\u0275fac}),jt})();const pt=new Z.OlP("EventManagerPlugins");let gt=(()=>{class jt{constructor(et,ft){this._zone=ft,this._eventNameToPlugin=new Map,et.forEach(qt=>qt.manager=this),this._plugins=et.slice().reverse()}addEventListener(et,ft,qt){return this._findPluginFor(ft).addEventListener(et,ft,qt)}addGlobalEventListener(et,ft,qt){return this._findPluginFor(ft).addGlobalEventListener(et,ft,qt)}getZone(){return this._zone}_findPluginFor(et){const ft=this._eventNameToPlugin.get(et);if(ft)return ft;const qt=this._plugins;for(let We=0;We<qt.length;We++){const zt=qt[We];if(zt.supports(et))return this._eventNameToPlugin.set(et,zt),zt}throw new Error(`No event manager plugin found for event ${et}`)}}return jt.\u0275fac=function(et){return new(et||jt)(Z.LFG(pt),Z.LFG(Z.R0b))},jt.\u0275prov=Z.Yz7({token:jt,factory:jt.\u0275fac}),jt})();class kt{constructor(mt){this._doc=mt}addGlobalEventListener(mt,et,ft){const qt=(0,t.q)().getGlobalEventTarget(this._doc,mt);if(!qt)throw new Error(`Unsupported event target ${qt} for event ${et}`);return this.addEventListener(qt,et,ft)}}let be=(()=>{class jt{constructor(){this.usageCount=new Map}addStyles(et){for(const ft of et)1===this.changeUsageCount(ft,1)&&this.onStyleAdded(ft)}removeStyles(et){for(const ft of et)0===this.changeUsageCount(ft,-1)&&this.onStyleRemoved(ft)}onStyleRemoved(et){}onStyleAdded(et){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(et,ft){var qt;const We=this.usageCount;let zt=null!==(qt=We.get(et))&&void 0!==qt?qt:0;return zt+=ft,zt>0?We.set(et,zt):We.delete(et),zt}ngOnDestroy(){for(const et of this.getAllStyles())this.onStyleRemoved(et);this.usageCount.clear()}}return jt.\u0275fac=function(et){return new(et||jt)},jt.\u0275prov=Z.Yz7({token:jt,factory:jt.\u0275fac}),jt})(),Ge=(()=>{class jt extends be{constructor(et){super(),this.doc=et,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(et){for(const ft of this.hostNodes)this.addStyleToHost(ft,et)}onStyleRemoved(et){const ft=this.styleRef,qt=ft.get(et);null==qt||qt.forEach(We=>We.remove()),ft.delete(et)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(et){this.hostNodes.add(et);for(const ft of this.getAllStyles())this.addStyleToHost(et,ft)}removeHost(et){this.hostNodes.delete(et)}addStyleToHost(et,ft){const qt=this.doc.createElement("style");qt.textContent=ft,et.appendChild(qt);const We=this.styleRef.get(ft);We?We.push(qt):this.styleRef.set(ft,[qt])}resetHostNodes(){const et=this.hostNodes;et.clear(),et.add(this.doc.head)}}return jt.\u0275fac=function(et){return new(et||jt)(Z.LFG(t.K0))},jt.\u0275prov=Z.Yz7({token:jt,factory:jt.\u0275fac}),jt})();const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g,nt=new Z.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function At(jt,mt){return mt.flat(100).map(et=>et.replace(at,jt))}function Pt(jt){return mt=>{if("__ngUnwrap__"===mt)return jt;!1===jt(mt)&&(mt.preventDefault(),mt.returnValue=!1)}}let Lt=(()=>{class jt{constructor(et,ft,qt,We){this.eventManager=et,this.sharedStylesHost=ft,this.appId=qt,this.removeStylesOnCompDestory=We,this.rendererByCompId=new Map,this.defaultRenderer=new Et(et)}createRenderer(et,ft){if(!et||!ft)return this.defaultRenderer;const qt=this.getOrCreateRenderer(et,ft);return qt instanceof Yt?qt.applyToHost(et):qt instanceof rt&&qt.applyStyles(),qt}getOrCreateRenderer(et,ft){const qt=this.rendererByCompId;let We=qt.get(ft.id);if(!We){const zt=this.eventManager,Wn=this.sharedStylesHost,Jn=this.removeStylesOnCompDestory;switch(ft.encapsulation){case Z.ifc.Emulated:We=new Yt(zt,Wn,ft,this.appId,Jn);break;case Z.ifc.ShadowDom:return new Je(zt,Wn,et,ft);default:We=new rt(zt,Wn,ft,Jn)}We.onDestroy=()=>qt.delete(ft.id),qt.set(ft.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return jt.\u0275fac=function(et){return new(et||jt)(Z.LFG(gt),Z.LFG(Ge),Z.LFG(Z.AFp),Z.LFG(nt))},jt.\u0275prov=Z.Yz7({token:jt,factory:jt.\u0275fac}),jt})();class Et{constructor(mt){this.eventManager=mt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(mt,et){return et?document.createElementNS(yt[et]||et,mt):document.createElement(mt)}createComment(mt){return document.createComment(mt)}createText(mt){return document.createTextNode(mt)}appendChild(mt,et){(lt(mt)?mt.content:mt).appendChild(et)}insertBefore(mt,et,ft){mt&&(lt(mt)?mt.content:mt).insertBefore(et,ft)}removeChild(mt,et){mt&&mt.removeChild(et)}selectRootElement(mt,et){let ft="string"==typeof mt?document.querySelector(mt):mt;if(!ft)throw new Error(`The selector "${mt}" did not match any elements`);return et||(ft.textContent=""),ft}parentNode(mt){return mt.parentNode}nextSibling(mt){return mt.nextSibling}setAttribute(mt,et,ft,qt){if(qt){et=qt+":"+et;const We=yt[qt];We?mt.setAttributeNS(We,et,ft):mt.setAttribute(et,ft)}else mt.setAttribute(et,ft)}removeAttribute(mt,et,ft){if(ft){const qt=yt[ft];qt?mt.removeAttributeNS(qt,et):mt.removeAttribute(`${ft}:${et}`)}else mt.removeAttribute(et)}addClass(mt,et){mt.classList.add(et)}removeClass(mt,et){mt.classList.remove(et)}setStyle(mt,et,ft,qt){qt&(Z.JOm.DashCase|Z.JOm.Important)?mt.style.setProperty(et,ft,qt&Z.JOm.Important?"important":""):mt.style[et]=ft}removeStyle(mt,et,ft){ft&Z.JOm.DashCase?mt.style.removeProperty(et):mt.style[et]=""}setProperty(mt,et,ft){mt[et]=ft}setValue(mt,et){mt.nodeValue=et}listen(mt,et,ft){return"string"==typeof mt?this.eventManager.addGlobalEventListener(mt,et,Pt(ft)):this.eventManager.addEventListener(mt,et,Pt(ft))}}function lt(jt){return"TEMPLATE"===jt.tagName&&void 0!==jt.content}class Je extends Et{constructor(mt,et,ft,qt){super(mt),this.sharedStylesHost=et,this.hostEl=ft,this.shadowRoot=ft.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const We=At(qt.id,qt.styles);for(const zt of We){const Wn=document.createElement("style");Wn.textContent=zt,this.shadowRoot.appendChild(Wn)}}nodeOrShadowRoot(mt){return mt===this.hostEl?this.shadowRoot:mt}appendChild(mt,et){return super.appendChild(this.nodeOrShadowRoot(mt),et)}insertBefore(mt,et,ft){return super.insertBefore(this.nodeOrShadowRoot(mt),et,ft)}removeChild(mt,et){return super.removeChild(this.nodeOrShadowRoot(mt),et)}parentNode(mt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(mt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends Et{constructor(mt,et,ft,qt,We=ft.id){super(mt),this.sharedStylesHost=et,this.removeStylesOnCompDestory=qt,this.rendererUsageCount=0,this.styles=At(We,ft.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var mt;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(mt=this.onDestroy)||void 0===mt||mt.call(this))}}class Yt extends rt{constructor(mt,et,ft,qt,We){const zt=qt+"-"+ft.id;super(mt,et,ft,We,zt),this.contentAttr=function St(jt){return"_ngcontent-%COMP%".replace(at,jt)}(zt),this.hostAttr=function Nt(jt){return"_nghost-%COMP%".replace(at,jt)}(zt)}applyToHost(mt){this.applyStyles(),this.setAttribute(mt,this.hostAttr,"")}createElement(mt,et){const ft=super.createElement(mt,et);return super.setAttribute(ft,this.contentAttr,""),ft}}let $t=(()=>{class jt extends kt{constructor(et){super(et)}supports(et){return!0}addEventListener(et,ft,qt){return et.addEventListener(ft,qt,!1),()=>this.removeEventListener(et,ft,qt)}removeEventListener(et,ft,qt){return et.removeEventListener(ft,qt)}}return jt.\u0275fac=function(et){return new(et||jt)(Z.LFG(t.K0))},jt.\u0275prov=Z.Yz7({token:jt,factory:jt.\u0275fac}),jt})();const Qt=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={alt:jt=>jt.altKey,control:jt=>jt.ctrlKey,meta:jt=>jt.metaKey,shift:jt=>jt.shiftKey};let qe=(()=>{class jt extends kt{constructor(et){super(et)}supports(et){return null!=jt.parseEventName(et)}addEventListener(et,ft,qt){const We=jt.parseEventName(ft),zt=jt.eventCallback(We.fullKey,qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(et,We.domEventName,zt))}static parseEventName(et){const ft=et.toLowerCase().split("."),qt=ft.shift();if(0===ft.length||"keydown"!==qt&&"keyup"!==qt)return null;const We=jt._normalizeKey(ft.pop());let zt="",Wn=ft.indexOf("code");if(Wn>-1&&(ft.splice(Wn,1),zt="code."),Qt.forEach(oi=>{const Ot=ft.indexOf(oi);Ot>-1&&(ft.splice(Ot,1),zt+=oi+".")}),zt+=We,0!=ft.length||0===We.length)return null;const Jn={};return Jn.domEventName=qt,Jn.fullKey=zt,Jn}static matchEventFullKeyCode(et,ft){let qt=Bt[et.key]||et.key,We="";return ft.indexOf("code.")>-1&&(qt=et.code,We="code."),!(null==qt||!qt)&&(qt=qt.toLowerCase()," "===qt?qt="space":"."===qt&&(qt="dot"),Qt.forEach(zt=>{zt!==qt&&(0,hn[zt])(et)&&(We+=zt+".")}),We+=qt,We===ft)}static eventCallback(et,ft,qt){return We=>{jt.matchEventFullKeyCode(We,et)&&qt.runGuarded(()=>ft(We))}}static _normalizeKey(et){return"esc"===et?"escape":et}}return jt.\u0275fac=function(et){return new(et||jt)(Z.LFG(t.K0))},jt.\u0275prov=Z.Yz7({token:jt,factory:jt.\u0275fac}),jt})();const Ye=(0,Z.eFA)(Z._c5,"browser",[{provide:Z.Lbi,useValue:t.bD},{provide:Z.g9A,useValue:function ai(){oe.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function Mi(){return(0,Z.RDi)(document),document},deps:[]}]),ke=new Z.OlP(""),Be=[{provide:Z.rWj,useClass:class Ue{addToWindow(mt){Z.dqk.getAngularTestability=(ft,qt=!0)=>{const We=mt.findTestabilityInTree(ft,qt);if(null==We)throw new Error("Could not find testability for element.");return We},Z.dqk.getAllAngularTestabilities=()=>mt.getAllTestabilities(),Z.dqk.getAllAngularRootElements=()=>mt.getAllRootElements(),Z.dqk.frameworkStabilizers||(Z.dqk.frameworkStabilizers=[]),Z.dqk.frameworkStabilizers.push(ft=>{const qt=Z.dqk.getAllAngularTestabilities();let We=qt.length,zt=!1;const Wn=function(Jn){zt=zt||Jn,We--,0==We&&ft(zt)};qt.forEach(function(Jn){Jn.whenStable(Wn)})})}findTestabilityInTree(mt,et,ft){if(null==et)return null;const qt=mt.getTestability(et);return null!=qt?qt:ft?(0,t.q)().isShadowRoot(et)?this.findTestabilityInTree(mt,et.host,!0):this.findTestabilityInTree(mt,et.parentElement,!0):null}},deps:[]},{provide:Z.lri,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]},{provide:Z.dDg,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]}],Mt=[{provide:Z.zSh,useValue:"root"},{provide:Z.qLn,useFactory:function bi(){return new Z.qLn},deps:[]},{provide:pt,useClass:$t,multi:!0,deps:[t.K0,Z.R0b,Z.Lbi]},{provide:pt,useClass:qe,multi:!0,deps:[t.K0]},{provide:Lt,useClass:Lt,deps:[gt,Ge,Z.AFp,nt]},{provide:Z.FYo,useExisting:Lt},{provide:be,useExisting:Ge},{provide:Ge,useClass:Ge,deps:[t.K0]},{provide:gt,useClass:gt,deps:[pt,Z.R0b]},{provide:t.JF,useClass:je,deps:[]},[]];let vn=(()=>{class jt{constructor(et){}static withServerTransition(et){return{ngModule:jt,providers:[{provide:Z.AFp,useValue:et.appId},{provide:vt,useExisting:Z.AFp},xe]}}}return jt.\u0275fac=function(et){return new(et||jt)(Z.LFG(ke,12))},jt.\u0275mod=Z.oAB({type:jt}),jt.\u0275inj=Z.cJS({providers:[...Mt,...Be],imports:[t.ez,Z.hGG]}),jt})(),Xn=(()=>{class jt{constructor(et){this._doc=et}getTitle(){return this._doc.title}setTitle(et){this._doc.title=et||""}}return jt.\u0275fac=function(et){return new(et||jt)(Z.LFG(t.K0))},jt.\u0275prov=Z.Yz7({token:jt,factory:function(et){let ft=null;return ft=et?new et:function $i(){return new Xn((0,Z.LFG)(t.K0))}(),ft},providedIn:"root"}),jt})();typeof window<"u"&&window},9062:(ei,Jt,U)=>{"use strict";U.d(Jt,{gz:()=>$s,jw:()=>Rs,wM:()=>jr,y6:()=>oo,OD:()=>Ze,eC:()=>qe,wm:()=>Nc,wN:()=>Aa,F0:()=>jo,rH:()=>cc,Bz:()=>ws,lC:()=>to,Hx:()=>Rn,fw:()=>wo});var t=U(4650),Z=U(8996),ie=U(9646),oe=U(1135),ze=U(6805),ct=U(9841),$e=U(7272),Fe=U(9751),vt=U(8421);function Pe(R){return new Fe.y(k=>{(0,vt.Xf)(R()).subscribe(k)})}var xe=U(9635),Ue=U(576);function je(R,k){const S=(0,Ue.m)(R)?R:()=>R,V=ne=>ne.error(S());return new Fe.y(k?ne=>k.schedule(V,0,ne):V)}var pt=U(515),gt=U(727),kt=U(4482),be=U(5403);function Ge(){return(0,kt.e)((R,k)=>{let S=null;R._refCount++;const V=(0,be.x)(k,void 0,void 0,void 0,()=>{if(!R||R._refCount<=0||0<--R._refCount)return void(S=null);const ne=R._connection,Se=S;S=null,ne&&(!Se||ne===Se)&&ne.unsubscribe(),k.unsubscribe()});R.subscribe(V),V.closed||(S=R.connect())})}class yt extends Fe.y{constructor(k,S){super(),this.source=k,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,kt.A)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,null==k||k.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new gt.w0;const S=this.getSubject();k.add(this.source.subscribe((0,be.x)(S,void 0,()=>{this._teardown(),S.complete()},V=>{this._teardown(),S.error(V)},()=>this._teardown()))),k.closed&&(this._connection=null,k=gt.w0.EMPTY)}return k}refCount(){return Ge()(this)}}var at=U(7579),Ve=U(6895),dt=U(4004),Ut=U(3900),ut=U(5698),Ie=U(8675),nt=U(9300),St=U(5577),Nt=U(590);function At(R,k){return(0,Ue.m)(k)?(0,St.z)(R,k,1):(0,St.z)(R,1)}var Pt=U(8505);function Lt(R){return(0,kt.e)((k,S)=>{let Se,V=null,ne=!1;V=k.subscribe((0,be.x)(S,void 0,void 0,Re=>{Se=(0,vt.Xf)(R(Re,Lt(R)(k))),V?(V.unsubscribe(),V=null,Se.subscribe(S)):ne=!0})),ne&&(V.unsubscribe(),V=null,Se.subscribe(S))})}var Et=U(5026);function it(R){return R<=0?()=>pt.E:(0,kt.e)((k,S)=>{let V=[];k.subscribe((0,be.x)(S,ne=>{V.push(ne),R<V.length&&V.shift()},()=>{for(const ne of V)S.next(ne);S.complete()},void 0,()=>{V=null}))})}var Vt=U(8068),lt=U(6590),Je=U(4671);function rt(R,k){const S=arguments.length>=2;return V=>V.pipe(R?(0,nt.h)((ne,Se)=>R(ne,Se,V)):Je.y,it(1),S?(0,lt.d)(k):(0,Vt.T)(()=>new ze.K))}var $t=U(9718);function Qt(R){return(0,kt.e)((k,S)=>{try{k.subscribe(S)}finally{S.add(R)}})}var Bt=U(8189),hn=U(1481);const qe="primary",cn=Symbol("RouteTitle");class Tn{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const S=this.params[k];return Array.isArray(S)?S[0]:S}return null}getAll(k){if(this.has(k)){const S=this.params[k];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function Hn(R){return new Tn(R)}function Ln(R,k,S){const V=S.path.split("/");if(V.length>R.length||"full"===S.pathMatch&&(k.hasChildren()||V.length<R.length))return null;const ne={};for(let Se=0;Se<V.length;Se++){const Re=V[Se],Ht=R[Se];if(Re.startsWith(":"))ne[Re.substring(1)]=Ht;else if(Re!==Ht.path)return null}return{consumed:R.slice(0,V.length),posParams:ne}}function ai(R,k){const S=R?Object.keys(R):void 0,V=k?Object.keys(k):void 0;if(!S||!V||S.length!=V.length)return!1;let ne;for(let Se=0;Se<S.length;Se++)if(ne=S[Se],!bi(R[ne],k[ne]))return!1;return!0}function bi(R,k){if(Array.isArray(R)&&Array.isArray(k)){if(R.length!==k.length)return!1;const S=[...R].sort(),V=[...k].sort();return S.every((ne,Se)=>V[Se]===ne)}return R===k}function Mi(R){return Array.prototype.concat.apply([],R)}function Kt(R){return R.length>0?R[R.length-1]:null}function ke(R,k){for(const S in R)R.hasOwnProperty(S)&&k(R[S],S)}function Be(R){return(0,t.CqO)(R)?R:(0,t.QGY)(R)?(0,Z.D)(Promise.resolve(R)):(0,ie.of)(R)}const Mt=!1,vn={exact:function $i(R,k,S){if(!Wt(R.segments,k.segments)||!Pi(R.segments,k.segments,S)||R.numberOfChildren!==k.numberOfChildren)return!1;for(const V in k.children)if(!R.children[V]||!$i(R.children[V],k.children[V],S))return!1;return!0},subset:zn},qn={exact:function gi(R,k){return ai(R,k)},subset:function Xn(R,k){return Object.keys(k).length<=Object.keys(R).length&&Object.keys(k).every(S=>bi(R[S],k[S]))},ignored:()=>!0};function ii(R,k,S){return vn[S.paths](R.root,k.root,S.matrixParams)&&qn[S.queryParams](R.queryParams,k.queryParams)&&!("exact"===S.fragment&&R.fragment!==k.fragment)}function zn(R,k,S){return mi(R,k,k.segments,S)}function mi(R,k,S,V){if(R.segments.length>S.length){const ne=R.segments.slice(0,S.length);return!(!Wt(ne,S)||k.hasChildren()||!Pi(ne,S,V))}if(R.segments.length===S.length){if(!Wt(R.segments,S)||!Pi(R.segments,S,V))return!1;for(const ne in k.children)if(!R.children[ne]||!zn(R.children[ne],k.children[ne],V))return!1;return!0}{const ne=S.slice(0,R.segments.length),Se=S.slice(R.segments.length);return!!(Wt(R.segments,ne)&&Pi(R.segments,ne,V)&&R.children[qe])&&mi(R.children[qe],k,Se,V)}}function Pi(R,k,S){return k.every((V,ne)=>qn[S](R[ne].parameters,V.parameters))}class Si{constructor(k=new Ci([],{}),S={},V=null){this.root=k,this.queryParams=S,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return mn.serialize(this)}}class Ci{constructor(k,S){this.segments=k,this.children=S,this.parent=null,ke(S,(V,ne)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ee(this)}}class dn{constructor(k,S){this.path=k,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=Hn(this.parameters)),this._parameterMap}toString(){return wt(this)}}function Wt(R,k){return R.length===k.length&&R.every((S,V)=>S.path===k[V].path)}let Rn=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:function(){return new Dn},providedIn:"root"}),R})();class Dn{parse(k){const S=new _i(k);return new Si(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(k){const S=`/${we(k.root,!0)}`,V=function he(R){const k=Object.keys(R).map(S=>{const V=R[S];return Array.isArray(V)?V.map(ne=>`${on(S)}=${on(ne)}`).join("&"):`${on(S)}=${on(V)}`}).filter(S=>!!S);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${S}${V}${"string"==typeof k.fragment?`#${function Un(R){return encodeURI(R)}(k.fragment)}`:""}`}}const mn=new Dn;function Ee(R){return R.segments.map(k=>wt(k)).join("/")}function we(R,k){if(!R.hasChildren())return Ee(R);if(k){const S=R.children[qe]?we(R.children[qe],!1):"",V=[];return ke(R.children,(ne,Se)=>{Se!==qe&&V.push(`${Se}:${we(ne,!1)}`)}),V.length>0?`${S}(${V.join("//")})`:S}{const S=function pn(R,k){let S=[];return ke(R.children,(V,ne)=>{ne===qe&&(S=S.concat(k(V,ne)))}),ke(R.children,(V,ne)=>{ne!==qe&&(S=S.concat(k(V,ne)))}),S}(R,(V,ne)=>ne===qe?[we(R.children[qe],!1)]:[`${ne}:${we(V,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[qe]?`${Ee(R)}/${S[0]}`:`${Ee(R)}/(${S.join("//")})`}}function ot(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(R){return ot(R).replace(/%3B/gi,";")}function wi(R){return ot(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xi(R){return decodeURIComponent(R)}function rr(R){return xi(R.replace(/\+/g,"%20"))}function wt(R){return`${wi(R.path)}${function ye(R){return Object.keys(R).map(k=>`;${wi(k)}=${wi(R[k])}`).join("")}(R.parameters)}`}const _e=/^[^\/()?;=#]+/;function ge(R){const k=R.match(_e);return k?k[0]:""}const It=/^[^=?&#]+/,xn=/^[^&#]+/;class _i{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ci([],{}):new Ci([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(k.length>0||Object.keys(S).length>0)&&(V[qe]=new Ci(k,S)),V}parseSegment(){const k=ge(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new t.vHH(4009,Mt);return this.capture(k),new dn(xi(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const S=ge(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const ne=ge(this.remaining);ne&&(V=ne,this.capture(V))}k[xi(S)]=xi(V)}parseQueryParam(k){const S=function rn(R){const k=R.match(It);return k?k[0]:""}(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const Re=function jn(R){const k=R.match(xn);return k?k[0]:""}(this.remaining);Re&&(V=Re,this.capture(V))}const ne=rr(S),Se=rr(V);if(k.hasOwnProperty(ne)){let Re=k[ne];Array.isArray(Re)||(Re=[Re],k[ne]=Re),Re.push(Se)}else k[ne]=Se}parseParens(k){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=ge(this.remaining),ne=this.remaining[V.length];if("/"!==ne&&")"!==ne&&";"!==ne)throw new t.vHH(4010,Mt);let Se;V.indexOf(":")>-1?(Se=V.slice(0,V.indexOf(":")),this.capture(Se),this.capture(":")):k&&(Se=qe);const Re=this.parseChildren();S[Se]=1===Object.keys(Re).length?Re[qe]:new Ci([],Re),this.consumeOptional("//")}return S}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new t.vHH(4011,Mt)}}function jt(R){return R.segments.length>0?new Ci([],{[qe]:R}):R}function mt(R){const k={};for(const V of Object.keys(R.children)){const Se=mt(R.children[V]);(Se.segments.length>0||Se.hasChildren())&&(k[V]=Se)}return function et(R){if(1===R.numberOfChildren&&R.children[qe]){const k=R.children[qe];return new Ci(R.segments.concat(k.segments),k.children)}return R}(new Ci(R.segments,k))}function ft(R){return R instanceof Si}const qt=!1;function Jn(R,k,S,V,ne){var Se;if(0===S.length)return yn(k.root,k.root,k.root,V,ne);const Re=function vr(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new Ii(!0,0,R);let k=0,S=!1;const V=R.reduce((ne,Se,Re)=>{if("object"==typeof Se&&null!=Se){if(Se.outlets){const Ht={};return ke(Se.outlets,(kn,Ei)=>{Ht[Ei]="string"==typeof kn?kn.split("/"):kn}),[...ne,{outlets:Ht}]}if(Se.segmentPath)return[...ne,Se.segmentPath]}return"string"!=typeof Se?[...ne,Se]:0===Re?(Se.split("/").forEach((Ht,kn)=>{0==kn&&"."===Ht||(0==kn&&""===Ht?S=!0:".."===Ht?k++:""!=Ht&&ne.push(Ht))}),ne):[...ne,Se]},[]);return new Ii(S,k,V)}(S);return Re.toRoot()?yn(k.root,k.root,new Ci([],{}),V,ne):function Ht(Ei){var qi;const Vi=function Ir(R,k,S,V){if(R.isAbsolute)return new vi(k.root,!0,0);if(-1===V)return new vi(S,S===k.root,0);return function Jr(R,k,S){let V=R,ne=k,Se=S;for(;Se>ne;){if(Se-=ne,V=V.parent,!V)throw new t.vHH(4005,qt&&"Invalid number of '../'");ne=V.segments.length}return new vi(V,!1,ne-Se)}(S,V+(oi(R.commands[0])?0:1),R.numberOfDoubleDots)}(Re,k,null===(qi=R.snapshot)||void 0===qi?void 0:qi._urlSegment,Ei),Gr=Vi.processChildren?yi(Vi.segmentGroup,Vi.index,Re.commands):ns(Vi.segmentGroup,Vi.index,Re.commands);return yn(k.root,Vi.segmentGroup,Gr,V,ne)}(null===(Se=R.snapshot)||void 0===Se?void 0:Se._lastPathIndex)}function oi(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function Ot(R){return"object"==typeof R&&null!=R&&R.outlets}function yn(R,k,S,V,ne){let Re,Se={};V&&ke(V,(kn,Ei)=>{Se[Ei]=Array.isArray(kn)?kn.map(qi=>`${qi}`):`${kn}`}),Re=R===k?S:Bn(R,k,S);const Ht=jt(mt(Re));return new Si(Ht,Se,ne)}function Bn(R,k,S){const V={};return ke(R.children,(ne,Se)=>{V[Se]=ne===k?S:Bn(ne,k,S)}),new Ci(R.segments,V)}class Ii{constructor(k,S,V){if(this.isAbsolute=k,this.numberOfDoubleDots=S,this.commands=V,k&&V.length>0&&oi(V[0]))throw new t.vHH(4003,qt&&"Root segment cannot have matrix parameters");const ne=V.find(Ot);if(ne&&ne!==Kt(V))throw new t.vHH(4004,qt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vi{constructor(k,S,V){this.segmentGroup=k,this.processChildren=S,this.index=V}}function ns(R,k,S){if(R||(R=new Ci([],{})),0===R.segments.length&&R.hasChildren())return yi(R,k,S);const V=function sr(R,k,S){let V=0,ne=k;const Se={match:!1,pathIndex:0,commandIndex:0};for(;ne<R.segments.length;){if(V>=S.length)return Se;const Re=R.segments[ne],Ht=S[V];if(Ot(Ht))break;const kn=`${Ht}`,Ei=V<S.length-1?S[V+1]:null;if(ne>0&&void 0===kn)break;if(kn&&Ei&&"object"==typeof Ei&&void 0===Ei.outlets){if(!sn(kn,Ei,Re))return Se;V+=2}else{if(!sn(kn,{},Re))return Se;V++}ne++}return{match:!0,pathIndex:ne,commandIndex:V}}(R,k,S),ne=S.slice(V.commandIndex);if(V.match&&V.pathIndex<R.segments.length){const Se=new Ci(R.segments.slice(0,V.pathIndex),{});return Se.children[qe]=new Ci(R.segments.slice(V.pathIndex),R.children),yi(Se,0,ne)}return V.match&&0===ne.length?new Ci(R.segments,{}):V.match&&!R.hasChildren()?Wi(R,k,S):V.match?yi(R,0,ne):Wi(R,k,S)}function yi(R,k,S){if(0===S.length)return new Ci(R.segments,{});{const V=function Rr(R){return Ot(R[0])?R[0].outlets:{[qe]:R}}(S),ne={};return!V[qe]&&R.children[qe]&&1===R.numberOfChildren&&0===R.children[qe].segments.length?yi(R.children[qe],k,S):(ke(V,(Se,Re)=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(ne[Re]=ns(R.children[Re],k,Se))}),ke(R.children,(Se,Re)=>{void 0===V[Re]&&(ne[Re]=Se)}),new Ci(R.segments,ne))}}function Wi(R,k,S){const V=R.segments.slice(0,k);let ne=0;for(;ne<S.length;){const Se=S[ne];if(Ot(Se)){const kn=or(Se.outlets);return new Ci(V,kn)}if(0===ne&&oi(S[0])){V.push(new dn(R.segments[k].path,Xi(S[0]))),ne++;continue}const Re=Ot(Se)?Se.outlets[qe]:`${Se}`,Ht=ne<S.length-1?S[ne+1]:null;Re&&Ht&&oi(Ht)?(V.push(new dn(Re,Xi(Ht))),ne+=2):(V.push(new dn(Re,{})),ne++)}return new Ci(V,{})}function or(R){const k={};return ke(R,(S,V)=>{"string"==typeof S&&(S=[S]),null!==S&&(k[V]=Wi(new Ci([],{}),0,S))}),k}function Xi(R){const k={};return ke(R,(S,V)=>k[V]=`${S}`),k}function sn(R,k,S){return R==S.path&&ai(k,S.parameters)}const Q="imperative";class de{constructor(k,S){this.id=k,this.url=S}}class Ze extends de{constructor(k,S,V="imperative",ne=null){super(k,S),this.type=0,this.navigationTrigger=V,this.restoredState=ne}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _t extends de{constructor(k,S,V){super(k,S),this.urlAfterRedirects=V,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gt extends de{constructor(k,S,V,ne){super(k,S),this.reason=V,this.code=ne,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends de{constructor(k,S,V,ne){super(k,S),this.reason=V,this.code=ne,this.type=16}}class bt extends de{constructor(k,S,V,ne){super(k,S),this.error=V,this.target=ne,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xt extends de{constructor(k,S,V,ne){super(k,S),this.urlAfterRedirects=V,this.state=ne,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends de{constructor(k,S,V,ne){super(k,S),this.urlAfterRedirects=V,this.state=ne,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On extends de{constructor(k,S,V,ne,Se){super(k,S),this.urlAfterRedirects=V,this.state=ne,this.shouldActivate=Se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class li extends de{constructor(k,S,V,ne){super(k,S),this.urlAfterRedirects=V,this.state=ne,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends de{constructor(k,S,V,ne){super(k,S),this.urlAfterRedirects=V,this.state=ne,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dr{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qs{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zs{constructor(k,S,V){this.routerEvent=k,this.position=S,this.anchor=V,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Xs=(()=>{class R{createUrlTree(S,V,ne,Se,Re,Ht){return Jn(S||V.root,ne,Se,Re,Ht)}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac}),R})(),ec=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:function(k){return Xs.\u0275fac(k)},providedIn:"root"}),R})();class Ts{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const S=this.pathFromRoot(k);return S.length>1?S[S.length-2]:null}children(k){const S=dr(k,this._root);return S?S.children.map(V=>V.value):[]}firstChild(k){const S=dr(k,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(k){const S=Js(k,this._root);return S.length<2?[]:S[S.length-2].children.map(ne=>ne.value).filter(ne=>ne!==k)}pathFromRoot(k){return Js(k,this._root).map(S=>S.value)}}function dr(R,k){if(R===k.value)return k;for(const S of k.children){const V=dr(R,S);if(V)return V}return null}function Js(R,k){if(R===k.value)return[k];for(const S of k.children){const V=Js(R,S);if(V.length)return V.unshift(k),V}return[]}class Ns{constructor(k,S){this.value=k,this.children=S}toString(){return`TreeNode(${this.value})`}}function js(R){const k={};return R&&R.children.forEach(S=>k[S.value.outlet]=S),k}class Ur extends Ts{constructor(k,S){super(k),this.snapshot=S,Dl(this,k)}toString(){return this.snapshot.toString()}}function Ca(R,k){const S=function Qs(R,k){const Re=new Co([],{},{},"",{},qe,k,null,R.root,-1,{});return new Po("",new Ns(Re,[]))}(R,k),V=new oe.X([new dn("",{})]),ne=new oe.X({}),Se=new oe.X({}),Re=new oe.X({}),Ht=new oe.X(""),kn=new $s(V,ne,Re,Ht,Se,qe,k,S.root);return kn.snapshot=S.root,new Ur(new Ns(kn,[]),S)}class $s{constructor(k,S,V,ne,Se,Re,Ht,kn){var Ei,qi;this.url=k,this.params=S,this.queryParams=V,this.fragment=ne,this.data=Se,this.outlet=Re,this.component=Ht,this.title=null!==(Ei=null===(qi=this.data)||void 0===qi?void 0:qi.pipe((0,dt.U)(Vi=>Vi[cn])))&&void 0!==Ei?Ei:(0,ie.of)(void 0),this._futureSnapshot=kn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(k=>Hn(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(k=>Hn(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yr(R,k="emptyOnly"){const S=R.pathFromRoot;let V=0;if("always"!==k)for(V=S.length-1;V>=1;){const ne=S[V],Se=S[V-1];if(ne.routeConfig&&""===ne.routeConfig.path)V--;else{if(Se.component)break;V--}}return function Xo(R){return R.reduce((k,S)=>{var V;return{params:{...k.params,...S.params},data:{...k.data,...S.data},resolve:{...S.data,...k.resolve,...null===(V=S.routeConfig)||void 0===V?void 0:V.data,...S._resolvedData}}},{params:{},data:{},resolve:{}})}(S.slice(V))}class Co{get title(){var k;return null===(k=this.data)||void 0===k?void 0:k[cn]}constructor(k,S,V,ne,Se,Re,Ht,kn,Ei,qi,Vi){this.url=k,this.params=S,this.queryParams=V,this.fragment=ne,this.data=Se,this.outlet=Re,this.component=Ht,this.routeConfig=kn,this._urlSegment=Ei,this._lastPathIndex=qi,this._resolve=Vi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Po extends Ts{constructor(k,S){super(S),this.url=k,Dl(this,S)}toString(){return ko(this._root)}}function Dl(R,k){k.value._routerState=R,k.children.forEach(S=>Dl(R,S))}function ko(R){const k=R.children.length>0?` { ${R.children.map(ko).join(", ")} } `:"";return`${R.value}${k}`}function so(R){if(R.snapshot){const k=R.snapshot,S=R._futureSnapshot;R.snapshot=S,ai(k.queryParams,S.queryParams)||R.queryParams.next(S.queryParams),k.fragment!==S.fragment&&R.fragment.next(S.fragment),ai(k.params,S.params)||R.params.next(S.params),function si(R,k){if(R.length!==k.length)return!1;for(let S=0;S<R.length;++S)if(!ai(R[S],k[S]))return!1;return!0}(k.url,S.url)||R.url.next(S.url),ai(k.data,S.data)||R.data.next(S.data)}else R.snapshot=R._futureSnapshot,R.data.next(R._futureSnapshot.data)}function ua(R,k){const S=ai(R.params,k.params)&&function xt(R,k){return Wt(R,k)&&R.every((S,V)=>ai(S.parameters,k[V].parameters))}(R.url,k.url);return S&&!(!R.parent!=!k.parent)&&(!R.parent||ua(R.parent,k.parent))}function Ha(R,k,S){if(S&&R.shouldReuseRoute(k.value,S.value.snapshot)){const V=S.value;V._futureSnapshot=k.value;const ne=function Jo(R,k,S){return k.children.map(V=>{for(const ne of S.children)if(R.shouldReuseRoute(V.value,ne.value.snapshot))return Ha(R,V,ne);return Ha(R,V)})}(R,k,S);return new Ns(V,ne)}{if(R.shouldAttach(k.value)){const Se=R.retrieve(k.value);if(null!==Se){const Re=Se.route;return Re.value._futureSnapshot=k.value,Re.children=k.children.map(Ht=>Ha(R,Ht)),Re}}const V=function da(R){return new $s(new oe.X(R.url),new oe.X(R.params),new oe.X(R.queryParams),new oe.X(R.fragment),new oe.X(R.data),R.outlet,R.component,R)}(k.value),ne=k.children.map(Se=>Ha(R,Se));return new Ns(V,ne)}}const eo="ngNavigationCancelingError";function ha(R,k){const{redirectTo:S,navigationBehaviorOptions:V}=ft(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,ne=Zr(!1,0,k);return ne.url=S,ne.navigationBehaviorOptions=V,ne}function Zr(R,k,S){const V=new Error("NavigationCancelingError: "+(R||""));return V[eo]=!0,V.cancellationCode=k,S&&(V.url=S),V}function fa(R){return Sl(R)&&ft(R.url)}function Sl(R){return R&&R[eo]}class nl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new oo,this.attachRef=null}}let oo=(()=>{class R{constructor(){this.contexts=new Map}onChildOutletCreated(S,V){const ne=this.getOrCreateContext(S);ne.outlet=V,this.contexts.set(S,ne)}onChildOutletDestroyed(S){const V=this.getContext(S);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let V=this.getContext(S);return V||(V=new nl,this.contexts.set(S,V)),V}getContext(S){return this.contexts.get(S)||null}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const wa=!1;let to=(()=>{class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=qe,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.attachEvents=new t.vpe,this.detachEvents=new t.vpe,this.parentContexts=(0,t.f3M)(oo),this.location=(0,t.f3M)(t.s_b),this.changeDetector=(0,t.f3M)(t.sBO),this.environmentInjector=(0,t.f3M)(t.lqb)}ngOnChanges(S){if(S.name){const{firstChange:V,previousValue:ne}=S.name;if(V)return;this.isTrackedInParentContexts(ne)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ne)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(S){var V;return(null===(V=this.parentContexts.getContext(S))||void 0===V?void 0:V.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);null!=S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.vHH(4012,wa);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.vHH(4012,wa);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.vHH(4012,wa);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,V){this.activated=S,this._activatedRoute=V,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,V){if(this.isActivated)throw new t.vHH(4013,wa);this._activatedRoute=S;const ne=this.location,Re=S.snapshot.component,Ht=this.parentContexts.getOrCreateContext(this.name).children,kn=new pa(S,Ht,ne.injector);if(V&&function gr(R){return!!R.resolveComponentFactory}(V)){const Ei=V.resolveComponentFactory(Re);this.activated=ne.createComponent(Ei,ne.length,kn)}else this.activated=ne.createComponent(Re,{index:ne.length,injector:kn,environmentInjector:null!=V?V:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275dir=t.lG2({type:R,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.TTD]}),R})();class pa{constructor(k,S,V){this.route=k,this.childContexts=S,this.parent=V}get(k,S){return k===$s?this.route:k===oo?this.childContexts:this.parent.get(k,S)}}let wo=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275cmp=t.Xpm({type:R,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(S,V){1&S&&t._UZ(0,"router-outlet")},dependencies:[to],encapsulation:2}),R})();function Bs(R,k){var S;return R.providers&&!R._injector&&(R._injector=(0,t.MMx)(R.providers,k,`Route: ${R.path}`)),null!==(S=R._injector)&&void 0!==S?S:k}function To(R){const k=R.children&&R.children.map(To),S=k?{...R,children:k}:{...R};return!S.component&&!S.loadComponent&&(k||S.loadChildren)&&S.outlet&&S.outlet!==qe&&(S.component=wo),S}function Ps(R){return R.outlet||qe}function ds(R,k){const S=R.filter(V=>Ps(V)===k);return S.push(...R.filter(V=>Ps(V)!==k)),S}function lo(R){var k;if(!R)return null;if(null!==(k=R.routeConfig)&&void 0!==k&&k._injector)return R.routeConfig._injector;for(let S=R.parent;S;S=S.parent){const V=S.routeConfig;if(null!=V&&V._loadedInjector)return V._loadedInjector;if(null!=V&&V._injector)return V._injector}return null}class zr{constructor(k,S,V,ne){this.routeReuseStrategy=k,this.futureState=S,this.currState=V,this.forwardEvent=ne}activate(k){const S=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,V,k),so(this.futureState.root),this.activateChildRoutes(S,V,k)}deactivateChildRoutes(k,S,V){const ne=js(S);k.children.forEach(Se=>{const Re=Se.value.outlet;this.deactivateRoutes(Se,ne[Re],V),delete ne[Re]}),ke(ne,(Se,Re)=>{this.deactivateRouteAndItsChildren(Se,V)})}deactivateRoutes(k,S,V){const ne=k.value,Se=S?S.value:null;if(ne===Se)if(ne.component){const Re=V.getContext(ne.outlet);Re&&this.deactivateChildRoutes(k,S,Re.children)}else this.deactivateChildRoutes(k,S,V);else Se&&this.deactivateRouteAndItsChildren(S,V)}deactivateRouteAndItsChildren(k,S){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,S):this.deactivateRouteAndOutlet(k,S)}detachAndStoreRouteSubtree(k,S){const V=S.getContext(k.value.outlet),ne=V&&k.value.component?V.children:S,Se=js(k);for(const Re of Object.keys(Se))this.deactivateRouteAndItsChildren(Se[Re],ne);if(V&&V.outlet){const Re=V.outlet.detach(),Ht=V.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:Re,route:k,contexts:Ht})}}deactivateRouteAndOutlet(k,S){const V=S.getContext(k.value.outlet),ne=V&&k.value.component?V.children:S,Se=js(k);for(const Re of Object.keys(Se))this.deactivateRouteAndItsChildren(Se[Re],ne);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(k,S,V){const ne=js(S);k.children.forEach(Se=>{this.activateRoutes(Se,ne[Se.value.outlet],V),this.forwardEvent(new Rs(Se.value.snapshot))}),k.children.length&&this.forwardEvent(new Sr(k.value.snapshot))}activateRoutes(k,S,V){const ne=k.value,Se=S?S.value:null;if(so(ne),ne===Se)if(ne.component){const Ht=V.getOrCreateContext(ne.outlet);this.activateChildRoutes(k,S,Ht.children)}else this.activateChildRoutes(k,S,V);else if(ne.component){const Ht=V.getOrCreateContext(ne.outlet);if(this.routeReuseStrategy.shouldAttach(ne.snapshot)){const kn=this.routeReuseStrategy.retrieve(ne.snapshot);this.routeReuseStrategy.store(ne.snapshot,null),Ht.children.onOutletReAttached(kn.contexts),Ht.attachRef=kn.componentRef,Ht.route=kn.route.value,Ht.outlet&&Ht.outlet.attach(kn.componentRef,kn.route.value),so(kn.route.value),this.activateChildRoutes(k,null,Ht.children)}else{var Re;const kn=lo(ne.snapshot),Ei=null!==(Re=null==kn?void 0:kn.get(t._Vd))&&void 0!==Re?Re:null;Ht.attachRef=null,Ht.route=ne,Ht.resolver=Ei,Ht.injector=kn,Ht.outlet&&Ht.outlet.activateWith(ne,Ht.injector),this.activateChildRoutes(k,null,Ht.children)}}else this.activateChildRoutes(k,null,V)}}class Gs{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class il{constructor(k,S){this.component=k,this.route=S}}function ul(R,k,S){const V=R._root;return re(V,k?k._root:null,S,[V.value])}function x(R,k){const S=Symbol(),V=k.get(R,S);return V===S?"function"!=typeof R||(0,t.Z0I)(R)?k.get(R):R:V}function re(R,k,S,V,ne={canDeactivateChecks:[],canActivateChecks:[]}){const Se=js(k);return R.children.forEach(Re=>{(function M(R,k,S,V,ne={canDeactivateChecks:[],canActivateChecks:[]}){const Se=R.value,Re=k?k.value:null,Ht=S?S.getContext(R.value.outlet):null;if(Re&&Se.routeConfig===Re.routeConfig){const kn=function J(R,k,S){if("function"==typeof S)return S(R,k);switch(S){case"pathParamsChange":return!Wt(R.url,k.url);case"pathParamsOrQueryParamsChange":return!Wt(R.url,k.url)||!ai(R.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ua(R,k)||!ai(R.queryParams,k.queryParams);default:return!ua(R,k)}}(Re,Se,Se.routeConfig.runGuardsAndResolvers);kn?ne.canActivateChecks.push(new Gs(V)):(Se.data=Re.data,Se._resolvedData=Re._resolvedData),re(R,k,Se.component?Ht?Ht.children:null:S,V,ne),kn&&Ht&&Ht.outlet&&Ht.outlet.isActivated&&ne.canDeactivateChecks.push(new il(Ht.outlet.component,Re))}else Re&&He(k,Ht,ne),ne.canActivateChecks.push(new Gs(V)),re(R,null,Se.component?Ht?Ht.children:null:S,V,ne)})(Re,Se[Re.value.outlet],S,V.concat([Re.value]),ne),delete Se[Re.value.outlet]}),ke(Se,(Re,Ht)=>He(Re,S.getContext(Ht),ne)),ne}function He(R,k,S){const V=js(R),ne=R.value;ke(V,(Se,Re)=>{He(Se,ne.component?k?k.children.getContext(Re):null:k,S)}),S.canDeactivateChecks.push(new il(ne.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,ne))}function En(R){return"function"==typeof R}function Y(R){return R instanceof ze.K||"EmptyError"===(null==R?void 0:R.name)}const Oe=Symbol("INITIAL_VALUE");function _n(){return(0,Ut.w)(R=>(0,ct.a)(R.map(k=>k.pipe((0,ut.q)(1),(0,Ie.O)(Oe)))).pipe((0,dt.U)(k=>{for(const S of k)if(!0!==S){if(S===Oe)return Oe;if(!1===S||S instanceof Si)return S}return!0}),(0,nt.h)(k=>k!==Oe),(0,ut.q)(1)))}function cs(R){return(0,xe.z)((0,Pt.b)(k=>{if(ft(k))throw ha(0,k)}),(0,dt.U)(k=>!0===k))}const ja={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vo(R,k,S,V,ne){const Se=ic(R,k,S);return Se.matched?function Al(R,k,S,V){const ne=k.canMatch;if(!ne||0===ne.length)return(0,ie.of)(!0);const Se=ne.map(Re=>{const Ht=x(Re,R);return Be(function ss(R){return R&&En(R.canMatch)}(Ht)?Ht.canMatch(k,S):R.runInContext(()=>Ht(k,S)))});return(0,ie.of)(Se).pipe(_n(),cs())}(V=Bs(k,V),k,S).pipe((0,dt.U)(Re=>!0===Re?Se:{...ja})):(0,ie.of)(Se)}function ic(R,k,S){var V;if(""===k.path)return"full"===k.pathMatch&&(R.hasChildren()||S.length>0)?{...ja}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const Se=(k.matcher||Ln)(S,R,k);if(!Se)return{...ja};const Re={};ke(Se.posParams,(kn,Ei)=>{Re[Ei]=kn.path});const Ht=Se.consumed.length>0?{...Re,...Se.consumed[Se.consumed.length-1].parameters}:Re;return{matched:!0,consumedSegments:Se.consumed,remainingSegments:S.slice(Se.consumed.length),parameters:Ht,positionalParamSegments:null!==(V=Se.posParams)&&void 0!==V?V:{}}}function ma(R,k,S,V){if(S.length>0&&function Ga(R,k,S){return S.some(V=>Da(R,k,V)&&Ps(V)!==qe)}(R,S,V)){const Se=new Ci(k,function Bl(R,k,S,V){const ne={};ne[qe]=V,V._sourceSegment=R,V._segmentIndexShift=k.length;for(const Se of S)if(""===Se.path&&Ps(Se)!==qe){const Re=new Ci([],{});Re._sourceSegment=R,Re._segmentIndexShift=k.length,ne[Ps(Se)]=Re}return ne}(R,k,V,new Ci(S,R.children)));return Se._sourceSegment=R,Se._segmentIndexShift=k.length,{segmentGroup:Se,slicedSegments:[]}}if(0===S.length&&function _a(R,k,S){return S.some(V=>Da(R,k,V))}(R,S,V)){const Se=new Ci(R.segments,function Ws(R,k,S,V,ne){const Se={};for(const Re of V)if(Da(R,S,Re)&&!ne[Ps(Re)]){const Ht=new Ci([],{});Ht._sourceSegment=R,Ht._segmentIndexShift=k.length,Se[Ps(Re)]=Ht}return{...ne,...Se}}(R,k,S,V,R.children));return Se._sourceSegment=R,Se._segmentIndexShift=k.length,{segmentGroup:Se,slicedSegments:S}}const ne=new Ci(R.segments,R.children);return ne._sourceSegment=R,ne._segmentIndexShift=k.length,{segmentGroup:ne,slicedSegments:S}}function Da(R,k,S){return(!(R.hasChildren()||k.length>0)||"full"!==S.pathMatch)&&""===S.path}function rc(R,k,S,V){return!!(Ps(R)===V||V!==qe&&Da(k,S,R))&&("**"===R.path||ic(k,R,S).matched)}function Kc(R,k,S){return 0===k.length&&!R.children[S]}const fs=!1;class Ho{constructor(k){this.segmentGroup=k||null}}class sc{constructor(k){this.urlTree=k}}function Ul(R){return je(new Ho(R))}function Vl(R){return je(new sc(R))}class Sa{constructor(k,S,V,ne,Se){this.injector=k,this.configLoader=S,this.urlSerializer=V,this.urlTree=ne,this.config=Se,this.allowRedirects=!0}apply(){const k=ma(this.urlTree.root,[],[],this.config).segmentGroup,S=new Ci(k.segments,k.children);return this.expandSegmentGroup(this.injector,this.config,S,qe).pipe((0,dt.U)(Se=>this.createUrlTree(mt(Se),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lt(Se=>{if(Se instanceof sc)return this.allowRedirects=!1,this.match(Se.urlTree);throw Se instanceof Ho?this.noMatchError(Se):Se}))}match(k){return this.expandSegmentGroup(this.injector,this.config,k.root,qe).pipe((0,dt.U)(ne=>this.createUrlTree(mt(ne),k.queryParams,k.fragment))).pipe(Lt(ne=>{throw ne instanceof Ho?this.noMatchError(ne):ne}))}noMatchError(k){return new t.vHH(4002,fs)}createUrlTree(k,S,V){const ne=jt(k);return new Si(ne,S,V)}expandSegmentGroup(k,S,V,ne){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(k,S,V).pipe((0,dt.U)(Se=>new Ci([],Se))):this.expandSegment(k,V,S,V.segments,ne,!0)}expandChildren(k,S,V){const ne=[];for(const Se of Object.keys(V.children))"primary"===Se?ne.unshift(Se):ne.push(Se);return(0,Z.D)(ne).pipe(At(Se=>{const Re=V.children[Se],Ht=ds(S,Se);return this.expandSegmentGroup(k,Ht,Re,Se).pipe((0,dt.U)(kn=>({segment:kn,outlet:Se})))}),(0,Et.R)((Se,Re)=>(Se[Re.outlet]=Re.segment,Se),{}),rt())}expandSegment(k,S,V,ne,Se,Re){return(0,Z.D)(V).pipe(At(Ht=>this.expandSegmentAgainstRoute(k,S,V,Ht,ne,Se,Re).pipe(Lt(Ei=>{if(Ei instanceof Ho)return(0,ie.of)(null);throw Ei}))),(0,Nt.P)(Ht=>!!Ht),Lt((Ht,kn)=>{if(Y(Ht))return Kc(S,ne,Se)?(0,ie.of)(new Ci([],{})):Ul(S);throw Ht}))}expandSegmentAgainstRoute(k,S,V,ne,Se,Re,Ht){return rc(ne,S,Se,Re)?void 0===ne.redirectTo?this.matchSegmentAgainstRoute(k,S,ne,Se,Re):Ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,S,V,ne,Se,Re):Ul(S):Ul(S)}expandSegmentAgainstRouteUsingRedirect(k,S,V,ne,Se,Re){return"**"===ne.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,V,ne,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(k,S,V,ne,Se,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,S,V,ne){const Se=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?Vl(Se):this.lineralizeSegments(V,Se).pipe((0,St.z)(Re=>{const Ht=new Ci(Re,{});return this.expandSegment(k,Ht,S,Re,ne,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,S,V,ne,Se,Re){const{matched:Ht,consumedSegments:kn,remainingSegments:Ei,positionalParamSegments:qi}=ic(S,ne,Se);if(!Ht)return Ul(S);const Vi=this.applyRedirectCommands(kn,ne.redirectTo,qi);return ne.redirectTo.startsWith("/")?Vl(Vi):this.lineralizeSegments(ne,Vi).pipe((0,St.z)(Gr=>this.expandSegment(k,S,V,Gr.concat(Ei),Re,!1)))}matchSegmentAgainstRoute(k,S,V,ne,Se){return"**"===V.path?(k=Bs(V,k),V.loadChildren?(V._loadedRoutes?(0,ie.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):this.configLoader.loadChildren(k,V)).pipe((0,dt.U)(Ht=>(V._loadedRoutes=Ht.routes,V._loadedInjector=Ht.injector,new Ci(ne,{})))):(0,ie.of)(new Ci(ne,{}))):Vo(S,V,ne,k).pipe((0,Ut.w)(({matched:Re,consumedSegments:Ht,remainingSegments:kn})=>{var Ei;return Re?(k=null!==(Ei=V._injector)&&void 0!==Ei?Ei:k,this.getChildConfig(k,V,ne).pipe((0,St.z)(Vi=>{var Gr;const Vs=null!==(Gr=Vi.injector)&&void 0!==Gr?Gr:k,uo=Vi.routes,{segmentGroup:Lo,slicedSegments:mr}=ma(S,Ht,kn,uo),Pr=new Ci(Lo.segments,Lo.children);if(0===mr.length&&Pr.hasChildren())return this.expandChildren(Vs,uo,Pr).pipe((0,dt.U)(Dc=>new Ci(Ht,Dc)));if(0===uo.length&&0===mr.length)return(0,ie.of)(new Ci(Ht,{}));const So=Ps(V)===Se;return this.expandSegment(Vs,Pr,uo,mr,So?qe:Se,!0).pipe((0,dt.U)(Hs=>new Ci(Ht.concat(Hs.segments),Hs.children)))}))):Ul(S)}))}getChildConfig(k,S,V){return S.children?(0,ie.of)({routes:S.children,injector:k}):S.loadChildren?void 0!==S._loadedRoutes?(0,ie.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function zs(R,k,S,V){const ne=k.canLoad;if(void 0===ne||0===ne.length)return(0,ie.of)(!0);const Se=ne.map(Re=>{const Ht=x(Re,R);return Be(function Ji(R){return R&&En(R.canLoad)}(Ht)?Ht.canLoad(k,S):R.runInContext(()=>Ht(k,S)))});return(0,ie.of)(Se).pipe(_n(),cs())}(k,S,V).pipe((0,St.z)(ne=>ne?this.configLoader.loadChildren(k,S).pipe((0,Pt.b)(Se=>{S._loadedRoutes=Se.routes,S._loadedInjector=Se.injector})):function za(R){return je(Zr(fs,3))}())):(0,ie.of)({routes:[],injector:k})}lineralizeSegments(k,S){let V=[],ne=S.root;for(;;){if(V=V.concat(ne.segments),0===ne.numberOfChildren)return(0,ie.of)(V);if(ne.numberOfChildren>1||!ne.children[qe])return k.redirectTo,je(new t.vHH(4e3,fs));ne=ne.children[qe]}}applyRedirectCommands(k,S,V){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),k,V)}applyRedirectCreateUrlTree(k,S,V,ne){const Se=this.createSegmentGroup(k,S.root,V,ne);return new Si(Se,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(k,S){const V={};return ke(k,(ne,Se)=>{if("string"==typeof ne&&ne.startsWith(":")){const Ht=ne.substring(1);V[Se]=S[Ht]}else V[Se]=ne}),V}createSegmentGroup(k,S,V,ne){const Se=this.createSegments(k,S.segments,V,ne);let Re={};return ke(S.children,(Ht,kn)=>{Re[kn]=this.createSegmentGroup(k,Ht,V,ne)}),new Ci(Se,Re)}createSegments(k,S,V,ne){return S.map(Se=>Se.path.startsWith(":")?this.findPosParam(k,Se,ne):this.findOrReturn(Se,V))}findPosParam(k,S,V){const ne=V[S.path.substring(1)];if(!ne)throw new t.vHH(4001,fs);return ne}findOrReturn(k,S){let V=0;for(const ne of S){if(ne.path===k.path)return S.splice(V),ne;V++}return k}}class us{}class dl{constructor(k,S,V,ne,Se,Re,Ht){this.injector=k,this.rootComponentType=S,this.config=V,this.urlTree=ne,this.url=Se,this.paramsInheritanceStrategy=Re,this.urlSerializer=Ht}recognize(){const k=ma(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,qe).pipe((0,dt.U)(S=>{if(null===S)return null;const V=new Co([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qe,this.rootComponentType,null,this.urlTree.root,-1,{}),ne=new Ns(V,S),Se=new Po(this.url,ne);return this.inheritParamsAndData(Se._root),Se}))}inheritParamsAndData(k){const S=k.value,V=yr(S,this.paramsInheritanceStrategy);S.params=Object.freeze(V.params),S.data=Object.freeze(V.data),k.children.forEach(ne=>this.inheritParamsAndData(ne))}processSegmentGroup(k,S,V,ne){return 0===V.segments.length&&V.hasChildren()?this.processChildren(k,S,V):this.processSegment(k,S,V,V.segments,ne)}processChildren(k,S,V){return(0,Z.D)(Object.keys(V.children)).pipe(At(ne=>{const Se=V.children[ne],Re=ds(S,ne);return this.processSegmentGroup(k,Re,Se,ne)}),(0,Et.R)((ne,Se)=>ne&&Se?(ne.push(...Se),ne):null),function Yt(R,k=!1){return(0,kt.e)((S,V)=>{let ne=0;S.subscribe((0,be.x)(V,Se=>{const Re=R(Se,ne++);(Re||k)&&V.next(Se),!Re&&V.complete()}))})}(ne=>null!==ne),(0,lt.d)(null),rt(),(0,dt.U)(ne=>{if(null===ne)return null;const Se=Ml(ne);return function Zc(R){R.sort((k,S)=>k.value.outlet===qe?-1:S.value.outlet===qe?1:k.value.outlet.localeCompare(S.value.outlet))}(Se),Se}))}processSegment(k,S,V,ne,Se){return(0,Z.D)(S).pipe(At(Re=>{var Ht;return this.processSegmentAgainstRoute(null!==(Ht=Re._injector)&&void 0!==Ht?Ht:k,Re,V,ne,Se)}),(0,Nt.P)(Re=>!!Re),Lt(Re=>{if(Y(Re))return Kc(V,ne,Se)?(0,ie.of)([]):(0,ie.of)(null);throw Re}))}processSegmentAgainstRoute(k,S,V,ne,Se){if(S.redirectTo||!rc(S,V,ne,Se))return(0,ie.of)(null);let Re;if("**"===S.path){var Ht,kn;const Ei=ne.length>0?Kt(ne).parameters:{},qi=B(V)+ne.length,Vi=new Co(ne,Ei,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X(S),Ps(S),null!==(Ht=null!==(kn=S.component)&&void 0!==kn?kn:S._loadedComponent)&&void 0!==Ht?Ht:null,S,An(V),qi,Me(S));Re=(0,ie.of)({snapshot:Vi,consumedSegments:[],remainingSegments:[]})}else Re=Vo(V,S,ne,k).pipe((0,dt.U)(({matched:Ei,consumedSegments:qi,remainingSegments:Vi,parameters:Gr})=>{var Vs,uo;if(!Ei)return null;const Lo=B(V)+qi.length;return{snapshot:new Co(qi,Gr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X(S),Ps(S),null!==(Vs=null!==(uo=S.component)&&void 0!==uo?uo:S._loadedComponent)&&void 0!==Vs?Vs:null,S,An(V),Lo,Me(S)),consumedSegments:qi,remainingSegments:Vi}}));return Re.pipe((0,Ut.w)(Ei=>{var qi,Vi;if(null===Ei)return(0,ie.of)(null);const{snapshot:Gr,consumedSegments:Vs,remainingSegments:uo}=Ei;k=null!==(qi=S._injector)&&void 0!==qi?qi:k;const Lo=null!==(Vi=S._loadedInjector)&&void 0!==Vi?Vi:k,mr=function Qi(R){return R.children?R.children:R.loadChildren?R._loadedRoutes:[]}(S),{segmentGroup:Pr,slicedSegments:So}=ma(V,Vs,uo,mr.filter(Hs=>void 0===Hs.redirectTo));if(0===So.length&&Pr.hasChildren())return this.processChildren(Lo,mr,Pr).pipe((0,dt.U)(Hs=>null===Hs?null:[new Ns(Gr,Hs)]));if(0===mr.length&&0===So.length)return(0,ie.of)([new Ns(Gr,[])]);const zl=Ps(S)===Se;return this.processSegment(Lo,mr,Pr,So,zl?qe:Se).pipe((0,dt.U)(Hs=>null===Hs?null:[new Ns(Gr,Hs)]))}))}}function tr(R){const k=R.value.routeConfig;return k&&""===k.path&&void 0===k.redirectTo}function Ml(R){const k=[],S=new Set;for(const V of R){if(!tr(V)){k.push(V);continue}const ne=k.find(Se=>V.value.routeConfig===Se.value.routeConfig);void 0!==ne?(ne.children.push(...V.children),S.add(ne)):k.push(V)}for(const V of S){const ne=Ml(V.children);k.push(new Ns(V.value,ne))}return k.filter(V=>!S.has(V))}function An(R){let k=R;for(;k._sourceSegment;)k=k._sourceSegment;return k}function B(R){var k;let S=R,V=null!==(k=S._segmentIndexShift)&&void 0!==k?k:0;for(;S._sourceSegment;){var ne;S=S._sourceSegment,V+=null!==(ne=S._segmentIndexShift)&&void 0!==ne?ne:0}return V-1}function X(R){return R.data||{}}function Me(R){return R.resolve||{}}function cr(R){return"string"==typeof R.title||null===R.title}function ar(R){return(0,Ut.w)(k=>{const S=R(k);return S?(0,Z.D)(S).pipe((0,dt.U)(()=>k)):(0,ie.of)(k)})}const Hr=new t.OlP("ROUTES");let va=(()=>{class R{constructor(S,V){this.injector=S,this.compiler=V,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,ie.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const V=Be(S.loadComponent()).pipe((0,dt.U)(nr),(0,Pt.b)(Se=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=Se}),Qt(()=>{this.componentLoaders.delete(S)})),ne=new yt(V,()=>new at.x).pipe(Ge());return this.componentLoaders.set(S,ne),ne}loadChildren(S,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,ie.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const Se=this.loadModuleFactoryOrRoutes(V.loadChildren).pipe((0,dt.U)(Ht=>{this.onLoadEndListener&&this.onLoadEndListener(V);let kn,Ei,qi=!1;Array.isArray(Ht)?Ei=Ht:(kn=Ht.create(S).injector,Ei=Mi(kn.get(Hr,[],t.XFs.Self|t.XFs.Optional)));return{routes:Ei.map(To),injector:kn}}),Qt(()=>{this.childrenLoaders.delete(V)})),Re=new yt(Se,()=>new at.x).pipe(Ge());return this.childrenLoaders.set(V,Re),Re}loadModuleFactoryOrRoutes(S){return Be(S()).pipe((0,dt.U)(nr),(0,St.z)(ne=>ne instanceof t.YKP||Array.isArray(ne)?(0,ie.of)(ne):(0,Z.D)(this.compiler.compileModuleAsync(ne))))}}return R.\u0275fac=function(S){return new(S||R)(t.LFG(t.zs3),t.LFG(t.Sil))},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function nr(R){return function Lr(R){return R&&"object"==typeof R&&"default"in R}(R)?R.default:R}let Ar=(()=>{class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new at.x,this.configLoader=(0,t.f3M)(va),this.environmentInjector=(0,t.f3M)(t.lqb),this.urlSerializer=(0,t.f3M)(Rn),this.rootContexts=(0,t.f3M)(oo),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ne=>this.events.next(new Dr(ne)),this.configLoader.onLoadStartListener=ne=>this.events.next(new Gi(ne))}complete(){var S;null===(S=this.transitions)||void 0===S||S.complete()}handleNavigationRequest(S){var V;const ne=++this.navigationId;null===(V=this.transitions)||void 0===V||V.next({...this.transitions.value,...S,id:ne})}setupNavigations(S){return this.transitions=new oe.X({id:0,targetPageId:0,currentUrlTree:S.currentUrlTree,currentRawUrl:S.currentUrlTree,extractedUrl:S.urlHandlingStrategy.extract(S.currentUrlTree),urlAfterRedirects:S.urlHandlingStrategy.extract(S.currentUrlTree),rawUrl:S.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Q,restoredState:null,currentSnapshot:S.routerState.snapshot,targetSnapshot:null,currentRouterState:S.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,nt.h)(V=>0!==V.id),(0,dt.U)(V=>({...V,extractedUrl:S.urlHandlingStrategy.extract(V.rawUrl)})),(0,Ut.w)(V=>{let ne=!1,Se=!1;return(0,ie.of)(V).pipe((0,Pt.b)(Re=>{this.currentNavigation={id:Re.id,initialUrl:Re.rawUrl,extractedUrl:Re.extractedUrl,trigger:Re.source,extras:Re.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ut.w)(Re=>{var Ht;const kn=S.browserUrlTree.toString(),Ei=!S.navigated||Re.extractedUrl.toString()!==kn||kn!==S.currentUrlTree.toString(),qi=null!==(Ht=Re.extras.onSameUrlNavigation)&&void 0!==Ht?Ht:S.onSameUrlNavigation;if(!Ei&&"reload"!==qi){const Vi="";return this.events.next(new Ae(Re.id,S.serializeUrl(V.rawUrl),Vi,0)),S.rawUrlTree=Re.rawUrl,Re.resolve(null),pt.E}if(S.urlHandlingStrategy.shouldProcessUrl(Re.rawUrl))return oc(Re.source)&&(S.browserUrlTree=Re.extractedUrl),(0,ie.of)(Re).pipe((0,Ut.w)(Vi=>{var Gr,Vs;const uo=null===(Gr=this.transitions)||void 0===Gr?void 0:Gr.getValue();return this.events.next(new Ze(Vi.id,this.urlSerializer.serialize(Vi.extractedUrl),Vi.source,Vi.restoredState)),uo!==(null===(Vs=this.transitions)||void 0===Vs?void 0:Vs.getValue())?pt.E:Promise.resolve(Vi)}),function ks(R,k,S,V){return(0,Ut.w)(ne=>function go(R,k,S,V,ne){return new Sa(R,k,S,V,ne).apply()}(R,k,S,ne.extractedUrl,V).pipe((0,dt.U)(Se=>({...ne,urlAfterRedirects:Se}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,S.config),(0,Pt.b)(Vi=>{this.currentNavigation={...this.currentNavigation,finalUrl:Vi.urlAfterRedirects},V.urlAfterRedirects=Vi.urlAfterRedirects}),function Dt(R,k,S,V,ne){return(0,St.z)(Se=>function no(R,k,S,V,ne,Se,Re="emptyOnly"){return new dl(R,k,S,V,ne,Re,Se).recognize().pipe((0,Ut.w)(Ht=>null===Ht?function di(R){return new Fe.y(k=>k.error(R))}(new us):(0,ie.of)(Ht)))}(R,k,S,Se.urlAfterRedirects,V.serialize(Se.urlAfterRedirects),V,ne).pipe((0,dt.U)(Re=>({...Se,targetSnapshot:Re}))))}(this.environmentInjector,this.rootComponentType,S.config,this.urlSerializer,S.paramsInheritanceStrategy),(0,Pt.b)(Vi=>{if(V.targetSnapshot=Vi.targetSnapshot,"eager"===S.urlUpdateStrategy){if(!Vi.extras.skipLocationChange){const Vs=S.urlHandlingStrategy.merge(Vi.urlAfterRedirects,Vi.rawUrl);S.setBrowserUrl(Vs,Vi)}S.browserUrlTree=Vi.urlAfterRedirects}const Gr=new Xt(Vi.id,this.urlSerializer.serialize(Vi.extractedUrl),this.urlSerializer.serialize(Vi.urlAfterRedirects),Vi.targetSnapshot);this.events.next(Gr)}));if(Ei&&S.urlHandlingStrategy.shouldProcessUrl(S.rawUrlTree)){const{id:Vi,extractedUrl:Gr,source:Vs,restoredState:uo,extras:Lo}=Re,mr=new Ze(Vi,this.urlSerializer.serialize(Gr),Vs,uo);this.events.next(mr);const Pr=Ca(Gr,this.rootComponentType).snapshot;return V={...Re,targetSnapshot:Pr,urlAfterRedirects:Gr,extras:{...Lo,skipLocationChange:!1,replaceUrl:!1}},(0,ie.of)(V)}{const Vi="";return this.events.next(new Ae(Re.id,S.serializeUrl(V.extractedUrl),Vi,1)),S.rawUrlTree=Re.rawUrl,Re.resolve(null),pt.E}}),(0,Pt.b)(Re=>{const Ht=new Sn(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(Ht)}),(0,dt.U)(Re=>V={...Re,guards:ul(Re.targetSnapshot,Re.currentSnapshot,this.rootContexts)}),function zi(R,k){return(0,St.z)(S=>{const{targetSnapshot:V,currentSnapshot:ne,guards:{canActivateChecks:Se,canDeactivateChecks:Re}}=S;return 0===Re.length&&0===Se.length?(0,ie.of)({...S,guardsResult:!0}):function br(R,k,S,V){return(0,Z.D)(R).pipe((0,St.z)(ne=>function Uo(R,k,S,V,ne){const Se=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!Se||0===Se.length)return(0,ie.of)(!0);const Re=Se.map(Ht=>{var kn;const Ei=null!==(kn=lo(k))&&void 0!==kn?kn:ne,qi=x(Ht,Ei);return Be(function bs(R){return R&&En(R.canDeactivate)}(qi)?qi.canDeactivate(R,k,S,V):Ei.runInContext(()=>qi(R,k,S,V))).pipe((0,Nt.P)())});return(0,ie.of)(Re).pipe(_n())}(ne.component,ne.route,S,k,V)),(0,Nt.P)(ne=>!0!==ne,!0))}(Re,V,ne,R).pipe((0,St.z)(Ht=>Ht&&function Oi(R){return"boolean"==typeof R}(Ht)?function hs(R,k,S,V){return(0,Z.D)(k).pipe(At(ne=>(0,$e.z)(function ea(R,k){return null!==R&&k&&k(new qs(R)),(0,ie.of)(!0)}(ne.route.parent,V),function Io(R,k){return null!==R&&k&&k(new jr(R)),(0,ie.of)(!0)}(ne.route,V),function ga(R,k,S){const V=k[k.length-1],Se=k.slice(0,k.length-1).reverse().map(Re=>function nc(R){const k=R.routeConfig?R.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:R,guards:k}:null}(Re)).filter(Re=>null!==Re).map(Re=>Pe(()=>{const Ht=Re.guards.map(kn=>{var Ei;const qi=null!==(Ei=lo(Re.node))&&void 0!==Ei?Ei:S,Vi=x(kn,qi);return Be(function Nr(R){return R&&En(R.canActivateChild)}(Vi)?Vi.canActivateChild(V,R):qi.runInContext(()=>Vi(V,R))).pipe((0,Nt.P)())});return(0,ie.of)(Ht).pipe(_n())}));return(0,ie.of)(Se).pipe(_n())}(R,ne.path,S),function Ia(R,k,S){const V=k.routeConfig?k.routeConfig.canActivate:null;if(!V||0===V.length)return(0,ie.of)(!0);const ne=V.map(Se=>Pe(()=>{var Re;const Ht=null!==(Re=lo(k))&&void 0!==Re?Re:S,kn=x(Se,Ht);return Be(function _r(R){return R&&En(R.canActivate)}(kn)?kn.canActivate(k,R):Ht.runInContext(()=>kn(k,R))).pipe((0,Nt.P)())}));return(0,ie.of)(ne).pipe(_n())}(R,ne.route,S))),(0,Nt.P)(ne=>!0!==ne,!0))}(V,Se,R,k):(0,ie.of)(Ht)),(0,dt.U)(Ht=>({...S,guardsResult:Ht})))})}(this.environmentInjector,Re=>this.events.next(Re)),(0,Pt.b)(Re=>{if(V.guardsResult=Re.guardsResult,ft(Re.guardsResult))throw ha(0,Re.guardsResult);const Ht=new On(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot,!!Re.guardsResult);this.events.next(Ht)}),(0,nt.h)(Re=>!!Re.guardsResult||(S.restoreHistory(Re),this.cancelNavigationTransition(Re,"",3),!1)),ar(Re=>{if(Re.guards.canActivateChecks.length)return(0,ie.of)(Re).pipe((0,Pt.b)(Ht=>{const kn=new li(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(kn)}),(0,Ut.w)(Ht=>{let kn=!1;return(0,ie.of)(Ht).pipe(function Nn(R,k){return(0,St.z)(S=>{const{targetSnapshot:V,guards:{canActivateChecks:ne}}=S;if(!ne.length)return(0,ie.of)(S);let Se=0;return(0,Z.D)(ne).pipe(At(Re=>function Fn(R,k,S,V){const ne=R.routeConfig,Se=R._resolve;return void 0!==(null==ne?void 0:ne.title)&&!cr(ne)&&(Se[cn]=ne.title),function Hi(R,k,S,V){const ne=function kr(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}(R);if(0===ne.length)return(0,ie.of)({});const Se={};return(0,Z.D)(ne).pipe((0,St.z)(Re=>function Fr(R,k,S,V){var ne;const Se=null!==(ne=lo(k))&&void 0!==ne?ne:V,Re=x(R,Se);return Be(Re.resolve?Re.resolve(k,S):Se.runInContext(()=>Re(k,S)))}(R[Re],k,S,V).pipe((0,Nt.P)(),(0,Pt.b)(Ht=>{Se[Re]=Ht}))),it(1),(0,$t.h)(Se),Lt(Re=>Y(Re)?pt.E:je(Re)))}(Se,R,k,V).pipe((0,dt.U)(Re=>(R._resolvedData=Re,R.data=yr(R,S).resolve,ne&&cr(ne)&&(R.data[cn]=ne.title),null)))}(Re.route,V,R,k)),(0,Pt.b)(()=>Se++),it(1),(0,St.z)(Re=>Se===ne.length?(0,ie.of)(S):pt.E))})}(S.paramsInheritanceStrategy,this.environmentInjector),(0,Pt.b)({next:()=>kn=!0,complete:()=>{kn||(S.restoreHistory(Ht),this.cancelNavigationTransition(Ht,"",2))}}))}),(0,Pt.b)(Ht=>{const kn=new Bi(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(kn)}))}),ar(Re=>{const Ht=kn=>{var Ei;const qi=[];null!==(Ei=kn.routeConfig)&&void 0!==Ei&&Ei.loadComponent&&!kn.routeConfig._loadedComponent&&qi.push(this.configLoader.loadComponent(kn.routeConfig).pipe((0,Pt.b)(Vi=>{kn.component=Vi}),(0,dt.U)(()=>{})));for(const Vi of kn.children)qi.push(...Ht(Vi));return qi};return(0,ct.a)(Ht(Re.targetSnapshot.root)).pipe((0,lt.d)(),(0,ut.q)(1))}),ar(()=>this.afterPreactivation()),(0,dt.U)(Re=>{const Ht=function mo(R,k,S){const V=Ha(R,k._root,S?S._root:void 0);return new Ur(V,k)}(S.routeReuseStrategy,Re.targetSnapshot,Re.currentRouterState);return V={...Re,targetRouterState:Ht}}),(0,Pt.b)(Re=>{S.currentUrlTree=Re.urlAfterRedirects,S.rawUrlTree=S.urlHandlingStrategy.merge(Re.urlAfterRedirects,Re.rawUrl),S.routerState=Re.targetRouterState,"deferred"===S.urlUpdateStrategy&&(Re.extras.skipLocationChange||S.setBrowserUrl(S.rawUrlTree,Re),S.browserUrlTree=Re.urlAfterRedirects)}),((R,k,S)=>(0,dt.U)(V=>(new zr(k,V.targetRouterState,V.currentRouterState,S).activate(R),V)))(this.rootContexts,S.routeReuseStrategy,Re=>this.events.next(Re)),(0,Pt.b)({next:Re=>{var Ht;ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,S.navigated=!0,this.events.next(new _t(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(S.currentUrlTree))),null===(Ht=S.titleStrategy)||void 0===Ht||Ht.updateTitle(Re.targetRouterState.snapshot),Re.resolve(!0)},complete:()=>{ne=!0}}),Qt(()=>{var Re;ne||Se||this.cancelNavigationTransition(V,"",1),(null===(Re=this.currentNavigation)||void 0===Re?void 0:Re.id)===V.id&&(this.currentNavigation=null)}),Lt(Re=>{if(Se=!0,Sl(Re)){fa(Re)||(S.navigated=!0,S.restoreHistory(V,!0));const kn=new Gt(V.id,this.urlSerializer.serialize(V.extractedUrl),Re.message,Re.cancellationCode);if(this.events.next(kn),fa(Re)){const Ei=S.urlHandlingStrategy.merge(Re.url,S.rawUrlTree),qi={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===S.urlUpdateStrategy||oc(V.source)};S.scheduleNavigation(Ei,Q,null,qi,{resolve:V.resolve,reject:V.reject,promise:V.promise})}else V.resolve(!1)}else{var Ht;S.restoreHistory(V,!0);const kn=new bt(V.id,this.urlSerializer.serialize(V.extractedUrl),Re,null!==(Ht=V.targetSnapshot)&&void 0!==Ht?Ht:void 0);this.events.next(kn);try{V.resolve(S.errorHandler(Re))}catch(Ei){V.reject(Ei)}}return pt.E}))}))}cancelNavigationTransition(S,V,ne){const Se=new Gt(S.id,this.urlSerializer.serialize(S.extractedUrl),V,ne);this.events.next(Se),S.resolve(!1)}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function oc(R){return R!==Q}let os=(()=>{class R{buildTitle(S){let V,ne=S.root;for(;void 0!==ne;){var Se;V=null!==(Se=this.getResolvedTitleForRoute(ne))&&void 0!==Se?Se:V,ne=ne.children.find(Re=>Re.outlet===qe)}return V}getResolvedTitleForRoute(S){return S.data[cn]}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:function(){return(0,t.f3M)(ki)},providedIn:"root"}),R})(),ki=(()=>{class R extends os{constructor(S){super(),this.title=S}updateTitle(S){const V=this.buildTitle(S);void 0!==V&&this.title.setTitle(V)}}return R.\u0275fac=function(S){return new(S||R)(t.LFG(hn.Dx))},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Aa=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:function(){return(0,t.f3M)(Ma)},providedIn:"root"}),R})();class Hl{shouldDetach(k){return!1}store(k,S){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,S){return k.routeConfig===S.routeConfig}}let Ma=(()=>{class R extends Hl{}return R.\u0275fac=function(){let k;return function(V){return(k||(k=t.n5z(R)))(V||R)}}(),R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const ac=new t.OlP("",{providedIn:"root",factory:()=>({})});let Wa=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:function(){return(0,t.f3M)(lc)},providedIn:"root"}),R})(),lc=(()=>{class R{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,V){return S}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Xc(R){throw R}function Oa(R,k,S){return k.parse("/")}const wc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{class R{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var S;return null===(S=this.location.getState())||void 0===S?void 0:S.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var S;this.disposed=!1,this.currentPageId=0,this.console=(0,t.f3M)(t.c2e),this.isNgZoneEnabled=!1,this.options=(0,t.f3M)(ac,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Xc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Oa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,t.f3M)(Wa),this.routeReuseStrategy=(0,t.f3M)(Aa),this.urlCreationStrategy=(0,t.f3M)(ec),this.titleStrategy=(0,t.f3M)(os),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Mi(null!==(S=(0,t.f3M)(Hr,{optional:!0}))&&void 0!==S?S:[]),this.navigationTransitions=(0,t.f3M)(Ar),this.urlSerializer=(0,t.f3M)(Rn),this.location=(0,t.f3M)(Ve.Ye),this.isNgZoneEnabled=(0,t.f3M)(t.R0b)instanceof t.R0b&&t.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Si,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ca(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(V=>{this.lastSuccessfulId=V.id,this.currentPageId=V.targetPageId},V=>{this.console.warn(`Unhandled Navigation Error: ${V}`)})}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const S=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Q,S)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const V="popstate"===S.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{this.navigateToSyncWithBrowser(S.url,V,S.state)},0)}))}navigateToSyncWithBrowser(S,V,ne){const Se={replaceUrl:!0},Re=null!=ne&&ne.navigationId?ne:null;if(ne){const kn={...ne};delete kn.navigationId,delete kn.\u0275routerPageId,0!==Object.keys(kn).length&&(Se.state=kn)}const Ht=this.parseUrl(S);this.scheduleNavigation(Ht,V,Re,Se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(S){this.config=S.map(To),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,V={}){const{relativeTo:ne,queryParams:Se,fragment:Re,queryParamsHandling:Ht,preserveFragment:kn}=V,Ei=kn?this.currentUrlTree.fragment:Re;let qi=null;switch(Ht){case"merge":qi={...this.currentUrlTree.queryParams,...Se};break;case"preserve":qi=this.currentUrlTree.queryParams;break;default:qi=Se||null}return null!==qi&&(qi=this.removeEmptyProps(qi)),this.urlCreationStrategy.createUrlTree(ne,this.routerState,this.currentUrlTree,S,qi,null!=Ei?Ei:null)}navigateByUrl(S,V={skipLocationChange:!1}){const ne=ft(S)?S:this.parseUrl(S),Se=this.urlHandlingStrategy.merge(ne,this.rawUrlTree);return this.scheduleNavigation(Se,Q,null,V)}navigate(S,V={skipLocationChange:!1}){return function hl(R){for(let k=0;k<R.length;k++){const S=R[k];if(null==S)throw new t.vHH(4008,false)}}(S),this.navigateByUrl(this.createUrlTree(S,V),V)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let V;try{V=this.urlSerializer.parse(S)}catch(ne){V=this.malformedUriErrorHandler(ne,this.urlSerializer,S)}return V}isActive(S,V){let ne;if(ne=!0===V?{...wc}:!1===V?{...hu}:V,ft(S))return ii(this.currentUrlTree,S,ne);const Se=this.parseUrl(S);return ii(this.currentUrlTree,Se,ne)}removeEmptyProps(S){return Object.keys(S).reduce((V,ne)=>{const Se=S[ne];return null!=Se&&(V[ne]=Se),V},{})}scheduleNavigation(S,V,ne,Se,Re){if(this.disposed)return Promise.resolve(!1);let Ht,kn,Ei,qi;if(Re?(Ht=Re.resolve,kn=Re.reject,Ei=Re.promise):Ei=new Promise((Vs,uo)=>{Ht=Vs,kn=uo}),"computed"===this.canceledNavigationResolution)if(ne&&ne.\u0275routerPageId)qi=ne.\u0275routerPageId;else if(Se.replaceUrl||Se.skipLocationChange){var Vi;qi=null!==(Vi=this.browserPageId)&&void 0!==Vi?Vi:0}else{var Gr;qi=(null!==(Gr=this.browserPageId)&&void 0!==Gr?Gr:0)+1}else qi=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:qi,source:V,restoredState:ne,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:Se,resolve:Ht,reject:kn,promise:Ei,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ei.catch(Vs=>Promise.reject(Vs))}setBrowserUrl(S,V){const ne=this.urlSerializer.serialize(S),Se={...V.extras.state,...this.generateNgRouterState(V.id,V.targetPageId)};this.location.isCurrentPathEqualTo(ne)||V.extras.replaceUrl?this.location.replaceState(ne,"",Se):this.location.go(ne,"",Se)}restoreHistory(S,V=!1){if("computed"===this.canceledNavigationResolution){var ne,Se;const Re=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(ne=this.getCurrentNavigation())||void 0===ne?void 0:ne.finalUrl)||0===Re?this.currentUrlTree===(null===(Se=this.getCurrentNavigation())||void 0===Se?void 0:Se.finalUrl)&&0===Re&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Re)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,V){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:V}:{navigationId:S}}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),cc=(()=>{class R{constructor(S,V,ne,Se,Re,Ht){var kn;this.router=S,this.route=V,this.tabIndexAttribute=ne,this.renderer=Se,this.el=Re,this.locationStrategy=Ht,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new at.x;const Ei=null===(kn=Re.nativeElement.tagName)||void 0===kn?void 0:kn.toLowerCase();this.isAnchorElement="a"===Ei||"area"===Ei,this.isAnchorElement?this.subscription=S.events.subscribe(qi=>{qi instanceof _t&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(S){this._preserveFragment=(0,t.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,t.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,t.D6c)(S)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(S,V,ne,Se,Re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==S||V||ne||Se||Re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}updateHref(){var S;this.href=null!==this.urlTree&&this.locationStrategy?null===(S=this.locationStrategy)||void 0===S?void 0:S.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const V=null===this.href?null:(0,t.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",V)}applyAttributeValue(S,V){const ne=this.renderer,Se=this.el.nativeElement;null!==V?ne.setAttribute(Se,S,V):ne.removeAttribute(Se,S)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return R.\u0275fac=function(S){return new(S||R)(t.Y36(jo),t.Y36($s),t.$8M("tabindex"),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(Ve.S$))},R.\u0275dir=t.lG2({type:R,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,V){1&S&&t.NdJ("click",function(Se){return V.onClick(Se.button,Se.ctrlKey,Se.shiftKey,Se.altKey,Se.metaKey)}),2&S&&t.uIk("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[t.TTD]}),R})();class rl{}let Nc=(()=>{class R{preload(S,V){return V().pipe(Lt(()=>(0,ie.of)(null)))}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),fl=(()=>{class R{constructor(S,V,ne,Se,Re){this.router=S,this.injector=ne,this.preloadingStrategy=Se,this.loader=Re}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(S=>S instanceof _t),At(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,V){const ne=[];for(const kn of V){var Se,Re;kn.providers&&!kn._injector&&(kn._injector=(0,t.MMx)(kn.providers,S,`Route: ${kn.path}`));const Ei=null!==(Se=kn._injector)&&void 0!==Se?Se:S,qi=null!==(Re=kn._loadedInjector)&&void 0!==Re?Re:Ei;if(kn.loadChildren&&!kn._loadedRoutes&&void 0===kn.canLoad||kn.loadComponent&&!kn._loadedComponent)ne.push(this.preloadConfig(Ei,kn));else if(kn.children||kn._loadedRoutes){var Ht;ne.push(this.processRoutes(qi,null!==(Ht=kn.children)&&void 0!==Ht?Ht:kn._loadedRoutes))}}return(0,Z.D)(ne).pipe((0,Bt.J)())}preloadConfig(S,V){return this.preloadingStrategy.preload(V,()=>{let ne;ne=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(S,V):(0,ie.of)(null);const Se=ne.pipe((0,St.z)(Re=>{var Ht;return null===Re?(0,ie.of)(void 0):(V._loadedRoutes=Re.routes,V._loadedInjector=Re.injector,this.processRoutes(null!==(Ht=Re.injector)&&void 0!==Ht?Ht:S,Re.routes))}));if(V.loadComponent&&!V._loadedComponent){const Re=this.loader.loadComponent(V);return(0,Z.D)([Se,Re]).pipe((0,Bt.J)())}return Se})}}return R.\u0275fac=function(S){return new(S||R)(t.LFG(jo),t.LFG(t.Sil),t.LFG(t.lqb),t.LFG(rl),t.LFG(va))},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const Pc=new t.OlP("");let Ka=(()=>{class R{constructor(S,V,ne,Se,Re={}){this.urlSerializer=S,this.transitions=V,this.viewportScroller=ne,this.zone=Se,this.options=Re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Re.scrollPositionRestoration=Re.scrollPositionRestoration||"disabled",Re.anchorScrolling=Re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof Ze?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof _t&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof Zs&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zs(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){var S,V;null===(S=this.routerEventsSubscription)||void 0===S||S.unsubscribe(),null===(V=this.scrollEventsSubscription)||void 0===V||V.unsubscribe()}}return R.\u0275fac=function(S){t.$Z()},R.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac}),R})();var Fs=(()=>((Fs=Fs||{})[Fs.COMPLETE=0]="COMPLETE",Fs[Fs.FAILED=1]="FAILED",Fs[Fs.REDIRECTING=2]="REDIRECTING",Fs))();const qa=!1;function jl(R,k){return{\u0275kind:R,\u0275providers:k}}const dc=new t.OlP("",{providedIn:"root",factory:()=>!1});function Go(){const R=(0,t.f3M)(t.zs3);return k=>{var S,V;const ne=R.get(t.z2F);if(k!==ne.components[0])return;const Se=R.get(jo),Re=R.get(Pa);1===R.get(pl)&&Se.initialNavigation(),null===(S=R.get(Ic,null,t.XFs.Optional))||void 0===S||S.setUpPreloading(),null===(V=R.get(Pc,null,t.XFs.Optional))||void 0===V||V.init(),Se.resetRootComponentType(ne.componentTypes[0]),Re.closed||(Re.next(),Re.unsubscribe())}}const Pa=new t.OlP(qa?"bootstrap done indicator":"",{factory:()=>new at.x}),pl=new t.OlP(qa?"initial navigation":"",{providedIn:"root",factory:()=>1});function Mr(){let R=[];return R=qa?[{provide:t.Xts,multi:!0,useFactory:()=>{const k=(0,t.f3M)(jo);return()=>k.events.subscribe(S=>{var V,ne,Se,Re;null===(V=(ne=console).group)||void 0===V||V.call(ne,`Router Event: ${S.constructor.name}`),console.log(function Eo(R){var k,S,V,ne;if(!("type"in R))return`Unknown Router Event: ${R.constructor.name}`;switch(R.type){case 14:return`ActivationEnd(path: '${(null===(k=R.snapshot.routeConfig)||void 0===k?void 0:k.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(S=R.snapshot.routeConfig)||void 0===S?void 0:S.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(V=R.snapshot.routeConfig)||void 0===V?void 0:V.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(ne=R.snapshot.routeConfig)||void 0===ne?void 0:ne.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state}, shouldActivate: ${R.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state})`;case 2:return`NavigationCancel(id: ${R.id}, url: '${R.url}')`;case 16:return`NavigationSkipped(id: ${R.id}, url: '${R.url}')`;case 1:return`NavigationEnd(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${R.id}, url: '${R.url}', error: ${R.error})`;case 0:return`NavigationStart(id: ${R.id}, url: '${R.url}')`;case 6:return`ResolveEnd(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state})`;case 5:return`ResolveStart(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state})`;case 10:return`RouteConfigLoadEnd(path: ${R.route.path})`;case 9:return`RouteConfigLoadStart(path: ${R.route.path})`;case 4:return`RoutesRecognized(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state})`;case 15:return`Scroll(anchor: '${R.anchor}', position: '${R.position?`${R.position[0]}, ${R.position[1]}`:null}')`}}(S)),console.log(S),null===(Se=(Re=console).groupEnd)||void 0===Se||Se.call(Re)})}}]:[],jl(1,R)}const Ic=new t.OlP(qa?"router preloader":"");function Jc(R){return jl(0,[{provide:Ic,useExisting:fl},{provide:rl,useExisting:R}])}const Cs=!1,Ol=new t.OlP(Cs?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),pu=[Ve.Ye,{provide:Rn,useClass:Dn},jo,oo,{provide:$s,useFactory:function Ra(R){return R.routerState.root},deps:[jo]},va,Cs?{provide:dc,useValue:!0}:[]];function gl(){return new t.PXZ("Router",jo)}let ws=(()=>{class R{constructor(S){}static forRoot(S,V){return{ngModule:R,providers:[pu,Cs&&null!=V&&V.enableTracing?Mr().\u0275providers:[],{provide:Hr,multi:!0,useValue:S},{provide:Ol,useFactory:Es,deps:[[jo,new t.FiY,new t.tp0]]},{provide:ac,useValue:V||{}},null!=V&&V.useHash?{provide:Ve.S$,useClass:Ve.Do}:{provide:Ve.S$,useClass:Ve.b0},{provide:Pc,useFactory:()=>{const R=(0,t.f3M)(Ve.EM),k=(0,t.f3M)(t.R0b),S=(0,t.f3M)(ac),V=(0,t.f3M)(Ar),ne=(0,t.f3M)(Rn);return S.scrollOffset&&R.setOffset(S.scrollOffset),new Ka(ne,V,R,k,S)}},null!=V&&V.preloadingStrategy?Jc(V.preloadingStrategy).\u0275providers:[],{provide:t.PXZ,multi:!0,useFactory:gl},null!=V&&V.initialNavigation?Do(V):[],[{provide:Rl,useFactory:Go},{provide:t.tb,multi:!0,useExisting:Rl}]]}}static forChild(S){return{ngModule:R,providers:[{provide:Hr,multi:!0,useValue:S}]}}}return R.\u0275fac=function(S){return new(S||R)(t.LFG(Ol,8))},R.\u0275mod=t.oAB({type:R}),R.\u0275inj=t.cJS({imports:[wo]}),R})();function Es(R){if(Cs&&R)throw new t.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Do(R){return["disabled"===R.initialNavigation?jl(3,[{provide:t.ip1,multi:!0,useFactory:()=>{const k=(0,t.f3M)(jo);return()=>{k.setUpLocationChangeListener()}}},{provide:pl,useValue:2}]).\u0275providers:[],"enabledBlocking"===R.initialNavigation?jl(2,[{provide:pl,useValue:0},{provide:t.ip1,multi:!0,deps:[t.zs3],useFactory:k=>{const S=k.get(Ve.V_,Promise.resolve());return()=>S.then(()=>new Promise(V=>{const ne=k.get(jo),Se=k.get(Pa);(function fu(R,k){R.events.pipe((0,nt.h)(S=>S instanceof _t||S instanceof Gt||S instanceof bt||S instanceof Ae),(0,dt.U)(S=>S instanceof _t||S instanceof Ae?Fs.COMPLETE:S instanceof Gt&&(0===S.code||1===S.code)?Fs.REDIRECTING:Fs.FAILED),(0,nt.h)(S=>S!==Fs.REDIRECTING),(0,ut.q)(1)).subscribe(()=>{k()})})(ne,()=>{V(!0)}),k.get(Ar).afterPreactivation=()=>(V(!0),Se.closed?(0,ie.of)(void 0):Se),ne.initialNavigation()}))}}]).\u0275providers:[]]}const Rl=new t.OlP(Cs?"Router Initializer":"")},3942:(ei,Jt,U)=>{"use strict";U.d(Jt,{Z:()=>gt});var t=U(2090),Z=U(4859),ie=U(9681),oe=U(1877);class ze{constructor(be,Ge){this._delegate=be,this.firebase=Ge,(0,ie._addComponent)(be,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(be,Ge=ie._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(be);return!at.isInitialized()&&"EXPLICIT"===(null===(yt=at.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&at.initialize(),at.getImmediate({identifier:Ge})}_removeServiceInstance(be,Ge=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ge)}_addComponent(be){(0,ie._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,ie._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $e=new t.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Pe=function vt(){const kt=function Fe(kt){const be={},Ge={__esModule:!0,initializeApp:function Ve(Ie,nt={}){const St=ie.initializeApp(Ie,nt);if((0,t.r3)(be,St.name))return be[St.name];const Nt=new kt(St,Ge);return be[St.name]=Nt,Nt},app:at,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function Ut(Ie){const nt=Ie.name,St=nt.replace("-compat","");if(ie._registerComponent(Ie)&&"PUBLIC"===Ie.type){const Nt=(At=at())=>{if("function"!=typeof At[St])throw $e.create("invalid-app-argument",{appName:nt});return At[St]()};void 0!==Ie.serviceProps&&(0,t.ZB)(Nt,Ie.serviceProps),Ge[St]=Nt,kt.prototype[St]=function(...At){return this._getService.bind(this,nt).apply(this,Ie.multipleInstances?At:[])}}return"PUBLIC"===Ie.type?Ge[St]:null},removeApp:function yt(Ie){delete be[Ie]},useAsService:function ut(Ie,nt){return"serverAuth"===nt?null:nt},modularAPIs:ie}};function at(Ie){if(!(0,t.r3)(be,Ie=Ie||ie._DEFAULT_ENTRY_NAME))throw $e.create("no-app",{appName:Ie});return be[Ie]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function dt(){return Object.keys(be).map(Ie=>be[Ie])}}),at.App=kt,Ge}(ze);return kt.INTERNAL=Object.assign(Object.assign({},kt.INTERNAL),{createFirebaseNamespace:vt,extendNamespace:function be(Ge){(0,t.ZB)(kt,Ge)},createSubscribe:t.ne,ErrorFactory:t.LL,deepExtend:t.ZB}),kt}(),xe=new oe.Yd("@firebase/app-compat");if((0,t.jU)()&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const kt=self.firebase.SDK_VERSION;kt&&kt.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const gt=Pe;!function pt(kt){(0,ie.registerVersion)("@firebase/app-compat","0.2.4",kt)}()},9681:(ei,Jt,U)=>{"use strict";U.r(Jt),U.d(Jt,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ai,_DEFAULT_ENTRY_NAME:()=>Je,_addComponent:()=>Qt,_addOrOverwriteComponent:()=>Bt,_apps:()=>Yt,_clearComponents:()=>Tn,_components:()=>$t,_getProvider:()=>qe,_registerComponent:()=>hn,_removeServiceInstance:()=>cn,deleteApp:()=>Ye,getApp:()=>Mi,getApps:()=>Kt,initializeApp:()=>bi,onLog:()=>Mt,registerVersion:()=>Be,setLogLevel:()=>vn});var t=U(5861),Z=U(4859),ie=U(1877),oe=U(2090),ze=U(8766);class ct{constructor(ot){this.container=ot}getPlatformInfoString(){return this.container.getProviders().map(on=>{if(function $e(we){const ot=we.getComponent();return"VERSION"===(null==ot?void 0:ot.type)}(on)){const Un=on.getImmediate();return`${Un.library}/${Un.version}`}return null}).filter(on=>on).join(" ")}}const Fe="@firebase/app",Pe=new ie.Yd("@firebase/app"),Je="[DEFAULT]",rt={[Fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,$t=new Map;function Qt(we,ot){try{we.container.addComponent(ot)}catch(on){Pe.debug(`Component ${ot.name} failed to register with FirebaseApp ${we.name}`,on)}}function Bt(we,ot){we.container.addOrOverwriteComponent(ot)}function hn(we){const ot=we.name;if($t.has(ot))return Pe.debug(`There were multiple attempts to register component ${ot}.`),!1;$t.set(ot,we);for(const on of Yt.values())Qt(on,we);return!0}function qe(we,ot){const on=we.container.getProvider("heartbeat").getImmediate({optional:!0});return on&&on.triggerHeartbeat(),we.container.getProvider(ot)}function cn(we,ot,on=Je){qe(we,ot).clearInstance(on)}function Tn(){$t.clear()}const Ln=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class si{constructor(ot,on,Un){this._isDeleted=!1,this._options=Object.assign({},ot),this._config=Object.assign({},on),this._name=on.name,this._automaticDataCollectionEnabled=on.automaticDataCollectionEnabled,this._container=Un,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ot){this._isDeleted=ot}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const ai="9.17.2";function bi(we,ot={}){let on=we;"object"!=typeof ot&&(ot={name:ot});const Un=Object.assign({name:Je,automaticDataCollectionEnabled:!1},ot),wi=Un.name;if("string"!=typeof wi||!wi)throw Ln.create("bad-app-name",{appName:String(wi)});if(on||(on=(0,oe.aH)()),!on)throw Ln.create("no-options");const xi=Yt.get(wi);if(xi){if((0,oe.vZ)(on,xi.options)&&(0,oe.vZ)(Un,xi.config))return xi;throw Ln.create("duplicate-app",{appName:wi})}const rr=new Z.H0(wi);for(const ye of $t.values())rr.addComponent(ye);const wt=new si(on,Un,rr);return Yt.set(wi,wt),wt}function Mi(we=Je){const ot=Yt.get(we);if(!ot&&we===Je)return bi();if(!ot)throw Ln.create("no-app",{appName:we});return ot}function Kt(){return Array.from(Yt.values())}function Ye(we){return ke.apply(this,arguments)}function ke(){return(ke=(0,t.Z)(function*(we){const ot=we.name;Yt.has(ot)&&(Yt.delete(ot),yield Promise.all(we.container.getProviders().map(on=>on.delete())),we.isDeleted=!0)})).apply(this,arguments)}function Be(we,ot,on){var Un;let wi=null!==(Un=rt[we])&&void 0!==Un?Un:we;on&&(wi+=`-${on}`);const xi=wi.match(/\s|\//),rr=ot.match(/\s|\//);if(xi||rr){const wt=[`Unable to register library "${wi}" with version "${ot}":`];return xi&&wt.push(`library name "${wi}" contains illegal characters (whitespace or "/")`),xi&&rr&&wt.push("and"),rr&&wt.push(`version name "${ot}" contains illegal characters (whitespace or "/")`),void Pe.warn(wt.join(" "))}hn(new Z.wA(`${wi}-version`,()=>({library:wi,version:ot}),"VERSION"))}function Mt(we,ot){if(null!==we&&"function"!=typeof we)throw Ln.create("invalid-log-argument");(0,ie.Am)(we,ot)}function vn(we){(0,ie.Ub)(we)}const qn="firebase-heartbeat-database",ii=1,gi="firebase-heartbeat-store";let $i=null;function Xn(){return $i||($i=(0,ze.X3)(qn,ii,{upgrade:(we,ot)=>{0===ot&&we.createObjectStore(gi)}}).catch(we=>{throw Ln.create("idb-open",{originalErrorMessage:we.message})})),$i}function mi(){return(mi=(0,t.Z)(function*(we){try{return(yield Xn()).transaction(gi).objectStore(gi).get(Ci(we))}catch(ot){if(ot instanceof oe.ZR)Pe.warn(ot.message);else{const on=Ln.create("idb-get",{originalErrorMessage:null==ot?void 0:ot.message});Pe.warn(on.message)}}})).apply(this,arguments)}function Pi(we,ot){return Si.apply(this,arguments)}function Si(){return(Si=(0,t.Z)(function*(we,ot){try{const Un=(yield Xn()).transaction(gi,"readwrite");return yield Un.objectStore(gi).put(ot,Ci(we)),Un.done}catch(on){if(on instanceof oe.ZR)Pe.warn(on.message);else{const Un=Ln.create("idb-set",{originalErrorMessage:null==on?void 0:on.message});Pe.warn(Un.message)}}})).apply(this,arguments)}function Ci(we){return`${we.name}!${we.options.appId}`}class Wt{constructor(ot){this.container=ot,this._heartbeatsCache=null;const on=this.container.getProvider("app").getImmediate();this._storage=new Dn(on),this._heartbeatsCachePromise=this._storage.read().then(Un=>(this._heartbeatsCache=Un,Un))}triggerHeartbeat(){var ot=this;return(0,t.Z)(function*(){const Un=ot.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wi=pn();if(null===ot._heartbeatsCache&&(ot._heartbeatsCache=yield ot._heartbeatsCachePromise),ot._heartbeatsCache.lastSentHeartbeatDate!==wi&&!ot._heartbeatsCache.heartbeats.some(xi=>xi.date===wi))return ot._heartbeatsCache.heartbeats.push({date:wi,agent:Un}),ot._heartbeatsCache.heartbeats=ot._heartbeatsCache.heartbeats.filter(xi=>{const rr=new Date(xi.date).valueOf();return Date.now()-rr<=2592e6}),ot._storage.overwrite(ot._heartbeatsCache)})()}getHeartbeatsHeader(){var ot=this;return(0,t.Z)(function*(){if(null===ot._heartbeatsCache&&(yield ot._heartbeatsCachePromise),null===ot._heartbeatsCache||0===ot._heartbeatsCache.heartbeats.length)return"";const on=pn(),{heartbeatsToSend:Un,unsentEntries:wi}=function Rn(we,ot=1024){const on=[];let Un=we.slice();for(const wi of we){const xi=on.find(rr=>rr.agent===wi.agent);if(xi){if(xi.dates.push(wi.date),mn(on)>ot){xi.dates.pop();break}}else if(on.push({agent:wi.agent,dates:[wi.date]}),mn(on)>ot){on.pop();break}Un=Un.slice(1)}return{heartbeatsToSend:on,unsentEntries:Un}}(ot._heartbeatsCache.heartbeats),xi=(0,oe.L)(JSON.stringify({version:2,heartbeats:Un}));return ot._heartbeatsCache.lastSentHeartbeatDate=on,wi.length>0?(ot._heartbeatsCache.heartbeats=wi,yield ot._storage.overwrite(ot._heartbeatsCache)):(ot._heartbeatsCache.heartbeats=[],ot._storage.overwrite(ot._heartbeatsCache)),xi})()}}function pn(){return(new Date).toISOString().substring(0,10)}class Dn{constructor(ot){this.app=ot,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,t.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ot=this;return(0,t.Z)(function*(){return(yield ot._canUseIndexedDBPromise)&&(yield function zn(we){return mi.apply(this,arguments)}(ot.app))||{heartbeats:[]}})()}overwrite(ot){var on=this;return(0,t.Z)(function*(){var Un;if(yield on._canUseIndexedDBPromise){const xi=yield on.read();return Pi(on.app,{lastSentHeartbeatDate:null!==(Un=ot.lastSentHeartbeatDate)&&void 0!==Un?Un:xi.lastSentHeartbeatDate,heartbeats:ot.heartbeats})}})()}add(ot){var on=this;return(0,t.Z)(function*(){var Un;if(yield on._canUseIndexedDBPromise){const xi=yield on.read();return Pi(on.app,{lastSentHeartbeatDate:null!==(Un=ot.lastSentHeartbeatDate)&&void 0!==Un?Un:xi.lastSentHeartbeatDate,heartbeats:[...xi.heartbeats,...ot.heartbeats]})}})()}}function mn(we){return(0,oe.L)(JSON.stringify({version:2,heartbeats:we})).length}!function Ee(we){hn(new Z.wA("platform-logger",ot=>new ct(ot),"PRIVATE")),hn(new Z.wA("heartbeat",ot=>new Wt(ot),"PRIVATE")),Be(Fe,"0.9.4",we),Be(Fe,"0.9.4","esm2017"),Be("fire-js","")}("")},4859:(ei,Jt,U)=>{"use strict";U.d(Jt,{H0:()=>Fe,wA:()=>ie,zt:()=>ze});var t=U(5861),Z=U(2090);class ie{constructor(Pe,xe,Ue){this.name=Pe,this.instanceFactory=xe,this.type=Ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Pe){return this.instantiationMode=Pe,this}setMultipleInstances(Pe){return this.multipleInstances=Pe,this}setServiceProps(Pe){return this.serviceProps=Pe,this}setInstanceCreatedCallback(Pe){return this.onInstanceCreated=Pe,this}}const oe="[DEFAULT]";class ze{constructor(Pe,xe){this.name=Pe,this.container=xe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Pe){const xe=this.normalizeInstanceIdentifier(Pe);if(!this.instancesDeferred.has(xe)){const Ue=new Z.BH;if(this.instancesDeferred.set(xe,Ue),this.isInitialized(xe)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:xe});je&&Ue.resolve(je)}catch(je){}}return this.instancesDeferred.get(xe).promise}getImmediate(Pe){var xe;const Ue=this.normalizeInstanceIdentifier(null==Pe?void 0:Pe.identifier),je=null!==(xe=null==Pe?void 0:Pe.optional)&&void 0!==xe&&xe;if(!this.isInitialized(Ue)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ue})}catch(pt){if(je)return null;throw pt}}getComponent(){return this.component}setComponent(Pe){if(Pe.name!==this.name)throw Error(`Mismatching Component ${Pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Pe,this.shouldAutoInitialize()){if(function $e(vt){return"EAGER"===vt.instantiationMode}(Pe))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(xe){}for(const[xe,Ue]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(xe);try{const pt=this.getOrInitializeService({instanceIdentifier:je});Ue.resolve(pt)}catch(pt){}}}}clearInstance(Pe=oe){this.instancesDeferred.delete(Pe),this.instancesOptions.delete(Pe),this.instances.delete(Pe)}delete(){var Pe=this;return(0,t.Z)(function*(){const xe=Array.from(Pe.instances.values());yield Promise.all([...xe.filter(Ue=>"INTERNAL"in Ue).map(Ue=>Ue.INTERNAL.delete()),...xe.filter(Ue=>"_delete"in Ue).map(Ue=>Ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Pe=oe){return this.instances.has(Pe)}getOptions(Pe=oe){return this.instancesOptions.get(Pe)||{}}initialize(Pe={}){const{options:xe={}}=Pe,Ue=this.normalizeInstanceIdentifier(Pe.instanceIdentifier);if(this.isInitialized(Ue))throw Error(`${this.name}(${Ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Ue,options:xe});for(const[pt,gt]of this.instancesDeferred.entries())Ue===this.normalizeInstanceIdentifier(pt)&&gt.resolve(je);return je}onInit(Pe,xe){var Ue;const je=this.normalizeInstanceIdentifier(xe),pt=null!==(Ue=this.onInitCallbacks.get(je))&&void 0!==Ue?Ue:new Set;pt.add(Pe),this.onInitCallbacks.set(je,pt);const gt=this.instances.get(je);return gt&&Pe(gt,je),()=>{pt.delete(Pe)}}invokeOnInitCallbacks(Pe,xe){const Ue=this.onInitCallbacks.get(xe);if(Ue)for(const je of Ue)try{je(Pe,xe)}catch(pt){}}getOrInitializeService({instanceIdentifier:Pe,options:xe={}}){let Ue=this.instances.get(Pe);if(!Ue&&this.component&&(Ue=this.component.instanceFactory(this.container,{instanceIdentifier:(vt=Pe,vt===oe?void 0:vt),options:xe}),this.instances.set(Pe,Ue),this.instancesOptions.set(Pe,xe),this.invokeOnInitCallbacks(Ue,Pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Pe,Ue)}catch(je){}var vt;return Ue||null}normalizeInstanceIdentifier(Pe=oe){return this.component?this.component.multipleInstances?Pe:oe:Pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(Pe){this.name=Pe,this.providers=new Map}addComponent(Pe){const xe=this.getProvider(Pe.name);if(xe.isComponentSet())throw new Error(`Component ${Pe.name} has already been registered with ${this.name}`);xe.setComponent(Pe)}addOrOverwriteComponent(Pe){this.getProvider(Pe.name).isComponentSet()&&this.providers.delete(Pe.name),this.addComponent(Pe)}getProvider(Pe){if(this.providers.has(Pe))return this.providers.get(Pe);const xe=new ze(Pe,this);return this.providers.set(Pe,xe),xe}getProviders(){return Array.from(this.providers.values())}}},2833:(ei,Jt,U)=>{"use strict";var t=U(5861),Z=U(9681),ie=U(4859),oe=U(2090),ze=U(8766);const ct="@firebase/installations",$e="0.6.4",Fe=1e4,vt=`w:${$e}`,Pe="FIS_v2",xe="https://firebaseinstallations.googleapis.com/v1",Ue=36e5,kt=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(Ot){return Ot instanceof oe.ZR&&Ot.code.includes("request-failed")}function Ge({projectId:Ot}){return`${xe}/projects/${Ot}/installations`}function yt(Ot){return{token:Ot.token,requestStatus:2,expiresIn:nt(Ot.expiresIn),creationTime:Date.now()}}function at(Ot,yn){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,t.Z)(function*(Ot,yn){const Ii=(yield yn.json()).error;return kt.create("request-failed",{requestName:Ot,serverCode:Ii.code,serverMessage:Ii.message,serverStatus:Ii.status})})).apply(this,arguments)}function dt({apiKey:Ot}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ot})}function ut(Ot){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,t.Z)(function*(Ot){const yn=yield Ot();return yn.status>=500&&yn.status<600?Ot():yn})).apply(this,arguments)}function nt(Ot){return Number(Ot.replace("s","000"))}function At(){return(At=(0,t.Z)(function*({appConfig:Ot,heartbeatServiceProvider:yn},{fid:Bn}){const Ii=Ge(Ot),vr=dt(Ot),vi=yn.getImmediate({optional:!0});if(vi){const Rr=yield vi.getHeartbeatsHeader();Rr&&vr.append("x-firebase-client",Rr)}const Ir={method:"POST",headers:vr,body:JSON.stringify({fid:Bn,authVersion:Pe,appId:Ot.appId,sdkVersion:vt})},Jr=yield ut(()=>fetch(Ii,Ir));if(Jr.ok){const Rr=yield Jr.json();return{fid:Rr.fid||Bn,registrationStatus:2,refreshToken:Rr.refreshToken,authToken:yt(Rr.authToken)}}throw yield at("Create Installation",Jr)})).apply(this,arguments)}function Pt(Ot){return new Promise(yn=>{setTimeout(yn,Ot)})}const Et=/^[cdef][\w-]{21}$/,it="";function Vt(){try{const Ot=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ot),Ot[0]=112+Ot[0]%16;const Bn=function lt(Ot){return function Lt(Ot){return btoa(String.fromCharCode(...Ot)).replace(/\+/g,"-").replace(/\//g,"_")}(Ot).substr(0,22)}(Ot);return Et.test(Bn)?Bn:it}catch(Ot){return it}}function Je(Ot){return`${Ot.appName}!${Ot.appId}`}const rt=new Map;function Yt(Ot,yn){const Bn=Je(Ot);Bt(Bn,yn),function hn(Ot,yn){const Bn=function cn(){return!qe&&"BroadcastChannel"in self&&(qe=new BroadcastChannel("[Firebase] FID Change"),qe.onmessage=Ot=>{Bt(Ot.data.key,Ot.data.fid)}),qe}();Bn&&Bn.postMessage({key:Ot,fid:yn}),function Tn(){0===rt.size&&qe&&(qe.close(),qe=null)}()}(Bn,yn)}function Bt(Ot,yn){const Bn=rt.get(Ot);if(Bn)for(const Ii of Bn)Ii(yn)}let qe=null;const Hn="firebase-installations-database",Ln=1,si="firebase-installations-store";let ai=null;function bi(){return ai||(ai=(0,ze.X3)(Hn,Ln,{upgrade:(Ot,yn)=>{0===yn&&Ot.createObjectStore(si)}})),ai}function Mi(Ot,yn){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,t.Z)(function*(Ot,yn){const Bn=Je(Ot),vr=(yield bi()).transaction(si,"readwrite"),vi=vr.objectStore(si),Ni=yield vi.get(Bn);return yield vi.put(yn,Bn),yield vr.done,(!Ni||Ni.fid!==yn.fid)&&Yt(Ot,yn.fid),yn})).apply(this,arguments)}function Ye(Ot){return ke.apply(this,arguments)}function ke(){return(ke=(0,t.Z)(function*(Ot){const yn=Je(Ot),Ii=(yield bi()).transaction(si,"readwrite");yield Ii.objectStore(si).delete(yn),yield Ii.done})).apply(this,arguments)}function Be(Ot,yn){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,t.Z)(function*(Ot,yn){const Bn=Je(Ot),vr=(yield bi()).transaction(si,"readwrite"),vi=vr.objectStore(si),Ni=yield vi.get(Bn),Ir=yn(Ni);return void 0===Ir?yield vi.delete(Bn):yield vi.put(Ir,Bn),yield vr.done,Ir&&(!Ni||Ni.fid!==Ir.fid)&&Yt(Ot,Ir.fid),Ir})).apply(this,arguments)}function vn(Ot){return qn.apply(this,arguments)}function qn(){return qn=(0,t.Z)(function*(Ot){let yn;const Bn=yield Be(Ot.appConfig,Ii=>{const vr=function ii(Ot){return Si(Ot||{fid:Vt(),registrationStatus:0})}(Ii),vi=function gi(Ot,yn){if(0===yn.registrationStatus){if(!navigator.onLine)return{installationEntry:yn,registrationPromise:Promise.reject(kt.create("app-offline"))};const Bn={fid:yn.fid,registrationStatus:1,registrationTime:Date.now()},Ii=function $i(Ot,yn){return Xn.apply(this,arguments)}(Ot,Bn);return{installationEntry:Bn,registrationPromise:Ii}}return 1===yn.registrationStatus?{installationEntry:yn,registrationPromise:zn(Ot)}:{installationEntry:yn}}(Ot,vr);return yn=vi.registrationPromise,vi.installationEntry});return Bn.fid===it?{installationEntry:yield yn}:{installationEntry:Bn,registrationPromise:yn}}),qn.apply(this,arguments)}function Xn(){return Xn=(0,t.Z)(function*(Ot,yn){try{const Bn=yield function Nt(Ot,yn){return At.apply(this,arguments)}(Ot,yn);return Mi(Ot.appConfig,Bn)}catch(Bn){throw be(Bn)&&409===Bn.customData.serverCode?yield Ye(Ot.appConfig):yield Mi(Ot.appConfig,{fid:yn.fid,registrationStatus:0}),Bn}}),Xn.apply(this,arguments)}function zn(Ot){return mi.apply(this,arguments)}function mi(){return(mi=(0,t.Z)(function*(Ot){let yn=yield Pi(Ot.appConfig);for(;1===yn.registrationStatus;)yield Pt(100),yn=yield Pi(Ot.appConfig);if(0===yn.registrationStatus){const{installationEntry:Bn,registrationPromise:Ii}=yield vn(Ot);return Ii||Bn}return yn})).apply(this,arguments)}function Pi(Ot){return Be(Ot,yn=>{if(!yn)throw kt.create("installation-not-found");return Si(yn)})}function Si(Ot){return function Ci(Ot){return 1===Ot.registrationStatus&&Ot.registrationTime+Fe<Date.now()}(Ot)?{fid:Ot.fid,registrationStatus:0}:Ot}function xt(){return(xt=(0,t.Z)(function*({appConfig:Ot,heartbeatServiceProvider:yn},Bn){const Ii=function Wt(Ot,{fid:yn}){return`${Ge(Ot)}/${yn}/authTokens:generate`}(Ot,Bn),vr=function Ut(Ot,{refreshToken:yn}){const Bn=dt(Ot);return Bn.append("Authorization",function St(Ot){return`${Pe} ${Ot}`}(yn)),Bn}(Ot,Bn),vi=yn.getImmediate({optional:!0});if(vi){const Rr=yield vi.getHeartbeatsHeader();Rr&&vr.append("x-firebase-client",Rr)}const Ir={method:"POST",headers:vr,body:JSON.stringify({installation:{sdkVersion:vt,appId:Ot.appId}})},Jr=yield ut(()=>fetch(Ii,Ir));if(Jr.ok)return yt(yield Jr.json());throw yield at("Generate Auth Token",Jr)})).apply(this,arguments)}function pn(Ot){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,t.Z)(function*(Ot,yn=!1){let Bn;const Ii=yield Be(Ot.appConfig,vi=>{if(!on(vi))throw kt.create("not-registered");const Ni=vi.authToken;if(!yn&&function Un(Ot){return 2===Ot.requestStatus&&!function wi(Ot){const yn=Date.now();return yn<Ot.creationTime||Ot.creationTime+Ot.expiresIn<yn+Ue}(Ot)}(Ni))return vi;if(1===Ni.requestStatus)return Bn=function Dn(Ot,yn){return mn.apply(this,arguments)}(Ot,yn),vi;{if(!navigator.onLine)throw kt.create("app-offline");const Ir=function xi(Ot){const yn={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ot),{authToken:yn})}(vi);return Bn=function we(Ot,yn){return ot.apply(this,arguments)}(Ot,Ir),Ir}});return Bn?yield Bn:Ii.authToken}),Rn.apply(this,arguments)}function mn(){return(mn=(0,t.Z)(function*(Ot,yn){let Bn=yield Ee(Ot.appConfig);for(;1===Bn.authToken.requestStatus;)yield Pt(100),Bn=yield Ee(Ot.appConfig);const Ii=Bn.authToken;return 0===Ii.requestStatus?pn(Ot,yn):Ii})).apply(this,arguments)}function Ee(Ot){return Be(Ot,yn=>{if(!on(yn))throw kt.create("not-registered");return function rr(Ot){return 1===Ot.requestStatus&&Ot.requestTime+Fe<Date.now()}(yn.authToken)?Object.assign(Object.assign({},yn),{authToken:{requestStatus:0}}):yn})}function ot(){return ot=(0,t.Z)(function*(Ot,yn){try{const Bn=yield function dn(Ot,yn){return xt.apply(this,arguments)}(Ot,yn),Ii=Object.assign(Object.assign({},yn),{authToken:Bn});return yield Mi(Ot.appConfig,Ii),Bn}catch(Bn){if(!be(Bn)||401!==Bn.customData.serverCode&&404!==Bn.customData.serverCode){const Ii=Object.assign(Object.assign({},yn),{authToken:{requestStatus:0}});yield Mi(Ot.appConfig,Ii)}else yield Ye(Ot.appConfig);throw Bn}}),ot.apply(this,arguments)}function on(Ot){return void 0!==Ot&&2===Ot.registrationStatus}function ye(){return(ye=(0,t.Z)(function*(Ot){const yn=Ot,{installationEntry:Bn,registrationPromise:Ii}=yield vn(yn);return Ii?Ii.catch(console.error):pn(yn).catch(console.error),Bn.fid})).apply(this,arguments)}function _e(){return _e=(0,t.Z)(function*(Ot,yn=!1){const Bn=Ot;return yield function ge(Ot){return It.apply(this,arguments)}(Bn),(yield pn(Bn,yn)).token}),_e.apply(this,arguments)}function It(){return(It=(0,t.Z)(function*(Ot){const{registrationPromise:yn}=yield vn(Ot);yn&&(yield yn)})).apply(this,arguments)}function qt(Ot){return kt.create("missing-app-config-values",{valueName:Ot})}const We="installations",Wn=Ot=>{const yn=Ot.getProvider("app").getImmediate(),Bn=function ft(Ot){if(!Ot||!Ot.options)throw qt("App Configuration");if(!Ot.name)throw qt("App Name");const yn=["projectId","apiKey","appId"];for(const Bn of yn)if(!Ot.options[Bn])throw qt(Bn);return{appName:Ot.name,projectId:Ot.options.projectId,apiKey:Ot.options.apiKey,appId:Ot.options.appId}}(yn);return{app:yn,appConfig:Bn,heartbeatServiceProvider:(0,Z._getProvider)(yn,"heartbeat"),_delete:()=>Promise.resolve()}},Jn=Ot=>{const yn=Ot.getProvider("app").getImmediate(),Bn=(0,Z._getProvider)(yn,We).getImmediate();return{getId:()=>function wt(Ot){return ye.apply(this,arguments)}(Bn),getToken:vr=>function he(Ot){return _e.apply(this,arguments)}(Bn,vr)}};(function oi(){(0,Z._registerComponent)(new ie.wA(We,Wn,"PUBLIC")),(0,Z._registerComponent)(new ie.wA("installations-internal",Jn,"PRIVATE"))})(),(0,Z.registerVersion)(ct,$e),(0,Z.registerVersion)(ct,$e,"esm2017")},1877:(ei,Jt,U)=>{"use strict";U.d(Jt,{Am:()=>vt,Ub:()=>Fe,Yd:()=>$e,in:()=>Z});const t=[];var Z=(()=>{return(Pe=Z||(Z={}))[Pe.DEBUG=0]="DEBUG",Pe[Pe.VERBOSE=1]="VERBOSE",Pe[Pe.INFO=2]="INFO",Pe[Pe.WARN=3]="WARN",Pe[Pe.ERROR=4]="ERROR",Pe[Pe.SILENT=5]="SILENT",Z;var Pe})();const ie={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},oe=Z.INFO,ze={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ct=(Pe,xe,...Ue)=>{if(xe<Pe.logLevel)return;const je=(new Date).toISOString(),pt=ze[xe];if(!pt)throw new Error(`Attempted to log a message with an invalid logType (value: ${xe})`);console[pt](`[${je}]  ${Pe.name}:`,...Ue)};class $e{constructor(xe){this.name=xe,this._logLevel=oe,this._logHandler=ct,this._userLogHandler=null,t.push(this)}get logLevel(){return this._logLevel}set logLevel(xe){if(!(xe in Z))throw new TypeError(`Invalid value "${xe}" assigned to \`logLevel\``);this._logLevel=xe}setLogLevel(xe){this._logLevel="string"==typeof xe?ie[xe]:xe}get logHandler(){return this._logHandler}set logHandler(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe}get userLogHandler(){return this._userLogHandler}set userLogHandler(xe){this._userLogHandler=xe}debug(...xe){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...xe),this._logHandler(this,Z.DEBUG,...xe)}log(...xe){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...xe),this._logHandler(this,Z.VERBOSE,...xe)}info(...xe){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...xe),this._logHandler(this,Z.INFO,...xe)}warn(...xe){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...xe),this._logHandler(this,Z.WARN,...xe)}error(...xe){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...xe),this._logHandler(this,Z.ERROR,...xe)}}function Fe(Pe){t.forEach(xe=>{xe.setLogLevel(Pe)})}function vt(Pe,xe){for(const Ue of t){let je=null;xe&&xe.level&&(je=ie[xe.level]),Ue.userLogHandler=null===Pe?null:(pt,gt,...kt)=>{const be=kt.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch(yt){return null}}).filter(Ge=>Ge).join(" ");gt>=(null!=je?je:pt.logLevel)&&Pe({level:Z[gt].toLowerCase(),message:be,args:kt,type:pt.name})}}}},4197:(ei,Jt,U)=>{"use strict";U.d(Jt,{xm:()=>Pc,lQ:()=>Tc,IJ:()=>Eh});var t=U(4650),Z=U(9751),ie=U(515),oe=U(9646),ze=U(7579),ct=U(4968),$e=U(4986),Fe=U(3532);function Pe(g=0,T,c=$e.P){let y=-1;return null!=T&&((0,Fe.K)(T)?c=T:y=T),new Z.y(P=>{let te=function vt(g){return g instanceof Date&&!isNaN(g)}(g)?+g-c.now():g;te<0&&(te=0);let st=0;return c.schedule(function(){P.closed||(P.next(st++),0<=y?this.schedule(void 0,y):P.complete())},te)})}var xe=U(8421);const{isArray:Ue}=Array;function je(g){return 1===g.length&&Ue(g[0])?g[0]:g}var pt=U(5403);var be=U(1135),Ge=U(9841),yt=U(5032);const at=new Z.y(yt.Z);var dt=U(3269);function Ut(...g){const T=(0,dt.jO)(g),c=je(g);return c.length?new Z.y(y=>{let P=c.map(()=>[]),te=c.map(()=>!1);y.add(()=>{P=te=null});for(let st=0;!y.closed&&st<c.length;st++)(0,xe.Xf)(c[st]).subscribe((0,pt.x)(y,en=>{if(P[st].push(en),P.every(ln=>ln.length)){const ln=P.map(wn=>wn.shift());y.next(T?T(...ln):ln),P.some((wn,Pn)=>!wn.length&&te[Pn])&&y.complete()}},()=>{te[st]=!0,!P[st].length&&y.complete()}));return()=>{P=te=null}}):ie.E}var ut=U(6451),Ie=U(7272),St=U(4482);function Nt(g){return(0,St.e)((T,c)=>{(0,xe.Xf)(g).subscribe((0,pt.x)(c,()=>c.complete(),yt.Z)),!c.closed&&T.subscribe(c)})}var At=U(9300),Pt=U(5698),Lt=U(4004),Et=U(8675),it=U(1884),Vt=U(3900),lt=U(8505),Je=U(1365);U(9718),U(5577);var qe=U(6895),cn=U(433);function ko(g,T){}function so(g,T){if(1&g&&(t.TgZ(0,"button",3),t._uU(1),t.YNc(2,ko,0,0,"ng-template",4),t.qZA()),2&g){const c=T.$implicit;t.Q6J("ngbPanelToggle",c),t.xp6(1),t.hij(" ",c.title," "),t.xp6(1),t.Q6J("ngTemplateOutlet",null==c.titleTpl?null:c.titleTpl.templateRef)}}function ua(g,T){}function mo(g,T){}function Ha(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"div",8),t.NdJ("ngbRef",function(P){t.CHM(c);const te=t.oxw().$implicit;return t.KtG(te.panelDiv=P)}),t.TgZ(1,"div",9),t.YNc(2,mo,0,0,"ng-template",4),t.qZA()()}if(2&g){const c=t.oxw().$implicit;t.s9C("id",c.id),t.uIk("aria-labelledby",c.id+"-header"),t.xp6(2),t.Q6J("ngTemplateOutlet",(null==c.contentTpl?null:c.contentTpl.templateRef)||null)}}Math,Math,Math;const Jo=function(g,T){return{$implicit:g,opened:T}};function da(g,T){if(1&g&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,ua,0,0,"ng-template",6),t.qZA(),t.YNc(3,Ha,3,3,"div",7),t.qZA()),2&g){const c=T.$implicit,y=t.oxw(),P=t.MAs(1);t.Tol("accordion-item "+(c.cardClass||"")),t.xp6(1),t.Tol("accordion-header "+(c.type?"bg-"+c.type:y.type?"bg-"+y.type:"")),t.MGl("id","",c.id,"-header"),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==c.headerTpl?null:c.headerTpl.templateRef)||P)("ngTemplateOutletContext",t.WLB(8,Jo,c,c.isOpen)),t.xp6(1),t.Q6J("ngIf",!y.destroyOnHide||c.isOpen||c.transitionRunning)}}function eo(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.close())}),t.qZA()}}const ha=["*"];function Zr(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const te=t.CHM(c).$implicit,st=t.oxw();return st.focus(),t.KtG(st.select(te.id,st.NgbSlideEventSource.INDICATOR))}),t.qZA()}if(2&g){const c=T.$implicit,y=t.oxw();t.ekj("active",c.id===y.activeId),t.uIk("aria-labelledby","slide-"+c.id)("aria-controls","slide-"+c.id)("aria-selected",c.id===y.activeId)}}function fa(g,T){}function Sl(g,T){if(1&g&&(t.TgZ(0,"div",7)(1,"span",8),t.SDv(2,9),t.qZA(),t.YNc(3,fa,0,0,"ng-template",10),t.qZA()),2&g){const c=T.$implicit,y=T.index,P=T.count;t.Q6J("id","slide-"+c.id),t.xp6(2),t.pQV(y+1)(P),t.QtT(2),t.xp6(1),t.Q6J("ngTemplateOutlet",c.tplRef)}}function nl(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.arrowLeft())}),t._UZ(1,"span",12),t.TgZ(2,"span",8),t.SDv(3,13),t.qZA()()}}function oo(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.arrowRight())}),t._UZ(1,"span",15),t.TgZ(2,"span",8),t.SDv(3,16),t.qZA()()}}const wa=["ngbDatepickerDayView",""],to=["month"],pa=["year"];function gr(g,T){if(1&g&&(t.TgZ(0,"option",5),t._uU(1),t.qZA()),2&g){const c=T.$implicit,y=t.oxw();t.Q6J("value",c),t.uIk("aria-label",y.i18n.getMonthFullName(c,y.date.year)),t.xp6(1),t.Oqu(y.i18n.getMonthShortName(c,y.date.year))}}function wo(g,T){if(1&g&&(t.TgZ(0,"option",5),t._uU(1),t.qZA()),2&g){const c=T.$implicit,y=t.oxw();t.Q6J("value",c),t.xp6(1),t.Oqu(y.i18n.getYearNumerals(c))}}function Bs(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"ngb-datepicker-navigation-select",7),t.NdJ("select",function(P){t.CHM(c);const te=t.oxw();return t.KtG(te.select.emit(P))}),t.qZA()}if(2&g){const c=t.oxw();t.Q6J("date",c.date)("disabled",c.disabled)("months",c.selectBoxes.months)("years",c.selectBoxes.years)}}function Cc(g,T){1&g&&t._UZ(0,"div",0)}function rs(g,T){1&g&&t._UZ(0,"div",0)}function cl(g,T){if(1&g&&(t.YNc(0,Cc,1,0,"div",9),t.TgZ(1,"div",10),t._uU(2),t.qZA(),t.YNc(3,rs,1,0,"div",9)),2&g){const c=T.$implicit,y=T.index,P=t.oxw(2);t.Q6J("ngIf",y>0),t.xp6(2),t.hij(" ",P.i18n.getMonthLabel(c.firstDate)," "),t.xp6(1),t.Q6J("ngIf",y!==P.months.length-1)}}function Ta(g,T){if(1&g&&t.YNc(0,cl,4,3,"ng-template",8),2&g){const c=t.oxw();t.Q6J("ngForOf",c.months)}}function Us(g,T){if(1&g&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&g){const c=t.oxw(2);t.xp6(1),t.Oqu(c.i18n.getWeekLabel())}}function Qo(g,T){if(1&g&&(t.TgZ(0,"div",6),t._uU(1),t.qZA()),2&g){const c=T.$implicit;t.xp6(1),t.Oqu(c)}}function ao(g,T){if(1&g&&(t.TgZ(0,"div",2),t.YNc(1,Us,2,1,"div",3),t.YNc(2,Qo,2,1,"div",4),t.qZA()),2&g){const c=t.oxw();t.xp6(1),t.Q6J("ngIf",c.datepicker.showWeekNumbers),t.xp6(1),t.Q6J("ngForOf",c.viewModel.weekdays)}}function Qr(g,T){if(1&g&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&g){const c=t.oxw(2).$implicit,y=t.oxw();t.xp6(1),t.Oqu(y.i18n.getWeekNumerals(c.number))}}function To(g,T){}function Ps(g,T){if(1&g&&t.YNc(0,To,0,0,"ng-template",14),2&g){const c=t.oxw().$implicit,y=t.oxw(3);t.Q6J("ngTemplateOutlet",y.datepicker.dayTemplate)("ngTemplateOutletContext",c.context)}}function ds(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(P){const st=t.CHM(c).$implicit;return t.oxw(3).doSelect(st),t.KtG(P.preventDefault())}),t.YNc(1,Ps,1,2,"ng-template",13),t.qZA()}if(2&g){const c=T.$implicit;t.ekj("disabled",c.context.disabled)("hidden",c.hidden)("ngb-dp-today",c.context.today),t.Q6J("tabindex",c.tabindex),t.uIk("aria-label",c.ariaLabel),t.xp6(1),t.Q6J("ngIf",!c.hidden)}}function lo(g,T){if(1&g&&(t.TgZ(0,"div",8),t.YNc(1,Qr,2,1,"div",9),t.YNc(2,ds,2,9,"div",10),t.qZA()),2&g){const c=t.oxw().$implicit,y=t.oxw();t.xp6(1),t.Q6J("ngIf",y.datepicker.showWeekNumbers),t.xp6(1),t.Q6J("ngForOf",c.days)}}function tc(g,T){1&g&&t.YNc(0,lo,3,2,"div",7),2&g&&t.Q6J("ngIf",!T.$implicit.collapsed)}const zr=["defaultDayTemplate"],Gs=["content"];function il(g,T){if(1&g&&t._UZ(0,"div",7),2&g){const y=T.currentMonth,P=T.selected,te=T.disabled,st=T.focused;t.Q6J("date",T.date)("currentMonth",y)("selected",P)("disabled",te)("focused",st)}}function ul(g,T){if(1&g&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&g){const c=t.oxw().$implicit,y=t.oxw(2);t.xp6(1),t.hij(" ",y.i18n.getMonthLabel(c.firstDate)," ")}}function nc(g,T){if(1&g&&(t.TgZ(0,"div",9),t.YNc(1,ul,2,1,"div",10),t._UZ(2,"ngb-datepicker-month",11),t.qZA()),2&g){const c=T.$implicit,y=t.oxw(2);t.xp6(1),t.Q6J("ngIf","none"===y.navigation||y.displayMonths>1&&"select"===y.navigation),t.xp6(1),t.Q6J("month",c.firstDate)}}function x(g,T){if(1&g&&t.YNc(0,nc,3,2,"div",8),2&g){const c=t.oxw();t.Q6J("ngForOf",c.model.months)}}function re(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"ngb-datepicker-navigation",13),t.NdJ("navigate",function(P){t.CHM(c);const te=t.oxw();return t.KtG(te.onNavigateEvent(P))})("select",function(P){t.CHM(c);const te=t.oxw();return t.KtG(te.onNavigateDateSelect(P))}),t.qZA()}if(2&g){const c=t.oxw();t.Q6J("date",c.model.firstDate)("months",c.model.months)("disabled",c.model.disabled)("showSelect","select"===c.model.navigation)("prevDisabled",c.model.prevDisabled)("nextDisabled",c.model.nextDisabled)("selectBoxes",c.model.selectBoxes)}}function M(g,T){}function J(g,T){}const He=["dialog"],En=["ngbNavOutlet",""];function Oi(g,T){}const Ji=function(g){return{$implicit:g}};function _r(g,T){if(1&g&&(t.TgZ(0,"div",2),t.YNc(1,Oi,0,0,"ng-template",3),t.qZA()),2&g){const c=t.oxw().$implicit,y=t.oxw();t.Q6J("item",c)("nav",y.nav)("role",y.paneRole),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==c.contentTpl?null:c.contentTpl.templateRef)||null)("ngTemplateOutletContext",t.VKq(5,Ji,c.active||y.isPanelTransitioning(c)))}}function Nr(g,T){if(1&g&&t.YNc(0,_r,2,7,"div",1),2&g){const c=T.$implicit,y=t.oxw();t.Q6J("ngIf",c.isPanelInDom()||y.isPanelTransitioning(c))}}function bs(g,T){1&g&&(t.TgZ(0,"span",9),t.SDv(1,10),t.qZA())}function ss(g,T){1&g&&(t.TgZ(0,"span",9),t.SDv(1,11),t.qZA())}function W(g,T){1&g&&(t.TgZ(0,"span",9),t.SDv(1,12),t.qZA())}function K(g,T){1&g&&(t.TgZ(0,"span",9),t.SDv(1,13),t.qZA())}function Y(g,T){1&g&&t._uU(0,"...")}function Oe(g,T){1&g&&(t.TgZ(0,"span",15),t._uU(1,"(current)"),t.qZA())}function _n(g,T){if(1&g&&(t._uU(0),t.YNc(1,Oe,2,0,"span",14)),2&g){const c=T.$implicit,y=T.currentPage;t.hij(" ",c," "),t.xp6(1),t.Q6J("ngIf",c===y)}}function zi(g,T){}const br=function(g){return{disabled:!0,currentPage:g}};function hs(g,T){if(1&g&&(t.TgZ(0,"a",20),t.YNc(1,zi,0,0,"ng-template",8),t.qZA()),2&g){const c=t.oxw(2).$implicit,y=t.oxw(),P=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",(null==y.tplEllipsis?null:y.tplEllipsis.templateRef)||P)("ngTemplateOutletContext",t.VKq(2,br,c))}}function Io(g,T){}const ea=function(g,T,c){return{disabled:g,$implicit:T,currentPage:c}};function Ia(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"a",21),t.NdJ("click",function(P){t.CHM(c);const te=t.oxw().$implicit;return t.oxw(2).selectPage(te),t.KtG(P.preventDefault())}),t.YNc(1,Io,0,0,"ng-template",8),t.qZA()}if(2&g){const c=t.oxw().$implicit,y=t.oxw(),P=y.disabled,te=y.$implicit,st=t.oxw(),en=t.MAs(11);t.uIk("tabindex",P?"-1":null)("aria-disabled",P?"true":null),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==st.tplNumber?null:st.tplNumber.templateRef)||en)("ngTemplateOutletContext",t.kEZ(4,ea,P,c,te))}}function ga(g,T){if(1&g&&(t.TgZ(0,"li",17),t.YNc(1,hs,2,4,"a",18),t.YNc(2,Ia,2,8,"a",19),t.qZA()),2&g){const c=T.$implicit,y=t.oxw(),P=y.$implicit,te=y.disabled,st=t.oxw();t.ekj("active",c===P)("disabled",st.isEllipsis(c)||te),t.uIk("aria-current",c===P?"page":null),t.xp6(1),t.Q6J("ngIf",st.isEllipsis(c)),t.xp6(1),t.Q6J("ngIf",!st.isEllipsis(c))}}function Uo(g,T){1&g&&t.YNc(0,ga,3,7,"li",16),2&g&&t.Q6J("ngForOf",T.pages)}function zs(g,T){}const cs=function(g,T){return{disabled:g,currentPage:T}};function Al(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"li",17)(1,"a",22),t.NdJ("click",function(P){return t.CHM(c),t.oxw().selectPage(1),t.KtG(P.preventDefault())}),t.YNc(2,zs,0,0,"ng-template",8),t.qZA()()}if(2&g){const c=t.oxw(),y=t.MAs(1);t.ekj("disabled",c.previousDisabled()),t.xp6(1),t.uIk("tabindex",c.previousDisabled()?"-1":null)("aria-disabled",c.previousDisabled()?"true":null),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==c.tplFirst?null:c.tplFirst.templateRef)||y)("ngTemplateOutletContext",t.WLB(6,cs,c.previousDisabled(),c.page))}}function ja(g,T){}const Vo=function(g){return{disabled:g}};function ic(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"li",17)(1,"a",23),t.NdJ("click",function(P){t.CHM(c);const te=t.oxw();return te.selectPage(te.page-1),t.KtG(P.preventDefault())}),t.YNc(2,ja,0,0,"ng-template",8),t.qZA()()}if(2&g){const c=t.oxw(),y=t.MAs(3);t.ekj("disabled",c.previousDisabled()),t.xp6(1),t.uIk("tabindex",c.previousDisabled()?"-1":null)("aria-disabled",c.previousDisabled()?"true":null),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==c.tplPrevious?null:c.tplPrevious.templateRef)||y)("ngTemplateOutletContext",t.VKq(6,Vo,c.previousDisabled()))}}function ma(g,T){}function Ws(g,T){}function Bl(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"li",17)(1,"a",24),t.NdJ("click",function(P){t.CHM(c);const te=t.oxw();return te.selectPage(te.page+1),t.KtG(P.preventDefault())}),t.YNc(2,Ws,0,0,"ng-template",8),t.qZA()()}if(2&g){const c=t.oxw(),y=t.MAs(5);t.ekj("disabled",c.nextDisabled()),t.xp6(1),t.uIk("tabindex",c.nextDisabled()?"-1":null)("aria-disabled",c.nextDisabled()?"true":null),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==c.tplNext?null:c.tplNext.templateRef)||y)("ngTemplateOutletContext",t.WLB(6,cs,c.nextDisabled(),c.page))}}function Ga(g,T){}function _a(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"li",17)(1,"a",25),t.NdJ("click",function(P){t.CHM(c);const te=t.oxw();return te.selectPage(te.pageCount),t.KtG(P.preventDefault())}),t.YNc(2,Ga,0,0,"ng-template",8),t.qZA()()}if(2&g){const c=t.oxw(),y=t.MAs(7);t.ekj("disabled",c.nextDisabled()),t.xp6(1),t.uIk("tabindex",c.nextDisabled()?"-1":null)("aria-disabled",c.nextDisabled()?"true":null),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==c.tplLast?null:c.tplLast.templateRef)||y)("ngTemplateOutletContext",t.WLB(6,cs,c.nextDisabled(),c.page))}}const Da=function(g,T,c){return{$implicit:g,pages:T,disabled:c}};function Ho(g,T){if(1&g&&(t.TgZ(0,"span"),t.SDv(1,1),t.ALo(2,"percent"),t.qZA()),2&g){const c=t.oxw();t.xp6(2),t.pQV(t.lcZ(2,1,c.getValue()/c.max)),t.QtT(1)}}function sc(g,T){1&g&&t._uU(0),2&g&&t.Oqu(100===T.fill?"\u2605":"\u2606")}function Ul(g,T){}function Vl(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"span",2),t._uU(1),t.qZA(),t.TgZ(2,"span",3),t.NdJ("mouseenter",function(){const te=t.CHM(c).index,st=t.oxw();return t.KtG(st.enter(te+1))})("click",function(){const te=t.CHM(c).index,st=t.oxw();return t.KtG(st.handleClick(te+1))}),t.YNc(3,Ul,0,0,"ng-template",4),t.qZA()}if(2&g){const c=T.index,y=t.oxw(),P=t.MAs(1);t.xp6(1),t.hij("(",c<y.nextRate?"*":" ",")"),t.xp6(1),t.Udp("cursor",y.isInteractive()?"pointer":"default"),t.xp6(1),t.Q6J("ngTemplateOutlet",y.starTemplate||y.starTemplateFromContent||P)("ngTemplateOutletContext",y.contexts[c])}}function qc(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.changeHour(P.hourStep))}),t._UZ(1,"span",12),t.TgZ(2,"span",13),t.SDv(3,14),t.qZA()()}if(2&g){const c=t.oxw();t.ekj("btn-sm",c.isSmallSize)("btn-lg",c.isLargeSize)("disabled",c.disabled),t.Q6J("disabled",c.disabled)}}function za(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.changeHour(-P.hourStep))}),t._UZ(1,"span",15),t.TgZ(2,"span",13),t.SDv(3,16),t.qZA()()}if(2&g){const c=t.oxw();t.ekj("btn-sm",c.isSmallSize)("btn-lg",c.isLargeSize)("disabled",c.disabled),t.Q6J("disabled",c.disabled)}}function go(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.changeMinute(P.minuteStep))}),t._UZ(1,"span",12),t.TgZ(2,"span",13),t.SDv(3,17),t.qZA()()}if(2&g){const c=t.oxw();t.ekj("btn-sm",c.isSmallSize)("btn-lg",c.isLargeSize)("disabled",c.disabled),t.Q6J("disabled",c.disabled)}}function Sa(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.changeMinute(-P.minuteStep))}),t._UZ(1,"span",15),t.TgZ(2,"span",13),t.SDv(3,18),t.qZA()()}if(2&g){const c=t.oxw();t.ekj("btn-sm",c.isSmallSize)("btn-lg",c.isLargeSize)("disabled",c.disabled),t.Q6J("disabled",c.disabled)}}function ks(g,T){1&g&&(t.TgZ(0,"div",5),t._uU(1,":"),t.qZA())}function _o(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(c);const P=t.oxw(2);return t.KtG(P.changeSecond(P.secondStep))}),t._UZ(1,"span",12),t.TgZ(2,"span",13),t.SDv(3,21),t.qZA()()}if(2&g){const c=t.oxw(2);t.ekj("btn-sm",c.isSmallSize)("btn-lg",c.isLargeSize)("disabled",c.disabled),t.Q6J("disabled",c.disabled)}}function us(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(c);const P=t.oxw(2);return t.KtG(P.changeSecond(-P.secondStep))}),t._UZ(1,"span",15),t.TgZ(2,"span",13),t.SDv(3,22),t.qZA()()}if(2&g){const c=t.oxw(2);t.ekj("btn-sm",c.isSmallSize)("btn-lg",c.isLargeSize)("disabled",c.disabled),t.Q6J("disabled",c.disabled)}}function di(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"div",19),t.YNc(1,_o,4,7,"button",3),t.TgZ(2,"input",20),t.NdJ("change",function(P){t.CHM(c);const te=t.oxw();return t.KtG(te.updateSecond(P.target.value))})("blur",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.handleBlur())})("input",function(P){t.CHM(c);const te=t.oxw();return t.KtG(te.formatInput(P.target))})("keydown.ArrowUp",function(P){t.CHM(c);const te=t.oxw();return te.changeSecond(te.secondStep),t.KtG(P.preventDefault())})("keydown.ArrowDown",function(P){t.CHM(c);const te=t.oxw();return te.changeSecond(-te.secondStep),t.KtG(P.preventDefault())}),t.qZA(),t.YNc(3,us,4,7,"button",3),t.qZA()}if(2&g){const c=t.oxw();t.xp6(1),t.Q6J("ngIf",c.spinners),t.xp6(1),t.ekj("form-control-sm",c.isSmallSize)("form-control-lg",c.isLargeSize),t.Q6J("value",c.formatMinSec(null==c.model?null:c.model.second))("readOnly",c.readonlyInputs)("disabled",c.disabled),t.xp6(1),t.Q6J("ngIf",c.spinners)}}function no(g,T){1&g&&t._UZ(0,"div",5)}function dl(g,T){if(1&g&&(t.ynx(0),t.SDv(1,27),t.BQk()),2&g){const c=t.oxw(2);t.xp6(1),t.pQV(c.i18n.getAfternoonPeriod()),t.QtT(1)}}function Zc(g,T){if(1&g&&t.SDv(0,28),2&g){const c=t.oxw(2);t.pQV(c.i18n.getMorningPeriod()),t.QtT(0)}}function Qi(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"div",23)(1,"button",24),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.toggleMeridian())}),t.YNc(2,dl,2,1,"ng-container",25),t.YNc(3,Zc,1,1,"ng-template",null,26,t.W1O),t.qZA()()}if(2&g){const c=t.MAs(4),y=t.oxw();t.xp6(1),t.ekj("btn-sm",y.isSmallSize)("btn-lg",y.isLargeSize)("disabled",y.disabled),t.Q6J("disabled",y.disabled),t.xp6(1),t.Q6J("ngIf",y.model&&y.model.hour>=12)("ngIfElse",c)}}function tr(g,T){if(1&g&&(t.TgZ(0,"strong",3),t._uU(1),t.qZA()),2&g){const c=t.oxw();t.xp6(1),t.Oqu(c.header)}}function Ml(g,T){}function Fi(g,T){if(1&g){const c=t.EpF();t.TgZ(0,"div",4),t.YNc(1,Ml,0,0,"ng-template",5),t.TgZ(2,"button",6),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.hide())}),t.qZA()()}if(2&g){const c=t.oxw(),y=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",c.contentHeaderTpl||y)}}function An(g,T){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const c=t.oxw().$implicit,y=t.oxw();t.Tol(y.highlightClass),t.xp6(1),t.Oqu(c)}}function B(g,T){if(1&g&&t._uU(0),2&g){const c=t.oxw().$implicit;t.Oqu(c)}}function ce(g,T){if(1&g&&(t.YNc(0,An,2,3,"span",1),t.YNc(1,B,1,1,"ng-template",null,2,t.W1O)),2&g){const c=T.odd,y=t.MAs(2);t.Q6J("ngIf",c)("ngIfElse",y)}}function Fn(g){return parseInt(`${g}`,10)}function Hi(g){return null!=g?`${g}`:""}function kr(g,T,c=0){return Math.max(Math.min(g,T),c)}function Fr(g){return"string"==typeof g}function cr(g){return!isNaN(Fn(g))}function ar(g){return"number"==typeof g&&isFinite(g)&&Math.floor(g)===g}function Er(g){return null!=g}function Hr(g){return cr(g)?`0${g}`.slice(-2):""}function Lr(g,T){return g&&g.className&&g.className.split&&g.className.split(/\s+/).indexOf(T)>=0}function Is(g){return(g||document.body).getBoundingClientRect()}function oc(g){return g.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const ki={animation:!0,transitionTimerDelayMs:5},Aa=()=>{},{transitionTimerDelayMs:Hl}=ki,Ma=new Map,co=(g,T,c,y)=>{let P=y.context||{};const te=Ma.get(T);if(te)switch(y.runningTransition){case"continue":return ie.E;case"stop":g.run(()=>te.transition$.complete()),P=Object.assign(te.context,P),Ma.delete(T)}const st=c(T,y.animation,P)||Aa;if(!y.animation||"none"===window.getComputedStyle(T).transitionProperty)return g.run(()=>st()),(0,oe.of)(void 0).pipe(function Ar(g){return T=>new Z.y(c=>T.subscribe({next:st=>g.run(()=>c.next(st)),error:st=>g.run(()=>c.error(st)),complete:()=>g.run(()=>c.complete())}))}(g));const en=new ze.x,ln=new ze.x,wn=en.pipe(function nt(...g){return T=>(0,Ie.z)(T,(0,oe.of)(...g))}(!0));Ma.set(T,{transition$:en,complete:()=>{ln.next(),ln.complete()},context:P});const Pn=function os(g){const{transitionDelay:T,transitionDuration:c}=window.getComputedStyle(g);return 1e3*(parseFloat(T)+parseFloat(c))}(T);return g.runOutsideAngular(()=>{const Qn=(0,ct.R)(T,"transitionend").pipe(Nt(wn),(0,At.h)(({target:Ki})=>Ki===T));(function gt(...g){return 1===(g=je(g)).length?(0,xe.Xf)(g[0]):new Z.y(function kt(g){return T=>{let c=[];for(let y=0;c&&!T.closed&&y<g.length;y++)c.push((0,xe.Xf)(g[y]).subscribe((0,pt.x)(T,P=>{if(c){for(let te=0;te<c.length;te++)te!==y&&c[te].unsubscribe();c=null}T.next(P)})))}}(g))})(Pe(Pn+Hl).pipe(Nt(wn)),Qn,ln).pipe(Nt(wn)).subscribe(()=>{Ma.delete(T),g.run(()=>{st(),en.next(),en.complete()})})}),en.asObservable()},lc=(g,T,c)=>{let{direction:y,maxSize:P,dimension:te}=c;const{classList:st}=g;function en(){st.add("collapse"),"show"===y?st.add("show"):st.remove("show")}if(T)return P||(P=function Wa(g,T){if(typeof navigator>"u")return"0px";const{classList:c}=g,y=c.contains("show");y||c.add("show"),g.style[T]="";const P=g.getBoundingClientRect()[T]+"px";return y||c.remove("show"),P}(g,te),c.maxSize=P,g.style[te]="show"!==y?P:"0px",st.remove("collapse"),st.remove("collapsing"),st.remove("show"),Is(g),st.add("collapsing")),g.style[te]="show"===y?P:"0px",()=>{en(),st.remove("collapsing"),g.style[te]=""};en()};let xa=(()=>{class g{constructor(){this.animation=ki.animation}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Xc=(()=>{class g{constructor(c){this._ngbConfig=c,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(xa))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Oa=0,wc=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),g})(),hu=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),g})(),jo=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),g})(),hl=(()=>{class g{constructor(){this.disabled=!1,this.id="ngb-panel-"+Oa++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new t.vpe,this.hidden=new t.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275dir=t.lG2({type:g,selectors:[["ngb-panel"]],contentQueries:function(c,y,P){if(1&c&&(t.Suo(P,hu,4),t.Suo(P,wc,4),t.Suo(P,jo,4)),2&c){let te;t.iGM(te=t.CRH())&&(y.titleTpls=te),t.iGM(te=t.CRH())&&(y.headerTpls=te),t.iGM(te=t.CRH())&&(y.contentTpls=te)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),g})(),cc=(()=>{class g{constructor(c){this._El=c,this.ngbRef=new t.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.SBq))},g.\u0275dir=t.lG2({type:g,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),g})(),Mn=(()=>{class g{constructor(c,y){this.accordion=c,this.panel=y}set ngbPanelToggle(c){c&&(this.panel=c)}}return g.\u0275fac=function(c){return new(c||g)(t.Y36((0,t.Gpc)(()=>xl)),t.Y36(hl,9))},g.\u0275dir=t.lG2({type:g,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(c,y){1&c&&t.NdJ("click",function(){return y.accordion.toggle(y.panel.id)}),2&c&&(t.Ikx("disabled",y.panel.disabled),t.uIk("aria-expanded",y.panel.isOpen)("aria-controls",y.panel.id),t.ekj("collapsed",!y.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),g})(),xl=(()=>{class g{constructor(c,y,P){this._ngZone=y,this._changeDetector=P,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new t.vpe,this.shown=new t.vpe,this.hidden=new t.vpe,this.animation=c.animation,this.type=c.type,this.closeOtherPanels=c.closeOthers}isExpanded(c){return this.activeIds.indexOf(c)>-1}expand(c){this._changeOpenState(this._findPanelById(c),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(c=>this._changeOpenState(c,!0))}collapse(c){this._changeOpenState(this._findPanelById(c),!1)}collapseAll(){this.panels.forEach(c=>{this._changeOpenState(c,!1)})}toggle(c){const y=this._findPanelById(c);y&&this._changeOpenState(y,!y.isOpen)}ngAfterContentChecked(){Fr(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(c=>{c.isOpen=!c.disabled&&this.activeIds.indexOf(c.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,Pt.q)(1)).subscribe(()=>{this.panels.forEach(c=>{const y=c.panelDiv;y?c.initClassDone||(c.initClassDone=!0,co(this._ngZone,y,lc,{animation:!1,runningTransition:"continue",context:{direction:c.isOpen?"show":"hide",dimension:"height"}})):c.initClassDone=!1})})}_changeOpenState(c,y){if(null!=c&&!c.disabled&&c.isOpen!==y){let P=!1;this.panelChange.emit({panelId:c.id,nextState:y,preventDefault:()=>{P=!0}}),P||(c.isOpen=y,c.transitionRunning=!0,y&&this.closeOtherPanels&&this._closeOthers(c.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(c,y=!0){this.panels.forEach(P=>{P.id!==c&&P.isOpen&&(P.isOpen=!1,P.transitionRunning=y)})}_findPanelById(c){return this.panels.find(y=>y.id===c)||null}_updateActiveIds(){this.activeIds=this.panels.filter(c=>c.isOpen&&!c.disabled).map(c=>c.id)}_runTransitions(c){this._changeDetector.detectChanges(),this.panels.forEach(y=>{y.transitionRunning&&co(this._ngZone,y.panelDiv,lc,{animation:c,runningTransition:"stop",context:{direction:y.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{y.transitionRunning=!1;const{id:te}=y;y.isOpen?(y.shown.emit(),this.shown.emit(te)):(y.hidden.emit(),this.hidden.emit(te))})})}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(Xc),t.Y36(t.R0b),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-accordion"]],contentQueries:function(c,y,P){if(1&c&&t.Suo(P,hl,4),2&c){let te;t.iGM(te=t.CRH())&&(y.panels=te)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(c,y){2&c&&t.uIk("aria-multiselectable",!y.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[t.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(c,y){1&c&&(t.YNc(0,so,3,3,"ng-template",0,1,t.W1O),t.YNc(2,da,4,11,"ng-template",2)),2&c&&(t.xp6(2),t.Q6J("ngForOf",y.panels))},dependencies:[qe.ax,qe.tP,Mn,cc,wc,qe.O5],encapsulation:2}),g})(),Nc=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[xl]}),g})();const Ya=({classList:g})=>{g.remove("show")};let fl=(()=>{class g{constructor(c){this._ngbConfig=c,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(xa))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Pc=(()=>{class g{constructor(c,y,P,te){this._renderer=y,this._element=P,this._zone=te,this.closed=new t.vpe,this.dismissible=c.dismissible,this.type=c.type,this.animation=c.animation}close(){const c=co(this._zone,this._element.nativeElement,Ya,{animation:this.animation,runningTransition:"continue"});return c.subscribe(()=>this.closed.emit()),c}ngOnChanges(c){const y=c.type;y&&!y.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${y.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${y.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(fl),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(t.R0b))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(c,y){2&c&&t.ekj("fade",y.animation)("alert-dismissible",y.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[t.TTD,t.jDz],ngContentSelectors:ha,decls:2,vars:1,consts:function(){let T;return T=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",T,3,"click",4,"ngIf"],["type","button","aria-label",T,1,"btn-close",3,"click"]]},template:function(c,y){1&c&&(t.F$t(),t.Hsn(0),t.YNc(1,eo,1,0,"button",0)),2&c&&(t.xp6(1),t.Q6J("ngIf",y.dismissible))},dependencies:[qe.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),g})(),Ka=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[Pc]}),g})();var Fs=(()=>{return(g=Fs||(Fs={})).START="start",g.END="end",Fs;var g})();const fu=({classList:g})=>g.contains("carousel-item-start")||g.contains("carousel-item-end"),qa=g=>{g.remove("carousel-item-start"),g.remove("carousel-item-end")},uc=g=>{qa(g),g.remove("carousel-item-prev"),g.remove("carousel-item-next")},Ra=(g,T,{direction:c})=>{const{classList:y}=g;return T?(fu(g)?qa(y):(y.add("carousel-item-"+(c===Fs.START?"next":"prev")),Is(g),y.add("carousel-item-"+c)),()=>{uc(y),y.add("active")}):(qa(y),uc(y),void y.add("active"))},jl=(g,T,{direction:c})=>{const{classList:y}=g;return T?(fu(g)?qa(y):y.add("carousel-item-"+c),()=>{uc(y),y.remove("active")}):(qa(y),uc(y),void y.remove("active"))};let dc=(()=>{class g{constructor(c){this._ngbConfig=c,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(xa))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Za=0,kc=(()=>{class g{constructor(c){this.tplRef=c,this.id="ngb-slide-"+Za++,this.slid=new t.vpe}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),g})(),Na=(()=>{class g{constructor(c,y,P,te,st){this._platformId=y,this._ngZone=P,this._cd=te,this._container=st,this.NgbSlideEventSource=Go,this._destroy$=new ze.x,this._interval$=new be.X(0),this._mouseHover$=new be.X(!1),this._focused$=new be.X(!1),this._pauseOnHover$=new be.X(!1),this._pauseOnFocus$=new be.X(!1),this._pause$=new be.X(!1),this._wrap$=new be.X(!1),this.slide=new t.vpe,this.slid=new t.vpe,this._transitionIds=null,this.animation=c.animation,this.interval=c.interval,this.wrap=c.wrap,this.keyboard=c.keyboard,this.pauseOnHover=c.pauseOnHover,this.pauseOnFocus=c.pauseOnFocus,this.showNavigationArrows=c.showNavigationArrows,this.showNavigationIndicators=c.showNavigationIndicators}set interval(c){this._interval$.next(c)}get interval(){return this._interval$.value}set wrap(c){this._wrap$.next(c)}get wrap(){return this._wrap$.value}set pauseOnHover(c){this._pauseOnHover$.next(c)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(c){this._pauseOnFocus$.next(c)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(c){this._mouseHover$.next(c)}get mouseHover(){return this._mouseHover$.value}set focused(c){this._focused$.next(c)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Go.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Go.ARROW_RIGHT)}ngAfterContentInit(){(0,qe.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const c=(0,Ge.a)([this.slide.pipe((0,Lt.U)(y=>y.current),(0,Et.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,Et.O)(null))]).pipe((0,Lt.U)(([y,P])=>{const te=this.slides.toArray(),st=this._getSlideIdxById(y);return P?te.length>1:st<te.length-1}),(0,it.x)());(0,Ge.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,c]).pipe((0,Lt.U)(([y,P,te,st,en,ln,wn])=>y||P&&te||st&&en||!wn?0:ln),(0,it.x)(),(0,Vt.w)(y=>y>0?Pe(y,y):at),Nt(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Go.TIMER)))}),this.slides.changes.pipe(Nt(this._destroy$)).subscribe(()=>{var c;null===(c=this._transitionIds)||void 0===c||c.forEach(y=>(g=>{var T;null===(T=Ma.get(g))||void 0===T||T.complete()})(this._getSlideElement(y))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Pt.q)(1)).subscribe(()=>{for(const{id:y}of this.slides){const P=this._getSlideElement(y);y===this.activeId?P.classList.add("active"):P.classList.remove("active")}})})}ngAfterContentChecked(){let c=this._getSlideById(this.activeId);this.activeId=c?c.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const c=this._getSlideElement(this.activeId);c&&c.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(c,y){this._cycleToSelected(c,this._getSlideEventDirection(this.activeId,c),y)}prev(c){this._cycleToSelected(this._getPrevSlide(this.activeId),Fs.END,c)}next(c){this._cycleToSelected(this._getNextSlide(this.activeId),Fs.START,c)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(c,y,P){const te=this._transitionIds;if(te&&(te[0]!==c||te[1]!==this.activeId))return;let st=this._getSlideById(c);if(st&&st.id!==this.activeId){this._transitionIds=[this.activeId,c],this.slide.emit({prev:this.activeId,current:st.id,direction:y,paused:this._pause$.value,source:P});const en={animation:this.animation,runningTransition:"stop",context:{direction:y}},ln=[],wn=this._getSlideById(this.activeId);if(wn){const Ki=co(this._ngZone,this._getSlideElement(wn.id),jl,en);Ki.subscribe(()=>{wn.slid.emit({isShown:!1,direction:y,source:P})}),ln.push(Ki)}const Pn=this.activeId;this.activeId=st.id;const Qn=this._getSlideById(this.activeId),Ai=co(this._ngZone,this._getSlideElement(st.id),Ra,en);Ai.subscribe(()=>{null==Qn||Qn.slid.emit({isShown:!0,direction:y,source:P})}),ln.push(Ai),Ut(...ln).pipe((0,Pt.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:Pn,current:st.id,direction:y,paused:this._pause$.value,source:P})})}this._cd.markForCheck()}_getSlideEventDirection(c,y){return this._getSlideIdxById(c)>this._getSlideIdxById(y)?Fs.END:Fs.START}_getSlideById(c){return this.slides.find(y=>y.id===c)||null}_getSlideIdxById(c){const y=this._getSlideById(c);return null!=y?this.slides.toArray().indexOf(y):-1}_getNextSlide(c){const y=this.slides.toArray(),P=this._getSlideIdxById(c);return P===y.length-1?this.wrap?y[0].id:y[y.length-1].id:y[P+1].id}_getPrevSlide(c){const y=this.slides.toArray(),P=this._getSlideIdxById(c);return 0===P?this.wrap?y[y.length-1].id:y[0].id:y[P-1].id}_getSlideElement(c){return this._container.nativeElement.querySelector(`#slide-${c}`)}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(dc),t.Y36(t.Lbi),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.SBq))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-carousel"]],contentQueries:function(c,y,P){if(1&c&&t.Suo(P,kc,4),2&c){let te;t.iGM(te=t.CRH())&&(y.slides=te)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(c,y){1&c&&t.NdJ("keydown.arrowLeft",function(){return y.keyboard&&y.arrowLeft()})("keydown.arrowRight",function(){return y.keyboard&&y.arrowRight()})("mouseenter",function(){return y.mouseHover=!0})("mouseleave",function(){return y.mouseHover=!1})("focusin",function(){return y.focused=!0})("focusout",function(){return y.focused=!1}),2&c&&(t.uIk("aria-activedescendant","slide-"+y.activeId),t.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[t.jDz],decls:6,vars:6,consts:function(){let T,c,y;return T=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,c=$localize`:@@ngb.carousel.previous:Previous`,y=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],T,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],c,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],y]},template:function(c,y){1&c&&(t.TgZ(0,"div",0),t.YNc(1,Zr,1,5,"button",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,Sl,4,4,"div",3),t.qZA(),t.YNc(4,nl,4,0,"button",4),t.YNc(5,oo,4,0,"button",5)),2&c&&(t.ekj("visually-hidden",!y.showNavigationIndicators),t.xp6(1),t.Q6J("ngForOf",y.slides),t.xp6(2),t.Q6J("ngForOf",y.slides),t.xp6(1),t.Q6J("ngIf",y.showNavigationArrows),t.xp6(1),t.Q6J("ngIf",y.showNavigationArrows))},dependencies:[qe.ax,qe.tP,qe.O5],encapsulation:2,changeDetection:0}),g})();var Go=(()=>{return(g=Go||(Go={})).TIMER="timer",g.ARROW_LEFT="arrowLeft",g.ARROW_RIGHT="arrowRight",g.INDICATOR="indicator",Go;var g})();let Pa=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[Na]}),g})(),Tc=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({}),g})();class Mr{constructor(T,c,y){this.year=ar(T)?T:null,this.month=ar(c)?c:null,this.day=ar(y)?y:null}static from(T){return T instanceof Mr?T:T?new Mr(T.year,T.month,T.day):null}equals(T){return null!=T&&this.year===T.year&&this.month===T.month&&this.day===T.day}before(T){return!!T&&(this.year===T.year?this.month===T.month?this.day!==T.day&&this.day<T.day:this.month<T.month:this.year<T.year)}after(T){return!!T&&(this.year===T.year?this.month===T.month?this.day!==T.day&&this.day>T.day:this.month>T.month:this.year>T.year)}}function Ic(g,T){return!function Fo(g,T){return!g&&!T||!!g&&!!T&&g.equals(T)}(g,T)}function Jc(g,T){return!(!g&&!T||g&&T&&g.year===T.year&&g.month===T.month)}function ta(g,T,c){return g&&T&&g.before(T)?T:g&&c&&g.after(c)?c:g||null}function Cs(g,T){const{minDate:c,maxDate:y,disabled:P,markDisabled:te}=T;return!(null==g||P||te&&te(g,{year:g.year,month:g.month})||c&&g.before(c)||y&&g.after(y))}function ka(g){return new Mr(g.getFullYear(),g.getMonth()+1,g.getDate())}function Es(g){const T=new Date(g.year,g.month-1,g.day,12);return isNaN(T.getTime())||T.setFullYear(g.year),T}let Rl=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:function(){return function Do(){return new ia}()},providedIn:"root"}),g})(),ia=(()=>{class g extends Rl{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(c,y="d",P=1){let te=Es(c),st=!0,en=te.getMonth();switch(y){case"y":te.setFullYear(te.getFullYear()+P);break;case"m":en+=P,te.setMonth(en),en%=12,en<0&&(en+=12);break;case"d":te.setDate(te.getDate()+P),st=!1;break;default:return c}return st&&te.getMonth()!==en&&te.setDate(0),ka(te)}getPrev(c,y="d",P=1){return this.getNext(c,y,-P)}getWeekday(c){let P=Es(c).getDay();return 0===P?7:P}getWeekNumber(c,y){7===y&&(y=0);const st=Es(c[(11-y)%7]);st.setDate(st.getDate()+4-(st.getDay()||7));const en=st.getTime();return st.setMonth(0),st.setDate(1),Math.floor(Math.round((en-st.getTime())/864e5)/7)+1}getToday(){return ka(new Date)}isValid(c){if(!(c&&ar(c.year)&&ar(c.month)&&ar(c.day)&&0!==c.year))return!1;const y=Es(c);return!isNaN(y.getTime())&&y.getFullYear()===c.year&&y.getMonth()+1===c.month&&y.getDate()===c.day}}return g.\u0275fac=function(){let T;return function(y){return(T||(T=t.n5z(g)))(y||g)}}(),g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})(),R=(()=>{class g{getMonthLabel(c){return`${this.getMonthFullName(c.month,c.year)} ${this.getYearNumerals(c.year)}`}getDayNumerals(c){return`${c.day}`}getWeekNumerals(c){return`${c}`}getYearNumerals(c){return`${c}`}getWeekLabel(){return""}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:function(c){let y=null;return y=c?new c:function Xa(g){return new k(g)}(t.LFG(t.soG)),y},providedIn:"root"}),g})(),k=(()=>{class g extends R{constructor(c){super(),this._locale=c,this._monthsShort=(0,qe.UT)(c,qe.x.Standalone,qe.Tn.Abbreviated),this._monthsFull=(0,qe.UT)(c,qe.x.Standalone,qe.Tn.Wide)}getWeekdayLabel(c,y){const P=(0,qe.Mn)(this._locale,qe.x.Standalone,void 0===y?qe.Tn.Short:y);return P.map((st,en)=>P[(en+1)%7])[c-1]||""}getMonthShortName(c){return this._monthsShort[c-1]||""}getMonthFullName(c){return this._monthsFull[c-1]||""}getDayAriaLabel(c){const y=new Date(c.year,c.month-1,c.day);return(0,qe.p6)(y,"fullDate",this._locale)}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(t.soG))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})(),S=(()=>{class g{constructor(c,y){this._calendar=c,this._i18n=y,this._VALIDATORS={dayTemplateData:P=>{if(this._state.dayTemplateData!==P)return{dayTemplateData:P}},displayMonths:P=>{if(ar(P=Fn(P))&&P>0&&this._state.displayMonths!==P)return{displayMonths:P}},disabled:P=>{if(this._state.disabled!==P)return{disabled:P}},firstDayOfWeek:P=>{if(ar(P=Fn(P))&&P>=0&&this._state.firstDayOfWeek!==P)return{firstDayOfWeek:P}},focusVisible:P=>{if(this._state.focusVisible!==P&&!this._state.disabled)return{focusVisible:P}},markDisabled:P=>{if(this._state.markDisabled!==P)return{markDisabled:P}},maxDate:P=>{const te=this.toValidDate(P,null);if(Ic(this._state.maxDate,te))return{maxDate:te}},minDate:P=>{const te=this.toValidDate(P,null);if(Ic(this._state.minDate,te))return{minDate:te}},navigation:P=>{if(this._state.navigation!==P)return{navigation:P}},outsideDays:P=>{if(this._state.outsideDays!==P)return{outsideDays:P}},weekdays:P=>{const te=!0===P||!1===P?qe.Tn.Short:P,st=!0!==P&&!1!==P||P;if(this._state.weekdayWidth!==te||this._state.weekdaysVisible!==st)return{weekdayWidth:te,weekdaysVisible:st}}},this._model$=new ze.x,this._dateSelect$=new ze.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:qe.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,At.h)(c=>c.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,At.h)(c=>null!==c))}set(c){let y=Object.keys(c).map(P=>this._VALIDATORS[P](c[P])).reduce((P,te)=>({...P,...te}),{});Object.keys(y).length>0&&this._nextState(y)}focus(c){const y=this.toValidDate(c,null);null!=y&&!this._state.disabled&&Ic(this._state.focusDate,y)&&this._nextState({focusDate:c})}focusSelect(){Cs(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(c){const y=this.toValidDate(c,this._calendar.getToday());null!=y&&!this._state.disabled&&(!this._state.firstDate||Jc(this._state.firstDate,y))&&this._nextState({firstDate:y})}select(c,y={}){const P=this.toValidDate(c,null);null!=P&&!this._state.disabled&&(Ic(this._state.selectedDate,P)&&this._nextState({selectedDate:P}),y.emitEvent&&Cs(P,this._state)&&this._dateSelect$.next(P))}toValidDate(c,y){const P=Mr.from(c);return void 0===y&&(y=this._calendar.getToday()),this._calendar.isValid(P)?P:y}getMonth(c){for(let y of this._state.months)if(c.month===y.number&&c.year===y.year)return y;throw new Error(`month ${c.month} of year ${c.year} not found`)}_nextState(c){const y=this._updateState(c);this._patchContexts(y),this._state=y,this._model$.next(this._state)}_patchContexts(c){const{months:y,displayMonths:P,selectedDate:te,focusDate:st,focusVisible:en,disabled:ln,outsideDays:wn}=c;c.months.forEach(Pn=>{Pn.weeks.forEach(Qn=>{Qn.days.forEach(Ai=>{st&&(Ai.context.focused=st.equals(Ai.date)&&en),Ai.tabindex=!ln&&st&&Ai.date.equals(st)&&st.month===Pn.number?0:-1,!0===ln&&(Ai.context.disabled=!0),void 0!==te&&(Ai.context.selected=null!==te&&te.equals(Ai.date)),Pn.number!==Ai.date.month&&(Ai.hidden="hidden"===wn||"collapsed"===wn||P>1&&Ai.date.after(y[0].firstDate)&&Ai.date.before(y[P-1].lastDate))})})})}_updateState(c){const y=Object.assign({},this._state,c);let P=y.firstDate;if(("minDate"in c||"maxDate"in c)&&(function fc(g,T){if(T&&g&&T.before(g))throw new Error(`'maxDate' ${T} should be greater than 'minDate' ${g}`)}(y.minDate,y.maxDate),y.focusDate=ta(y.focusDate,y.minDate,y.maxDate),y.firstDate=ta(y.firstDate,y.minDate,y.maxDate),P=y.focusDate),"disabled"in c&&(y.focusVisible=!1),"selectedDate"in c&&0===this._state.months.length&&(P=y.selectedDate),"focusVisible"in c||"focusDate"in c&&(y.focusDate=ta(y.focusDate,y.minDate,y.maxDate),P=y.focusDate,0!==y.months.length&&y.focusDate&&!y.focusDate.before(y.firstDate)&&!y.focusDate.after(y.lastDate)))return y;if("firstDate"in c&&(y.firstDate=ta(y.firstDate,y.minDate,y.maxDate),P=y.firstDate),P){const st=function ws(g,T,c,y,P){const{displayMonths:te,months:st}=c,en=st.splice(0,st.length);return Array.from({length:te},(wn,Pn)=>{const Qn=Object.assign(g.getNext(T,"m",Pn),{day:1});if(st[Pn]=null,!P){const Ai=en.findIndex(Ki=>Ki.firstDate.equals(Qn));-1!==Ai&&(st[Pn]=en.splice(Ai,1)[0])}return Qn}).forEach((wn,Pn)=>{null===st[Pn]&&(st[Pn]=function Gl(g,T,c,y,P={}){const{dayTemplateData:te,minDate:st,maxDate:en,firstDayOfWeek:ln,markDisabled:wn,outsideDays:Pn,weekdayWidth:Qn,weekdaysVisible:Ai}=c,Ki=g.getToday();P.firstDate=null,P.lastDate=null,P.number=T.month,P.year=T.year,P.weeks=P.weeks||[],P.weekdays=P.weekdays||[],T=function na(g,T,c){const y=g.getDaysPerWeek(),P=new Mr(T.year,T.month,1),te=g.getWeekday(P)%y;return g.getPrev(P,"d",(y+te-c)%y)}(g,T,ln),Ai||(P.weekdays.length=0);for(let Kr=0;Kr<g.getWeeksPerMonth();Kr++){let pr=P.weeks[Kr];pr||(pr=P.weeks[Kr]={number:0,days:[],collapsed:!0});const Or=pr.days;for(let qr=0;qr<g.getDaysPerWeek();qr++){0===Kr&&Ai&&(P.weekdays[qr]=y.getWeekdayLabel(g.getWeekday(T),Qn));const ps=new Mr(T.year,T.month,T.day),fo=g.getNext(ps),gs=y.getDayAriaLabel(ps);let ms=!!(st&&ps.before(st)||en&&ps.after(en));!ms&&wn&&(ms=wn(ps,{month:P.number,year:P.year}));let _s=ps.equals(Ki),Ks=te?te(ps,{month:P.number,year:P.year}):void 0;null===P.firstDate&&ps.month===P.number&&(P.firstDate=ps),ps.month===P.number&&fo.month!==P.number&&(P.lastDate=ps);let vs=Or[qr];vs||(vs=Or[qr]={}),vs.date=ps,vs.context=Object.assign(vs.context||{},{$implicit:ps,date:ps,data:Ks,currentMonth:P.number,currentYear:P.year,disabled:ms,focused:!1,selected:!1,today:_s}),vs.tabindex=-1,vs.ariaLabel=gs,vs.hidden=!1,T=fo}pr.number=g.getWeekNumber(Or.map(qr=>qr.date),ln),pr.collapsed="collapsed"===Pn&&Or[0].date.month!==P.number&&Or[Or.length-1].date.month!==P.number}return P}(g,wn,c,y,en.shift()||{}))}),st}(this._calendar,P,y,this._i18n,"dayTemplateData"in c||"firstDayOfWeek"in c||"markDisabled"in c||"minDate"in c||"maxDate"in c||"disabled"in c||"outsideDays"in c||"weekdaysVisible"in c);y.months=st,y.firstDate=st[0].firstDate,y.lastDate=st[st.length-1].lastDate,"selectedDate"in c&&!Cs(y.selectedDate,y)&&(y.selectedDate=null),"firstDate"in c&&(!y.focusDate||y.focusDate.before(y.firstDate)||y.focusDate.after(y.lastDate))&&(y.focusDate=P);const en=!this._state.firstDate||this._state.firstDate.year!==y.firstDate.year,ln=!this._state.firstDate||this._state.firstDate.month!==y.firstDate.month;"select"===y.navigation?(("minDate"in c||"maxDate"in c||0===y.selectBoxes.years.length||en)&&(y.selectBoxes.years=function Ol(g,T,c){if(!g)return[];const y=T?Math.max(T.year,g.year-500):g.year-10,te=(c?Math.min(c.year,g.year+500):g.year+10)-y+1,st=Array(te);for(let en=0;en<te;en++)st[en]=y+en;return st}(y.firstDate,y.minDate,y.maxDate)),("minDate"in c||"maxDate"in c||0===y.selectBoxes.months.length||en)&&(y.selectBoxes.months=function Fc(g,T,c,y){if(!T)return[];let P=g.getMonths(T.year);if(c&&T.year===c.year){const te=P.findIndex(st=>st===c.month);P=P.slice(te)}if(y&&T.year===y.year){const te=P.findIndex(st=>st===y.month);P=P.slice(0,te+1)}return P}(this._calendar,y.firstDate,y.minDate,y.maxDate))):y.selectBoxes={years:[],months:[]},("arrows"===y.navigation||"select"===y.navigation)&&(ln||en||"minDate"in c||"maxDate"in c||"disabled"in c)&&(y.prevDisabled=y.disabled||function gl(g,T,c){const y=Object.assign(g.getPrev(T,"m"),{day:1});return null!=c&&(y.year===c.year&&y.month<c.month||y.year<c.year&&1===c.month)}(this._calendar,y.firstDate,y.minDate),y.nextDisabled=y.disabled||function pu(g,T,c){const y=Object.assign(g.getNext(T,"m"),{day:1});return null!=c&&y.after(c)}(this._calendar,y.lastDate,y.maxDate))}return y}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(Rl),t.LFG(R))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})();var V=(()=>{return(g=V||(V={}))[g.PREV=0]="PREV",g[g.NEXT=1]="NEXT",V;var g})();let ne=(()=>{class g{constructor(c){this.i18n=c}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(R))},g.\u0275cmp=t.Xpm({type:g,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(c,y){2&c&&t.ekj("bg-primary",y.selected)("text-white",y.selected)("text-muted",y.isMuted())("outside",y.isMuted())("active",y.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[t.jDz],attrs:wa,decls:1,vars:1,template:function(c,y){1&c&&t._uU(0),2&c&&t.Oqu(y.i18n.getDayNumerals(y.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),g})(),Se=(()=>{class g{constructor(c,y){this.i18n=c,this._renderer=y,this.select=new t.vpe,this._month=-1,this._year=-1}changeMonth(c){this.select.emit(new Mr(this.date.year,Fn(c),1))}changeYear(c){this.select.emit(new Mr(Fn(c),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(R),t.Y36(t.Qsj))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(c,y){if(1&c&&(t.Gf(to,7,t.SBq),t.Gf(pa,7,t.SBq)),2&c){let P;t.iGM(P=t.CRH())&&(y.monthSelect=P.first),t.iGM(P=t.CRH())&&(y.yearSelect=P.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[t.jDz],decls:6,vars:4,consts:function(){let T,c,y,P;return T=$localize`:@@ngb.datepicker.select-month:Select month`,c=$localize`:@@ngb.datepicker.select-month:Select month`,y=$localize`:@@ngb.datepicker.select-year:Select year`,P=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",T,"title",c,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",y,"title",P,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(c,y){1&c&&(t.TgZ(0,"select",0,1),t.NdJ("change",function(te){return y.changeMonth(te.target.value)}),t.YNc(2,gr,2,3,"option",2),t.qZA(),t.TgZ(3,"select",3,4),t.NdJ("change",function(te){return y.changeYear(te.target.value)}),t.YNc(5,wo,2,2,"option",2),t.qZA()),2&c&&(t.Q6J("disabled",y.disabled),t.xp6(2),t.Q6J("ngForOf",y.months),t.xp6(1),t.Q6J("disabled",y.disabled),t.xp6(2),t.Q6J("ngForOf",y.years))},dependencies:[qe.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),g})(),Re=(()=>{class g{constructor(c){this.i18n=c,this.navigation=V,this.months=[],this.navigate=new t.vpe,this.select=new t.vpe}onClickPrev(c){c.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(c){c.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(R))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[t.jDz],decls:8,vars:4,consts:function(){let T,c,y,P;return T=$localize`:@@ngb.datepicker.previous-month:Previous month`,c=$localize`:@@ngb.datepicker.previous-month:Previous month`,y=$localize`:@@ngb.datepicker.next-month:Next month`,P=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",T,"title",c,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",y,"title",P,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(c,y){1&c&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(te){return y.onClickPrev(te)}),t._UZ(2,"span",2),t.qZA()(),t.YNc(3,Bs,1,4,"ngb-datepicker-navigation-select",3),t.YNc(4,Ta,1,1,null,4),t.TgZ(5,"div",5)(6,"button",6),t.NdJ("click",function(te){return y.onClickNext(te)}),t._UZ(7,"span",2),t.qZA()()),2&c&&(t.xp6(1),t.Q6J("disabled",y.prevDisabled),t.xp6(2),t.Q6J("ngIf",y.showSelect),t.xp6(1),t.Q6J("ngIf",!y.showSelect),t.xp6(2),t.Q6J("disabled",y.nextDisabled))},dependencies:[qe.O5,qe.ax,Se],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),g})();var Ht=(()=>{return(g=Ht||(Ht={}))[g.Tab=9]="Tab",g[g.Enter=13]="Enter",g[g.Escape=27]="Escape",g[g.Space=32]="Space",g[g.PageUp=33]="PageUp",g[g.PageDown=34]="PageDown",g[g.End=35]="End",g[g.Home=36]="Home",g[g.ArrowLeft=37]="ArrowLeft",g[g.ArrowUp=38]="ArrowUp",g[g.ArrowRight=39]="ArrowRight",g[g.ArrowDown=40]="ArrowDown",Ht;var g})();let kn=(()=>{class g{processKey(c,y){const{state:P,calendar:te}=y;switch(c.which){case Ht.PageUp:y.focusDate(te.getPrev(P.focusedDate,c.shiftKey?"y":"m",1));break;case Ht.PageDown:y.focusDate(te.getNext(P.focusedDate,c.shiftKey?"y":"m",1));break;case Ht.End:y.focusDate(c.shiftKey?P.maxDate:P.lastDate);break;case Ht.Home:y.focusDate(c.shiftKey?P.minDate:P.firstDate);break;case Ht.ArrowLeft:y.focusDate(te.getPrev(P.focusedDate,"d",1));break;case Ht.ArrowUp:y.focusDate(te.getPrev(P.focusedDate,"d",te.getDaysPerWeek()));break;case Ht.ArrowRight:y.focusDate(te.getNext(P.focusedDate,"d",1));break;case Ht.ArrowDown:y.focusDate(te.getNext(P.focusedDate,"d",te.getDaysPerWeek()));break;case Ht.Enter:case Ht.Space:y.focusSelect();break;default:return}c.preventDefault(),c.stopPropagation()}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Ei=(()=>{class g{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=qe.Tn.Short}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Vi=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:function(){return function qi(){return new Gr}()},providedIn:"root"}),g})(),Gr=(()=>{class g extends Vi{fromModel(c){return c&&ar(c.year)&&ar(c.month)&&ar(c.day)?{year:c.year,month:c.month,day:c.day}:null}toModel(c){return c&&ar(c.year)&&ar(c.month)&&ar(c.day)?{year:c.year,month:c.month,day:c.day}:null}}return g.\u0275fac=function(){let T;return function(y){return(T||(T=t.n5z(g)))(y||g)}}(),g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})(),Vs=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),g})(),uo=(()=>{class g{constructor(c,y,P,te){this.i18n=c,this.datepicker=y,this._keyboardService=P,this._service=te}set month(c){this.viewModel=this._service.getMonth(c)}onKeyDown(c){this._keyboardService.processKey(c,this.datepicker)}doSelect(c){!c.context.disabled&&!c.hidden&&this.datepicker.onDateSelect(c.date)}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(R),t.Y36((0,t.Gpc)(()=>Lo)),t.Y36(kn),t.Y36(S))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(c,y){1&c&&t.NdJ("keydown",function(te){return y.onKeyDown(te)})},inputs:{month:"month"},standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,y){1&c&&(t.YNc(0,ao,3,2,"div",0),t.YNc(1,tc,1,1,"ng-template",1)),2&c&&(t.Q6J("ngIf",y.viewModel.weekdays.length>0),t.xp6(1),t.Q6J("ngForOf",y.viewModel.weeks))},dependencies:[qe.O5,qe.ax,qe.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),g})(),Lo=(()=>{class g{constructor(c,y,P,te,st,en,ln,wn){this._service=c,this._calendar=y,this.i18n=P,this._elementRef=en,this._ngbDateAdapter=ln,this._ngZone=wn,this._controlValue=null,this._destroyed$=new ze.x,this._publicState={},this.navigate=new t.vpe,this.dateSelect=new t.vpe,this.onChange=Pn=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Pn=>this[Pn]=te[Pn]),c.dateSelect$.pipe(Nt(this._destroyed$)).subscribe(Pn=>{this.dateSelect.emit(Pn)}),c.model$.pipe(Nt(this._destroyed$)).subscribe(Pn=>{const Qn=Pn.firstDate,Ai=this.model?this.model.firstDate:null;this._publicState={maxDate:Pn.maxDate,minDate:Pn.minDate,firstDate:Pn.firstDate,lastDate:Pn.lastDate,focusedDate:Pn.focusDate,months:Pn.months.map(qr=>qr.firstDate)};let Ki=!1;if(!Qn.equals(Ai)&&(this.navigate.emit({current:Ai?{year:Ai.year,month:Ai.month}:null,next:{year:Qn.year,month:Qn.month},preventDefault:()=>Ki=!0}),Ki&&null!==Ai))return void this._service.open(Ai);const Kr=Pn.selectedDate,pr=Pn.focusDate,Or=this.model?this.model.focusDate:null;this.model=Pn,Ic(Kr,this._controlValue)&&(this._controlValue=Kr,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Kr))),Ic(pr,Or)&&Or&&Pn.focusVisible&&this.focus(),st.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(c){this._service.focus(Mr.from(c))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,Pt.q)(1)).subscribe(()=>{const c=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');c&&c.focus()})}navigateTo(c){this._service.open(Mr.from(c?c.day?c:{...c,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const c=(0,ct.R)(this._contentEl.nativeElement,"focusin"),y=(0,ct.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:P}=this._elementRef;(0,ut.T)(c,y).pipe((0,At.h)(({target:te,relatedTarget:st})=>!(Lr(te,"ngb-dp-day")&&Lr(st,"ngb-dp-day")&&P.contains(te)&&P.contains(st))),Nt(this._destroyed$)).subscribe(({type:te})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===te})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const c={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(y=>c[y]=this[y]),this._service.set(c),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(c){const y={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(P=>P in c).forEach(P=>y[P]=this[P]),this._service.set(y),"startDate"in c){const{currentValue:P,previousValue:te}=c.startDate;Jc(te,P)&&this.navigateTo(this.startDate)}}onDateSelect(c){this._service.focus(c),this._service.select(c,{emitEvent:!0})}onNavigateDateSelect(c){this._service.open(c)}onNavigateEvent(c){switch(c){case V.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case V.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(c){this.onChange=c}registerOnTouched(c){this.onTouched=c}setDisabledState(c){this._service.set({disabled:c})}writeValue(c){this._controlValue=Mr.from(this._ngbDateAdapter.fromModel(c)),this._service.select(this._controlValue)}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(S),t.Y36(Rl),t.Y36(R),t.Y36(Ei),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(Vi),t.Y36(t.R0b))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-datepicker"]],contentQueries:function(c,y,P){if(1&c&&t.Suo(P,Vs,7),2&c){let te;t.iGM(te=t.CRH())&&(y.contentTemplate=te.first)}},viewQuery:function(c,y){if(1&c&&(t.Gf(zr,7),t.Gf(Gs,7)),2&c){let P;t.iGM(P=t.CRH())&&(y._defaultDayTemplate=P.first),t.iGM(P=t.CRH())&&(y._contentEl=P.first)}},hostVars:2,hostBindings:function(c,y){2&c&&t.ekj("disabled",y.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[t._Bn([{provide:cn.JU,useExisting:(0,t.Gpc)(()=>g),multi:!0},S]),t.TTD,t.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(c,y){if(1&c&&(t.YNc(0,il,1,5,"ng-template",null,0,t.W1O),t.YNc(2,x,1,1,"ng-template",null,1,t.W1O),t.TgZ(4,"div",2),t.YNc(5,re,1,7,"ngb-datepicker-navigation",3),t.qZA(),t.TgZ(6,"div",4,5),t.YNc(8,M,0,0,"ng-template",6),t.qZA(),t.YNc(9,J,0,0,"ng-template",6)),2&c){const P=t.MAs(3);t.xp6(5),t.Q6J("ngIf","none"!==y.navigation),t.xp6(1),t.ekj("ngb-dp-months",!y.contentTemplate),t.xp6(2),t.Q6J("ngTemplateOutlet",(null==y.contentTemplate?null:y.contentTemplate.templateRef)||P),t.xp6(1),t.Q6J("ngTemplateOutlet",y.footerTemplate)}},dependencies:[qe.O5,qe.ax,qe.tP,ne,uo,Re],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),g})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Dc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gu(g){const T=Array.from(g.querySelectorAll(Dc)).filter(c=>-1!==c.tabIndex);return[T[0],T[T.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let bc=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[Lo,uo]}),g})(),Hu=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({}),g})();class ru{constructor(T,c,y){this.nodes=T,this.viewRef=c,this.componentRef=y}}let su=(()=>{class g{constructor(c,y){this._el=c,this._zone=y}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Pt.q)(1)).subscribe(()=>{co(this._zone,this._el.nativeElement,(c,y)=>{y&&Is(c),c.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return co(this._zone,this._el.nativeElement,({classList:c})=>c.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.SBq),t.Y36(t.R0b))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(c,y){2&c&&(t.Tol("modal-backdrop"+(y.backdropClass?" "+y.backdropClass:"")),t.ekj("show",!y.animation)("fade",y.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(c,y){},encapsulation:2}),g})();class $a{close(T){}dismiss(T){}}class ju{constructor(T,c,y,P){this._windowCmptRef=T,this._contentRef=c,this._backdropCmptRef=y,this._beforeDismiss=P,this._closed=new ze.x,this._dismissed=new ze.x,this._hidden=new ze.x,T.instance.dismissEvent.subscribe(te=>{this.dismiss(te)}),this.result=new Promise((te,st)=>{this._resolve=te,this._reject=st}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Nt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Nt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(T){this._windowCmptRef&&(this._closed.next(T),this._resolve(T),this._removeModalElements())}_dismiss(T){this._dismissed.next(T),this._reject(T),this._removeModalElements()}dismiss(T){if(this._windowCmptRef)if(this._beforeDismiss){const c=this._beforeDismiss();!function Ui(g){return g&&g.then}(c)?!1!==c&&this._dismiss(T):c.then(y=>{!1!==y&&this._dismiss(T)},()=>{})}else this._dismiss(T)}_removeModalElements(){const T=this._windowCmptRef.instance.hide(),c=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,oe.of)(void 0);T.subscribe(()=>{const{nativeElement:y}=this._windowCmptRef.location;y.parentNode.removeChild(y),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),c.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:y}=this._backdropCmptRef.location;y.parentNode.removeChild(y),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ut(T,c).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ou=(()=>{return(g=ou||(ou={}))[g.BACKDROP_CLICK=0]="BACKDROP_CLICK",g[g.ESC=1]="ESC",ou;var g})();let Yr=(()=>{class g{constructor(c,y,P){this._document=c,this._elRef=y,this._zone=P,this._closed$=new ze.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new ze.x,this.hidden=new ze.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Fr(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(c){this.dismissEvent.emit(c)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Pt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:c}=this._elRef,y={animation:this.animation,runningTransition:"stop"},st=Ut(co(this._zone,c,()=>c.classList.remove("show"),y),co(this._zone,this._dialogEl.nativeElement,()=>{},y));return st.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),st}_show(){const c={animation:this.animation,runningTransition:"continue"};Ut(co(this._zone,this._elRef.nativeElement,(te,st)=>{st&&Is(te),te.classList.add("show")},c),co(this._zone,this._dialogEl.nativeElement,()=>{},c)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:c}=this._elRef;this._zone.runOutsideAngular(()=>{(0,ct.R)(c,"keydown").pipe(Nt(this._closed$),(0,At.h)(P=>P.which===Ht.Escape)).subscribe(P=>{this.keyboard?requestAnimationFrame(()=>{P.defaultPrevented||this._zone.run(()=>this.dismiss(ou.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let y=!1;(0,ct.R)(this._dialogEl.nativeElement,"mousedown").pipe(Nt(this._closed$),(0,lt.b)(()=>y=!1),(0,Vt.w)(()=>(0,ct.R)(c,"mouseup").pipe(Nt(this._closed$),(0,Pt.q)(1))),(0,At.h)(({target:P})=>c===P)).subscribe(()=>{y=!0}),(0,ct.R)(c,"click").pipe(Nt(this._closed$)).subscribe(({target:P})=>{c===P&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!y&&this._zone.run(()=>this.dismiss(ou.BACKDROP_CLICK))),y=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:c}=this._elRef;if(!c.contains(document.activeElement)){const y=c.querySelector("[ngbAutofocus]"),P=gu(c)[0];(y||P||c).focus()}}_restoreFocus(){const c=this._document.body,y=this._elWithFocus;let P;P=y&&y.focus&&c.contains(y)?y:c,this._zone.runOutsideAngular(()=>{setTimeout(()=>P.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&co(this._zone,this._elRef.nativeElement,({classList:c})=>(c.add("modal-static"),()=>c.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(qe.K0),t.Y36(t.SBq),t.Y36(t.R0b))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-modal-window"]],viewQuery:function(c,y){if(1&c&&t.Gf(He,7),2&c){let P;t.iGM(P=t.CRH())&&(y._dialogEl=P.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(c,y){2&c&&(t.uIk("aria-modal",!0)("aria-labelledby",y.ariaLabelledBy)("aria-describedby",y.ariaDescribedBy),t.Tol("modal d-block"+(y.windowClass?" "+y.windowClass:"")),t.ekj("fade",y.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:ha,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(c,y){1&c&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&c&&t.Tol("modal-dialog"+(y.size?" modal-"+y.size:"")+(y.centered?" modal-dialog-centered":"")+y.fullscreenClass+(y.scrollable?" modal-dialog-scrollable":"")+(y.modalDialogClass?" "+y.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),g})(),zd=(()=>{class g{constructor(c){this._document=c}hide(){const c=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),y=this._document.body,P=y.style,{overflow:te,paddingRight:st}=P;if(c>0){const en=parseFloat(window.getComputedStyle(y).paddingRight);P.paddingRight=`${en+c}px`}return P.overflow="hidden",()=>{c>0&&(P.paddingRight=st),P.overflow=te}}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(qe.K0))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Cl=(()=>{class g{constructor(c,y,P,te,st,en,ln){this._applicationRef=c,this._injector=y,this._environmentInjector=P,this._document=te,this._scrollBar=st,this._rendererFactory=en,this._ngZone=ln,this._activeWindowCmptHasChanged=new ze.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const wn=this._windowCmpts[this._windowCmpts.length-1];((g,T,c,y=!1)=>{g.runOutsideAngular(()=>{const P=(0,ct.R)(T,"focusin").pipe(Nt(c),(0,Lt.U)(te=>te.target));(0,ct.R)(T,"keydown").pipe(Nt(c),(0,At.h)(te=>te.which===Ht.Tab),(0,Je.M)(P)).subscribe(([te,st])=>{const[en,ln]=gu(T);(st===en||st===T)&&te.shiftKey&&(ln.focus(),te.preventDefault()),st===ln&&!te.shiftKey&&(en.focus(),te.preventDefault())}),y&&(0,ct.R)(T,"click").pipe(Nt(c),(0,Je.M)(P),(0,Lt.U)(te=>te[1])).subscribe(te=>te.focus())})})(this._ngZone,wn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(wn.location.nativeElement)}})}_restoreScrollBar(){const c=this._scrollBarRestoreFn;c&&(this._scrollBarRestoreFn=null,c())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(c,y,P){const te=P.container instanceof HTMLElement?P.container:Er(P.container)?this._document.querySelector(P.container):this._document.body,st=this._rendererFactory.createRenderer(null,null);if(!te)throw new Error(`The specified modal container "${P.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const en=new $a,ln=(c=P.injector||c).get(t.lqb,null)||this._environmentInjector,wn=this._getContentRef(c,ln,y,en,P);let Pn=!1!==P.backdrop?this._attachBackdrop(te):void 0,Qn=this._attachWindowComponent(te,wn.nodes),Ai=new ju(Qn,wn,Pn,P.beforeDismiss);return this._registerModalRef(Ai),this._registerWindowCmpt(Qn),Ai.hidden.pipe((0,Pt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(st.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),en.close=Ki=>{Ai.close(Ki)},en.dismiss=Ki=>{Ai.dismiss(Ki)},this._applyWindowOptions(Qn.instance,P),1===this._modalRefs.length&&st.addClass(this._document.body,"modal-open"),Pn&&Pn.instance&&(this._applyBackdropOptions(Pn.instance,P),Pn.changeDetectorRef.detectChanges()),Qn.changeDetectorRef.detectChanges(),Ai}get activeInstances(){return this._activeInstances}dismissAll(c){this._modalRefs.forEach(y=>y.dismiss(c))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(c){let y=(0,t.LMc)(su,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(y.hostView),c.appendChild(y.location.nativeElement),y}_attachWindowComponent(c,y){let P=(0,t.LMc)(Yr,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:y});return this._applicationRef.attachView(P.hostView),c.appendChild(P.location.nativeElement),P}_applyWindowOptions(c,y){this._windowAttributes.forEach(P=>{Er(y[P])&&(c[P]=y[P])})}_applyBackdropOptions(c,y){this._backdropAttributes.forEach(P=>{Er(y[P])&&(c[P]=y[P])})}_getContentRef(c,y,P,te,st){return P?P instanceof t.Rgc?this._createFromTemplateRef(P,te):Fr(P)?this._createFromString(P):this._createFromComponent(c,y,P,te,st):new ru([])}_createFromTemplateRef(c,y){const te=c.createEmbeddedView({$implicit:y,close(st){y.close(st)},dismiss(st){y.dismiss(st)}});return this._applicationRef.attachView(te),new ru([te.rootNodes],te)}_createFromString(c){const y=this._document.createTextNode(`${c}`);return new ru([[y]])}_createFromComponent(c,y,P,te,st){const en=t.zs3.create({providers:[{provide:$a,useValue:te}],parent:c}),ln=(0,t.LMc)(P,{environmentInjector:y,elementInjector:en}),wn=ln.location.nativeElement;return st.scrollable&&wn.classList.add("component-host-scrollable"),this._applicationRef.attachView(ln.hostView),new ru([[wn]],ln.hostView,ln)}_setAriaHidden(c){const y=c.parentElement;y&&c!==this._document.body&&(Array.from(y.children).forEach(P=>{P!==c&&"SCRIPT"!==P.nodeName&&(this._ariaHiddenValues.set(P,P.getAttribute("aria-hidden")),P.setAttribute("aria-hidden","true"))}),this._setAriaHidden(y))}_revertAriaHidden(){this._ariaHiddenValues.forEach((c,y)=>{c?y.setAttribute("aria-hidden",c):y.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(c){const y=()=>{const P=this._modalRefs.indexOf(c);P>-1&&(this._modalRefs.splice(P,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(c),this._activeInstances.emit(this._modalRefs),c.result.then(y,y)}_registerWindowCmpt(c){this._windowCmpts.push(c),this._activeWindowCmptHasChanged.next(),c.onDestroy(()=>{const y=this._windowCmpts.indexOf(c);y>-1&&(this._windowCmpts.splice(y,1),this._activeWindowCmptHasChanged.next())})}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(t.lqb),t.LFG(qe.K0),t.LFG(zd),t.LFG(t.FYo),t.LFG(t.R0b))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Gu=(()=>{class g{constructor(c){this._ngbConfig=c,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(xa))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),zu=(()=>{class g{constructor(c,y,P){this._injector=c,this._modalStack=y,this._config=P}open(c,y={}){const P={...this._config,animation:this._config.animation,...y};return this._modalStack.open(this._injector,c,P)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(c){this._modalStack.dismissAll(c)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(t.zs3),t.LFG(Cl),t.LFG(Gu))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),oa=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({providers:[zu]}),g})();const Wu=({classList:g})=>(g.remove("show"),()=>g.remove("active")),dd=(g,T)=>{T&&Is(g),g.classList.add("show")};let bu=(()=>{class g{constructor(c){this.elRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.SBq))},g.\u0275dir=t.lG2({type:g,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(c,y){2&c&&(t.Ikx("id",y.item.panelDomId),t.uIk("role",y.role?y.role:y.nav.roles?"tabpanel":void 0)("aria-labelledby",y.item.domId),t.ekj("fade",y.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),g})(),Eu=(()=>{class g{constructor(c,y){this._cd=c,this._ngZone=y,this._activePane=null}isPanelTransitioning(c){var y;return(null===(y=this._activePane)||void 0===y?void 0:y.item)===c}ngAfterViewInit(){var c;this._updateActivePane(),this.nav.navItemChange$.pipe(Nt(this.nav.destroy$),(0,Et.O)((null===(c=this._activePane)||void 0===c?void 0:c.item)||null),(0,it.x)(),function hn(g){return(0,At.h)((T,c)=>g<=c)}(1)).subscribe(y=>{const P={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?co(this._ngZone,this._activePane.elRef.nativeElement,Wu,P).subscribe(()=>{var te;const st=null===(te=this._activePane)||void 0===te?void 0:te.item;this._activePane=this._getPaneForItem(y),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),co(this._ngZone,this._activePane.elRef.nativeElement,dd,P).subscribe(()=>{y&&(y.shown.emit(),this.nav.shown.emit(y.id))})),st&&(st.hidden.emit(),this.nav.hidden.emit(st.id))}):this._updateActivePane()})}_updateActivePane(){var c,y;this._activePane=this._getActivePane(),null===(c=this._activePane)||void 0===c||c.elRef.nativeElement.classList.add("show"),null===(y=this._activePane)||void 0===y||y.elRef.nativeElement.classList.add("active")}_getPaneForItem(c){return this._panes&&this._panes.find(y=>y.item===c)||null}_getActivePane(){return this._panes&&this._panes.find(c=>c.item.active)||null}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.sBO),t.Y36(t.R0b))},g.\u0275cmp=t.Xpm({type:g,selectors:[["","ngbNavOutlet",""]],viewQuery:function(c,y){if(1&c&&t.Gf(bu,5),2&c){let P;t.iGM(P=t.CRH())&&(y._panes=P)}},hostVars:2,hostBindings:function(c,y){2&c&&t.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[t.jDz],attrs:En,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,y){1&c&&t.YNc(0,Nr,1,1,"ng-template",0),2&c&&t.Q6J("ngForOf",y.nav.items)},dependencies:[bu,qe.ax,qe.O5,qe.tP],encapsulation:2,changeDetection:0}),g})(),dh=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[Eu]}),g})(),Oo=(()=>{class g{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Id=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),g})(),Dd=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),g})(),Cu=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),g})(),wl=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),g})(),Yu=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),g})(),ol=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),g})(),wu=(()=>{class g{constructor(c){this.templateRef=c}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(t.Rgc))},g.\u0275dir=t.lG2({type:g,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),g})(),Yd=(()=>{class g{constructor(c){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new t.vpe(!0),this.disabled=c.disabled,this.boundaryLinks=c.boundaryLinks,this.directionLinks=c.directionLinks,this.ellipses=c.ellipses,this.maxSize=c.maxSize,this.pageSize=c.pageSize,this.rotate=c.rotate,this.size=c.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(c){this._updatePages(c)}ngOnChanges(c){this._updatePages(this.page)}isEllipsis(c){return-1===c}_applyEllipses(c,y){this.ellipses&&(c>0&&(c>2?this.pages.unshift(-1):2===c&&this.pages.unshift(2),this.pages.unshift(1)),y<this.pageCount&&(y<this.pageCount-2?this.pages.push(-1):y===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let c=0,y=this.pageCount,P=Math.floor(this.maxSize/2);return this.page<=P?y=this.maxSize:this.pageCount-this.page<P?c=this.pageCount-this.maxSize:(c=this.page-P-1,y=this.page+(this.maxSize%2==0?P-1:P)),[c,y]}_applyPagination(){let y=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[y,y+this.maxSize]}_setPageInRange(c){const y=this.page;this.page=kr(c,this.pageCount,1),this.page!==y&&cr(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(c){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),cr(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let y=1;y<=this.pageCount;y++)this.pages.push(y);if(this._setPageInRange(c),this.maxSize>0&&this.pageCount>this.maxSize){let y=0,P=this.pageCount;[y,P]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(y,P),this._applyEllipses(y,P)}}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(Oo))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-pagination"]],contentQueries:function(c,y,P){if(1&c&&(t.Suo(P,Id,5),t.Suo(P,Dd,5),t.Suo(P,Cu,5),t.Suo(P,wl,5),t.Suo(P,Yu,5),t.Suo(P,ol,5),t.Suo(P,wu,5)),2&c){let te;t.iGM(te=t.CRH())&&(y.tplEllipsis=te.first),t.iGM(te=t.CRH())&&(y.tplFirst=te.first),t.iGM(te=t.CRH())&&(y.tplLast=te.first),t.iGM(te=t.CRH())&&(y.tplNext=te.first),t.iGM(te=t.CRH())&&(y.tplNumber=te.first),t.iGM(te=t.CRH())&&(y.tplPrevious=te.first),t.iGM(te=t.CRH())&&(y.tplPages=te.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[t.TTD,t.jDz],decls:20,vars:12,consts:function(){let T,c,y,P,te,st,en,ln;return T=$localize`:@@ngb.pagination.first:`,c=$localize`:@@ngb.pagination.previous:`,y=$localize`:@@ngb.pagination.next:`,P=$localize`:@@ngb.pagination.last:`,te=$localize`:@@ngb.pagination.first-aria:First`,st=$localize`:@@ngb.pagination.previous-aria:Previous`,en=$localize`:@@ngb.pagination.next-aria:Next`,ln=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],T,c,y,P,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",te,"href","",1,"page-link",3,"click"],["aria-label",st,"href","",1,"page-link",3,"click"],["aria-label",en,"href","",1,"page-link",3,"click"],["aria-label",ln,"href","",1,"page-link",3,"click"]]},template:function(c,y){if(1&c&&(t.YNc(0,bs,2,0,"ng-template",null,0,t.W1O),t.YNc(2,ss,2,0,"ng-template",null,1,t.W1O),t.YNc(4,W,2,0,"ng-template",null,2,t.W1O),t.YNc(6,K,2,0,"ng-template",null,3,t.W1O),t.YNc(8,Y,1,0,"ng-template",null,4,t.W1O),t.YNc(10,_n,2,2,"ng-template",null,5,t.W1O),t.YNc(12,Uo,1,1,"ng-template",null,6,t.W1O),t.TgZ(14,"ul"),t.YNc(15,Al,3,9,"li",7),t.YNc(16,ic,3,8,"li",7),t.YNc(17,ma,0,0,"ng-template",8),t.YNc(18,Bl,3,9,"li",7),t.YNc(19,_a,3,9,"li",7),t.qZA()),2&c){const P=t.MAs(13);t.xp6(14),t.Tol("pagination"+(y.size?" pagination-"+y.size:"")),t.xp6(1),t.Q6J("ngIf",y.boundaryLinks),t.xp6(1),t.Q6J("ngIf",y.directionLinks),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==y.tplPages?null:y.tplPages.templateRef)||P)("ngTemplateOutletContext",t.kEZ(8,Da,y.page,y.pages,y.disabled)),t.xp6(1),t.Q6J("ngIf",y.directionLinks),t.xp6(1),t.Q6J("ngIf",y.boundaryLinks)}},dependencies:[qe.O5,qe.ax,qe.tP],encapsulation:2,changeDetection:0}),g})(),Kd=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[Yd]}),g})(),Zd=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({}),g})(),mh=(()=>{class g{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Du=(()=>{class g{constructor(c){this.value=0,this.max=c.max,this.animated=c.animated,this.ariaLabel=c.ariaLabel,this.striped=c.striped,this.textType=c.textType,this.type=c.type,this.showValue=c.showValue,this.height=c.height}set max(c){this._max=!cr(c)||c<=0?100:c}get max(){return this._max}getValue(){return kr(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(mh))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(c,y){2&c&&(t.uIk("aria-valuenow",y.getValue())("aria-valuemax",y.max)("aria-label",y.ariaLabel),t.Udp("height",y.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[t.jDz],ngContentSelectors:ha,decls:3,vars:11,consts:function(){let T;return T=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],T]},template:function(c,y){1&c&&(t.F$t(),t.TgZ(0,"div"),t.YNc(1,Ho,3,3,"span",0),t.Hsn(2),t.qZA()),2&c&&(t.MT6("progress-bar",y.type?y.textType?" bg-"+y.type:" text-bg-"+y.type:"","",y.textType?" text-"+y.textType:"",""),t.Udp("width",y.getPercentValue(),"%"),t.ekj("progress-bar-animated",y.animated)("progress-bar-striped",y.striped),t.xp6(1),t.Q6J("ngIf",y.showValue))},dependencies:[qe.O5,qe.Zx],encapsulation:2,changeDetection:0}),g})(),Qa=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[Du]}),g})(),Ku=(()=>{class g{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),tf=(()=>{class g{constructor(c,y){this._changeDetectorRef=y,this.contexts=[],this.disabled=!1,this.hover=new t.vpe,this.leave=new t.vpe,this.rateChange=new t.vpe(!0),this.onChange=P=>{},this.onTouched=()=>{},this.max=c.max,this.readonly=c.readonly,this.tabindex=c.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(c){this.isInteractive()&&this._updateState(c),this.hover.emit(c)}handleBlur(){this.onTouched()}handleClick(c){this.isInteractive()&&this.update(this.resettable&&this.rate===c?0:c)}handleKeyDown(c){switch(c.which){case Ht.ArrowDown:case Ht.ArrowLeft:this.update(this.rate-1);break;case Ht.ArrowUp:case Ht.ArrowRight:this.update(this.rate+1);break;case Ht.Home:this.update(0);break;case Ht.End:this.update(this.max);break;default:return}c.preventDefault()}ngOnChanges(c){c.rate&&this.update(this.rate),c.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(c){this.onChange=c}registerOnTouched(c){this.onTouched=c}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(c){this.disabled=c}update(c,y=!0){const P=kr(c,this.max,0);this.isInteractive()&&this.rate!==P&&(this.rate=P,this.rateChange.emit(this.rate)),y&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(c){this.update(c,!1),this._changeDetectorRef.markForCheck()}_updateState(c){this.nextRate=c,this.contexts.forEach((y,P)=>y.fill=Math.round(100*kr(c-P,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(c,y)=>({fill:0,index:y}))}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(Ku),t.Y36(t.sBO))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-rating"]],contentQueries:function(c,y,P){if(1&c&&t.Suo(P,t.Rgc,5),2&c){let te;t.iGM(te=t.CRH())&&(y.starTemplateFromContent=te.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(c,y){1&c&&t.NdJ("blur",function(){return y.handleBlur()})("keydown",function(te){return y.handleKeyDown(te)})("mouseleave",function(){return y.reset()}),2&c&&(t.Ikx("tabindex",y.disabled?-1:y.tabindex),t.uIk("aria-valuemax",y.max)("aria-valuenow",y.nextRate)("aria-valuetext",y.ariaValueText())("aria-disabled",!!y.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[t._Bn([{provide:cn.JU,useExisting:(0,t.Gpc)(()=>g),multi:!0}]),t.TTD,t.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,y){1&c&&(t.YNc(0,sc,1,1,"ng-template",null,0,t.W1O),t.YNc(2,Vl,4,5,"ng-template",1)),2&c&&(t.xp6(2),t.Q6J("ngForOf",y.contexts))},dependencies:[qe.ax,qe.tP],encapsulation:2,changeDetection:0}),g})(),_h=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[tf]}),g})();class al{constructor(T,c,y){this.hour=Fn(T),this.minute=Fn(c),this.second=Fn(y)}changeHour(T=1){this.updateHour((isNaN(this.hour)?0:this.hour)+T)}updateHour(T){this.hour=cr(T)?(T<0?24+T:T)%24:NaN}changeMinute(T=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+T)}updateMinute(T){cr(T)?(this.minute=T%60<0?60+T%60:T%60,this.changeHour(Math.floor(T/60))):this.minute=NaN}changeSecond(T=1){this.updateSecond((isNaN(this.second)?0:this.second)+T)}updateSecond(T){cr(T)?(this.second=T<0?60+T%60:T%60,this.changeMinute(Math.floor(T/60))):this.second=NaN}isValid(T=!0){return cr(this.hour)&&cr(this.minute)&&(!T||cr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let qf=(()=>{class g{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),jc=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:function(){return function nf(){return new rf}()},providedIn:"root"}),g})(),rf=(()=>{class g extends jc{fromModel(c){return c&&ar(c.hour)&&ar(c.minute)?{hour:c.hour,minute:c.minute,second:ar(c.second)?c.second:null}:null}toModel(c){return c&&ar(c.hour)&&ar(c.minute)?{hour:c.hour,minute:c.minute,second:ar(c.second)?c.second:null}:null}}return g.\u0275fac=function(){let T;return function(y){return(T||(T=t.n5z(g)))(y||g)}}(),g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})(),_=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275prov=t.Yz7({token:g,factory:function(c){let y=null;return y=c?new c:function vh(g){return new h(g)}(t.LFG(t.soG)),y},providedIn:"root"}),g})(),h=(()=>{class g extends _{constructor(c){super(),this._periods=(0,qe.ol)(c,qe.x.Standalone,qe.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(t.soG))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})();const f=/[^0-9]/g;let w=(()=>{class g{constructor(c,y,P,te){this._config=c,this._ngbTimeAdapter=y,this._cd=P,this.i18n=te,this.onChange=st=>{},this.onTouched=()=>{},this.meridian=c.meridian,this.spinners=c.spinners,this.seconds=c.seconds,this.hourStep=c.hourStep,this.minuteStep=c.minuteStep,this.secondStep=c.secondStep,this.disabled=c.disabled,this.readonlyInputs=c.readonlyInputs,this.size=c.size}set hourStep(c){this._hourStep=ar(c)?c:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(c){this._minuteStep=ar(c)?c:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(c){this._secondStep=ar(c)?c:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(c){const y=this._ngbTimeAdapter.fromModel(c);this.model=y?new al(y.hour,y.minute,y.second):new al,!this.seconds&&(!y||!cr(y.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(c){this.onChange=c}registerOnTouched(c){this.onTouched=c}setDisabledState(c){this.disabled=c}changeHour(c){var y;null===(y=this.model)||void 0===y||y.changeHour(c),this.propagateModelChange()}changeMinute(c){var y;null===(y=this.model)||void 0===y||y.changeMinute(c),this.propagateModelChange()}changeSecond(c){var y;null===(y=this.model)||void 0===y||y.changeSecond(c),this.propagateModelChange()}updateHour(c){const y=!!this.model&&this.model.hour>=12,P=Fn(c);var te,st;this.meridian&&(y&&P<12||!y&&12===P)?null===(te=this.model)||void 0===te||te.updateHour(P+12):null===(st=this.model)||void 0===st||st.updateHour(P),this.propagateModelChange()}updateMinute(c){var y;null===(y=this.model)||void 0===y||y.updateMinute(Fn(c)),this.propagateModelChange()}updateSecond(c){var y;null===(y=this.model)||void 0===y||y.updateSecond(Fn(c)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(c){c.value=c.value.replace(f,"")}formatHour(c){return cr(c)?Hr(this.meridian?c%12==0?12:c%12:c%24):Hr(NaN)}formatMinSec(c){return Hr(cr(c)?c:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(c){c.seconds&&!this.seconds&&this.model&&!cr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(c=!0){var y;c&&this.onTouched(),null!==(y=this.model)&&void 0!==y&&y.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return g.\u0275fac=function(c){return new(c||g)(t.Y36(qf),t.Y36(jc),t.Y36(t.sBO),t.Y36(_))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[t._Bn([{provide:cn.JU,useExisting:(0,t.Gpc)(()=>g),multi:!0}]),t.TTD,t.jDz],decls:16,vars:25,consts:function(){let T,c,y,P,te,st,en,ln,wn,Pn,Qn,Ai,Ki,Kr;return T=$localize`:@@ngb.timepicker.HH:HH`,c=$localize`:@@ngb.timepicker.hours:Hours`,y=$localize`:@@ngb.timepicker.MM:MM`,P=$localize`:@@ngb.timepicker.minutes:Minutes`,te=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,st=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,en=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,ln=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,wn=$localize`:@@ngb.timepicker.SS:SS`,Pn=$localize`:@@ngb.timepicker.seconds:Seconds`,Qn=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,Ai=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Ki=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Kr=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",T,"aria-label",c,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",y,"aria-label",P,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],te,[1,"chevron","ngb-tp-chevron","bottom"],st,en,ln,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",wn,"aria-label",Pn,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],Qn,Ai,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],Ki,Kr]},template:function(c,y){1&c&&(t.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),t.YNc(3,qc,4,7,"button",3),t.TgZ(4,"input",4),t.NdJ("change",function(te){return y.updateHour(te.target.value)})("blur",function(){return y.handleBlur()})("input",function(te){return y.formatInput(te.target)})("keydown.ArrowUp",function(te){return y.changeHour(y.hourStep),te.preventDefault()})("keydown.ArrowDown",function(te){return y.changeHour(-y.hourStep),te.preventDefault()}),t.qZA(),t.YNc(5,za,4,7,"button",3),t.qZA(),t.TgZ(6,"div",5),t._uU(7,":"),t.qZA(),t.TgZ(8,"div",6),t.YNc(9,go,4,7,"button",3),t.TgZ(10,"input",7),t.NdJ("change",function(te){return y.updateMinute(te.target.value)})("blur",function(){return y.handleBlur()})("input",function(te){return y.formatInput(te.target)})("keydown.ArrowUp",function(te){return y.changeMinute(y.minuteStep),te.preventDefault()})("keydown.ArrowDown",function(te){return y.changeMinute(-y.minuteStep),te.preventDefault()}),t.qZA(),t.YNc(11,Sa,4,7,"button",3),t.qZA(),t.YNc(12,ks,2,0,"div",8),t.YNc(13,di,4,9,"div",9),t.YNc(14,no,1,0,"div",8),t.YNc(15,Qi,5,9,"div",10),t.qZA()()),2&c&&(t.ekj("disabled",y.disabled),t.Q6J("disabled",y.disabled),t.xp6(3),t.Q6J("ngIf",y.spinners),t.xp6(1),t.ekj("form-control-sm",y.isSmallSize)("form-control-lg",y.isLargeSize),t.Q6J("value",y.formatHour(null==y.model?null:y.model.hour))("readOnly",y.readonlyInputs)("disabled",y.disabled),t.xp6(1),t.Q6J("ngIf",y.spinners),t.xp6(4),t.Q6J("ngIf",y.spinners),t.xp6(1),t.ekj("form-control-sm",y.isSmallSize)("form-control-lg",y.isLargeSize),t.Q6J("value",y.formatMinSec(null==y.model?null:y.model.minute))("readOnly",y.readonlyInputs)("disabled",y.disabled),t.xp6(1),t.Q6J("ngIf",y.spinners),t.xp6(1),t.Q6J("ngIf",y.seconds),t.xp6(1),t.Q6J("ngIf",y.seconds),t.xp6(1),t.Q6J("ngIf",y.meridian),t.xp6(1),t.Q6J("ngIf",y.meridian))},dependencies:[qe.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),g})(),L=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[w]}),g})();const ee=(g,T)=>{const{classList:c}=g;if(T)return c.add("fade"),Is(g),c.add("show","showing"),()=>{c.remove("showing")};c.add("show")},ue=({classList:g})=>(g.add("showing"),()=>{g.remove("show","showing")});let Xe=(()=>{class g{constructor(c){this._ngbConfig=c,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(xa))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Ft=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275dir=t.lG2({type:g,selectors:[["","ngbToastHeader",""]],standalone:!0}),g})(),tn=(()=>{class g{constructor(c,y,P,te){this.ariaLive=c,this._zone=P,this._element=te,this.contentHeaderTpl=null,this.shown=new t.vpe,this.hidden=new t.vpe,null==this.ariaLive&&(this.ariaLive=y.ariaLive),this.delay=y.delay,this.autohide=y.autohide,this.animation=y.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,Pt.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(c){"autohide"in c&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const c=co(this._zone,this._element.nativeElement,ue,{animation:this.animation,runningTransition:"stop"});return c.subscribe(()=>{this.hidden.emit()}),c}show(){const c=co(this._zone,this._element.nativeElement,ee,{animation:this.animation,runningTransition:"continue"});return c.subscribe(()=>{this.shown.emit()}),c}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return g.\u0275fac=function(c){return new(c||g)(t.$8M("aria-live"),t.Y36(Xe),t.Y36(t.R0b),t.Y36(t.SBq))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-toast"]],contentQueries:function(c,y,P){if(1&c&&t.Suo(P,Ft,7,t.Rgc),2&c){let te;t.iGM(te=t.CRH())&&(y.contentHeaderTpl=te.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(c,y){2&c&&(t.uIk("aria-live",y.ariaLive),t.ekj("fade",y.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[t.TTD,t.jDz],ngContentSelectors:ha,decls:5,vars:1,consts:function(){let T;return T=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",T,1,"btn-close",3,"click"]]},template:function(c,y){1&c&&(t.F$t(),t.YNc(0,tr,2,1,"ng-template",null,0,t.W1O),t.YNc(2,Fi,3,1,"ng-template",1),t.TgZ(3,"div",2),t.Hsn(4),t.qZA()),2&c&&(t.xp6(2),t.Q6J("ngIf",y.contentHeaderTpl||y.header))},dependencies:[qe.O5,qe.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),g})(),Gn=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[tn]}),g})(),As=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({}),g})(),ba=(()=>{class g{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(c){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const y=Hi(this.result),P=Array.isArray(this.term)?this.term:[this.term],te=wn=>this.accentSensitive?wn:oc(wn),st=P.map(wn=>function va(g){return g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(te(Hi(wn)))).filter(wn=>wn),en=this.accentSensitive?y:oc(y),ln=st.length?en.split(new RegExp(`(${st.join("|")})`,"gmi")):[y];if(this.accentSensitive)this.parts=ln;else{let wn=0;this.parts=ln.map(Pn=>y.substring(wn,wn+=Pn.length))}}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[t.TTD,t.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(c,y){1&c&&t.YNc(0,ce,3,2,"ng-template",0),2&c&&t.Q6J("ngForOf",y.parts)},dependencies:[qe.O5,qe.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),g})();new t.OlP("live announcer delay",{providedIn:"root",factory:function Zf(){return 100}});let af=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[ba]}),g})(),xd=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({}),g})();const bh=[Nc,Ka,Pa,Tc,bc,Hu,oa,dh,xd,Kd,Zd,Qa,_h,L,Gn,As,af];let Eh=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[bh,Nc,Ka,Pa,Tc,bc,Hu,oa,dh,xd,Kd,Zd,Qa,_h,L,Gn,As,af]}),g})()},3008:(ei,Jt,U)=>{"use strict";U.d(Jt,{IH:()=>Wt,Gb:()=>Rn,Kz:()=>Un,Iv:()=>Ee});var t=U(5861),Z=U(9681),ie=U(1877),oe=U(2090),ze=U(4859);U(2833);const $e="analytics",Fe="firebase_id",vt="origin",Pe=6e4,xe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ue="https://www.googletagmanager.com/gtag/js",je=new ie.Yd("@firebase/analytics");function pt(ye){return Promise.all(ye.map(he=>he.catch(_e=>_e)))}function Ge(){return(Ge=(0,t.Z)(function*(ye,he,_e,ge,It,rn){const xn=ge[It];try{if(xn)yield he[xn];else{const _i=(yield pt(_e)).find(jt=>jt.measurementId===It);_i&&(yield he[_i.appId])}}catch(jn){je.error(jn)}ye("config",It,rn)})).apply(this,arguments)}function at(){return(at=(0,t.Z)(function*(ye,he,_e,ge,It){try{let rn=[];if(It&&It.send_to){let xn=It.send_to;Array.isArray(xn)||(xn=[xn]);const jn=yield pt(_e);for(const _i of xn){const jt=jn.find(et=>et.measurementId===_i),mt=jt&&he[jt.appId];if(!mt){rn=[];break}rn.push(mt)}}0===rn.length&&(rn=Object.values(he)),yield Promise.all(rn),ye("event",ge,It||{})}catch(rn){je.error(rn)}})).apply(this,arguments)}const Ie=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),nt=30,At=new class Nt{constructor(he={},_e=1e3){this.throttleMetadata=he,this.intervalMillis=_e}getThrottleMetadata(he){return this.throttleMetadata[he]}setThrottleMetadata(he,_e){this.throttleMetadata[he]=_e}deleteThrottleMetadata(he){delete this.throttleMetadata[he]}};function Pt(ye){return new Headers({Accept:"application/json","x-goog-api-key":ye})}function Et(){return(Et=(0,t.Z)(function*(ye){var he;const{appId:_e,apiKey:ge}=ye,It={method:"GET",headers:Pt(ge)},rn=xe.replace("{app-id}",_e),xn=yield fetch(rn,It);if(200!==xn.status&&304!==xn.status){let jn="";try{const _i=yield xn.json();null!==(he=_i.error)&&void 0!==he&&he.message&&(jn=_i.error.message)}catch(_i){}throw Ie.create("config-fetch-failed",{httpStatus:xn.status,responseMessage:jn})}return xn.json()})).apply(this,arguments)}function Vt(){return(Vt=(0,t.Z)(function*(ye,he=At,_e){const{appId:ge,apiKey:It,measurementId:rn}=ye.options;if(!ge)throw Ie.create("no-app-id");if(!It){if(rn)return{measurementId:rn,appId:ge};throw Ie.create("no-api-key")}const xn=he.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jn=new $t;return setTimeout((0,t.Z)(function*(){jn.abort()}),void 0!==_e?_e:Pe),lt({appId:ge,apiKey:It,measurementId:rn},xn,jn,he)})).apply(this,arguments)}function lt(ye,he,_e){return Je.apply(this,arguments)}function Je(){return Je=(0,t.Z)(function*(ye,{throttleEndTimeMillis:he,backoffCount:_e},ge,It=At){var rn;const{appId:xn,measurementId:jn}=ye;try{yield function rt(ye,he){return new Promise((_e,ge)=>{const It=Math.max(he-Date.now(),0),rn=setTimeout(_e,It);ye.addEventListener(()=>{clearTimeout(rn),ge(Ie.create("fetch-throttle",{throttleEndTimeMillis:he}))})})}(ge,he)}catch(_i){if(jn)return je.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jn} provided in the "measurementId" field in the local Firebase config. [${null==_i?void 0:_i.message}]`),{appId:xn,measurementId:jn};throw _i}try{const _i=yield function Lt(ye){return Et.apply(this,arguments)}(ye);return It.deleteThrottleMetadata(xn),_i}catch(_i){const jt=_i;if(!function Yt(ye){if(!(ye instanceof oe.ZR&&ye.customData))return!1;const he=Number(ye.customData.httpStatus);return 429===he||500===he||503===he||504===he}(jt)){if(It.deleteThrottleMetadata(xn),jn)return je.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jn} provided in the "measurementId" field in the local Firebase config. [${null==jt?void 0:jt.message}]`),{appId:xn,measurementId:jn};throw _i}const mt=503===Number(null===(rn=null==jt?void 0:jt.customData)||void 0===rn?void 0:rn.httpStatus)?(0,oe.$s)(_e,It.intervalMillis,nt):(0,oe.$s)(_e,It.intervalMillis),et={throttleEndTimeMillis:Date.now()+mt,backoffCount:_e+1};return It.setThrottleMetadata(xn,et),je.debug(`Calling attemptFetch again in ${mt} millis`),lt(ye,et,ge,It)}}),Je.apply(this,arguments)}class $t{constructor(){this.listeners=[]}addEventListener(he){this.listeners.push(he)}abort(){this.listeners.forEach(he=>he())}}let Qt,Mi;function hn(){return(hn=(0,t.Z)(function*(ye,he,_e,ge,It){if(It&&It.global)ye("event",_e,ge);else{const rn=yield he;ye("event",_e,Object.assign(Object.assign({},ge),{send_to:rn}))}})).apply(this,arguments)}function Hn(){return(Hn=(0,t.Z)(function*(ye,he,_e,ge){if(ge&&ge.global)return ye("set",{user_id:_e}),Promise.resolve();ye("config",yield he,{update:!0,user_id:_e})})).apply(this,arguments)}function Be(){return(Be=(0,t.Z)(function*(){if(!(0,oe.hl)())return je.warn(Ie.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(ye){return je.warn(Ie.create("indexeddb-unavailable",{errorInfo:null==ye?void 0:ye.toString()}).message),!1}return!0})).apply(this,arguments)}function vn(){return vn=(0,t.Z)(function*(ye,he,_e,ge,It,rn,xn){var jn;const _i=function it(ye){return Vt.apply(this,arguments)}(ye);_i.then(qt=>{_e[qt.measurementId]=qt.appId,ye.options.measurementId&&qt.measurementId!==ye.options.measurementId&&je.warn(`The measurement ID in the local Firebase config (${ye.options.measurementId}) does not match the measurement ID fetched from the server (${qt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(qt=>je.error(qt)),he.push(_i);const jt=function ke(){return Be.apply(this,arguments)}().then(qt=>{if(qt)return ge.getId()}),[mt,et]=yield Promise.all([_i,jt]);(function Ut(ye){const he=window.document.getElementsByTagName("script");for(const _e of Object.values(he))if(_e.src&&_e.src.includes(Ue)&&_e.src.includes(ye))return _e;return null})(rn)||function gt(ye,he){const _e=document.createElement("script");_e.src=`${Ue}?l=${ye}&id=${he}`,_e.async=!0,document.head.appendChild(_e)}(rn,mt.measurementId),Mi&&(It("consent","default",Mi),function Kt(ye){Mi=ye}(void 0)),It("js",new Date);const ft=null!==(jn=null==xn?void 0:xn.config)&&void 0!==jn?jn:{};return ft[vt]="firebase",ft.update=!0,null!=et&&(ft[Fe]=et),It("config",mt.measurementId,ft),Qt&&(It("set",Qt),function Ye(ye){Qt=ye}(void 0)),mt.measurementId}),vn.apply(this,arguments)}class qn{constructor(he){this.app=he}_delete(){return delete ii[this.app.options.appId],Promise.resolve()}}let ii={},gi=[];const $i={};let mi,Pi,Xn="dataLayer",zn="gtag",Si=!1;function xt(ye,he,_e){!function dn(){const ye=[];if((0,oe.ru)()&&ye.push("This is a browser extension environment."),(0,oe.zI)()||ye.push("Cookies are not available."),ye.length>0){const he=ye.map((ge,It)=>`(${It+1}) ${ge}`).join(" "),_e=Ie.create("invalid-analytics-context",{errorInfo:he});je.warn(_e.message)}}();const ge=ye.options.appId;if(!ge)throw Ie.create("no-app-id");if(!ye.options.apiKey){if(!ye.options.measurementId)throw Ie.create("no-api-key");je.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ye.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ii[ge])throw Ie.create("already-exists",{id:ge});if(!Si){!function kt(ye){let he=[];Array.isArray(window[ye])?he=window[ye]:window[ye]=he}(Xn);const{wrappedGtag:rn,gtagCore:xn}=function dt(ye,he,_e,ge,It){let rn=function(...xn){window[ge].push(arguments)};return window[It]&&"function"==typeof window[It]&&(rn=window[It]),window[It]=function Ve(ye,he,_e,ge){function rn(){return rn=(0,t.Z)(function*(xn,jn,_i){try{"event"===xn?yield function yt(ye,he,_e,ge,It){return at.apply(this,arguments)}(ye,he,_e,jn,_i):"config"===xn?yield function be(ye,he,_e,ge,It,rn){return Ge.apply(this,arguments)}(ye,he,_e,ge,jn,_i):"consent"===xn?ye("consent","update",_i):ye("set",jn)}catch(jt){je.error(jt)}}),rn.apply(this,arguments)}return function It(xn,jn,_i){return rn.apply(this,arguments)}}(rn,ye,he,_e),{gtagCore:rn,wrappedGtag:window[It]}}(ii,gi,$i,Xn,zn);Pi=rn,mi=xn,Si=!0}return ii[ge]=function Mt(ye,he,_e,ge,It,rn,xn){return vn.apply(this,arguments)}(ye,gi,$i,he,mi,Xn,_e),new qn(ye)}function Wt(ye=(0,Z.getApp)()){ye=(0,oe.m9)(ye);const he=(0,Z._getProvider)(ye,$e);return he.isInitialized()?he.getImmediate():function pn(ye,he={}){const _e=(0,Z._getProvider)(ye,$e);if(_e.isInitialized()){const It=_e.getImmediate();if((0,oe.vZ)(he,_e.getOptions()))return It;throw Ie.create("already-initialized")}return _e.initialize({options:he})}(ye)}function Rn(){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,t.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(ye){return!1}})).apply(this,arguments)}function Ee(ye,he,_e){ye=(0,oe.m9)(ye),function Tn(ye,he,_e,ge){return Hn.apply(this,arguments)}(Pi,ii[ye.app.options.appId],he,_e).catch(ge=>je.error(ge))}function Un(ye,he,_e,ge){ye=(0,oe.m9)(ye),function Bt(ye,he,_e,ge,It){return hn.apply(this,arguments)}(Pi,ii[ye.app.options.appId],he,_e,ge).catch(It=>je.error(It))}const xi="@firebase/analytics";!function wt(){(0,Z._registerComponent)(new ze.wA($e,(he,{options:_e})=>xt(he.getProvider("app").getImmediate(),he.getProvider("installations-internal").getImmediate(),_e),"PUBLIC")),(0,Z._registerComponent)(new ze.wA("analytics-internal",function ye(he){try{const _e=he.getProvider($e).getImmediate();return{logEvent:(ge,It,rn)=>Un(_e,ge,It,rn)}}catch(_e){throw Ie.create("interop-component-reg-failed",{reason:_e})}},"PRIVATE")),(0,Z.registerVersion)(xi,"0.9.4"),(0,Z.registerVersion)(xi,"0.9.4","esm2017")}()},259:(ei,Jt,U)=>{"use strict";U.d(Jt,{C6:()=>t.getApps,KN:()=>t.registerVersion,Mq:()=>t.getApp,ZF:()=>t.initializeApp});var t=U(9681);(0,t.registerVersion)("firebase","9.17.2","app")},4322:(ei,Jt,U)=>{"use strict";U.d(Jt,{Xb:()=>t.a5,v0:()=>t.n,Aj:()=>t.v,LS:()=>t.a0,e5:()=>t.a6});var t=U(8401);U(2090),U(9681),U(1877),U(4859)},9260:(ei,Jt,U)=>{"use strict";U.d(Jt,{Z:()=>t.Z});var t=U(3942);t.Z.registerVersion("firebase","9.17.2","app-compat")},9568:(ei,Jt,U)=>{"use strict";U.r(Jt);var t=U(5861),Z=U(3942),ie=U(8401),oe=U(2090),$e=(U(9681),U(1877),U(4859));function Fe(){return window}const vt=2e3;function xe(){return xe=(0,t.Z)(function*(he,_e,ge){var It;const{BuildInfo:rn}=Fe();(0,ie.ap)(_e.sessionId,"AuthEvent did not contain a session ID");const xn=yield function Ge(he){return yt.apply(this,arguments)}(_e.sessionId),jn={};return(0,ie.aq)()?jn.ibi=rn.packageName:(0,ie.ar)()?jn.apn=rn.packageName:(0,ie.as)(he,"operation-not-supported-in-this-environment"),rn.displayName&&(jn.appDisplayName=rn.displayName),jn.sessionId=xn,(0,ie.at)(he,ge,_e.type,void 0,null!==(It=_e.eventId)&&void 0!==It?It:void 0,jn)}),xe.apply(this,arguments)}function je(){return(je=(0,t.Z)(function*(he){const{BuildInfo:_e}=Fe(),ge={};(0,ie.aq)()?ge.iosBundleId=_e.packageName:(0,ie.ar)()?ge.androidPackageName=_e.packageName:(0,ie.as)(he,"operation-not-supported-in-this-environment"),yield(0,ie.au)(he,ge)})).apply(this,arguments)}function kt(){return(kt=(0,t.Z)(function*(he,_e,ge){const{cordova:It}=Fe();let rn=()=>{};try{yield new Promise((xn,jn)=>{let _i=null;function jt(){var ft;xn();const qt=null===(ft=It.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof qt&&qt(),"function"==typeof(null==ge?void 0:ge.close)&&ge.close()}function mt(){_i||(_i=window.setTimeout(()=>{jn((0,ie.aw)(he,"redirect-cancelled-by-user"))},vt))}function et(){"visible"===(null==document?void 0:document.visibilityState)&&mt()}_e.addPassiveListener(jt),document.addEventListener("resume",mt,!1),(0,ie.ar)()&&document.addEventListener("visibilitychange",et,!1),rn=()=>{_e.removePassiveListener(jt),document.removeEventListener("resume",mt,!1),document.removeEventListener("visibilitychange",et,!1),_i&&window.clearTimeout(_i)}})}finally{rn()}})).apply(this,arguments)}function yt(){return(yt=(0,t.Z)(function*(he){const _e=function at(he){if((0,ie.ap)(/[0-9a-zA-Z]+/.test(he),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(he);const _e=new ArrayBuffer(he.length),ge=new Uint8Array(_e);for(let It=0;It<he.length;It++)ge[It]=he.charCodeAt(It);return ge}(he),ge=yield crypto.subtle.digest("SHA-256",_e);return Array.from(new Uint8Array(ge)).map(rn=>rn.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ve=20;class dt extends ie.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_e=>{this.resolveInialized=_e})}addPassiveListener(_e){this.passiveListeners.add(_e)}removePassiveListener(_e){this.passiveListeners.delete(_e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_e){return this.resolveInialized(),this.passiveListeners.forEach(ge=>ge(_e)),super.onEvent(_e)}initialized(){var _e=this;return(0,t.Z)(function*(){yield _e.initPromise})()}}function Ie(he){return nt.apply(this,arguments)}function nt(){return(nt=(0,t.Z)(function*(he){const _e=yield At()._get(Pt(he));return _e&&(yield At()._remove(Pt(he))),_e})).apply(this,arguments)}function Nt(){const he=[],_e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ge=0;ge<Ve;ge++){const It=Math.floor(Math.random()*_e.length);he.push(_e.charAt(It))}return he.join("")}function At(){return(0,ie.az)(ie.b)}function Pt(he){return(0,ie.aA)("authEvent",he.config.apiKey,he.name)}function it(he){if(null==he||!he.includes("?"))return{};const[_e,...ge]=he.split("?");return(0,oe.zd)(ge.join("?"))}const Je=class lt{constructor(){this._redirectPersistence=ie.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ie.aB,this._overrideRedirectResult=ie.aC}_initialize(_e){var ge=this;return(0,t.Z)(function*(){const It=_e._key();let rn=ge.eventManagers.get(It);return rn||(rn=new dt(_e),ge.eventManagers.set(It,rn),ge.attachCallbackListeners(_e,rn)),rn})()}_openPopup(_e){(0,ie.as)(_e,"operation-not-supported-in-this-environment")}_openRedirect(_e,ge,It,rn){var xn=this;return(0,t.Z)(function*(){!function be(he){var _e,ge,It,rn,xn,jn,_i,jt,mt,et;const ft=Fe();(0,ie.ax)("function"==typeof(null===(_e=null==ft?void 0:ft.universalLinks)||void 0===_e?void 0:_e.subscribe),he,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ie.ax)(typeof(null===(ge=null==ft?void 0:ft.BuildInfo)||void 0===ge?void 0:ge.packageName)<"u",he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ie.ax)("function"==typeof(null===(xn=null===(rn=null===(It=null==ft?void 0:ft.cordova)||void 0===It?void 0:It.plugins)||void 0===rn?void 0:rn.browsertab)||void 0===xn?void 0:xn.openUrl),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ie.ax)("function"==typeof(null===(jt=null===(_i=null===(jn=null==ft?void 0:ft.cordova)||void 0===jn?void 0:jn.plugins)||void 0===_i?void 0:_i.browsertab)||void 0===jt?void 0:jt.isAvailable),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ie.ax)("function"==typeof(null===(et=null===(mt=null==ft?void 0:ft.cordova)||void 0===mt?void 0:mt.InAppBrowser)||void 0===et?void 0:et.open),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_e);const jn=yield xn._initialize(_e);yield jn.initialized(),jn.resetRedirect(),(0,ie.aD)(),yield xn._originValidation(_e);const _i=function Ut(he,_e,ge=null){return{type:_e,eventId:ge,urlResponse:null,sessionId:Nt(),postBody:null,tenantId:he.tenantId,error:(0,ie.aw)(he,"no-auth-event")}}(_e,It,rn);yield function ut(he,_e){return At()._set(Pt(he),_e)}(_e,_i);const jt=yield function Pe(he,_e,ge){return xe.apply(this,arguments)}(_e,_i,ge),mt=yield function pt(he){const{cordova:_e}=Fe();return new Promise(ge=>{_e.plugins.browsertab.isAvailable(It=>{let rn=null;It?_e.plugins.browsertab.openUrl(he):rn=_e.InAppBrowser.open(he,(0,ie.av)()?"_blank":"_system","location=yes"),ge(rn)})})}(jt);return function gt(he,_e,ge){return kt.apply(this,arguments)}(_e,jn,mt)})()}_isIframeWebStorageSupported(_e,ge){throw new Error("Method not implemented.")}_originValidation(_e){const ge=_e._key();return this.originValidationPromises[ge]||(this.originValidationPromises[ge]=function Ue(he){return je.apply(this,arguments)}(_e)),this.originValidationPromises[ge]}attachCallbackListeners(_e,ge){const{universalLinks:It,handleOpenURL:rn,BuildInfo:xn}=Fe(),jn=setTimeout((0,t.Z)(function*(){yield Ie(_e),ge.onEvent(rt())}),500),_i=function(){var et=(0,t.Z)(function*(ft){clearTimeout(jn);const qt=yield Ie(_e);let We=null;qt&&null!=ft&&ft.url&&(We=function St(he,_e){var ge,It;const rn=function Et(he){const _e=it(he),ge=_e.link?decodeURIComponent(_e.link):void 0,It=it(ge).link,rn=_e.deep_link_id?decodeURIComponent(_e.deep_link_id):void 0;return it(rn).link||rn||It||ge||he}(_e);if(rn.includes("/__/auth/callback")){const xn=it(rn),jn=xn.firebaseError?function Lt(he){try{return JSON.parse(he)}catch(_e){return null}}(decodeURIComponent(xn.firebaseError)):null,_i=null===(It=null===(ge=null==jn?void 0:jn.code)||void 0===ge?void 0:ge.split("auth/"))||void 0===It?void 0:It[1],jt=_i?(0,ie.aw)(_i):null;return jt?{type:he.type,eventId:he.eventId,tenantId:he.tenantId,error:jt,urlResponse:null,sessionId:null,postBody:null}:{type:he.type,eventId:he.eventId,tenantId:he.tenantId,sessionId:he.sessionId,urlResponse:rn,postBody:null}}return null}(qt,ft.url)),ge.onEvent(We||rt())});return function(qt){return et.apply(this,arguments)}}();typeof It<"u"&&"function"==typeof It.subscribe&&It.subscribe(null,_i);const jt=rn,mt=`${xn.packageName.toLowerCase()}://`;Fe().handleOpenURL=function(){var et=(0,t.Z)(function*(ft){if(ft.toLowerCase().startsWith(mt)&&_i({url:ft}),"function"==typeof jt)try{jt(ft)}catch(qt){console.error(qt)}});return function(ft){return et.apply(this,arguments)}}()}};function rt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ie.aw)("no-auth-event")}}const Bt=1e3;function hn(){var he;return(null===(he=null==self?void 0:self.location)||void 0===he?void 0:he.protocol)||null}function cn(he=(0,oe.z$)()){return!("file:"!==hn()&&"ionic:"!==hn()&&"capacitor:"!==hn()||!he.toLowerCase().match(/iphone|ipad|ipod|android/))}function ai(){try{const he=self.localStorage,_e=ie.aI();if(he)return he.setItem(_e,"1"),he.removeItem(_e),!function si(he=(0,oe.z$)()){return function Hn(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ln(he=(0,oe.z$)()){return/Edge\/\d+/.test(he)}(he)}()||(0,oe.hl)()}catch(he){return bi()&&(0,oe.hl)()}return!1}function bi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mi(){return(function qe(){return"http:"===hn()||"https:"===hn()}()||(0,oe.ru)()||cn())&&!function Tn(){return(0,oe.b$)()||(0,oe.UG)()}()&&ai()&&!bi()}function Kt(){return cn()&&typeof document<"u"}function ke(){return(ke=(0,t.Z)(function*(){return!!Kt()&&new Promise(he=>{const _e=setTimeout(()=>{he(!1)},Bt);document.addEventListener("deviceready",()=>{clearTimeout(_e),he(!0)})})})).apply(this,arguments)}const Mt={LOCAL:"local",NONE:"none",SESSION:"session"},vn=ie.ax,qn="persistence";function gi(he){return $i.apply(this,arguments)}function $i(){return($i=(0,t.Z)(function*(he){yield he._initializationPromise;const _e=zn(),ge=ie.aA(qn,he.config.apiKey,he.name);_e&&_e.setItem(ge,he._getPersistence())})).apply(this,arguments)}function zn(){var he;try{return(null===(he=function Be(){return typeof window<"u"?window:null}())||void 0===he?void 0:he.sessionStorage)||null}catch(_e){return null}}const mi=ie.ax;class Pi{constructor(){this.browserResolver=ie.az(ie.k),this.cordovaResolver=ie.az(Je),this.underlyingResolver=null,this._redirectPersistence=ie.a,this._completeRedirectFn=ie.aB,this._overrideRedirectResult=ie.aC}_initialize(_e){var ge=this;return(0,t.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._initialize(_e)})()}_openPopup(_e,ge,It,rn){var xn=this;return(0,t.Z)(function*(){return yield xn.selectUnderlyingResolver(),xn.assertedUnderlyingResolver._openPopup(_e,ge,It,rn)})()}_openRedirect(_e,ge,It,rn){var xn=this;return(0,t.Z)(function*(){return yield xn.selectUnderlyingResolver(),xn.assertedUnderlyingResolver._openRedirect(_e,ge,It,rn)})()}_isIframeWebStorageSupported(_e,ge){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_e,ge)}_originValidation(_e){return this.assertedUnderlyingResolver._originValidation(_e)}get _shouldInitProactively(){return Kt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _e=this;return(0,t.Z)(function*(){if(_e.underlyingResolver)return;const ge=yield function Ye(){return ke.apply(this,arguments)}();_e.underlyingResolver=ge?_e.cordovaResolver:_e.browserResolver})()}}function Si(he){return he.unwrap()}function dn(he){return Wt(he)}function Wt(he){const{_tokenResponse:_e}=he instanceof oe.ZR?he.customData:he;if(!_e)return null;if(!(he instanceof oe.ZR)&&"temporaryProof"in _e&&"phoneNumber"in _e)return ie.P.credentialFromResult(he);const ge=_e.providerId;if(!ge||ge===ie.o.PASSWORD)return null;let It;switch(ge){case ie.o.GOOGLE:It=ie.Q;break;case ie.o.FACEBOOK:It=ie.N;break;case ie.o.GITHUB:It=ie.T;break;case ie.o.TWITTER:It=ie.W;break;default:const{oauthIdToken:rn,oauthAccessToken:xn,oauthTokenSecret:jn,pendingToken:_i,nonce:jt}=_e;return xn||jn||rn||_i?_i?ge.startsWith("saml.")?ie.aL._create(ge,_i):ie.J._fromParams({providerId:ge,signInMethod:ge,pendingToken:_i,idToken:rn,accessToken:xn}):new ie.U(ge).credential({idToken:rn,accessToken:xn,rawNonce:jt}):null}return he instanceof oe.ZR?It.credentialFromError(he):It.credentialFromResult(he)}function pn(he,_e){return _e.catch(ge=>{throw ge instanceof oe.ZR&&function xt(he,_e){var ge;const It=null===(ge=_e.customData)||void 0===ge?void 0:ge._tokenResponse;if("auth/multi-factor-auth-required"===(null==_e?void 0:_e.code))_e.resolver=new mn(he,ie.an(he,_e));else if(It){const rn=Wt(_e),xn=_e;rn&&(xn.credential=rn,xn.tenantId=It.tenantId||void 0,xn.email=It.email||void 0,xn.phoneNumber=It.phoneNumber||void 0)}}(he,ge),ge}).then(ge=>{const rn=ge.user;return{operationType:ge.operationType,credential:dn(ge),additionalUserInfo:ie.al(ge),user:Ee.getOrCreate(rn)}})}function Rn(he,_e){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,t.Z)(function*(he,_e){const ge=yield _e;return{verificationId:ge.verificationId,confirm:It=>pn(he,ge.confirm(It))}})).apply(this,arguments)}class mn{constructor(_e,ge){this.resolver=ge,this.auth=function Ci(he){return he.wrapped()}(_e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_e){return pn(Si(this.auth),this.resolver.resolveSignIn(_e))}}class Ee{constructor(_e){this._delegate=_e,this.multiFactor=ie.ao(_e)}static getOrCreate(_e){return Ee.USER_MAP.has(_e)||Ee.USER_MAP.set(_e,new Ee(_e)),Ee.USER_MAP.get(_e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_e){return this._delegate.getIdTokenResult(_e)}getIdToken(_e){return this._delegate.getIdToken(_e)}linkAndRetrieveDataWithCredential(_e){return this.linkWithCredential(_e)}linkWithCredential(_e){var ge=this;return(0,t.Z)(function*(){return pn(ge.auth,ie.Z(ge._delegate,_e))})()}linkWithPhoneNumber(_e,ge){var It=this;return(0,t.Z)(function*(){return Rn(It.auth,ie.l(It._delegate,_e,ge))})()}linkWithPopup(_e){var ge=this;return(0,t.Z)(function*(){return pn(ge.auth,ie.d(ge._delegate,_e,Pi))})()}linkWithRedirect(_e){var ge=this;return(0,t.Z)(function*(){return yield gi(ie.aE(ge.auth)),ie.g(ge._delegate,_e,Pi)})()}reauthenticateAndRetrieveDataWithCredential(_e){return this.reauthenticateWithCredential(_e)}reauthenticateWithCredential(_e){var ge=this;return(0,t.Z)(function*(){return pn(ge.auth,ie._(ge._delegate,_e))})()}reauthenticateWithPhoneNumber(_e,ge){return Rn(this.auth,ie.r(this._delegate,_e,ge))}reauthenticateWithPopup(_e){return pn(this.auth,ie.e(this._delegate,_e,Pi))}reauthenticateWithRedirect(_e){var ge=this;return(0,t.Z)(function*(){return yield gi(ie.aE(ge.auth)),ie.h(ge._delegate,_e,Pi)})()}sendEmailVerification(_e){return ie.ab(this._delegate,_e)}unlink(_e){var ge=this;return(0,t.Z)(function*(){return yield ie.ak(ge._delegate,_e),ge})()}updateEmail(_e){return ie.ag(this._delegate,_e)}updatePassword(_e){return ie.ah(this._delegate,_e)}updatePhoneNumber(_e){return ie.u(this._delegate,_e)}updateProfile(_e){return ie.af(this._delegate,_e)}verifyBeforeUpdateEmail(_e,ge){return ie.ac(this._delegate,_e,ge)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ee.USER_MAP=new WeakMap;const we=ie.ax;let ot=(()=>{class he{constructor(ge,It){if(this.app=ge,It.isInitialized())return this._delegate=It.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:rn}=ge.options;we(rn,"invalid-api-key",{appName:ge.name}),we(rn,"invalid-api-key",{appName:ge.name});const xn=typeof window<"u"?Pi:void 0;this._delegate=It.initialize({options:{persistence:Un(rn,ge.name),popupRedirectResolver:xn}}),this._delegate._updateErrorMap(ie.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ee.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ge){this._delegate.languageCode=ge}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ge){this._delegate.tenantId=ge}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ge,It){ie.G(this._delegate,ge,It)}applyActionCode(ge){return ie.a2(this._delegate,ge)}checkActionCode(ge){return ie.a3(this._delegate,ge)}confirmPasswordReset(ge,It){return ie.a1(this._delegate,ge,It)}createUserWithEmailAndPassword(ge,It){var rn=this;return(0,t.Z)(function*(){return pn(rn._delegate,ie.a5(rn._delegate,ge,It))})()}fetchProvidersForEmail(ge){return this.fetchSignInMethodsForEmail(ge)}fetchSignInMethodsForEmail(ge){return ie.aa(this._delegate,ge)}isSignInWithEmailLink(ge){return ie.a8(this._delegate,ge)}getRedirectResult(){var ge=this;return(0,t.Z)(function*(){we(Mi(),ge._delegate,"operation-not-supported-in-this-environment");const It=yield ie.j(ge._delegate,Pi);return It?pn(ge._delegate,Promise.resolve(It)):{credential:null,user:null}})()}addFrameworkForLogging(ge){!function Yt(he,_e){(0,ie.aE)(he)._logFramework(_e)}(this._delegate,ge)}onAuthStateChanged(ge,It,rn){const{next:xn,error:jn,complete:_i}=on(ge,It,rn);return this._delegate.onAuthStateChanged(xn,jn,_i)}onIdTokenChanged(ge,It,rn){const{next:xn,error:jn,complete:_i}=on(ge,It,rn);return this._delegate.onIdTokenChanged(xn,jn,_i)}sendSignInLinkToEmail(ge,It){return ie.a7(this._delegate,ge,It)}sendPasswordResetEmail(ge,It){return ie.a0(this._delegate,ge,It||void 0)}setPersistence(ge){var It=this;return(0,t.Z)(function*(){let rn;switch(function ii(he,_e){vn(Object.values(Mt).includes(_e),he,"invalid-persistence-type"),(0,oe.b$)()?vn(_e!==Mt.SESSION,he,"unsupported-persistence-type"):(0,oe.UG)()?vn(_e===Mt.NONE,he,"unsupported-persistence-type"):bi()?vn(_e===Mt.NONE||_e===Mt.LOCAL&&(0,oe.hl)(),he,"unsupported-persistence-type"):vn(_e===Mt.NONE||ai(),he,"unsupported-persistence-type")}(It._delegate,ge),ge){case Mt.SESSION:rn=ie.a;break;case Mt.LOCAL:rn=(yield ie.az(ie.i)._isAvailable())?ie.i:ie.b;break;case Mt.NONE:rn=ie.L;break;default:return ie.as("argument-error",{appName:It._delegate.name})}return It._delegate.setPersistence(rn)})()}signInAndRetrieveDataWithCredential(ge){return this.signInWithCredential(ge)}signInAnonymously(){return pn(this._delegate,ie.X(this._delegate))}signInWithCredential(ge){return pn(this._delegate,ie.Y(this._delegate,ge))}signInWithCustomToken(ge){return pn(this._delegate,ie.$(this._delegate,ge))}signInWithEmailAndPassword(ge,It){return pn(this._delegate,ie.a6(this._delegate,ge,It))}signInWithEmailLink(ge,It){return pn(this._delegate,ie.a9(this._delegate,ge,It))}signInWithPhoneNumber(ge,It){return Rn(this._delegate,ie.s(this._delegate,ge,It))}signInWithPopup(ge){var It=this;return(0,t.Z)(function*(){return we(Mi(),It._delegate,"operation-not-supported-in-this-environment"),pn(It._delegate,ie.c(It._delegate,ge,Pi))})()}signInWithRedirect(ge){var It=this;return(0,t.Z)(function*(){return we(Mi(),It._delegate,"operation-not-supported-in-this-environment"),yield gi(It._delegate),ie.f(It._delegate,ge,Pi)})()}updateCurrentUser(ge){return this._delegate.updateCurrentUser(ge)}verifyPasswordResetCode(ge){return ie.a4(this._delegate,ge)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return he.Persistence=Mt,he})();function on(he,_e,ge){let It=he;"function"!=typeof he&&({next:It,error:_e,complete:ge}=he);const rn=It;return{next:jn=>rn(jn&&Ee.getOrCreate(jn)),error:_e,complete:ge}}function Un(he,_e){const ge=function Xn(he,_e){const ge=zn();if(!ge)return[];const It=ie.aA(qn,he,_e);switch(ge.getItem(It)){case Mt.NONE:return[ie.L];case Mt.LOCAL:return[ie.i,ie.a];case Mt.SESSION:return[ie.a];default:return[]}}(he,_e);if(typeof self<"u"&&!ge.includes(ie.i)&&ge.push(ie.i),typeof window<"u")for(const It of[ie.b,ie.a])ge.includes(It)||ge.push(It);return ge.includes(ie.L)||ge.push(ie.L),ge}class wi{constructor(){this.providerId="phone",this._delegate=new ie.P(Si(Z.Z.auth()))}static credential(_e,ge){return ie.P.credential(_e,ge)}verifyPhoneNumber(_e,ge){return this._delegate.verifyPhoneNumber(_e,ge)}unwrap(){return this._delegate}}wi.PHONE_SIGN_IN_METHOD=ie.P.PHONE_SIGN_IN_METHOD,wi.PROVIDER_ID=ie.P.PROVIDER_ID;const xi=ie.ax;class rr{constructor(_e,ge,It=Z.Z.app()){var rn;xi(null===(rn=It.options)||void 0===rn?void 0:rn.apiKey,"invalid-api-key",{appName:It.name}),this._delegate=new ie.R(_e,ge,It.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ye(he){he.INTERNAL.registerComponent(new $e.wA("auth-compat",_e=>{const ge=_e.getProvider("app-compat").getImmediate(),It=_e.getProvider("auth");return new ot(ge,It)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ie.A.EMAIL_SIGNIN,PASSWORD_RESET:ie.A.PASSWORD_RESET,RECOVER_EMAIL:ie.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ie.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ie.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ie.A.VERIFY_EMAIL}},EmailAuthProvider:ie.M,FacebookAuthProvider:ie.N,GithubAuthProvider:ie.T,GoogleAuthProvider:ie.Q,OAuthProvider:ie.U,SAMLAuthProvider:ie.V,PhoneAuthProvider:wi,PhoneMultiFactorGenerator:ie.m,RecaptchaVerifier:rr,TwitterAuthProvider:ie.W,Auth:ot,AuthCredential:ie.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),he.registerVersion("@firebase/auth-compat","0.3.4")}(Z.Z)},8179:(ei,Jt,U)=>{"use strict";U.d(Jt,{EK:()=>t.EK,ET:()=>t.ET,IO:()=>t.IO,JU:()=>t.JU,PL:()=>t.PL,QT:()=>t.QT,Xo:()=>t.Xo,ad:()=>t.ad,cf:()=>t.cf,hJ:()=>t.hJ,pl:()=>t.pl});var t=U(5525)},751:(ei,Jt,U)=>{"use strict";U.d(Jt,{KL:()=>jt,Gb:()=>It});var t=U(5861),ie=(U(2833),U(4859)),oe=U(8766),ze=U(2090),ct=U(9681);const $e="/firebase-messaging-sw.js",Fe="/firebase-cloud-messaging-push-scope",vt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pe="https://fcmregistrations.googleapis.com/v1",xe="google.c.a.c_id",Ue="google.c.a.c_l",je="google.c.a.ts",pt="google.c.a.e";var kt=(()=>{return(We=kt||(kt={})).PUSH_RECEIVED="push-received",We.NOTIFICATION_CLICKED="notification-clicked",kt;var We})();function be(We){const zt=new Uint8Array(We);return btoa(String.fromCharCode(...zt)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ge(We){const Wn=(We+"=".repeat((4-We.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Jn=atob(Wn),oi=new Uint8Array(Jn.length);for(let Ot=0;Ot<Jn.length;++Ot)oi[Ot]=Jn.charCodeAt(Ot);return oi}const yt="fcm_token_details_db",at=5,Ve="fcm_token_object_Store";function Ut(){return Ut=(0,t.Z)(function*(We){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ot=>Ot.name).includes(yt))return null;let zt=null;return(yield(0,oe.X3)(yt,at,{upgrade:(Jn=(0,t.Z)(function*(oi,Ot,yn,Bn){var Ii;if(Ot<2||!oi.objectStoreNames.contains(Ve))return;const vr=Bn.objectStore(Ve),vi=yield vr.index("fcmSenderId").get(We);if(yield vr.clear(),vi)if(2===Ot){const Ni=vi;if(!Ni.auth||!Ni.p256dh||!Ni.endpoint)return;zt={token:Ni.fcmToken,createTime:null!==(Ii=Ni.createTime)&&void 0!==Ii?Ii:Date.now(),subscriptionOptions:{auth:Ni.auth,p256dh:Ni.p256dh,endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:"string"==typeof Ni.vapidKey?Ni.vapidKey:be(Ni.vapidKey)}}}else if(3===Ot){const Ni=vi;zt={token:Ni.fcmToken,createTime:Ni.createTime,subscriptionOptions:{auth:be(Ni.auth),p256dh:be(Ni.p256dh),endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:be(Ni.vapidKey)}}}else if(4===Ot){const Ni=vi;zt={token:Ni.fcmToken,createTime:Ni.createTime,subscriptionOptions:{auth:be(Ni.auth),p256dh:be(Ni.p256dh),endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:be(Ni.vapidKey)}}}}),function(Ot,yn,Bn,Ii){return Jn.apply(this,arguments)})})).close(),yield(0,oe.Lj)(yt),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),function ut(We){if(!We||!We.subscriptionOptions)return!1;const{subscriptionOptions:zt}=We;return"number"==typeof We.createTime&&We.createTime>0&&"string"==typeof We.token&&We.token.length>0&&"string"==typeof zt.auth&&zt.auth.length>0&&"string"==typeof zt.p256dh&&zt.p256dh.length>0&&"string"==typeof zt.endpoint&&zt.endpoint.length>0&&"string"==typeof zt.swScope&&zt.swScope.length>0&&"string"==typeof zt.vapidKey&&zt.vapidKey.length>0}(zt)?zt:null;var Jn}),Ut.apply(this,arguments)}const Ie="firebase-messaging-database",nt=1,St="firebase-messaging-store";let Nt=null;function At(){return Nt||(Nt=(0,oe.X3)(Ie,nt,{upgrade:(We,zt)=>{0===zt&&We.createObjectStore(St)}})),Nt}function Pt(We){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,t.Z)(function*(We){const zt=Je(We),Jn=yield(yield At()).transaction(St).objectStore(St).get(zt);if(Jn)return Jn;{const oi=yield function dt(We){return Ut.apply(this,arguments)}(We.appConfig.senderId);if(oi)return yield Et(We,oi),oi}}),Lt.apply(this,arguments)}function Et(We,zt){return it.apply(this,arguments)}function it(){return(it=(0,t.Z)(function*(We,zt){const Wn=Je(We),oi=(yield At()).transaction(St,"readwrite");return yield oi.objectStore(St).put(zt,Wn),yield oi.done,zt})).apply(this,arguments)}function lt(){return(lt=(0,t.Z)(function*(We){const zt=Je(We),Jn=(yield At()).transaction(St,"readwrite");yield Jn.objectStore(St).delete(zt),yield Jn.done})).apply(this,arguments)}function Je({appConfig:We}){return We.appId}const Yt=new ze.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $t(We,zt){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,t.Z)(function*(We,zt){const Wn=yield Hn(We),Jn=si(zt),oi={method:"POST",headers:Wn,body:JSON.stringify(Jn)};let Ot;try{Ot=yield(yield fetch(Tn(We.appConfig),oi)).json()}catch(yn){throw Yt.create("token-subscribe-failed",{errorInfo:null==yn?void 0:yn.toString()})}if(Ot.error)throw Yt.create("token-subscribe-failed",{errorInfo:Ot.error.message});if(!Ot.token)throw Yt.create("token-subscribe-no-token");return Ot.token})).apply(this,arguments)}function hn(){return(hn=(0,t.Z)(function*(We,zt){const Wn=yield Hn(We),Jn=si(zt.subscriptionOptions),oi={method:"PATCH",headers:Wn,body:JSON.stringify(Jn)};let Ot;try{Ot=yield(yield fetch(`${Tn(We.appConfig)}/${zt.token}`,oi)).json()}catch(yn){throw Yt.create("token-update-failed",{errorInfo:null==yn?void 0:yn.toString()})}if(Ot.error)throw Yt.create("token-update-failed",{errorInfo:Ot.error.message});if(!Ot.token)throw Yt.create("token-update-no-token");return Ot.token})).apply(this,arguments)}function qe(We,zt){return cn.apply(this,arguments)}function cn(){return(cn=(0,t.Z)(function*(We,zt){const Jn={method:"DELETE",headers:yield Hn(We)};try{const Ot=yield(yield fetch(`${Tn(We.appConfig)}/${zt}`,Jn)).json();if(Ot.error)throw Yt.create("token-unsubscribe-failed",{errorInfo:Ot.error.message})}catch(oi){throw Yt.create("token-unsubscribe-failed",{errorInfo:null==oi?void 0:oi.toString()})}})).apply(this,arguments)}function Tn({projectId:We}){return`${Pe}/projects/${We}/registrations`}function Hn(We){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,t.Z)(function*({appConfig:We,installations:zt}){const Wn=yield zt.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":We.apiKey,"x-goog-firebase-installations-auth":`FIS ${Wn}`})})).apply(this,arguments)}function si({p256dh:We,auth:zt,endpoint:Wn,vapidKey:Jn}){const oi={web:{endpoint:Wn,auth:zt,p256dh:We}};return Jn!==vt&&(oi.web.applicationPubKey=Jn),oi}const ai=6048e5;function Mi(){return Mi=(0,t.Z)(function*(We){const zt=yield function qn(We,zt){return ii.apply(this,arguments)}(We.swRegistration,We.vapidKey),Wn={vapidKey:We.vapidKey,swScope:We.swRegistration.scope,endpoint:zt.endpoint,auth:be(zt.getKey("auth")),p256dh:be(zt.getKey("p256dh"))},Jn=yield Pt(We.firebaseDependencies);if(Jn){if(function gi(We,zt){return zt.vapidKey===We.vapidKey&&zt.endpoint===We.endpoint&&zt.auth===We.auth&&zt.p256dh===We.p256dh}(Jn.subscriptionOptions,Wn))return Date.now()>=Jn.createTime+ai?function ke(We,zt){return Be.apply(this,arguments)}(We,{token:Jn.token,createTime:Date.now(),subscriptionOptions:Wn}):Jn.token;try{yield qe(We.firebaseDependencies,Jn.token)}catch(oi){console.warn(oi)}return Mt(We.firebaseDependencies,Wn)}return Mt(We.firebaseDependencies,Wn)}),Mi.apply(this,arguments)}function Ye(){return Ye=(0,t.Z)(function*(We){const zt=yield Pt(We.firebaseDependencies);zt&&(yield qe(We.firebaseDependencies,zt.token),yield function Vt(We){return lt.apply(this,arguments)}(We.firebaseDependencies));const Wn=yield We.swRegistration.pushManager.getSubscription();return!Wn||Wn.unsubscribe()}),Ye.apply(this,arguments)}function Be(){return Be=(0,t.Z)(function*(We,zt){try{const Wn=yield function Bt(We,zt){return hn.apply(this,arguments)}(We.firebaseDependencies,zt),Jn=Object.assign(Object.assign({},zt),{token:Wn,createTime:Date.now()});return yield Et(We.firebaseDependencies,Jn),Wn}catch(Wn){throw yield function Kt(We){return Ye.apply(this,arguments)}(We),Wn}}),Be.apply(this,arguments)}function Mt(We,zt){return vn.apply(this,arguments)}function vn(){return(vn=(0,t.Z)(function*(We,zt){const Jn={token:yield $t(We,zt),createTime:Date.now(),subscriptionOptions:zt};return yield Et(We,Jn),Jn.token})).apply(this,arguments)}function ii(){return(ii=(0,t.Z)(function*(We,zt){return(yield We.pushManager.getSubscription())||We.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ge(zt)})})).apply(this,arguments)}function $i(We){const zt={from:We.from,collapseKey:We.collapse_key,messageId:We.fcmMessageId};return function Xn(We,zt){if(!zt.notification)return;We.notification={};const Wn=zt.notification.title;Wn&&(We.notification.title=Wn);const Jn=zt.notification.body;Jn&&(We.notification.body=Jn);const oi=zt.notification.image;oi&&(We.notification.image=oi);const Ot=zt.notification.icon;Ot&&(We.notification.icon=Ot)}(zt,We),function zn(We,zt){zt.data&&(We.data=zt.data)}(zt,We),function mi(We,zt){var Wn,Jn,oi,Ot,yn;if(!(zt.fcmOptions||null!==(Wn=zt.notification)&&void 0!==Wn&&Wn.click_action))return;We.fcmOptions={};const Bn=null!==(oi=null===(Jn=zt.fcmOptions)||void 0===Jn?void 0:Jn.link)&&void 0!==oi?oi:null===(Ot=zt.notification)||void 0===Ot?void 0:Ot.click_action;Bn&&(We.fcmOptions.link=Bn);const Ii=null===(yn=zt.fcmOptions)||void 0===yn?void 0:yn.analytics_label;Ii&&(We.fcmOptions.analyticsLabel=Ii)}(zt,We),zt}function Si(We,zt){const Wn=[];for(let Jn=0;Jn<We.length;Jn++)Wn.push(We.charAt(Jn)),Jn<zt.length&&Wn.push(zt.charAt(Jn));return Wn.join("")}function dn(We){return Yt.create("missing-app-config-values",{valueName:We})}Si("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Si("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xt{constructor(zt,Wn,Jn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const oi=function Ci(We){if(!We||!We.options)throw dn("App Configuration Object");if(!We.name)throw dn("App Name");const zt=["projectId","apiKey","appId","messagingSenderId"],{options:Wn}=We;for(const Jn of zt)if(!Wn[Jn])throw dn(Jn);return{appName:We.name,projectId:Wn.projectId,apiKey:Wn.apiKey,appId:Wn.appId,senderId:Wn.messagingSenderId}}(zt);this.firebaseDependencies={app:zt,appConfig:oi,installations:Wn,analyticsProvider:Jn}}_delete(){return Promise.resolve()}}function Wt(We){return pn.apply(this,arguments)}function pn(){return(pn=(0,t.Z)(function*(We){try{We.swRegistration=yield navigator.serviceWorker.register($e,{scope:Fe}),We.swRegistration.update().catch(()=>{})}catch(zt){throw Yt.create("failed-service-worker-registration",{browserErrorMessage:null==zt?void 0:zt.message})}})).apply(this,arguments)}function Dn(){return(Dn=(0,t.Z)(function*(We,zt){if(!zt&&!We.swRegistration&&(yield Wt(We)),zt||!We.swRegistration){if(!(zt instanceof ServiceWorkerRegistration))throw Yt.create("invalid-sw-registration");We.swRegistration=zt}})).apply(this,arguments)}function Ee(){return(Ee=(0,t.Z)(function*(We,zt){zt?We.vapidKey=zt:We.vapidKey||(We.vapidKey=vt)})).apply(this,arguments)}function ot(){return ot=(0,t.Z)(function*(We,zt){if(!navigator)throw Yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yt.create("permission-blocked");return yield function mn(We,zt){return Ee.apply(this,arguments)}(We,null==zt?void 0:zt.vapidKey),yield function Rn(We,zt){return Dn.apply(this,arguments)}(We,null==zt?void 0:zt.serviceWorkerRegistration),function bi(We){return Mi.apply(this,arguments)}(We)}),ot.apply(this,arguments)}function Un(){return(Un=(0,t.Z)(function*(We,zt,Wn){const Jn=function wi(We){switch(We){case kt.NOTIFICATION_CLICKED:return"notification_open";case kt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(zt);(yield We.firebaseDependencies.analyticsProvider.get()).logEvent(Jn,{message_id:Wn[xe],message_name:Wn[Ue],message_time:Wn[je],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rr(){return rr=(0,t.Z)(function*(We,zt){const Wn=zt.data;if(!Wn.isFirebaseMessaging)return;We.onMessageHandler&&Wn.messageType===kt.PUSH_RECEIVED&&("function"==typeof We.onMessageHandler?We.onMessageHandler($i(Wn)):We.onMessageHandler.next($i(Wn)));const Jn=Wn.data;(function Pi(We){return"object"==typeof We&&!!We&&xe in We})(Jn)&&"1"===Jn[pt]&&(yield function on(We,zt,Wn){return Un.apply(this,arguments)}(We,Wn.messageType,Jn))}),rr.apply(this,arguments)}const wt="@firebase/messaging",he=We=>{const zt=new xt(We.getProvider("app").getImmediate(),We.getProvider("installations-internal").getImmediate(),We.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Wn=>function xi(We,zt){return rr.apply(this,arguments)}(zt,Wn)),zt},_e=We=>{const zt=We.getProvider("messaging").getImmediate();return{getToken:Jn=>function we(We,zt){return ot.apply(this,arguments)}(zt,Jn)}};function It(){return rn.apply(this,arguments)}function rn(){return(rn=(0,t.Z)(function*(){try{yield(0,ze.eu)()}catch(We){return!1}return typeof window<"u"&&(0,ze.hl)()&&(0,ze.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function jt(We=(0,ct.getApp)()){return It().then(zt=>{if(!zt)throw Yt.create("unsupported-browser")},zt=>{throw Yt.create("indexed-db-unsupported")}),(0,ct._getProvider)((0,ze.m9)(We),"messaging").getImmediate()}!function ge(){(0,ct._registerComponent)(new ie.wA("messaging",he,"PUBLIC")),(0,ct._registerComponent)(new ie.wA("messaging-internal",_e,"PRIVATE")),(0,ct.registerVersion)(wt,"0.12.4"),(0,ct.registerVersion)(wt,"0.12.4","esm2017")}()},4880:(ei,Jt,U)=>{"use strict";U.d(Jt,{sN:()=>yt,Gb:()=>Mi});var t=U(5861),Z=U(9681),ie=U(2090),oe=U(4859),ze=U(1877);U(2833);const $e="@firebase/remote-config",Pe="remote-config",Ue=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function yt(Ye=(0,Z.getApp)()){return Ye=(0,ie.m9)(Ye),(0,Z._getProvider)(Ye,Pe).getImmediate()}class Et{constructor(ke,Be,Mt,vn){this.client=ke,this.storage=Be,this.storageCache=Mt,this.logger=vn}isCachedDataFresh(ke,Be){if(!Be)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Mt=Date.now()-Be,vn=Mt<=ke;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Mt}. Cache max age millis (minimumFetchIntervalMillis setting): ${ke}. Is cache hit: ${vn}.`),vn}fetch(ke){var Be=this;return(0,t.Z)(function*(){const[Mt,vn]=yield Promise.all([Be.storage.getLastSuccessfulFetchTimestampMillis(),Be.storage.getLastSuccessfulFetchResponse()]);if(vn&&Be.isCachedDataFresh(ke.cacheMaxAgeMillis,Mt))return vn;ke.eTag=vn&&vn.eTag;const qn=yield Be.client.fetch(ke),ii=[Be.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===qn.status&&ii.push(Be.storage.setLastSuccessfulFetchResponse(qn)),yield Promise.all(ii),qn})()}}function it(Ye=navigator){return Ye.languages&&Ye.languages[0]||Ye.language}class Vt{constructor(ke,Be,Mt,vn,qn,ii){this.firebaseInstallations=ke,this.sdkVersion=Be,this.namespace=Mt,this.projectId=vn,this.apiKey=qn,this.appId=ii}fetch(ke){var Be=this;return(0,t.Z)(function*(){const[Mt,vn]=yield Promise.all([Be.firebaseInstallations.getId(),Be.firebaseInstallations.getToken()]),ii=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Be.projectId}/namespaces/${Be.namespace}:fetch?key=${Be.apiKey}`,gi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ke.eTag||"*"},$i={sdk_version:Be.sdkVersion,app_instance_id:Mt,app_instance_id_token:vn,app_id:Be.appId,language_code:it()},Xn={method:"POST",headers:gi,body:JSON.stringify($i)},zn=fetch(ii,Xn),mi=new Promise((Wt,pn)=>{ke.signal.addEventListener(()=>{const Rn=new Error("The operation was aborted.");Rn.name="AbortError",pn(Rn)})});let Pi;try{yield Promise.race([zn,mi]),Pi=yield zn}catch(Wt){let pn="fetch-client-network";throw"AbortError"===(null==Wt?void 0:Wt.name)&&(pn="fetch-timeout"),Ue.create(pn,{originalErrorMessage:null==Wt?void 0:Wt.message})}let Si=Pi.status;const Ci=Pi.headers.get("ETag")||void 0;let dn,xt;if(200===Pi.status){let Wt;try{Wt=yield Pi.json()}catch(pn){throw Ue.create("fetch-client-parse",{originalErrorMessage:null==pn?void 0:pn.message})}dn=Wt.entries,xt=Wt.state}if("INSTANCE_STATE_UNSPECIFIED"===xt?Si=500:"NO_CHANGE"===xt?Si=304:("NO_TEMPLATE"===xt||"EMPTY_CONFIG"===xt)&&(dn={}),304!==Si&&200!==Si)throw Ue.create("fetch-status",{httpStatus:Si});return{status:Si,eTag:Ci,config:dn}})()}}class rt{constructor(ke,Be){this.client=ke,this.storage=Be}fetch(ke){var Be=this;return(0,t.Z)(function*(){const Mt=(yield Be.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Be.attemptFetch(ke,Mt)})()}attemptFetch(ke,{throttleEndTimeMillis:Be,backoffCount:Mt}){var vn=this;return(0,t.Z)(function*(){yield function lt(Ye,ke){return new Promise((Be,Mt)=>{const vn=Math.max(ke-Date.now(),0),qn=setTimeout(Be,vn);Ye.addEventListener(()=>{clearTimeout(qn),Mt(Ue.create("fetch-throttle",{throttleEndTimeMillis:ke}))})})}(ke.signal,Be);try{const qn=yield vn.client.fetch(ke);return yield vn.storage.deleteThrottleMetadata(),qn}catch(qn){if(!function Je(Ye){if(!(Ye instanceof ie.ZR&&Ye.customData))return!1;const ke=Number(Ye.customData.httpStatus);return 429===ke||500===ke||503===ke||504===ke}(qn))throw qn;const ii={throttleEndTimeMillis:Date.now()+(0,ie.$s)(Mt),backoffCount:Mt+1};return yield vn.storage.setThrottleMetadata(ii),vn.attemptFetch(ke,ii)}})()}}class Qt{constructor(ke,Be,Mt,vn,qn){this.app=ke,this._client=Be,this._storageCache=Mt,this._storage=vn,this._logger=qn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bt(Ye,ke){const Be=Ye.target.error||void 0;return Ue.create(ke,{originalErrorMessage:Be&&(null==Be?void 0:Be.message)})}const hn="app_namespace_store";class Hn{constructor(ke,Be,Mt,vn=function Tn(){return new Promise((Ye,ke)=>{try{const Be=indexedDB.open("firebase_remote_config",1);Be.onerror=Mt=>{ke(Bt(Mt,"storage-open"))},Be.onsuccess=Mt=>{Ye(Mt.target.result)},Be.onupgradeneeded=Mt=>{0===Mt.oldVersion&&Mt.target.result.createObjectStore(hn,{keyPath:"compositeKey"})}}catch(Be){ke(Ue.create("storage-open",{originalErrorMessage:null==Be?void 0:Be.message}))}})}()){this.appId=ke,this.appName=Be,this.namespace=Mt,this.openDbPromise=vn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ke){return this.set("last_fetch_status",ke)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ke){return this.set("last_successful_fetch_timestamp_millis",ke)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ke){return this.set("last_successful_fetch_response",ke)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ke){return this.set("active_config",ke)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ke){return this.set("active_config_etag",ke)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ke){return this.set("throttle_metadata",ke)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ke){var Be=this;return(0,t.Z)(function*(){const Mt=yield Be.openDbPromise;return new Promise((vn,qn)=>{const gi=Mt.transaction([hn],"readonly").objectStore(hn),$i=Be.createCompositeKey(ke);try{const Xn=gi.get($i);Xn.onerror=zn=>{qn(Bt(zn,"storage-get"))},Xn.onsuccess=zn=>{const mi=zn.target.result;vn(mi?mi.value:void 0)}}catch(Xn){qn(Ue.create("storage-get",{originalErrorMessage:null==Xn?void 0:Xn.message}))}})})()}set(ke,Be){var Mt=this;return(0,t.Z)(function*(){const vn=yield Mt.openDbPromise;return new Promise((qn,ii)=>{const $i=vn.transaction([hn],"readwrite").objectStore(hn),Xn=Mt.createCompositeKey(ke);try{const zn=$i.put({compositeKey:Xn,value:Be});zn.onerror=mi=>{ii(Bt(mi,"storage-set"))},zn.onsuccess=()=>{qn()}}catch(zn){ii(Ue.create("storage-set",{originalErrorMessage:null==zn?void 0:zn.message}))}})})()}delete(ke){var Be=this;return(0,t.Z)(function*(){const Mt=yield Be.openDbPromise;return new Promise((vn,qn)=>{const gi=Mt.transaction([hn],"readwrite").objectStore(hn),$i=Be.createCompositeKey(ke);try{const Xn=gi.delete($i);Xn.onerror=zn=>{qn(Bt(zn,"storage-delete"))},Xn.onsuccess=()=>{vn()}}catch(Xn){qn(Ue.create("storage-delete",{originalErrorMessage:null==Xn?void 0:Xn.message}))}})})()}createCompositeKey(ke){return[this.appId,this.appName,this.namespace,ke].join()}}class Ln{constructor(ke){this.storage=ke}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ke=this;return(0,t.Z)(function*(){const Be=ke.storage.getLastFetchStatus(),Mt=ke.storage.getLastSuccessfulFetchTimestampMillis(),vn=ke.storage.getActiveConfig(),qn=yield Be;qn&&(ke.lastFetchStatus=qn);const ii=yield Mt;ii&&(ke.lastSuccessfulFetchTimestampMillis=ii);const gi=yield vn;gi&&(ke.activeConfig=gi)})()}setLastFetchStatus(ke){return this.lastFetchStatus=ke,this.storage.setLastFetchStatus(ke)}setLastSuccessfulFetchTimestampMillis(ke){return this.lastSuccessfulFetchTimestampMillis=ke,this.storage.setLastSuccessfulFetchTimestampMillis(ke)}setActiveConfig(ke){return this.activeConfig=ke,this.storage.setActiveConfig(ke)}}function Mi(){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,t.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(Ye){return!1}})).apply(this,arguments)}!function si(){(0,Z._registerComponent)(new oe.wA(Pe,function Ye(ke,{instanceIdentifier:Be}){const Mt=ke.getProvider("app").getImmediate(),vn=ke.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ue.create("registration-window");if(!(0,ie.hl)())throw Ue.create("indexed-db-unavailable");const{projectId:qn,apiKey:ii,appId:gi}=Mt.options;if(!qn)throw Ue.create("registration-project-id");if(!ii)throw Ue.create("registration-api-key");if(!gi)throw Ue.create("registration-app-id");const $i=new Hn(gi,Mt.name,Be=Be||"firebase"),Xn=new Ln($i),zn=new ze.Yd($e);zn.logLevel=ze.in.ERROR;const mi=new Vt(vn,Z.SDK_VERSION,Be,qn,ii,gi),Pi=new rt(mi,$i),Si=new Et(Pi,$i,Xn,zn),Ci=new Qt(Mt,Si,Xn,$i,zn);return function dt(Ye){const ke=(0,ie.m9)(Ye);ke._initializePromise||(ke._initializePromise=ke._storageCache.loadFromStorage().then(()=>{ke._isInitializationComplete=!0}))}(Ci),Ci},"PUBLIC").setMultipleInstances(!0)),(0,Z.registerVersion)($e,"0.4.4"),(0,Z.registerVersion)($e,"0.4.4","esm2017")}()},8766:(ei,Jt,U)=>{"use strict";U.d(Jt,{Lj:()=>Ve,X3:()=>at});var t=U(5861);const Z=(nt,St)=>St.some(Nt=>nt instanceof Nt);let ie,oe;const $e=new WeakMap,Fe=new WeakMap,vt=new WeakMap,Pe=new WeakMap,xe=new WeakMap;let pt={get(nt,St,Nt){if(nt instanceof IDBTransaction){if("done"===St)return Fe.get(nt);if("objectStoreNames"===St)return nt.objectStoreNames||vt.get(nt);if("store"===St)return Nt.objectStoreNames[1]?void 0:Nt.objectStore(Nt.objectStoreNames[0])}return Ge(nt[St])},set:(nt,St,Nt)=>(nt[St]=Nt,!0),has:(nt,St)=>nt instanceof IDBTransaction&&("done"===St||"store"===St)||St in nt};function be(nt){return"function"==typeof nt?function kt(nt){return nt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ct(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(nt)?function(...St){return nt.apply(yt(this),St),Ge($e.get(this))}:function(...St){return Ge(nt.apply(yt(this),St))}:function(St,...Nt){const At=nt.call(yt(this),St,...Nt);return vt.set(At,St.sort?St.sort():[St]),Ge(At)}}(nt):(nt instanceof IDBTransaction&&function je(nt){if(Fe.has(nt))return;const St=new Promise((Nt,At)=>{const Pt=()=>{nt.removeEventListener("complete",Lt),nt.removeEventListener("error",Et),nt.removeEventListener("abort",Et)},Lt=()=>{Nt(),Pt()},Et=()=>{At(nt.error||new DOMException("AbortError","AbortError")),Pt()};nt.addEventListener("complete",Lt),nt.addEventListener("error",Et),nt.addEventListener("abort",Et)});Fe.set(nt,St)}(nt),Z(nt,function ze(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(nt,pt):nt)}function Ge(nt){if(nt instanceof IDBRequest)return function Ue(nt){const St=new Promise((Nt,At)=>{const Pt=()=>{nt.removeEventListener("success",Lt),nt.removeEventListener("error",Et)},Lt=()=>{Nt(Ge(nt.result)),Pt()},Et=()=>{At(nt.error),Pt()};nt.addEventListener("success",Lt),nt.addEventListener("error",Et)});return St.then(Nt=>{Nt instanceof IDBCursor&&$e.set(Nt,nt)}).catch(()=>{}),xe.set(St,nt),St}(nt);if(Pe.has(nt))return Pe.get(nt);const St=be(nt);return St!==nt&&(Pe.set(nt,St),xe.set(St,nt)),St}const yt=nt=>xe.get(nt);function at(nt,St,{blocked:Nt,upgrade:At,blocking:Pt,terminated:Lt}={}){const Et=indexedDB.open(nt,St),it=Ge(Et);return At&&Et.addEventListener("upgradeneeded",Vt=>{At(Ge(Et.result),Vt.oldVersion,Vt.newVersion,Ge(Et.transaction))}),Nt&&Et.addEventListener("blocked",()=>Nt()),it.then(Vt=>{Lt&&Vt.addEventListener("close",()=>Lt()),Pt&&Vt.addEventListener("versionchange",()=>Pt())}).catch(()=>{}),it}function Ve(nt,{blocked:St}={}){const Nt=indexedDB.deleteDatabase(nt);return St&&Nt.addEventListener("blocked",()=>St()),Ge(Nt).then(()=>{})}const dt=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],ut=new Map;function Ie(nt,St){if(!(nt instanceof IDBDatabase)||St in nt||"string"!=typeof St)return;if(ut.get(St))return ut.get(St);const Nt=St.replace(/FromIndex$/,""),At=St!==Nt,Pt=Ut.includes(Nt);if(!(Nt in(At?IDBIndex:IDBObjectStore).prototype)||!Pt&&!dt.includes(Nt))return;const Lt=function(){var Et=(0,t.Z)(function*(it,...Vt){const lt=this.transaction(it,Pt?"readwrite":"readonly");let Je=lt.store;return At&&(Je=Je.index(Vt.shift())),(yield Promise.all([Je[Nt](...Vt),Pt&&lt.done]))[0]});return function(Vt){return Et.apply(this,arguments)}}();return ut.set(St,Lt),Lt}!function gt(nt){pt=nt(pt)}(nt=>({...nt,get:(St,Nt,At)=>Ie(St,Nt)||nt.get(St,Nt,At),has:(St,Nt)=>!!Ie(St,Nt)||nt.has(St,Nt)}))},5861:(ei,Jt,U)=>{"use strict";function t(ie,oe,ze,ct,$e,Fe,vt){try{var Pe=ie[Fe](vt),xe=Pe.value}catch(Ue){return void ze(Ue)}Pe.done?oe(xe):Promise.resolve(xe).then(ct,$e)}function Z(ie){return function(){var oe=this,ze=arguments;return new Promise(function(ct,$e){var Fe=ie.apply(oe,ze);function vt(xe){t(Fe,ct,$e,vt,Pe,"next",xe)}function Pe(xe){t(Fe,ct,$e,vt,Pe,"throw",xe)}vt(void 0)})}}U.d(Jt,{Z:()=>Z})}},ei=>{var Jt=t=>ei(ei.s=t);Jt(1321),Jt(5836)}]);